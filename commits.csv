hash,msg,deletions,insertions
40a7d3b6ac35d2ecb34e85fc3403d2e48e33874e,"Moved the trunk code into the trunk sub directory

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356304 13f79535-47bb-0310-9956-ffa450edef68",0,194375
8f1763f078525b3cbfd30dd8389d3f61da56ac78,"Moved the trunk code into the trunk sub directory

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356307 13f79535-47bb-0310-9956-ffa450edef68",0,899
fba1488453499bddd675dbbb04054703044b4526,"updated the build so that the recursive build works properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356368 13f79535-47bb-0310-9956-ffa450edef68",31,42
8f40a7eeca8772a16e45a15ef424142e4f90e129,"removed old configuration documentation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356517 13f79535-47bb-0310-9956-ffa450edef68",7,0
ab8f458612b8c3020d7d0446216083c17221d257,"removed old configuration documentation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356518 13f79535-47bb-0310-9956-ffa450edef68",1,0
262a5596d9300b7aded14d550cf8f5ee80d7ac0f,"optimisation; if a JMS exception has already been thrown then don't wrap it again

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356519 13f79535-47bb-0310-9956-ffa450edef68",0,6
507bb1bbabbf9feafb33ac42b9c52ec0f8ebfa39,"fixed bug where setting the clientID on the MBean ObjectName could break a JMX name

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356520 13f79535-47bb-0310-9956-ffa450edef68",1,3
ecfbe6168de228c90f5ca0d061ba8dce275805f4,"avoid persistence and TCP by default in test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356521 13f79535-47bb-0310-9956-ffa450edef68",1,10
1835e4536984abac76c6d4317a73f1a7e851e960,"added some helper methods to make it easy to see the type of removal event

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356522 13f79535-47bb-0310-9956-ffa450edef68",0,28
e1cfbad4bcb9d3342da0b198798db120914a1976,"added test case for using the BrokerService with JMX

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356523 13f79535-47bb-0310-9956-ffa450edef68",0,29
687bf43d9fc90263dd778350c0eaf1d7e6c9b81f,"added a ConsumerListener so that you can listen to consumers coming and going easily (hiding the details of the Advisories behind a simple Bean API) as well as be notified on exactly how many consumers there are to be able to drive demand based publishing etc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356524 13f79535-47bb-0310-9956-ffa450edef68",9,477
729ff22a4b1860ef3469d5ec6ba3e5d35053b874,"fixed bad configuration file for the release

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356525 13f79535-47bb-0310-9956-ffa450edef68",2,7
e73312534da211c3d7a6388760c2ec045bd338b0,"add the conf directory to the classpath so that the release finds the log4j.properties file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356526 13f79535-47bb-0310-9956-ffa450edef68",0,2
a558fef3745807fc4eb75508cd385798da4b64a5,"use the standard JMX quote method when creating JMX names

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356559 13f79535-47bb-0310-9956-ffa450edef68",4,8
9b1345bb320363c1da3e31560ca46f4124c81168,"- Updated the config xml to use new discovery syntax.
- Using specific version of activeio as that may change a bit soon.
- The vm transport now support specifing a broker config file: vm://localhost?brokerConfig=xbean:/path/to/config/file
- Starting the JMX connector was taking a LONG time to start up... so I switch to starting it up async.
- The object name for a managed transport connection could be invalid so we now encode the name so that it's not.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356616 13f79535-47bb-0310-9956-ffa450edef68",21,27
829787ac1be9acbf2f709793e3157e6a84d096f4,"Was having some wierd issues with the consumer..  disabled continuations for now (but i don't think that was the issue).
added a semaphore to avoid multiple blocking threads (i've got a feeling this might be what fixed it).



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356666 13f79535-47bb-0310-9956-ffa450edef68",25,132
73165063467db865c26ee256210dabcb97edd5e1,"fixed the SpringBrokerContextListener to spin up a broker from an ActiveMQ XML file (or at least an XBean file)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356775 13f79535-47bb-0310-9956-ffa450edef68",11,28
f25cc68fb1ed285563dae769d3cf1720eb0b3ecb,"removed possible threading error

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356776 13f79535-47bb-0310-9956-ffa450edef68",12,13
f1bbfd320193609fad94c9ef2654c0c7b78d0aff,"fixed bug that prevented the initialReconnectDelay value from being changed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356814 13f79535-47bb-0310-9956-ffa450edef68",1,2
9fb8ee2dcaad9dc900e293d8a77e09659e96599e,"added test case which demonstrates that you can start a JMS connection even when the broker is not there

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356815 13f79535-47bb-0310-9956-ffa450edef68",0,88
5cba8d744d41f10199b1545ad82ec5b335aaf1a5,"better logging on startup to reveal the journal configuration

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356827 13f79535-47bb-0310-9956-ffa450edef68",1,1
20038a826492dac8f4e41bda5434ad81b3ca0592,"updated javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356833 13f79535-47bb-0310-9956-ffa450edef68",1,3
639265de9f0f5f7be8935e8f810d54861e8c292f,"Re-enable the use of continuations.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@356992 13f79535-47bb-0310-9956-ffa450edef68",2,2
db0855c34231e9802cb738538178ab17c9cd1c0d,"make the agent more resilient to ordering; whether a service is registered before starting or started first etc. We seem to have both in our code base

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357017 13f79535-47bb-0310-9956-ffa450edef68",8,7
a37a074c819f004cabec566c916d03673b7b152d,"tidied up the XBean factory bean to avoid it owning and closing the contained context.
also by default the broker is started when using the XML file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357018 13f79535-47bb-0310-9956-ffa450edef68",33,332
9359ba25b69e666f99fc1dc90d3341c4e559440c,"Fixed repository url to point to apache svn.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357113 13f79535-47bb-0310-9956-ffa450edef68",3,3
df6f3ba32ac3a5434d9068bb7c26533cedd54b2d,"broker is  already  started automatically

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357125 13f79535-47bb-0310-9956-ffa450edef68",2,13
4cb407cc4ba036507fe0ba7d5ad56e6d8152837c,"committed the wrong file earlier. Also added the correct header

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357126 13f79535-47bb-0310-9956-ffa450edef68",15,6
1416f77de3054f75104a18527b2d343ae51e72a1,"added test cases to test release's activemq.xml. The test cases perform a publish/consume on both topic and queue.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357139 13f79535-47bb-0310-9956-ffa450edef68",0,233
0f36e0231efb8840808034e42e2cfc95004b38da,"Added a comment


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357146 13f79535-47bb-0310-9956-ffa450edef68",1,3
e4f8360348f02482d484cdb9a2fdb8ab3237663d,"fix for dist:deploy goal. running this will now deploy the distribution and poms to appropriate location.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357148 13f79535-47bb-0310-9956-ffa450edef68",2,2
0d6f94b93dad17328ae79cfebe3ccf3c4e16b5cb,"allow multiple calls to start() as its quite easy to do these days with all the different configuration mechanisms (URI, spring, xbean, command line)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357158 13f79535-47bb-0310-9956-ffa450edef68",1,6
634ac91c3de96bdb8297c979d0b1b533d633efe0,"son't use createMBean() on jmx server as class might not be in the same class loader

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357174 13f79535-47bb-0310-9956-ffa450edef68",1,7
bf65e7d3cf851b80aa2e8569b729642650f74441,"rolled back the use of ObjectName.quote() as it appends quotes and went back to Hiram's original code which looks much nicer in JMX consoles :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357184 13f79535-47bb-0310-9956-ffa450edef68",7,4
2c6156085c68facdfd288aeeb795b3b284171e9f,"removed dead code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357194 13f79535-47bb-0310-9956-ffa450edef68",2,0
24389c49291ac8915553b433880078f631aec252,"added some more JMX stats

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357195 13f79535-47bb-0310-9956-ffa450edef68",34,119
943eecc8d665401dc30e955173d4ffb3a00cbfb2,"added an m2 pom from George Gastaldi (who's a committer we just don't have his CLA on file yet)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357205 13f79535-47bb-0310-9956-ffa450edef68",0,214
d30a42cd340d0d15d27a817e89373aade04fdcba,"test commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357258 13f79535-47bb-0310-9956-ffa450edef68",2,0
77cf351be197b926d1c98751cf7734d272ad3499,"Ported some of the broker network config files to the new xml format. Added initial test cases to test the configurations.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357304 13f79535-47bb-0310-9956-ffa450edef68",78,331
6870470c6d6a7391358e05ebb1e4957c1b5fbf51,"Disabled http test, since it is not yet available.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357307 13f79535-47bb-0310-9956-ffa450edef68",0,3
22307339a5079b5a847c30fb10727efc98409126,"Ported tcp test case. Explicitly specify not to use embedded broker in ActiveMQConnectionFactory.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357310 13f79535-47bb-0310-9956-ffa450edef68",0,90
0bf5ab3724a6e4193794ed0aabed44de51da66b6,"Added goal that will deploy activemq-core-test-<vrsn>.jar

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357668 13f79535-47bb-0310-9956-ffa450edef68",1,15
384e290b7f16e1ed40ebf1706c81c91abcc80765,"added enqueue/dequeue statistics at the Connection/Connector level in JMX

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357683 13f79535-47bb-0310-9956-ffa450edef68",110,452
cf3516ec554a79625aac38f91ba0a08b040416ee,"removed crufty dependencies

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357693 13f79535-47bb-0310-9956-ffa450edef68",23,0
7c7cca9dfb8eb503e0a8eee5f5b21a7c30d888df,"added a helper class and strategy method for people wishing to implement their own custom MessageQuery strategies to be fired as a new subscriber is created

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357712 13f79535-47bb-0310-9956-ffa450edef68",0,140
298ccf2a77bde24b2bc333cbb34acb0338435388,"avoided NPE in a number of test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357717 13f79535-47bb-0310-9956-ffa450edef68",1,3
06bfecb6eddbc28bd971c4879ec7ef30108a6bf8,"doing 3.x reorg

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357725 13f79535-47bb-0310-9956-ffa450edef68",1956,806
6d85b4b654b7bc9684c4a9940ffcdab1db0827c1,"putting a sub module directory layout for activeio



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357726 13f79535-47bb-0310-9956-ffa450edef68",0,203
99ee7f85efc05568ce8ad2481c061100218b58ea,"make public to fix build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357727 13f79535-47bb-0310-9956-ffa450edef68",1,1
8b1f5a720261c76c250e5f0c9321749483193922,"* added test case to demonstrate query-based subscription recovery policy in action.
* minor refactor to the SubscriptionRecoveryPolicy API to make it easy to generate messages from inside the recovery policy

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357732 13f79535-47bb-0310-9956-ffa450edef68",21,272
a71263c1e510059aac5ab97a5b64d5540910ac28,"removed some old cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357739 13f79535-47bb-0310-9956-ffa450edef68",151,0
434b563eae0b60920cbf89fa146117cc80df7c63,"Moved the aio adapter to a sub module


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357789 13f79535-47bb-0310-9956-ffa450edef68",146,69
791c9ff5cc4c4cb62680f1a7703507185198fe80,"don't build activeio for now.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357791 13f79535-47bb-0310-9956-ffa450edef68",1,1
b556bf814125c645d414a130950965f1216b95b7,"adding build files


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357793 13f79535-47bb-0310-9956-ffa450edef68",0,126
9bae342ac16b1a4e08ff52aa0dfc1c47bb9a9ba9,"adding test.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357795 13f79535-47bb-0310-9956-ffa450edef68",0,110
783744d8829f2f41cb0d9078dbb6182fbc422879,"added int missing meta inf file


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357802 13f79535-47bb-0310-9956-ffa450edef68",0,1
ee0f2e3fd574ea28e2764119489e456dd9938a43,"update lic header to match apache standard.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357807 13f79535-47bb-0310-9956-ffa450edef68",17,15
17c01e7b53433dcbcbcb081a7c930f0e76bb60ae,"use m2 layout


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357808 13f79535-47bb-0310-9956-ffa450edef68",5,10
496be9c60e12279710f0ba2feb0c3936076e0e2d,"Added goal that will deploy core test and javadoc jars files and xbean generated files. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357930 13f79535-47bb-0310-9956-ffa450edef68",3,35
84a017908136e19174ce0d6308c81fa396380d38,"Added broker shutdown mechanism. Some exceptions are being thrown during shutdown, but doesn't seem to cause any problem. Printing of exceptions are currently disabled.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357932 13f79535-47bb-0310-9956-ffa450edef68",175,985
b6b7cce6ae6a9f0219bfd219d097535b27aa3710,"Issue: source is not compiled. The generated jar file is empty.
Solution: Restructured the source to src/main/java. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357943 13f79535-47bb-0310-9956-ffa450edef68",0,0
dad9a3bf764e173479bdc7454f3ec58af140b660,"Re-removed old config documentation.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357949 13f79535-47bb-0310-9956-ffa450edef68",7,0
2ab55ddb1d004ade70d365f0ecf6f1ff1ceb98a0,"added WebSphere 5.1 version of a JNDI context that works nicely with ActiveMQ

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@357969 13f79535-47bb-0310-9956-ffa450edef68",0,104
47ea8ecf5d32bacbfd1e14120b5451ca808ebc56,"Applied Bills patch for m2 build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358004 13f79535-47bb-0310-9956-ffa450edef68",7,25
35b8ea9308bc9b303a2ed652aca041b11e66a175,"Applied Bills patch for m2 build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358008 13f79535-47bb-0310-9956-ffa450edef68",4,11
df06a63bcf1107e69bcb5bc8e33a20d2413c2fe3,"Applied Bills patch for m2 build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358009 13f79535-47bb-0310-9956-ffa450edef68",4,5
80d85fecb9432f24efed47aeba49b8558f76e989,"Applied Bills patch for m2 build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358012 13f79535-47bb-0310-9956-ffa450edef68",14,132
8032ef40bea6bb08d0f8151866beadd7cafb9eb1,"- updated openwire marshalers.
- added some more toString() methods to the transports
- Fixed up the advisories so that duplicate consumer infos are not sent
- Changed the demand forwarding bridge so that loop back message filtering occurs in the broker instead of on the bridge


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358056 13f79535-47bb-0310-9956-ffa450edef68",108,220
ac8739860faec8967de50a2acb899d92486f2ab6,"the useEmbeddedBroker property not needed anymore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358057 13f79535-47bb-0310-9956-ffa450edef68",25,3
b18559dc40452d7c45182fa6dd49cb0b4d08de39,"updated marshallers.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358058 13f79535-47bb-0310-9956-ffa450edef68",0,14
14679fde39f1cd8654923992bfa26b773a514a91,"add missing command type definition


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358064 13f79535-47bb-0310-9956-ffa450edef68",0,1
33c61803ded393567d4cfa807bb1468dd8c31cda,"Leave the clientId username and password fields null instead of setting them to """" if no value is specified.
Connection was failing due to broker expecting to be null if not set.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358068 13f79535-47bb-0310-9956-ffa450edef68",3,9
faf6633c14c2a86e40d03e856a10a88573a2cd8a,"help folk figure out how to setup to win32 build env.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358104 13f79535-47bb-0310-9956-ffa450edef68",0,16
c30a6a81c478389c44cf37d5d0930f62013bc293,"the useEmbeddedBroker property not needed anymore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358106 13f79535-47bb-0310-9956-ffa450edef68",32,0
ceeb3a2aa6d4a9cd409c5c6d8cb42c8dddebb43c,"the useEmbeddedBroker property not needed anymore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358107 13f79535-47bb-0310-9956-ffa450edef68",5,0
d0e9fa29901a3e84dca30e426e389e011a114997,"renamed goal that deploys the xsd generated files to a more appropriate name.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358207 13f79535-47bb-0310-9956-ffa450edef68",2,2
b6eb3a631990fdecc2a9c3e90af969d5f1cd1b02,"only use the wire format negociator if needed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358216 13f79535-47bb-0310-9956-ffa450edef68",1,4
230e459b2696588c35e1c20cc2beed295f6fe959,"Get the stomp wireformat working again and added some more tests to verify that it is working.
The stomp transport factory just reuses the tcp transport and sets the wireformat to be stomp.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358217 13f79535-47bb-0310-9956-ffa450edef68",446,365
75a6b834b9a32baff3325cb88b1cb4fbee2dab3d,"Added a basic mean to query the jmx context. Performed a little code restructuring and bug fixing. Type ""query --help"" for details.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358241 13f79535-47bb-0310-9956-ffa450edef68",183,625
bd60590273259ebbaeb6b91f2ccb6fb1d081131e,"added a test case and fixes for the pooled connection factory. AMQ-449

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358280 13f79535-47bb-0310-9956-ffa450edef68",93,216
f71b60f16be821c34708c6085f8fd94c7c509e95,"Got the stomp SUBSCRIBE test case working.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358349 13f79535-47bb-0310-9956-ffa450edef68",181,211
2040c9d75cb9fc472a8d11030bc05367560cdc65,"reverted.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358361 13f79535-47bb-0310-9956-ffa450edef68",1,1
22474cd5414d568230cdb244741cc95b32777220,"Fixed: https://jira.logicblaze.com/jira/browse/AMQ-426
JMS api object now implement a toString() that can be used to correlate back to log messages on the message broker.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358371 13f79535-47bb-0310-9956-ffa450edef68",0,47
b58da3b1bea8242aa94c75dee340e210c6f5be74,"Implemented a toString() method


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358375 13f79535-47bb-0310-9956-ffa450edef68",0,14
bd66398a292f4685a7e20e7b01bb589e1df13e5a,"Applied patch at https://jira.logicblaze.com/jira/browse/AMQ-442



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358392 13f79535-47bb-0310-9956-ffa450edef68",10,11
ac18388cf201731fd48185a6d5dbfa6126eedf35,"adding m2 poms. 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358409 13f79535-47bb-0310-9956-ffa450edef68",0,151
7497ba459bfec6fb5746e62c40176c2f6440cb4c,"removed from default goal the creation javadoc api. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358427 13f79535-47bb-0310-9956-ffa450edef68",2,2
12f3a72c5957813441bfb6d1ec34d93c1b3ff9ed,"commented out the statement where it adds the created core javadoc api in the distribution binary.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358428 13f79535-47bb-0310-9956-ffa450edef68",2,2
cbcfcc840e45a0073f3e418fac917c6eedcd413b,"Tweeked pom so that tests pass.  LDAP test still fails need to investigate further.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358430 13f79535-47bb-0310-9956-ffa450edef68",0,28
b195cc79851f246e887b59b04a587105a7b65331,"added missing dependencies on rar file (spring and xbean-spring jars)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358436 13f79535-47bb-0310-9956-ffa450edef68",0,15
64034a8a37b8285d844443487a9705bb8efd722f,"Added Brad Fritz's fix to not overwrite ACTIVEMQ_OPTS when defined.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358441 13f79535-47bb-0310-9956-ffa450edef68",3,3
9e02d7001121d65fa2f574b584a32d5bc0b54905,"tweeking the m2 build


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358446 13f79535-47bb-0310-9956-ffa450edef68",39,74
2457c42d7edbc061b9d8b09d54e9cb206726a4f7,"More m2 build tweeks, brought in the activemq-optional module.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358476 13f79535-47bb-0310-9956-ffa450edef68",16,200
e2e1cb529c9be1f9380d4e6a4cb98795082e3e23,"Added a m2 pom for the activemq-web module.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358477 13f79535-47bb-0310-9956-ffa450edef68",0,81
ab342f9780ebc0892178007b008fc0165ce2e07b,"add m2 poms for systest and the web modules.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358481 13f79535-47bb-0310-9956-ffa450edef68",1,114
8935d8203650883308e4d754c2c988661d7cd388,"remove the java 5 dependency.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358485 13f79535-47bb-0310-9956-ffa450edef68",16,26
d9201ada52a3ba70f67a9ac0c07ceb2c8571f9e8,"Enhanced the pom so that it generates the xbean metadata and uses javacc to build the selectors


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358505 13f79535-47bb-0310-9956-ffa450edef68",10,55
92a698fe42656274d0f3e31be415ba881b094b3f,"updated headers in source file to use apache header

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358513 13f79535-47bb-0310-9956-ffa450edef68",12391,11863
09e95290f6ff1c92aaefaca3dcb92c5013f1bc9b,"Added condition where it will only execute adding the core's javadocs api if it exist. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358524 13f79535-47bb-0310-9956-ffa450edef68",8,11
9e149665baa71a6e80db14cf2d93dc2ac7ec2f02,"removed unnecessary echos.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358526 13f79535-47bb-0310-9956-ffa450edef68",2,0
841d99ee0f672a0ea037befbe60956d42dc9b97b,"Added an AutoFailTestSupport as the super class of CombinationTestSupport. If enabled, this enforces each test case to run only on a predefined time frame (by default 5 mins). After the allotted time, a separate thread will force the vm to exit abnormally to prevent hanging the test case. The AutoFailTestSupport is disabled by default. Should be noted, when the test case exits abnormally, no output is written to the test reports, but there is output in the log4j log file.

Enabled auto fail for ProxyConnectorTest and DiscoveryTransportBrokerTest. Added ProxyConnectorTest to testing.

Propagated the setUp and tearDown method in BrokerTestSupport.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358539 13f79535-47bb-0310-9956-ffa450edef68",8,149
de06fc6e9ebe3c0fd02f997dce0e9d800738cc47,"Revert back to javax.jms.Destination instead of Strings and added support
for a DestinationMarshaller

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358550 13f79535-47bb-0310-9956-ffa450edef68",0,268
84077a3663e350e39b4b8a48784e6ed706cc961d,"Revert back to javax.jms.Destination instead of Strings and added support
for a DestinationMarshaller

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358551 13f79535-47bb-0310-9956-ffa450edef68",196,320
18dd4cd867da8e29e9a65461d50d226e2f7265e1,"Fixed and added test cases for the consumer start() stop() methods.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358579 13f79535-47bb-0310-9956-ffa450edef68",8,68
f823f11ecea877d1a88418bf02ed57bf1498fd0a,"added stuff to svn:ingnore


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358581 13f79535-47bb-0310-9956-ffa450edef68",0,0
749c76d57fb48790e5c20c88ffd014da7887f4ec,"applied bill dudney's sugestion to fix m2 build so that it works from activemq-project


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358584 13f79535-47bb-0310-9956-ffa450edef68",311,194
08d4b5ff25529c8ac155ebe51cb8554cc1abded5,"Fixed failing test in ClusterTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358594 13f79535-47bb-0310-9956-ffa450edef68",37,22
f899a8fc51b9b7e9ad77db95d9f57ffa6838142b,"Refactored the org.activeio package to org.apache.activeio


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358596 13f79535-47bb-0310-9956-ffa450edef68",1399,953
3621f25504d7c55203333615dd369bdc5f730b8f,"Fix ClassCastException in pool

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358598 13f79535-47bb-0310-9956-ffa450edef68",1,1
bd17e0385f94888489b4ed5e7ef15a93c56ba3b6,"the login.config is at the root of the resouces dir.  so use the class's classload to get the resource.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358602 13f79535-47bb-0310-9956-ffa450edef68",1,1
40e08a9002dbe65f462a43b9264cf08f18e3b9b3,"Fixing build issues.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358612 13f79535-47bb-0310-9956-ffa450edef68",6,15
7219d6e5ed6dd01c9b5cd3eb549e782f1ce17fd4,"Moving to a m2 dir layout


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358614 13f79535-47bb-0310-9956-ffa450edef68",0,0
f9e6332dbb8683a59ec6ca84f53ba30f5fa7980d,"udpate to use m2 layout


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358617 13f79535-47bb-0310-9956-ffa450edef68",21,0
218bf378661fa55593b68ecc9b6b97cf8ba672dd,"more m2 tweeks.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358663 13f79535-47bb-0310-9956-ffa450edef68",76,4
52b1552091a41e66cebd02af0352679869b82e42,"Refactored the openorb oneport adatper into it's own little build module


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358673 13f79535-47bb-0310-9956-ffa450edef68",568,365
929f67d9a1329b28ac592093f853dc9b44c0e2d0,"moved the oneport jetty integration into it's own m2 module


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358676 13f79535-47bb-0310-9956-ffa450edef68",7,322
50055cac007ca75d9991c2dc75f3b7c8961eb544,"moved the jxta channel into it's own module


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358678 13f79535-47bb-0310-9956-ffa450edef68",12,322
4daadfc80603c108148a9c14f6cc97b5408aca23,"moving aio build instructions


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358679 13f79535-47bb-0310-9956-ffa450edef68",0,0
c834d38b8f4bd90d4abed3189e2011aa499ce6ac,"removing eclipse project artifacts from source tree


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358680 13f79535-47bb-0310-9956-ffa450edef68",178,0
29a6b9d1f6cfaf26c570f3ec760956ca35051bf8,"Postpone incrementing of reference count and preload size, only after we are sure that the message will be dispatched by the current subscription. This is to prevent a memory leak type of scenario.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358785 13f79535-47bb-0310-9956-ffa450edef68",4,4
2c4274b997a84807d94e49a8482ec58a74388938,"Marcus reported on the mailing list that we need to provide dispatching behaviour like 3.x did to work on webshere 5.x


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358823 13f79535-47bb-0310-9956-ffa450edef68",0,9
a2601e64feab8a5e8c76acec2c7387715414f819,"Marcus reported on the mailing list that we need to provide dispatching behaviour like 3.x did to work on webshere 5.x


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@358824 13f79535-47bb-0310-9956-ffa450edef68",0,8
5444ef92e13b6f0cab3c9af9d43fccbea27d1cce,"Rollback changes to incrementReferenceCount, but maintained the incrementPreloadSize

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359152 13f79535-47bb-0310-9956-ffa450edef68",1,1
5cea195af29c5987e457af197312ecbfaf6c241b,"Applied patch suggested by marcusp@absa.co.za on the dev mailing list.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359239 13f79535-47bb-0310-9956-ffa450edef68",0,3
62b2f7fe538383c7ff286005e22cbb94ac4df5ee,"Applying patch suggested by sanders@apache.org to fix stomp priority bug.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359240 13f79535-47bb-0310-9956-ffa450edef68",3,3
80d129918854d1409869683d284797233c10d9cd,"Added Pom.xml by Henry Isidro

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359468 13f79535-47bb-0310-9956-ffa450edef68",0,386
f99ccc4e7d02e081ff1eb7e2d4d7de88a01ec034,"Added Pom.xml created by Henry Isidro. However, there is still an issue in creating the assembly in maven 2. Please see http://jira.codehaus.org/browse/MASSEMBLY-37

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359472 13f79535-47bb-0310-9956-ffa450edef68",0,311
6b52b198bf2215ddfaf8997a86437c726ba40290,"Added Pom.xml created by Henry Isidro.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359474 13f79535-47bb-0310-9956-ffa450edef68",0,103
bc1890c943c906955986f8506a8f0e6254cbabb2,"Added pom.xml created by Henry Isidro.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359475 13f79535-47bb-0310-9956-ffa450edef68",0,63
b5e3dab20a5784c228157777cff33a9aac83ea26,"No need to checkin the eclipse project files.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359538 13f79535-47bb-0310-9956-ffa450edef68",35,0
62623b185c358a50fd91af88183833f3236d8872,"Reorged the directory layout to be m2 style


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359541 13f79535-47bb-0310-9956-ffa450edef68",1,40
0b50c3efb7cdda8b23f30528a548505cb95c8671,"Adding stuff for m2 build


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359542 13f79535-47bb-0310-9956-ffa450edef68",305,176
1e0bbfc3eddfa6e7033833ffd181b5240e3bccd4,"more m2 pom changes


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359543 13f79535-47bb-0310-9956-ffa450edef68",92,92
e58897bd691ac1f3b8a917bc8739b71bf0142672,"minor refactor to provide a hook when dispatching messages which have no consumers; so that we can for example, send them to a dead letter queue

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359547 13f79535-47bb-0310-9956-ffa450edef68",8,30
a59fee46d54fb2bbbcb829f4756c483a0ea9f317,"Do better handling of the reference counting during dispatch.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359548 13f79535-47bb-0310-9956-ffa450edef68",0,6
3062f751d7f4e27294443e2ad4aefd5374ce0566,"added extra jar for testing of connection pool 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359549 13f79535-47bb-0310-9956-ffa450edef68",0,5
81a95754244e3415b76fad322d3cd35b7037d0d2,"removed cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359550 13f79535-47bb-0310-9956-ffa450edef68",2,0
0684e20bf6796d85ff6caca1c8950a8c3108fc6f,"use commons-httpclient by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359551 13f79535-47bb-0310-9956-ffa450edef68",18,24
c4d18afb1431b61ac61e0e56027ec60bc45fcf02,"added sysunit as a dependency ready to start adding some sysunit tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359552 13f79535-47bb-0310-9956-ffa450edef68",0,6
f76604393c3b92d636dc608549822bfe6a931d02,"start of package refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359561 13f79535-47bb-0310-9956-ffa450edef68",0,0
d29ca2a71b7fd281c15f7d05e135c196d2b2488c,"Refactor org.activemq -> org.apache.activemq


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359567 13f79535-47bb-0310-9956-ffa450edef68",94079,94299
2d0361bd2bddfd92a18cb120bd5657343f96bfe3,"Refactored package name org.activemq -> org.apache.activemq


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359571 13f79535-47bb-0310-9956-ffa450edef68",24,32
c1f5c77e622982c30c035286a35f94b764577c2b,"part of package refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359578 13f79535-47bb-0310-9956-ffa450edef68",4,35
8abcfd13fc91dd97e48c94ca9e65964d0f1ef751,"doing package refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359581 13f79535-47bb-0310-9956-ffa450edef68",110,111
662d3d246910296fa6716a667a85cc0dbc39228e,"Part of package refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359582 13f79535-47bb-0310-9956-ffa450edef68",6,1
fd4bb60c2db80fcdadfbc2732aec118cfcd53d0b,"refactoring package name from org.activemq to org.apache.activemq

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359585 13f79535-47bb-0310-9956-ffa450edef68",86,106
f1a084efeb76563f5950783efc69b9e507e7069b,"refactoring to org.apache.activemq package names.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359590 13f79535-47bb-0310-9956-ffa450edef68",21,21
21060b05956e4149854e881ee03eb8142f287366,"refactoring to org.apache.activemq package names.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359595 13f79535-47bb-0310-9956-ffa450edef68",130,130
aabc9519b724153bf52051a32955593573d61821,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359596 13f79535-47bb-0310-9956-ffa450edef68",0,0
6b8760d245af059d8dce8c5d24e5ee45f90c55c1,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359597 13f79535-47bb-0310-9956-ffa450edef68",0,0
68c8c3c867ab68e17d5068fdf9e0848ed7e5c9cf,"added to svn:ignore


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359599 13f79535-47bb-0310-9956-ffa450edef68",0,0
57ca31fbd379f55d16ac18a57b6764dc5f33fd0d,"package refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359601 13f79535-47bb-0310-9956-ffa450edef68",194,195
1c14a8bc0e7428e178703e7c3c2f374fbe5bffc4,"missed this one


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359602 13f79535-47bb-0310-9956-ffa450edef68",0,81
d46d27da0eaca1f3f3674d7b6e5f0cf2db33c3eb,"switched to a m2 directory layout

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359603 13f79535-47bb-0310-9956-ffa450edef68",0,0
42d194eb6fa5d69c9f1c3b4b4f628233ec1feb8e,"doing package refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359609 13f79535-47bb-0310-9956-ffa450edef68",204,204
f145aa1f075707c1733d625147d430b37d6625b3,"moved test resources the m2 directory layout

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359610 13f79535-47bb-0310-9956-ffa450edef68",0,76
f7edffa5ce545363aebae4fca9cd7856031ad627,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359612 13f79535-47bb-0310-9956-ffa450edef68",0,0
852a1b18d5fe7f07fb7a18f587bcb1090dc6dd01,"updated m2 pom


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359614 13f79535-47bb-0310-9956-ffa450edef68",23,37
a6e769d7df06630c45296d7a7beebfae7f7048b7,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359616 13f79535-47bb-0310-9956-ffa450edef68",0,0
a03a33fcf2e6af4a36cfa1412e711f82b2d71205,"added svn:ignores

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359618 13f79535-47bb-0310-9956-ffa450edef68",0,0
e3c9b28275a1a7a9a5401b2b55d8625251e510e4,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359619 13f79535-47bb-0310-9956-ffa450edef68",0,0
7356192be8181fa0fde3b09d6cbb0de56db03909,"refactored package names to be org.apache.activecluster

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359626 13f79535-47bb-0310-9956-ffa450edef68",121,162
0a2a4370839f2dce054a1d820b98368d946244c2,"directory cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359627 13f79535-47bb-0310-9956-ffa450edef68",0,0
2cfb4b1c772bbd414b14e851b0b6ca4854f5954e,"directory cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359628 13f79535-47bb-0310-9956-ffa450edef68",0,0
94de1c0ec8de79178bb059bffed0cc72e522c160,"directory cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359629 13f79535-47bb-0310-9956-ffa450edef68",0,0
9fb219f5b5c5e901e165eaa01beec0f1aa7e916a,"directory cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359630 13f79535-47bb-0310-9956-ffa450edef68",0,0
ccf8d837274fcd6155bf36d4b0193fcb54c59752,"directory cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359631 13f79535-47bb-0310-9956-ffa450edef68",0,0
39a314d75537bc8c85ca4677e3a1c35cb8b7a82a,"directory cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359632 13f79535-47bb-0310-9956-ffa450edef68",0,0
19e43a634c3363d84fbe5032ced73747369d8f50,"directory cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359633 13f79535-47bb-0310-9956-ffa450edef68",0,0
fc531ad6b5be6cabb8950b1dd9b2808666165160,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359635 13f79535-47bb-0310-9956-ffa450edef68",0,0
9141677e4a951a0381282534e6d49f63e149ac57,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359636 13f79535-47bb-0310-9956-ffa450edef68",0,0
c901884014039c467948bb7470495c32f62adefc,"Updated to use new activemq package names


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359637 13f79535-47bb-0310-9956-ffa450edef68",38,32
472bb709c0e72ee3bb68ec167fe608cd1f5cc881,"Moved the gbean modules under that sanbox since they are still not operational


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359638 13f79535-47bb-0310-9956-ffa450edef68",0,0
88d58577a9a8172b53caf7e2a1836b950deb28cd,"use new package names.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359673 13f79535-47bb-0310-9956-ffa450edef68",9,9
66b86ab5ef6f7ee8884a7ce1fa739f319ffc3d74,"added missing files and updated copyright header.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359675 13f79535-47bb-0310-9956-ffa450edef68",25,508
48b4869472d647a890ce6905e7914b7d1ecde948,"Updated copyright headers to be (c) 2005-2006 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359679 13f79535-47bb-0310-9956-ffa450edef68",954,954
4a107f287ee4106a0ed29523194095e40378456d,"More copyright header adjustments.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359681 13f79535-47bb-0310-9956-ffa450edef68",18,21
e5a94818229569c46db6ad2d50fdb943fca92baa,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359683 13f79535-47bb-0310-9956-ffa450edef68",0,0
695a106269bb632257513d5c6dcb3bcaa1394e98,"Updated copyright headers 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359684 13f79535-47bb-0310-9956-ffa450edef68",2,2
a759a94e4219f3c69a07b4a37ac602ad51965760,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359685 13f79535-47bb-0310-9956-ffa450edef68",0,0
05e97d1d18bae9d24cac496aaf75c0e9d380f7bd,"disable optional modules from build by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359686 13f79535-47bb-0310-9956-ffa450edef68",1,1
11fcdd83be30bee5d759612795e12117ce46efe2,"Changed the META-INF location searched so that it follows the META-INF/services pattern that activemq uses.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359688 13f79535-47bb-0310-9956-ffa450edef68",2,2
8baeff5c7156d53b52225bf1e43924c028bff803,"Changed the META-INF location searched so that it follows the META-INF/services pattern that activemq uses.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359689 13f79535-47bb-0310-9956-ffa450edef68",0,0
13266c83c4ac080a77ad8b0fd905ff76c2f07ab4,"Changed the META-INF location searched so that it follows the META-INF/services pattern that activemq uses.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359690 13f79535-47bb-0310-9956-ffa450edef68",0,0
ff457e227a2e1e7aa4592e0e125753bd8293021e,"- Added test support for multiple consumers and producers
- Added test cases for queue and topic subscriptions
- Added test cases for the different dispatch policies

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359769 13f79535-47bb-0310-9956-ffa450edef68",0,814
c2408b8997e117db5bda579da612083fd44e27b4,"enable by default that non-persistent topic messages which have no consumers are sent to a dead letter topic

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359800 13f79535-47bb-0310-9956-ffa450edef68",23,84
27f7cab3e8bebad9a6d2c96ebb81482e2a56dd69,"added test case to show AMQ-458 working

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359819 13f79535-47bb-0310-9956-ffa450edef68",7,231
b49256b2e5e7f15fe038e34f864b7261f6d9c499,"refactored the test case to use MessageList to avoid timing issues

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359827 13f79535-47bb-0310-9956-ffa450edef68",27,53
312f2489a332f73573811815eb9e9df80bb597a9,"fixed up test cases after they broker with the MessageList refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359830 13f79535-47bb-0310-9956-ffa450edef68",6,27
f051364d6b1e2c9c2b7aafc4066770a7ea6e2825,"updated javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359832 13f79535-47bb-0310-9956-ffa450edef68",9,16
625856e3a7f4021f56dba7fc168a6d676c2c0044,"updated the max heap size for test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359849 13f79535-47bb-0310-9956-ffa450edef68",1,1
f1dc4779c5988dee18a95bc9fe23ffed5b29d86a,"tidied up the test cases a bit

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@359856 13f79535-47bb-0310-9956-ffa450edef68",13,33
20b343110c1f88084fdad16429c809b056decf85,"added test case to show the configuration of prefetch sizes in Stomp using header ""activemq.prefetchSize: 1""

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360062 13f79535-47bb-0310-9956-ffa450edef68",17,45
88203aea9bbf4ea1284f2350cd28f1ee21b1d953,"added the ability to configure the DLQ policy on a per destination basis; either use 1 global DLQ for all messages or use 1 DLQ for a bunch of messages via a wildcard PolicyEntry or use an individual DLQ per destination (which again can be attached to a wildcard via a PolicyEntry)
fixes AMQ-459

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360089 13f79535-47bb-0310-9956-ffa450edef68",27,258
ffb9d2aabb8ade109d32df3f95be3bb1a24f970b,"allow the RedeliveryPolicy to be configured on an ActiveMQConnectionFactory

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360105 13f79535-47bb-0310-9956-ffa450edef68",0,22
10c6b2964fc716a10f22f5b37bbac46c3a0f4a7d,"added test cases to demonstrate shared and individual DLQ strategies; which highlight a bug in the rollback logic in the client

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360108 13f79535-47bb-0310-9956-ffa450edef68",9,176
3f574b04feec371aed51cfa30d1d56492b626fa2,"deleted old test; there is a much better test case of the same name in activemq-core now

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360109 13f79535-47bb-0310-9956-ffa450edef68",126,0
eac597346ca2d5d3fab8c890c24902f744892460,"allows for the specifying of ActiveMQ specific connection headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360111 13f79535-47bb-0310-9956-ffa450edef68",0,4
80f5e0ced1de75624f109466395ef57fdb6f774b,"Fixed https://jira.logicblaze.com/jira/browse/AMQ-460

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360127 13f79535-47bb-0310-9956-ffa450edef68",5,9
de7f650b16e6e77ea31f8967202dd8445bd64a5e,"avoid possible NPE; only set the redeliveryPolicy if there is one configured

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360132 13f79535-47bb-0310-9956-ffa450edef68",3,8
1f3f80cf7765193b98d9b0e061e63811a7f19aca,"fixed bug in test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360135 13f79535-47bb-0310-9956-ffa450edef68",1,2
90e21b4e8f7d5ad4a7f127f2558cd5cb755ccbba,"Modified the BrokerInfo so that the redelivery policy is now purely configured on the client side.  Also the connection's transport
is not started until the connection if fully configured now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360140 13f79535-47bb-0310-9956-ffa450edef68",2262,2338
475925394a253fecd680bcc1c0b7dc895633af39,"Fixed the QueueSubscriptionTest.  When multiple producers would pound all at once at a destionation.  Some messages would not get dispatched.  Due to timing issue with the consumer list held by the destination.
Added some more synchronization blocks and now everything is happy again.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360167 13f79535-47bb-0310-9956-ffa450edef68",54,71
e7246d9327a00838875a9aa387d28e94a49aaf83,"Make the default thread pool create deamon threads

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360169 13f79535-47bb-0310-9956-ffa450edef68",1,12
5be5a62df61785c975100fff54477e2769585f9b,"Updated/Added more apache copyright headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360181 13f79535-47bb-0310-9956-ffa450edef68",2808,3856
1e01cdd00c2834b898ba512dccaf2eaa7c270a69,"Updated/Added more apache copyright headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360183 13f79535-47bb-0310-9956-ffa450edef68",0,17
1f1b27068d75b4a49eb9edc1c495c6ce53cad795,"Added to svn:ignore list

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360184 13f79535-47bb-0310-9956-ffa450edef68",0,0
23d73299a1b097cffd31e24bf9d548d173f24fa3,"updated the licence file to be the full ASL 2.0 text


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360187 13f79535-47bb-0310-9956-ffa450edef68",20,203
022cd57b301fa2cde020199826d7e224367508e2,"Updated/Added more apache copyright headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360189 13f79535-47bb-0310-9956-ffa450edef68",27,212
3d95025a477b1d2e27e29880883f13a1cd37d047,"Depending on the test configuration parameters, it was possible to get an OutOfMemory error.  The causes were:
 - The MessageList was holding on to all the messages being consumed, changed this so that it only holds on to the messageIds
 - Was using a non persistent broker, but was sending it persistent messages, in the topic case, he holds on to the messages in a memory based message store.  By default we now send non persistent messages.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360195 13f79535-47bb-0310-9956-ffa450edef68",86,77
7703aeef0ca21ba64042804b225f21396fdb0111,"not sure why.. but these guys are passing for me now.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360197 13f79535-47bb-0310-9956-ffa450edef68",16,13
1cd585e00e1e371d7c87c36c930d03a14f5e2b03,"Add scm info to activecluster

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360266 13f79535-47bb-0310-9956-ffa450edef68",0,6
8eda6575aedc0d3e04f51bde552e3db07227be56,"Fix scm infos for main pom

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360270 13f79535-47bb-0310-9956-ffa450edef68",3,3
3516e1005a58b7da939aa7587b4fc6fc56b66ea4,"better tearDown: allows setup and tear down to be call multiple times in a single testcase.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360315 13f79535-47bb-0310-9956-ffa450edef68",0,2
14f96a9e6fe651a5b7c56adaccfde0e164093118,"The testcase would wait for all the messages to arrive.  But in the topic case the total number of messages computed was wrong and the test would not wait long enough.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360318 13f79535-47bb-0310-9956-ffa450edef68",1,4
77dd8fb71db89ec379f43983cd301fe946bfb2c9,"use a tighter wait() based on the remaining time

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360323 13f79535-47bb-0310-9956-ffa450edef68",2,2
61ab31e758bb721d0b1982242dc343b614fd4362,"imporoved the advisory message being sent by topics when no consumer is listening:
 - It sends it non transactional
 - It does does not block due to flow control

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360329 13f79535-47bb-0310-9956-ffa450edef68",13,29
673f323e18d2d26dc7c665a766b734b5176b3b19,"Modified to compile under JDK14

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@360499 13f79535-47bb-0310-9956-ffa450edef68",12,12
6bdfbf3d7330b1a7f3df1511d80273e5c95a14a6,"This fixes the timing issues that the RecoveryBrokerTests were having.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365277 13f79535-47bb-0310-9956-ffa450edef68",1,1
ef64a25b9f1f1268505b48ffded1a96ccdeb9b4a,"Better test setup


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365280 13f79535-47bb-0310-9956-ffa450edef68",34,3
161448a5e3891de3b20ca3f816185449d69e079c,"The SimpleDispatchPolicyTest and RoundRobinDispatchPolicyTest were failing on my single proc powerbook.  
The parent of the MessageIdList was being called before the clild had processed the message which
cause the test to not wait till the childeren had processed the messages so tests would fail 
due to short counts.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365367 13f79535-47bb-0310-9956-ffa450edef68",3,3
2e60c7919407299427fc3807ef445097de0747ef,"Updated some props

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365389 13f79535-47bb-0310-9956-ffa450edef68",0,0
d06b32bab3ad3c98c7802ce3955ab8512d449cde,"PR: AMQ-461
Submitted by: Bill Dudney
m2 poms need patches

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365390 13f79535-47bb-0310-9956-ffa450edef68",0,12
d9987ffd31afc575dd429c2a01eb642969793a9b,"The roundrobin test was failing on slow machines because the prefetch size was too small so the round robined 
distribution was not equals since the slow consumer's prefetch window would fill up and other consumers would
unevenly get more messages.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365537 13f79535-47bb-0310-9956-ffa450edef68",1,1
01bf2d1833754d24f6608e4c920654d671764a33,"added stomp support by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365634 13f79535-47bb-0310-9956-ffa450edef68",0,2
a4618caf0c056f9720c7d6bf73a97e7c65d0a243,"better pom for m2


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365712 13f79535-47bb-0310-9956-ffa450edef68",8,15
7dbbe0c854d7821d58422f00b75b017b4cdc8ff4,"Fix test case


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365713 13f79535-47bb-0310-9956-ffa450edef68",0,8
6027d2aee9a4ce74dd13869f9d4c9c2168bb29f6,"generated resources were not being copied to target/classes


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365740 13f79535-47bb-0310-9956-ffa450edef68",9,11
050637cdf6d1b59e6b4355b408b7cf377d509803,"use the BrokerFactory to create BrokerService objects


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365746 13f79535-47bb-0310-9956-ffa450edef68",20,20
b70c8d1cb2869d89500cb1db6ad89a6831ea33bc,"Re-included the means to prevent the main thread from exiting until the vm is exited elsewhere (either Ctrl+C, terminateJVM, etc.)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365865 13f79535-47bb-0310-9956-ffa450edef68",3,37
6cbd6d2e8d378304d3bb60dc3e7be2c8960ee3ea,"Added adding of started broker to lists of brokers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365876 13f79535-47bb-0310-9956-ffa450edef68",1,1
664b534be528b5df6d0113f3e9ad61f9892649c3,"fixed edge cases in DestinationMap

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365882 13f79535-47bb-0310-9956-ffa450edef68",14,48
8f22cfa4fc2c45c10d9df30e89e79b469844e71a,"make destinations sortable

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365883 13f79535-47bb-0310-9956-ffa450edef68",56,95
ff24745f93b4f1ab22f3c98245849c38ced666c1,"added test case to show the use of individual dead letter strategy via XML

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365884 13f79535-47bb-0310-9956-ffa450edef68",0,0
0a8efc977bcc3fe60c3f703392db315e119f36b5,"added test case to show the use of individual dead letter strategy via XML

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365885 13f79535-47bb-0310-9956-ffa450edef68",0,97
8b28367f3d02883cf080ff31666143b5bf11ce2d,"fixed the DestinationMap so that it can hold queues and topics with the same name without intermixing the two trees

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365888 13f79535-47bb-0310-9956-ffa450edef68",66,93
c62a775af4e45e8dcb71f811beaa9941f57eafdc,"added more edge cases to the DestinationMap test case 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365890 13f79535-47bb-0310-9956-ffa450edef68",0,7
d15e8dff27561f2a6b24189116de3485e3eb2ad6,"don't include jmdns in the rar


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365916 13f79535-47bb-0310-9956-ffa450edef68",3,0
de231491a77ee711defaea12c5c5114ca985a34a,"added test case and fix for AMQ-463 to test for duplicate clientIDs connecting

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365917 13f79535-47bb-0310-9956-ffa450edef68",2,112
23cae84111f7ecee95746e13afa54c3a3e8904ae,"Point to the incubator website instead


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365919 13f79535-47bb-0310-9956-ffa450edef68",1,1
670a6dcebf093208f5e70944339c8c3b673b17d4,"Fix http link


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365920 13f79535-47bb-0310-9956-ffa450edef68",1,1
2c29a3a5f2eaf9f1c64a9754c94412ca1dd2e588,"Cleaning up excluding uneeded jars from final assembly


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365924 13f79535-47bb-0310-9956-ffa450edef68",12,2
a250442df477b189ed9cd88c60f2f5d3fb53bd02,"use xbean 2.1


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365940 13f79535-47bb-0310-9956-ffa450edef68",2,2
3852a53f3e884a94adefa15a5fe0e650d4996172,"use ""Topic."" rather than ""topic://"" as the separator when making advisories.  This makes it easier for folks to use * notation.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365941 13f79535-47bb-0310-9956-ffa450edef68",4,12
c0edaf0532a619b2a90ecbc082bb57e052ef7793,"Use the jdbc catalog to avoid displaying warning messages on startup when the activemq tables allready exist.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365954 13f79535-47bb-0310-9956-ffa450edef68",38,67
e6efdb19553b390becf3c3c7d7329ff87a440f6f,"Fix the security test.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365965 13f79535-47bb-0310-9956-ffa450edef68",0,3
27329abdcbe242873fcd004d00b67d37a29bc542,"don't log a message when the WireFormatInfo comes in from the other side.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365966 13f79535-47bb-0310-9956-ffa450edef68",2,13
9b64c37c4ca6a5ad73cfca071c7e894320c89810,"Added a SubscriptionInfo[] getAllSubscriptions()  to the TopicMessageStore.  We will need this if we want to eagerly load the durable subs when the broker starts up.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@365993 13f79535-47bb-0310-9956-ffa450edef68",0,80
c8d74e7113ce444f3897d5f5416859f13b0c15cc,"removed RedeliveryPolicy from openwire and moved into the client package

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366118 13f79535-47bb-0310-9956-ffa450edef68",117,6
935ce6596843f0b505a1f79dc30b9f9984853f24,"added test case for AMQ-464

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366119 13f79535-47bb-0310-9956-ffa450edef68",0,30
04e2cdcf3f12c770f38b995e38fc39a9f66de393,"- Added wildcard searching using query. (i.e. -QTopic=*Advisory*, -QQueue=TEST.???)
- Added subtractive searching using query. (i.e. query -QTopic=* -Q!Topic=ActiveMQ.Advisory.*) will get all topics, but filter out advisory topics.
- Added querying using similar to object name format. (i.e. query --objname Type=*Connect*,BrokerName=BROKER_1 --objname !Type=NetworkConnector) will select all connection and connector belonging to BROKER_1. It will filter out all network connectors.
- Performed a little code restructuring.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366120 13f79535-47bb-0310-9956-ffa450edef68",416,469
aac5e5acf2f899c6f18512eb241c818022f1ac65,"removed redeliverypolicy from the openwire protocol

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366136 13f79535-47bb-0310-9956-ffa450edef68",70,0
34cadafaab0d5954fec065a2aeffa5026ab2ba96,"Change subtractive query to use -xQ and --xobjname instead of !. Having trouble using ! in linux.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366145 13f79535-47bb-0310-9956-ffa450edef68",33,43
45ea6c629b2c031ee239ab5a22ab3ef622cd2a61,"-Added a list script that will list all registered brokers
-Added a bstat script that will run a predefined query to display some broker stats and selected attributes. (i.e. bstat <broker name>, or bstat to display the statistics of all brokers)
- Updated copyright header of script files.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366146 13f79535-47bb-0310-9956-ffa450edef68",22,625
c5b3802c616b468103d52093b0d77bac5e6c4bbc,"made it easy to copy a RedeliveryPolicy

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366151 13f79535-47bb-0310-9956-ffa450edef68",33,20
205ac1188a3961a53e8947e3cb09c5760cd9846a,"allow customisation of the redelivery policy and prefetch policy on the ActiveMQ ResourceAdapter and ActiveMQManagedConnectionFactory and fix AMQ-467

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366152 13f79535-47bb-0310-9956-ffa450edef68",47,320
f73e2097dd663f973b5ce5361fdd5677505a3947,"tidied up code a little

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366153 13f79535-47bb-0310-9956-ffa450edef68",8,11
e310c21a8d8815a79dd3d918bc58f4a902d5ce74,"applied patch from AMQ-356

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366156 13f79535-47bb-0310-9956-ffa450edef68",1,7
cc1de0e202b3b6fb5dc3522d3909fb687d4f5abe,"fix for AMQ-348 to allow a ConnectionFactory to be specified so it can be shared across inbound and outputbound messaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366161 13f79535-47bb-0310-9956-ffa450edef68",1,24
99a45e3f841a2a106504bf181cb9b2bd1ba0ab93,"Fix for AMQ-435

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366163 13f79535-47bb-0310-9956-ffa450edef68",1,1
166ce1f5f4a5d1ad81086e1727b3d588afb96eb0,"Fix for AMQ-435

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366164 13f79535-47bb-0310-9956-ffa450edef68",3,3
1eaf1f72748d5ac2940975ce4edadda8f0078e3b,"updated the release's data directory to be something activemq related to help folks know what the directory is

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366167 13f79535-47bb-0310-9956-ffa450edef68",2,2
f0454b1e8889e6ed06963ef4f08583332f02baaf,"part of the fix for AMQ-286 to allow the redelivery policy to be configured on a consumer

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366170 13f79535-47bb-0310-9956-ffa450edef68",1,14
c68a1460baca744b565af010c459ade92bc04183,"Fix for AMQ-464

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366176 13f79535-47bb-0310-9956-ffa450edef68",7,3
95a2aa6b8f69a75161cf13e0a77a5ab376220a96,"fixed reconnection test which was creating a new connection with a client ID before closing the previous one which threw the InvalidClientIDException

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366188 13f79535-47bb-0310-9956-ffa450edef68",2,1
ef3b50e18b9b55926f00afe1fceed710b56fb943,"when sending - use quality of service applicable to message and subscriber

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366191 13f79535-47bb-0310-9956-ffa450edef68",3,13
ab1d1afc1c8415b0e8eea858834dfc0e03dc1fd3,"fixed test case to close down the connection in between test cases to avoid duplicate clientID exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366199 13f79535-47bb-0310-9956-ffa450edef68",2,9
71bd33d3ec39e2509ee72d21f724f3d1cccaeaf6,"Fix SQL statement.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366203 13f79535-47bb-0310-9956-ffa450edef68",1,1
e1d4780221c52df276a819e25731cd6c53292311,"minor refactor to allow pluggable MessageGroupMap implementations so that we don't have to keep around every single GroupID in RAM if we don't want to (which could very easily become a RAM leak) and can use a provider which uses hashbuckets instead.
added an initial implementation of a hashbucket based MessageGroupMap which should be fine; am waiting on a unit test run to complete before I dare enable it by default :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366204 13f79535-47bb-0310-9956-ffa450edef68",331,666
d7f91463d6c597fe301c328c9173703590cf17a5,"enabled the hash bucket based implementation of MessageGroupMap by default and made the bucketCount configurable in the destination policy map

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366208 13f79535-47bb-0310-9956-ffa450edef68",4,32
f9db4423b1c3a61d5b1328b23fe307e89cd25966,"fixed bad test case that creates 2 connections with the same clientID

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366215 13f79535-47bb-0310-9956-ffa450edef68",2,1
b5436092528789fada8cf8f845a850bc2ee64ac3,"increased the number of messages in the test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366216 13f79535-47bb-0310-9956-ffa450edef68",1,1
013f37294e09a0a37ebb9d4df2ee3ff9d65c8ae5,"- Refactored out introspection based toString() logic to the IntrospectionSupport class
- Durable subscriptions are now eagerly loaded when a topic is created.
- Fixed the *TransactionTest 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366220 13f79535-47bb-0310-9956-ffa450edef68",67,163
04968b6811907c3678489207c31b3fbaf5a3e43d,"We now optimize out persisting persistent messages to a topic if it does not have any durable consumers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366274 13f79535-47bb-0310-9956-ffa450edef68",28,172
d265b3138505b06bebdb6b2655358ad3f810ff41,"Wrong size read causing hangup.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366398 13f79535-47bb-0310-9956-ffa450edef68",1,1
6285f96b15df86dafad5c99543bf3c61dcbc35bf,"Reset checking for successful test every test setUp.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366443 13f79535-47bb-0310-9956-ffa450edef68",1,2
be19f9aabd447564e5acafe893e2cf8134b208a5,"added an example of running an embedded broker in Java code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366477 13f79535-47bb-0310-9956-ffa450edef68",143,191
606bba7b1ee5daae6b5a8f8dc303260d64bf2ff9,"first spike at getting the OpenWire.Net to work; also upgraded to latest groovy

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366534 13f79535-47bb-0310-9956-ffa450edef68",65,86
6f845eeb853f7eb43cffe28a550d9a9a1732b21f,"first spike of the code generated OpenWire.Net code and a NAnt build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366537 13f79535-47bb-0310-9956-ffa450edef68",0,7046
ccd1113a79fb4c3a9757db29474588f293ab3ca2,"updated OpenWire.Net generation script

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366539 13f79535-47bb-0310-9956-ffa450edef68",0,8
d51d77235276c53fb45b0f76a37b638e26be1b74,"more fixes for OpenWire.Net; getting close to compiling :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366542 13f79535-47bb-0310-9956-ffa450edef68",4,3
23bec283f0c3d20542a058beb581d0d117b0607d,"almost compiling OpenWire.Net :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366543 13f79535-47bb-0310-9956-ffa450edef68",310,225
2942846abc3ca0539c064b9d685dad6dbf597d12,"closer to compilable OpenWire.Net classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366549 13f79535-47bb-0310-9956-ffa450edef68",29,55
034949a481e2ec82c4dcfaa04ebf35372ed99435,"use helper methods to read the primitive nested types like BrokerId

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366551 13f79535-47bb-0310-9956-ffa450edef68",14,22
40280b7d31a2b9a75d363cba9cbe27de308f0eaf,"latest generated OpenWire.Net code; getting closer :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366552 13f79535-47bb-0310-9956-ffa450edef68",290,386
10681a29b8d044a40ba05920a76985e13c64153d,"nearly building OpenWire.Net; much closer now

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366723 13f79535-47bb-0310-9956-ffa450edef68",8,117
0a503f539377901d359c1ab7eea8700b293b2b75,"Close to compiling OpenWire.Net

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@366724 13f79535-47bb-0310-9956-ffa450edef68",132,1327
52aeaa2965598c802c0af0f9412c52d4e0bb2433,"Fix splitting of components.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367158 13f79535-47bb-0310-9956-ffa450edef68",1,1
579a1d41300b5d1fc35947b8beb1b16bc2ea2dd2,"- Added test cases for multiple brokers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367253 13f79535-47bb-0310-9956-ffa450edef68",0,1108
fa63d9091f00f5e6c289618b905f86e864175ce4,"Minor change to toString and System.out

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367254 13f79535-47bb-0310-9956-ffa450edef68",2,2
4afa5d6f093ba89febc4bfcfd953e97244d3ce05,"added the numeric values from CommandTypes to the annotations for generation of other languages

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367276 13f79535-47bb-0310-9956-ffa450edef68",47,48
fd32d5612c63b893aa7159993906112b4297f0f3,"updated the C# generation scripts to create valid C# code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367310 13f79535-47bb-0310-9956-ffa450edef68",44,73
f4f8bb12ed4012eb20aff27d022f0b8e93b7e1d2,"latest generated openwire.net code which now compiles OK!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367311 13f79535-47bb-0310-9956-ffa450edef68",557,913
6f4386d1cd63f1e596a8d2553eaa979be2f79197,"latest generated openwire.net code which now compiles OK!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367314 13f79535-47bb-0310-9956-ffa450edef68",0,90
d8cbc3e9732d71a56f67d71ddad8bb805c204f0a,"Added back file that was temporary deleted

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367318 13f79535-47bb-0310-9956-ffa450edef68",489,3
be783c36b08deb5c80227c4ad770cd451a9106d8,"Latest auto-generated C code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367321 13f79535-47bb-0310-9956-ffa450edef68",0,62
42ec94a247c289f598c525347c920337b1df9fa5,"Latest generated Java code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367322 13f79535-47bb-0310-9956-ffa450edef68",0,102
c59246d5edc68539bcfdd327b43c98c0f45e8fa9,"- Changed the command id objects so that they do not use fields that have the same name as the class (for the .net folks)
- Added a ConnectionError command that can be used to notify a connection of async errors associated with the connection.
- 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367341 13f79535-47bb-0310-9956-ffa450edef68",107,292
b2f4fc6af9847d69dbf3c73f57591374704be164,"re-ran the openwire generation script



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367349 13f79535-47bb-0310-9956-ffa450edef68",50,247
f2669a70a6db49c0c7906d0d594a19452b66983d,"don't close the connection on a async error since we are not sure that it was connection failure.  It may just have been a failed operation (security constrain or something).

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367409 13f79535-47bb-0310-9956-ffa450edef68",11,1
a9e047d92eb00c0c8283523d9e354c992770c457,"Add auto fail support when test hangs

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367460 13f79535-47bb-0310-9956-ffa450edef68",0,1
aa7435064aca1eabab67dfb5a36157c65a7883a2,"Called super.setUp and super.tearDown. To ensure auto fail is called.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367489 13f79535-47bb-0310-9956-ffa450edef68",0,2
5eff976d28e008a6c20620ad57bdd96333f71043,"- Added test case to check if any message dispatch are sent over the bridge even when there is no consumer on the other end
- Added better setup for some to the test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367501 13f79535-47bb-0310-9956-ffa450edef68",4,167
c3a767b21eff1c3827bec8a8d05279e75ea45d80,"further cleaning up of the OpenWire protocol now that the FooId classes all now have value properties called ""value""

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367565 13f79535-47bb-0310-9956-ffa450edef68",32,18
788bfbef25d634a8295d3b52d6b692dc76a5f738,"latest generated OpenWire.Net code together with an early plugin for the transport

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367566 13f79535-47bb-0310-9956-ffa450edef68",2143,1182
434c38ff943dfa476eec854315a27f1b30cc5187,"refactored packages of OpenWire.Net

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367569 13f79535-47bb-0310-9956-ffa450edef68",12,15
a0832bcd42a31e2565df2f34f9be55e1bcb6eb9b,"refactored packages of OpenWire.Net

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367570 13f79535-47bb-0310-9956-ffa450edef68",5,6949
6dacb8eced531c5e3e6ef5ef29ec7065efaed443,"Removed old cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367582 13f79535-47bb-0310-9956-ffa450edef68",6870,0
89000d1b43cf671ba3070828ffb1d176e456957d,"moved the Transport API into the Core package and put an initial JMS-like API in place

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367583 13f79535-47bb-0310-9956-ffa450edef68",23,226
3089079547c06150d134d8e7569670d49da1f7a3,"moved the Transport API into the Core package and put an initial JMS-like API in place

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367584 13f79535-47bb-0310-9956-ffa450edef68",69,0
1c02c36bdc16e4dbf4c96c262dab72b3a8cb7f5f,"latest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367585 13f79535-47bb-0310-9956-ffa450edef68",0,0
fb53ad9cf32cf720699537432195b186f1e15235,"applied proper fix for AMQ-464

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367598 13f79535-47bb-0310-9956-ffa450edef68",2,6
611e335cfc9effd701578ac10bcf566f5cddd947,"added first cut of a near complete OpenWire.Net API with a shell of an implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367605 13f79535-47bb-0310-9956-ffa450edef68",51,391
dfb9c82114c84809c73b3116d12530574d62632a,"disabled auto-generation of more hand-crafted commands

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367606 13f79535-47bb-0310-9956-ffa450edef68",1,2
2ba813b311b55cb74e5cbc0d1c7026ddcf5a2f87,"added support for Throwable in OpenWire.Net

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367640 13f79535-47bb-0310-9956-ffa450edef68",1,12
a47deab320ab9d1dc082b82c5976482ecda06e8b,"added support for exceptions and for IConnectionFactory

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367642 13f79535-47bb-0310-9956-ffa450edef68",11,176
6397d0560b8bcead0a0141f5608fda7d1c7334c3,"pass on async exceptions to the Exception listener

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367673 13f79535-47bb-0310-9956-ffa450edef68",0,4
a7785c6a54294837b66d0588d52fd241b80ecb46,"- make the group sequences 0 based to match producer message sequences which are also 0 based
- fixed bucket hashing method to handle cases where the group id hashes to a negative number.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367676 13f79535-47bb-0310-9956-ffa450edef68",3,7
ffad45edff16cc8c6b67de0cd84a4976216d0963,"Fix for https://jira.logicblaze.com/jira/browse/AMQ-470

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367724 13f79535-47bb-0310-9956-ffa450edef68",2,2
da77d2c649a4239e6ae0da9572ae5814fd520074,"fix to allow a foreign JMS message ID to be set on an ActiveMQMessage

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367741 13f79535-47bb-0310-9956-ffa450edef68",11,32
3ed3dd46dd4c95a548206d542a946b593ab8ea48,"added compiling (but not working) unit test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367748 13f79535-47bb-0310-9956-ffa450edef68",90,129
cdbf09ca3e456cc380a442c7e8da29a47acd3968,"disabled tests that were failing.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367774 13f79535-47bb-0310-9956-ffa450edef68",0,14
0d7046918c184a33f98d51de194a79a094c433c3,"disabled failing test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367781 13f79535-47bb-0310-9956-ffa450edef68",0,2
1a9d2862a415cf9cb98904339d4a32fd0bb61b66,"- Added two broker test where each broker has a client that connects and disconnects and the destination is a queue
- Minor updates to some of the test cases and test support

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367958 13f79535-47bb-0310-9956-ffa450edef68",71,449
39cd4bff1a39c5bad65b70cb87f892796f606c87,"Disabled new failing test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@367971 13f79535-47bb-0310-9956-ffa450edef68",0,2
1c447924982594d7e71ab70b7614f5a774d7c8b9,"refactored Transport -> ITransport along with adding a stub working NUnit test case and build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368050 13f79535-47bb-0310-9956-ffa450edef68",46,58
af9f61015de19f1c506a13e2609676527eefdcd5,"Adding some changes to support master/slave

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368075 13f79535-47bb-0310-9956-ffa450edef68",0,252
f62ff2c1bfeecf17f6dcc3ce641d96ada93bebba,"added a rough implementation of the ITransport interface; needs more work on the concurrent processing side of things though

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368086 13f79535-47bb-0310-9956-ffa450edef68",9,173
7a7496c8415aafcc8e245cf56269b19b5b174181,"Maven 1 pom changes so that we cen start deploying to the apache maven repository.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368463 13f79535-47bb-0310-9956-ffa450edef68",160,81
70c2d886d1e94d1c366634dedfd7e614d50f6208,"Refactored the main class to several task class and use the main class to bootstrap each task.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368560 13f79535-47bb-0310-9956-ffa450edef68",1015,1165
0b629636d2e4e47847c695b75c8c8d39e1931e18,"just test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368910 13f79535-47bb-0310-9956-ffa450edef68",0,1
eef92026754b0cc94c2b0ba21ece0b531b518b97,"AMQ-484: Restore discoveryUri when replacing TransportConnector with ManagedTransportConnector

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368911 13f79535-47bb-0310-9956-ffa450edef68",0,2
4d7ea5ef6ebfff077c69f3779ff7807d035107f7,"Allow defeat of auto include of $ACTIVEMQ_HOME/conf in classpath

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368924 13f79535-47bb-0310-9956-ffa450edef68",2,7
982a119ba6be7cd8a42feab61115d678eb612e9a,"Renamed the *Task stuff to *Command, the Main method now just only calls the DefaultCommand, which delegates to the other commands.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368942 13f79535-47bb-0310-9956-ffa450edef68",130,121
4aea40b27cf5fa8b7ecf572b79049ee0ef4b9a4e,"Added the right bit to get ActiveMQ into ci.gbuild.org


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368951 13f79535-47bb-0310-9956-ffa450edef68",0,12
5fb475601e16d10dfd6cb481fb2b10468cee8255,"More fiddly bits for ci.gbuild.org


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368954 13f79535-47bb-0310-9956-ffa450edef68",1,25
2ddd372cad0f31ce5f200f8d43c7e813057c0d0a,"Added initial implementation to make ActiveMQConnectionFactory and ActiveMQDestination referenceable.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368957 13f79535-47bb-0310-9956-ffa450edef68",2,92
c7e4ad74c90739a788a62376150f2d79d2e6ce1d,"Don't need that dep


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@368961 13f79535-47bb-0310-9956-ffa450edef68",0,6
a0adce9cb5a53618b9405e6cd5e706e284547e10,"Updated poms so that we use the incubator-apache group id so that folks can clearly tell that we are still in the incubator


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369097 13f79535-47bb-0310-9956-ffa450edef68",16,32
613c2705cec85846c3d6673801b4133dcb403a16,"correcting the scm url


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369131 13f79535-47bb-0310-9956-ffa450edef68",3,3
23334ff9a6cbc08214bdc72d3c9079bc7e015c64,"Protect against recursing.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369174 13f79535-47bb-0310-9956-ffa450edef68",6,12
e997ceef562572bdf3ee9d04c36cd7deb3663965,"explicity adding dependencies to be included in final repo.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369308 13f79535-47bb-0310-9956-ffa450edef68",8,35
c7742330236f773b89b9ff3f02cd736b93cf2660,"updated version to AMQ-4.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369318 13f79535-47bb-0310-9956-ffa450edef68",3,3
91bc5609f4aaefba4ea2057b4aebedff0fdfd76d,"- fix test dependency
- and echo when the test jar is installed


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369320 13f79535-47bb-0310-9956-ffa450edef68",1,2
b329273cf4b66e617ee9f54b38c6e9f80fbca238,"Fixed up the m2 distribution.  only thing not being included yet is the run jar and the amq rar


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369323 13f79535-47bb-0310-9956-ffa450edef68",8,85
b9a4deed5d7d865d93712790b0b05655dabc81c1,"- Made ActiveMQConnectionFactory and ActiveMQDestination referenceable.
- Ported to 4.x the jndi implementation from 3.x (JNDIStorableInterface, JNDIBaseStorable, JNDIReferenceFactory)
- Added a simple test case to test the object factory.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369411 13f79535-47bb-0310-9956-ffa450edef68",78,367
80a8e8d27d9299bec8795f0e117299072afcf48b,"Fix a dependency issue.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369551 13f79535-47bb-0310-9956-ffa450edef68",1,1
d3aa9bf2be44fa3bb57aec4889ed7047b8bd52f8,"Allow defeat of auto include of $ACTIVEMQ_HOME/conf in classpath (after refactor)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@369868 13f79535-47bb-0310-9956-ffa450edef68",30,34
e45538c1835c42079928359ebe793ddb31c352b2,"Tests needed Derby

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@370003 13f79535-47bb-0310-9956-ffa450edef68",0,12
85402ce38743efa5ce47243373be335945313021,"Clean up

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@370004 13f79535-47bb-0310-9956-ffa450edef68",109,0
377780985c7ffb455b1337370c4e9bf056e71d31,"added additional test cases for the other stomp verbs/features

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@370081 13f79535-47bb-0310-9956-ffa450edef68",31,250
4098942c1e8c1947eeecaff8bfcdbd8ba9d01ab9,"Added master/slave functionality to the Broker

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@370223 13f79535-47bb-0310-9956-ffa450edef68",114,1878
5b2e9be749ed8e35822707d4adc3d58bd8b44e0b,"added messageSent() method - so can hook in failure tests in derived unit tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@370330 13f79535-47bb-0310-9956-ffa450edef68",0,10
ef94b843cc4a8c4f0c3acbf5a14fc77eeb23ba2c,"removed unused line


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@370901 13f79535-47bb-0310-9956-ffa450edef68",1,0
c3c0ea7265caf4bcf79082473ceba9e5526650f7,"Applied patch reported by christopher.kingsbury@gmail.com

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@370926 13f79535-47bb-0310-9956-ffa450edef68",2,1
24cce5f0f5b9510f7701c0ad31124df0635e298a,"added derby dependency and fixed location of webapp after move of the source

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371524 13f79535-47bb-0310-9956-ffa450edef68",1,8
71afa0ded92805e0039d74e1a8d39f34e3934c90,"removed sleep from stop() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371590 13f79535-47bb-0310-9956-ffa450edef68",1,0
1c64baadeae996c30f8729479118bd0ee7bb578c,"Disabling StompTest see https://jira.logicblaze.com/jira/browse/AMQ-502


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371600 13f79535-47bb-0310-9956-ffa450edef68",0,3
d2d1c6d63d67115448d9b929c2d2e2e3dcd7f0f1,"The Transport Connection now notifies it's Connector of lifecycle events so that the Connector does not have to wrap the broker in yet another filter to notice the connection's lifecycle events.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371636 13f79535-47bb-0310-9956-ffa450edef68",37,20
f9a763586aac0b464207d3e9f7f4b2acd790db5e,"AMQ-500 reconciled windows start script with o.a.a.broker.Main

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371767 13f79535-47bb-0310-9956-ffa450edef68",25,39
1356d1549c22d4c7d8209b421cde31375ee65177,"Comment out remote jmx refs, for user discresionary use.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371768 13f79535-47bb-0310-9956-ffa450edef68",3,6
4b8822f154cd8838aa2b2038c79280777a715542,"- Added task to browse a queue for messages that includes the ability to query for selected messages only, and specify the properties to view. (Still considering adding one for topics too)
- Redesigned the querying mechanism to allow easy insertion and/or extension of specific querying filters
- Redesigned the output mechanism to allow easy inclusion of different output formatters (i.e. output in command shell friendly format, script friendly format, xml format, etc.)
- Currently have just included a not-so-friendly command shell formatter. :) Have plans to modify this and maybe include an xml formatter and/or script friendly formatter.

PS: I plan to move the console package outside activemq-core and include some unit tests with it sometime in the very near future. I know its kinda messy right know. :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371880 13f79535-47bb-0310-9956-ffa450edef68",765,3679
fd156f833ab35ea89e15aab7d727f92a3068aaef,"send back responses

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371910 13f79535-47bb-0310-9956-ffa450edef68",13,22
b2039fb1c2e76a68aead491c544a28921190f117,"Fix for https://jira.logicblaze.com/jira/browse/AMQ-494

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371949 13f79535-47bb-0310-9956-ffa450edef68",1,1
32446c1f1db18d6908f9aff168b74c96bce7e1ad,"Fix for https://jira.logicblaze.com/jira/browse/AMQ-501
 - ActiveMQManagedConnectionFactory now implements equals() and hashCode()
 - ActiveMQActivationSpec is now serializable.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@371951 13f79535-47bb-0310-9956-ffa450edef68",10,17
8b04e15826a50bbe5d37a09c4898e8a41af7a565,"Fixes for Master-Slave functionality

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372050 13f79535-47bb-0310-9956-ffa450edef68",304,277
9a699a4d06649e4943ca3047a8549e45b7c9d01c,"correction on artifact name given for xsd deploy goal.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372090 13f79535-47bb-0310-9956-ffa450edef68",7,3
2b8946f964f62c83d8b65f440b3300fd4d347b98,"Changes to facilitate the creation of a Maven site for the Incubator.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372186 13f79535-47bb-0310-9956-ffa450edef68",10,79
afcefa0111b71226294f4c2ed1b7777a6aa8aa8a,"Added durable topic test for master/slave

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372300 13f79535-47bb-0310-9956-ffa450edef68",1,49
a9852f8cb54ac3229171bf7a28a2a0797d004c30,"Changed <connection-impl-class> elements from JMSConnectionProxy (not in AMQ4) to ManagedConnectionProxy. Code for both is exactly the same.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372386 13f79535-47bb-0310-9956-ffa450edef68",3,3
a9d3883dc8c1f1dbe78258ca967bcc2ff466d2da,"commented out goal that override the jar:deploy. This causes error when deploying the jar in the dist repository.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372437 13f79535-47bb-0310-9956-ffa450edef68",4,4
b2b1e80b86a377bcf1eb116e3f2fae45f6d99c52,"Set to implement Serializable.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372479 13f79535-47bb-0310-9956-ffa450edef68",10,11
40ce55be77effd7a07010cd04e8f9582ca4377eb,"added extra NPE check

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372519 13f79535-47bb-0310-9956-ffa450edef68",0,3
1479c1547592f5d3e25140819afdb51e11c22dbb,"included log4j in the rar bundle

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372532 13f79535-47bb-0310-9956-ffa450edef68",0,1
885db67aaa462a890ccf8b90abb2d0a0aeac404f,"added incubation disclaimer

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372548 13f79535-47bb-0310-9956-ffa450edef68",0,13
3d18a3dc7bccafa249117a9671297303af09bad0,"made the adapter class configurable on the <journaledJDBC adapterClass=""....""/>

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372799 13f79535-47bb-0310-9956-ffa450edef68",0,17
8fbbd2412271debabff676d038cb22703828c7b2,"fixed typeo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372800 13f79535-47bb-0310-9956-ffa450edef68",2,1
2f944a19e3afad95c5d5bd7764981c5d0575a4ca,"added fix for issue reported on forum: http://forums.activemq.org/posts/list/0/60.page

where on startup we get the following exception when using mysql

java.io.IOException: Can't call commit when autocommit=true 
at org.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:44) 
at org.activemq.store.jdbc.TransactionContext.close(TransactionContext.java:113) 
at org.activemq.store.jdbc.JDBCPersistenceAdapter.getAdapter(JDBCPersistenceAdapter.java:253) 
at org.activemq.store.jdbc.JDBCPersistenceAdapter.start(JDBCPersistenceAdapter.java:140) 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372805 13f79535-47bb-0310-9956-ffa450edef68",0,5
6a70920b20190424907b00f17d3ee80128423f2e,"notify listener after the enqueue

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372844 13f79535-47bb-0310-9956-ffa450edef68",1,1
4e5012ca5d1adddce299023493f67d9bb231548d,"New amq js component to support listen style interaction

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372855 13f79535-47bb-0310-9956-ffa450edef68",107,831
233b604642f068f11040cce71962568ecf683851,"check if a broker held by the TransportConnector is stopped before asigning it for re-use (i.e. VMTransportServer)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372910 13f79535-47bb-0310-9956-ffa450edef68",3,53
9c0d3ce072142fa0f0a5c032e706178464acbec8,"added better debug tracing so that destinations are explicit in whether they are a queue or topic

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@372952 13f79535-47bb-0310-9956-ffa450edef68",1,33
c9205315d2b100ad1f9fd986f5970e0ff593d14d,"Applied patch by WayneSIrwin

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373478 13f79535-47bb-0310-9956-ffa450edef68",2,5
d193ad048a2135207ebd9d8e9b428fa5e28179ae,"change ""jms"" to ""amq"" in urls

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373487 13f79535-47bb-0310-9956-ffa450edef68",4,4
92b9d864e5fb97e2168e47154d310b0bb37e89d6,"Removed dependency on rico and program directly to the prototype.js API.
simplified the amq.js API.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373509 13f79535-47bb-0310-9956-ffa450edef68",3524,1244
e6747ead9528e1302daa93706cdb547c3b8209c1,"patch and test case for AMQ-514 to make BrokerInfo and the broker name visible to an ActiveMQConnection

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373548 13f79535-47bb-0310-9956-ffa450edef68",0,29
36a5795fe4c376e4f4d5cddcfa1715bfc6cf23a6,"Prevent start task from reading the ""start"" token as a task parameter

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373665 13f79535-47bb-0310-9956-ffa450edef68",1,1
e6a1962cfef455f3048358e7ef9f17b4aace20bc,"rollback change to message receiver parameters

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373672 13f79535-47bb-0310-9956-ffa450edef68",1,1
1c5b05ae56ddff67027418f79f773d8cf1487a2a,"set webapp src dir so web files will be included in generated war file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373674 13f79535-47bb-0310-9956-ffa450edef68",0,1
ad83b4da4f6cce660a9fbe2313a1acf614c34cbd,"working for IE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373771 13f79535-47bb-0310-9956-ffa450edef68",48,57
c6f73c56d14591fe87c5e1aadfec273cf2ea6d3c,"Updates to AJAX exampes to make them work on IE 6

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373776 13f79535-47bb-0310-9956-ffa450edef68",75,91
2ae71698560f5e493cd1a7e68bc1dda6e8ef9da8,"removed possible NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373809 13f79535-47bb-0310-9956-ffa450edef68",1,3
815b6c5d87a63e197af4fad7698bb01d65d1018c,"Changed api to setBrokerName() on DemandForwardBridge instead of setClientId

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373858 13f79535-47bb-0310-9956-ffa450edef68",4,16
3e7ebc2368d378176ac257977e3b4dfc3a890241,"Add a check to the iterate() so that on failover - it's not possible
to iterate for ever if the transport has actually been stopped

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373862 13f79535-47bb-0310-9956-ffa450edef68",15,14
5a429d90bbfeb27d012127cc5d03f67b0ef7ed98,"Fixes for networks and the invalid Brokers caper

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@373863 13f79535-47bb-0310-9956-ffa450edef68",386,422
e439b35bf2de139e7034b8af9d66b82bd7b9b2f1,"allow poll to be disabled

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374056 13f79535-47bb-0310-9956-ffa450edef68",8,8
e62711760b23dcaab41954b9911b63d11af80370,"corrected javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374064 13f79535-47bb-0310-9956-ffa450edef68",1,2
a4b970bebc84f0a5f294798706b33bdc760741ce,"Thanks to the suggestion from Lars Eirik Sivesind of this article describing how to convert Java concurrency programming constructs to .Net http://www.ondotnet.com/pub/a/dotnet/2001/08/06/csharp.html?page=3
 I've ported the FutureResponse class to use the proper .Net mechanism, Monitor



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374076 13f79535-47bb-0310-9956-ffa450edef68",10,15
7f634906d07d8f2889cb89f3590d16748df34c41,"log execption and fire to exception listener if exception thrown 
in run() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374101 13f79535-47bb-0310-9956-ffa450edef68",0,2
d8bdbe7a7c95eaeb1607976793d66d9407a39244,"Don't attempt to reconnect if serverSessionPool is closing

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374118 13f79535-47bb-0310-9956-ffa450edef68",18,31
d1b05c4f23d875e979dd4a6d1a00a69dd48d63d9,"Need to check if the server pool is closing before calling reconnect, as the method is synchronized and can cause deadlocks

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374119 13f79535-47bb-0310-9956-ffa450edef68",17,17
4d9ab0cffc7acfdcf0b5e0f256514d3bdf3ccd34,"Added setter for the MBeanServer

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374137 13f79535-47bb-0310-9956-ffa450edef68",0,8
9e4779964db6a5be9c77a063d591b25b9fb9f679,"excluded ProxyConnectorTest because it hangs.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374277 13f79535-47bb-0310-9956-ffa450edef68",1,4
fa74c3a85926558f148bc515aa11617323f6f171,"Current incubation status

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374287 13f79535-47bb-0310-9956-ffa450edef68",0,99
d517eebfbc124b156fdba4b0223dd68933ef2ccf,"put back default Constructor on NetworkConnector - for now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374288 13f79535-47bb-0310-9956-ffa450edef68",8,26
3a0358ee175245432b84062f0102d723b27e29c8,"Fix threading problems in the DemandForwardingBridge.java


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374292 13f79535-47bb-0310-9956-ffa450edef68",3,14
b3f6eb6a866e7f313704fe80fd1e5b3f0ce80902,"- test commit only

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374301 13f79535-47bb-0310-9956-ffa450edef68",1,1
a1c4eb6d489bb8b0b75c38c1ad2ae05235f84350,"return IntegerResponse from prepareTransaction()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374309 13f79535-47bb-0310-9956-ffa450edef68",2,4
62e7718a57efa2f29608bcdb1b2e17cb6d6b27be,"test commit only

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374326 13f79535-47bb-0310-9956-ffa450edef68",1,1
fb7ba93b646ea2a4ba7394f948d8dc3c8f089da4,"Added goals for generating build failure reports. 
The plugin needn't be installed for normal/default builds.
By Patrick Villacorta

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374589 13f79535-47bb-0310-9956-ffa450edef68",1,46
82d60e12918befd2afd92ad8b1bc02d6fc73ff44,"make Serializable to prevent NotSerializableException in weblogic (AMQ-501) - Patrick Villacorta

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374605 13f79535-47bb-0310-9956-ffa450edef68",3,5
25f59e76c93c2999a440ed2259892279c01dab25,"Added additional test case for multicasted broker.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374637 13f79535-47bb-0310-9956-ffa450edef68",0,368
c146def4642d595cc89bd2ea4d79bdf28af97a23,"Disabled failing test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374639 13f79535-47bb-0310-9956-ffa450edef68",0,2
e1bc55dafed0f58b47abde3d25f3f09adcc56834,"separate JndiTemplate into local and outbound

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374729 13f79535-47bb-0310-9956-ffa450edef68",13,35
641140ebab39286be4f36da08092969b216035ee,"Forced to copy message before leaving the consumer - as the destination could change if
the message is forwarded on.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374795 13f79535-47bb-0310-9956-ffa450edef68",1,2
948801cbd51ff48da27025db5ee37c13bf9fac57,"removed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374835 13f79535-47bb-0310-9956-ffa450edef68",18,0
667e7a39c5317b421c6d52ebcbd7df1a304009d1,"moved setting ""maven.test.failure.ignore"" to test:test preGoal

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@374988 13f79535-47bb-0310-9956-ffa450edef68",5,3
bf8f99b51da15b16b840435e488c5294eb7cc6a0,"remove System.err println

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375087 13f79535-47bb-0310-9956-ffa450edef68",1,0
6ea186cf65238777e3618e347373fef7f6c58835,"seperate inbound and outbound message convertors

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375088 13f79535-47bb-0310-9956-ffa450edef68",22,37
f6735ea870c4ce6d79dc7f4cfaea483c8d96ee13,"Fix typo in method name.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375179 13f79535-47bb-0310-9956-ffa450edef68",1,1
7fa8660c7e41db0212e35f4aa1a1c3842ab353f5,"- Move AMQ command console to separate module (activemq-console)
- Move Main.java to console module
- Move maven goal ""run:broker"" from core to console.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375519 13f79535-47bb-0310-9956-ffa450edef68",117,611
db747b49d94aa1dea9a04e2bf7417d9b4dc6de38,"fix for usecase: ThreeBrokerQueueNetworkUsingTcpTest.java

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375598 13f79535-47bb-0310-9956-ffa450edef68",4,6
e6f5d3026e9db5bfd3ac9766fce335d2c72d470e,"- Implemented http://jira.activemq.org/jira/browse/AMQ-511
  - Queues can now be browsed, messages deleted, or queue can be purged.
- Added initial hooks to expose subscriptions for JMX managment.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375654 13f79535-47bb-0310-9956-ffa450edef68",41,625
dbf3e5682b517e5336b1d385b55752c35a281deb,"added sleep to let subscriptions get propagated

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375720 13f79535-47bb-0310-9956-ffa450edef68",1,1
36a2bdc519ea449813995e2404fd5187f7c1ffea,"receive() returns null on connection transport failure

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375721 13f79535-47bb-0310-9956-ffa450edef68",17,47
f367df5b2811e5c9db5a64389227331c4f5d347c,"disabled tests that are failing for me.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375753 13f79535-47bb-0310-9956-ffa450edef68",0,13
c195dd30522b3c2a632a1ee5838be588ebec436e,"support defining local address and port for a socket - e.g:
ssl://localhost:5666/localhost:60606
where the path (localhost:60606) - defines the local address and local port

For jira issue: AMQ-529

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375922 13f79535-47bb-0310-9956-ffa450edef68",1,20
d52e6ac042850a6a4353972f433676bd384c9189,"support defining local address and port for a socket - e.g:
ssl://localhost:5666/localhost:60606
where the path (localhost:60606) - defines the local address and local port

For jira issue: AMQ-529

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@375923 13f79535-47bb-0310-9956-ffa450edef68",13,29
49e8a803aae078a8071b35b4c3ba2d7f4a164221,"rationalize the QueueBridge/TopicBridge

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376019 13f79535-47bb-0310-9956-ffa450edef68",183,105
1b9c601975897260b488c4ae063018a4a8ffc9b5,"use service stopper to simplify stop() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376040 13f79535-47bb-0310-9956-ffa450edef68",15,5
ef0127d81c091933bd8aa94fe3163a871b374f02,"updated for compilation errors for some java platforms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376041 13f79535-47bb-0310-9956-ffa450edef68",3,21
43d4e983dc3984b09655b36750f645e680c6c84d,"A little better logging to see when brokers are started and stopped.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376042 13f79535-47bb-0310-9956-ffa450edef68",4,4
7e672d4150c8754aca0fea5bb623b247edba655b,"Close the transport if for some reason the connection cannot be accepted.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376044 13f79535-47bb-0310-9956-ffa450edef68",0,2
a7ac415557938069b8de56a70f276041596c26d6,"Added better proxy connector cleanup code.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376047 13f79535-47bb-0310-9956-ffa450edef68",2,25
ef61027ad7eb8a9d01eb0dd4620d6992a7340f9b,"Added some better logging.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376048 13f79535-47bb-0310-9956-ffa450edef68",3,11
1a3021beac346600cee0c4766b9b7779f5312ff3,"rollback this change since it breaks stuff.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376065 13f79535-47bb-0310-9956-ffa450edef68",2,2
e99fc62e4a8fdb87b5e5446eef1d2abab24be4ea,"- Added a message to the request map in failover before sending it to prevent race condition where the response tries (and fails) to remove the message before it is even added. This is to prevent double sending a message because it is still in the requestMap. (This is for the master-slave test cases)
- Enabled a QueueBridgeTest, this test seems to pass already.
- Some minor typo correction.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376206 13f79535-47bb-0310-9956-ffa450edef68",7,17
b59d0b5938492852661ced5d40f3723488e01615,"Set timestamp on the broker

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376260 13f79535-47bb-0310-9956-ffa450edef68",0,4
6985a09ee64a83b0a36d51c6f5d55f7049970ec0,"allow executeBatch() in close - if not in a transaction - to release locks

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376298 13f79535-47bb-0310-9956-ffa450edef68",2,6
28ca7515c9314727b7c1dc5700baaba16c1231f9,"removed the debug printlns

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376330 13f79535-47bb-0310-9956-ffa450edef68",2,0
4f6e90108f3912bc206ef7c9b69e104ed4d29bea,"The QueueMasterSlaveTest and TopicMasterSlaveTest were hanging on on teardown of the test case due us issuing a transport request() that never returned.  Converterted to just issuing a oneway and it seems to have fixed the issue.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376332 13f79535-47bb-0310-9956-ffa450edef68",12,25
40926586aa8a478315583809beccda7e421c0477,"Call transportFailed() only for IOException caused by the transport.  Async exceptions from the broker could just mean that an async operation failed (like an async send).

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376339 13f79535-47bb-0310-9956-ffa450edef68",1,1
68d245f4bf31495554ac6f5c9bc6df450fff43fd,"Migrated to using xbean 2.2-SNAPSHOT



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376445 13f79535-47bb-0310-9956-ffa450edef68",62,64
b33d3fcc2364fc9924907fafaea02f687e69d22a,"misc cleanup of scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376760 13f79535-47bb-0310-9956-ffa450edef68",14,15
ffd47567408678f537eacbbb291c0cf0f3bf4029,"cleaned up the test a little.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376765 13f79535-47bb-0310-9956-ffa450edef68",7,3
d86f77f462111a74673cc67e1a2bb799d0bcfd67,"Fixed failing ChangeSessionDeliveryModeTest test in the assembly module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376766 13f79535-47bb-0310-9956-ffa450edef68",6,24
404c73bcc510cdf0028e72b0516aca569344c9ea,"Added toString so that object is esier to view under a debugger.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376855 13f79535-47bb-0310-9956-ffa450edef68",0,4
96adbc3fbb3ef361f67d4a42467c6f2c629503c2,"Fixing broker DurableConsumerCloseAndReconnectTest, subscriptions were not being added to the result array.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376856 13f79535-47bb-0310-9956-ffa450edef68",0,6
618d1d5a8898a13d1c7404d48452ffa94487b3ac,"Fixing DurableConsumerCloseAndReconnectTest:
  Added a getter to see if the destination is a pattern 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376858 13f79535-47bb-0310-9956-ffa450edef68",0,4
30b2e67b91f36f544ffb3f806acfee00d47e432b,"Fixing DurableConsumerCloseAndReconnectTest, make sure a persistent broker is used.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376860 13f79535-47bb-0310-9956-ffa450edef68",0,5
a71a2a5dc0ed72ec3930a809cf7db49a22a77e43,"Fix for DurableConsumerCloseAndReconnectTest,
 - The eager loading of durable subs had broken the test a little..  fixed it up now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@376861 13f79535-47bb-0310-9956-ffa450edef68",7,18
f921ef7f612a94c7724576f62ca7cb14bce3bfed,"reset figures in right order to make counting more likely to be accurate by a little bit :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377387 13f79535-47bb-0310-9956-ffa450edef68",1,1
f787e20139a0786196d6514dfc465b25bc0358e3,"Expose getDestinations() from the persistenceAdapator

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377397 13f79535-47bb-0310-9956-ffa450edef68",1,9
debd0cc241d5af9613d3b032793410017411b6fb,"Added getDurableDestinations() to Broker - to make accessable for NetworkConnectors

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377412 13f79535-47bb-0310-9956-ffa450edef68",1,33
e7106d31b121d0e73e9032ce3dd108528d3f0cee,"Set existing durable destinations on a network connector

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377421 13f79535-47bb-0310-9956-ffa450edef68",0,19
3db3863583f366b980fafca7969be4cdff5455e1,"Applied patch from http://issues.apache.org/jira/browse/GERONIMO-1623, Thanks Mats./activemq   Still need to setup a build system for this and have it dynamically download the smart pointer implemenation dependency (BSD lic.)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377433 13f79535-47bb-0310-9956-ffa450edef68",0,7215
b7aeb5a79c5d628c37a8b8a3c351a4aa655356dd,"Added incubation disclaimer.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377650 13f79535-47bb-0310-9956-ffa450edef68",0,0
84942ae5b02bb7da48e0d23ea13da6a6aececb18,"Added incubation disclaimer.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377651 13f79535-47bb-0310-9956-ffa450edef68",0,84
f7ed407271030caf70dc7fd936b4060ebd75f92d,"getDurableDestinations() now returns empty set if the persistence adaptor is null -
instead of throwing npe

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377701 13f79535-47bb-0310-9956-ffa450edef68",1,2
c4c5895d33e7176ece0c5ecb6d131c6c1ca99f86,"added test case and fix for the sending of Stomp messages with headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377712 13f79535-47bb-0310-9956-ffa450edef68",30,61
a603c40b6427407a99b9ec190ed5c6b8afb932a9,"added test case and support for selectors on Stomp subscriptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377713 13f79535-47bb-0310-9956-ffa450edef68",9,51
06f44c7245750bd9d099dba798ceafc10df6b6b4,"avoid unnecessary comparisons

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377724 13f79535-47bb-0310-9956-ffa450edef68",8,8
1b3a5939a8ad49bd261a304a6195e9021acca843,"fixed unsubscribe test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377725 13f79535-47bb-0310-9956-ffa450edef68",2,5
329e2f3b997fc6cf1bb4188c3c6215649c1ccc78,"enabled logging by default of all service exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377765 13f79535-47bb-0310-9956-ffa450edef68",9,6
c341dc71a0129a6d9d0498290ce8879ddd9ce710,"fixed up the Stomp test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377766 13f79535-47bb-0310-9956-ffa450edef68",21,33
6d3621e7afeced89db51adb94abe5156bb569a07,"fix for AMQ-502

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377768 13f79535-47bb-0310-9956-ffa450edef68",3,0
74588d1b30a5a10afa8c2fc26816e24897317059,"added ignores


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377925 13f79535-47bb-0310-9956-ffa450edef68",0,0
0f502fae3d40a2b7d928c950e77c183405c90f03,"Fixed a few of the broken durable subscription tests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377936 13f79535-47bb-0310-9956-ffa450edef68",228,239
7b945f9d92d07b2226635616ec234c2d64481ae7,"Fixed a few of the broken durable subscription tests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377937 13f79535-47bb-0310-9956-ffa450edef68",9,9
4686ec5f0bb7ee618f20b93f8a0aa04099f44003,"added a BrokerPlugin mechanism to allow users to customize the Broker interceptor stack

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377991 13f79535-47bb-0310-9956-ffa450edef68",180,484
9f59397aa33565d5a7fa7eaab8d3ed7bde7f17e4,"refactor of the authorization plugin to make it easier to create alternative data structures for capturing the different ACLs; such as a single tree based authorization map

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@377995 13f79535-47bb-0310-9956-ffa450edef68",139,444
f4fc3e9a6daf9791fb284128acbcbd24c1b5eac5,"Support for jdbc driver mysql-connector-java. However, this uses the DefaultJDBCAdapter.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378000 13f79535-47bb-0310-9956-ffa450edef68",0,1
affd1345924a277febe27efd6c4fc6a7aa516bf2,"added a pure XBean based authorization and authentication mechanism

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378006 13f79535-47bb-0310-9956-ffa450edef68",117,323
a8dfa1f41bf237a7904560c0d94a03d48df6a3ad,"renamed to proper JAAS name rather than JASS typo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378008 13f79535-47bb-0310-9956-ffa450edef68",3,3
6f99fe82713f026ff94f13bf999db9c59b89a14b,"Nullpointer exception could occur is the session is being closed at the same time that an async exception is received since it would also close the session out at the same time.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378014 13f79535-47bb-0310-9956-ffa450edef68",2,1
298ea8170264f0edd47f0715161dc7d50e19603b,"Enabling fixed tests.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378015 13f79535-47bb-0310-9956-ffa450edef68",6,1
98fc69f7454d10414945f0355a6f098d42c10e6f,"AMQ-228 is not a test case failure.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378016 13f79535-47bb-0310-9956-ffa450edef68",6,0
1667ce651bf74b692bc10dadcb556a4693997376,"Enabled some more tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378021 13f79535-47bb-0310-9956-ffa450edef68",22,21
911177eb6c81ce6b4fe7670582d401b2375d42c8,"http://jira.activemq.org/jira/browse/AMQ-564

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378023 13f79535-47bb-0310-9956-ffa450edef68",12,42
11d0df6657089bd2973f7441d90592b4c519772d,"http://jira.activemq.org/jira/browse/AMQ-565

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378025 13f79535-47bb-0310-9956-ffa450edef68",1,3
f8c268df6f68e3180b2ce6db27d016726ede89e4,"Fix for http://jira.activemq.org/jira/browse/AMQ-568

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378037 13f79535-47bb-0310-9956-ffa450edef68",2,2
57eb1534d8d58d480d356ae9ddc05783b46fe7a0,"Put a dep on activemq-core so it would compile in continuum.  feel free to rollback if that's not right.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378086 13f79535-47bb-0310-9956-ffa450edef68",0,6
a33f399004de7a69441a569db43369ebd134a8f0,"Added a testcase that shows to do more detailed configuration of the JMX mangement context.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378100 13f79535-47bb-0310-9956-ffa450edef68",1,103
4843dd459ce561e5e365c5505a4fac10f60dc6b5,"- Refactored the StementProvider and related classes to a simpler Statements class that's easier to configure though the xbean configuration system.
- Added test cases that show this in use.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378119 13f79535-47bb-0310-9956-ffa450edef68",826,724
4262889d51c4e55992199572c57bbda10228cd31,"minior cleanups.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378132 13f79535-47bb-0310-9956-ffa450edef68",1,0
67019975228d04754f599dc773be54d2c97efdc8,"Fixed test cases that I broke with my previous commit to this file.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378137 13f79535-47bb-0310-9956-ffa450edef68",6,3
6d333ffb4ad85433bd2a54b70452dfdc03545b3a,"Just to be safe, lets also include the LICENSE.txt in the jar files.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378138 13f79535-47bb-0310-9956-ffa450edef68",2,2436
57406ceb786afc3408d89b93a3c5cfd0e7363cdc,"Lets include these files in the rars too.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378139 13f79535-47bb-0310-9956-ffa450edef68",0,210
896324436aafd7092678495495c7692afb949302,"http://jira.activemq.org/jira/browse/AMQ-505



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378145 13f79535-47bb-0310-9956-ffa450edef68",8,33
a6f34a95e642ba05abaaf1f3ba7f8e42c3d8def3,"these samples were invalid since they were old style.  Remove them for now until we can put together some better examples.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378148 13f79535-47bb-0310-9956-ffa450edef68",324,0
f58a497c16bc4b755f6deab60539752a0a132628,"reverting previous commit


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378151 13f79535-47bb-0310-9956-ffa450edef68",0,324
af44528f9f2f5af68f08cb87466c1db3e48bc240,"Previous commit ad deleted too many files.  I think I got it right now.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378152 13f79535-47bb-0310-9956-ffa450edef68",209,0
aa4c7650659dbe312473ae8e03b3be32d173c6c9,"Added my gpg public key to the key file.  If you are going to be doing releases, you should do the same.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378157 13f79535-47bb-0310-9956-ffa450edef68",0,30
66d033fc119c84d37d3ca1dc7d6feab1669ad773,"exclude some db data from the source archives.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378163 13f79535-47bb-0310-9956-ffa450edef68",1,2
6da50d0c45b6a3f68b7aa974324198fd8f8f9e0d,"rev up to the last released version of xbean


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378164 13f79535-47bb-0310-9956-ffa450edef68",1,1
74532f34ac77791766aa07ef937fd4ad1a8688e0,"cleaned up the pom since it inherits from a parent pom.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378190 13f79535-47bb-0310-9956-ffa450edef68",104,11
83825de78e2624b7be4b90b5de12c690cee27150,"distribute activecluster with the distro


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378191 13f79535-47bb-0310-9956-ffa450edef68",8,2
6cf9741a08bf7c17754f729b7815808fcfc906a6,"Output was a little too verbose.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378192 13f79535-47bb-0310-9956-ffa450edef68",1,1
a234a6d495d595feacddc39bf8643971904d9257,"reducing verbosity

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378194 13f79535-47bb-0310-9956-ffa450edef68",1,1
862c1f2138c9da102ef0df136e4612f45a46d37d,"Applied patch from haliq for AMQ-574

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378218 13f79535-47bb-0310-9956-ffa450edef68",3,5
e82d0fb47067a34aec9d0ddb5fe6513fdf1ee76b,"avoid throwing exceptions to clients if a consumer has already been closed (maybe asynchronously)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378226 13f79535-47bb-0310-9956-ffa450edef68",3,15
dba97b77c5280355f1e7b6c2308b42a852ac19a3,"fix for AMQ-575 to avoid the deadlock when removing consumers, which can sometimes cause messages to be redispatched when another consumer is ack-ing a message. a good lesson this one - keep locks for as short a time as possible

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378268 13f79535-47bb-0310-9956-ffa450edef68",14,21
ba0ada4db75c42fb04bb52306360000782f86448,"fixed a typeo when trying to apply the patch for AMQ-575

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378280 13f79535-47bb-0310-9956-ffa450edef68",1,1
974f4172bc96f8ade61efd24b7d2e38695e1b72d,"Bug: clean goal doesn't delete the amq's basedir generated target and xdocs directory.
Fix: Modified clean goal to delete these directories.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378412 13f79535-47bb-0310-9956-ffa450edef68",0,4
4dd80d3369316f5bfee6b92e2259464072b2262b,"Bug: error is throw with the sample config of MySQL.
Fix: set relaxAutoCommit to true on url under MySQL sample config.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378435 13f79535-47bb-0310-9956-ffa450edef68",1,1
e5959da6d79bfd2e923ff954d05d31574fb75b08,"added more metadata for openwire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378479 13f79535-47bb-0310-9956-ffa450edef68",1,1
83ec98be8a94e9593bc0db144269cb5ab1d0a160,"Refactor of OpenWire code generation together with move to apache package

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378480 13f79535-47bb-0310-9956-ffa450edef68",0,269
43112670daf6df9570c7cd2ff126badebe0d61f7,"added base class for auto-generated test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378481 13f79535-47bb-0310-9956-ffa450edef68",0,216
8b079142598a0eef98bb53a5aad03b41fa397840,"test case to check sending and receiving of messages inside a transaction (http://forums.activemq.org/posts/list/364.page)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378483 13f79535-47bb-0310-9956-ffa450edef68",0,180
c85bb24cb4c55cce5f8f6efb1b9c1537e60c294f,"removed old directory

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378492 13f79535-47bb-0310-9956-ffa450edef68",0,0
73603c3d711d33caec01edeca2b91c63a310ad3b,"patch the code generation to work with the latest JNDI changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378493 13f79535-47bb-0310-9956-ffa450edef68",3,3
c739dba503358afb5deefa477db1b32e06b98763,"Change email address

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378580 13f79535-47bb-0310-9956-ffa450edef68",191,191
f82bd11751f8c3c617dc666bd6e6a16399f50c3a,"allow a message to be marked as being persistent or not

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378590 13f79535-47bb-0310-9956-ffa450edef68",0,6
f680f3ab519fbb7ca53235a0bbb6620842f565bc,"fixed C marshalling generator and Java JUnit test case generator along with adding a first spike of auto-generated JUnit test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378618 13f79535-47bb-0310-9956-ffa450edef68",31,3044
236a1ac422ab55c9600a3a57890d43af57803d3d,"http://jira.activemq.org/jira//browse/AMQ-568

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378626 13f79535-47bb-0310-9956-ffa450edef68",28,21
523ea5f4e736b84d6376bf00f8e94a887a1e7732,"http://jira.activemq.org/jira//browse/AMQ-568

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378642 13f79535-47bb-0310-9956-ffa450edef68",6,102
3a273758fe6f5a273c721ed4507752be3528d690,"correction on siteDirectory.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378682 13f79535-47bb-0310-9956-ffa450edef68",2,2
bea3be6e01880317498dc60fd5c73570d7525f2b,"Applyed http://jira.activemq.org/jira/browse/AMQ-582
Thanks Carlos!  This should help our m2 build a ton.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378696 13f79535-47bb-0310-9956-ffa450edef68",775,247
58a50f2572f1bf8decaf5fbd385dead66fdc73de,"Missing <


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378697 13f79535-47bb-0310-9956-ffa450edef68",1,1
f915da57723b9ac0139a38ea9e365a3a1968538b,"Extended TransportListener to notify when transport is interrupted and resumed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378699 13f79535-47bb-0310-9956-ffa450edef68",33,127
068c64639f1122492c445ab00a8914cda27a4d71,"Add more options for networks:

included, excluded destinationm filters
durable destinations as well as dynamic
conduit subscriptions (multiple subs on smae matching destination are treated as one)
networkTTL = number of hops messages/subs can pass through - default = 1

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378700 13f79535-47bb-0310-9956-ffa450edef68",149,813
7f384b620e4d1e76d5ef61ba2da53443d78d07e3,"synchronized around memoryTable - prevent concurrent access whilst iterating
for recovery

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378727 13f79535-47bb-0310-9956-ffa450edef68",19,26
dfc025b6ce3ed71e494bb2a11c18c92be6680021,"added a sleep after consumers are added and before sending messages
to ensure subscriptions are propagated

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378730 13f79535-47bb-0310-9956-ffa450edef68",1,4
8610db3e14758db6f55a19ec0f4f25eeff10b6f7,"remove VMTransport connectors last in stop() - can prevent hanging tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378966 13f79535-47bb-0310-9956-ffa450edef68",9,12
97fff421f34d40788c56bbd845ae812896bd55ee,"remove await latch call if closing a loop back network connector - this
should 'fix' - hanging SpringTest.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378967 13f79535-47bb-0310-9956-ffa450edef68",15,71
b593aca5f811fcfe5d745f7f586104b3dda9f562,"fix some issues with assembly tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378968 13f79535-47bb-0310-9956-ffa450edef68",33,69
8b572cb6b8567cf6c4a6abbfe6b3ff2e5bfb04d6,"don't iterate forever in oneWay() if disposed (can cause some tests to hang in Connection close)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@378969 13f79535-47bb-0310-9956-ffa450edef68",1,1
e1bdb1d89be0754a27c8fd27707c075fdd2f7ccf,"temporarily disabled a test case (AMQ-583) until we can verify it works on all platforms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379074 13f79535-47bb-0310-9956-ffa450edef68",0,2
0e9ff43c74d38887dead68b046e7cf4fa6ff32e6,"Fix for AMQ-579, where other command parameters are not being parsed by bstat.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379092 13f79535-47bb-0310-9956-ffa450edef68",14,22
72a59c46e52433700243e0bb414ce537585a5f7b,"Making folder stucture match package.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379175 13f79535-47bb-0310-9956-ffa450edef68",0,140
77fba03c521f31e26a235c043cee4d8d091cf2c9,"Making folder stucture match package.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379177 13f79535-47bb-0310-9956-ffa450edef68",140,0
4c3f739198e237a3560ecc933d5ea6978461f472,"temporary disabled TwoBrokerTopicSendReceiveTest (AMQ-586).Passes all test grid except for the Windows Server 2003 platform (jafar)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379390 13f79535-47bb-0310-9956-ffa450edef68",1,2
2bc09bb764ea7f78e1d69e0a23013abc51e79bbc,"fixed exponentialBackoff

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379397 13f79535-47bb-0310-9956-ffa450edef68",6,18
35bfe5c1ae3434db4854eb0c2a30c95d86ff9f3a,"Added initial implementation for JMX queue browsing and purging. They're still unable to filter messages. I'm still not sure if we should use MessageSelector or filter them in the client. Currently, browsing still uses the old AMQ client implementation.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379400 13f79535-47bb-0310-9956-ffa450edef68",137,708
9ab62d35f4ccf39df8f45e8f15f47c0aead327f6,"removed cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379405 13f79535-47bb-0310-9956-ffa450edef68",0,0
628f9af1e141727e4751fdf6b24ae57e4f9b0f44,"patched code generation so that the unit tests work fine

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379406 13f79535-47bb-0310-9956-ffa450edef68",2,3
6ce83ac90975467e68213b6ee34b799ce4288817,"autogenerated unit test cases for OpenWire now working

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379409 13f79535-47bb-0310-9956-ffa450edef68",136,271
aa2188c1593d50b85e881b4bcf8e4ac6d68570b2,"Fix ClassCastException, add debug log statements and allow standalone xml to be used

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379429 13f79535-47bb-0310-9956-ffa450edef68",16,46
e733f71b483a3d1aec17517a69b93d44a72af1d6,"added a sleep before stop

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379452 13f79535-47bb-0310-9956-ffa450edef68",0,1
66dd4364eafec483183584bb50aaa38423350268,"refactored the C# code generation scripts to make them a little easier to work with 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379507 13f79535-47bb-0310-9956-ffa450edef68",48,166
e2b83bd1338ce68b567f234e47caa8bc0597f84f,"Allow configuration of the included and exluded destinations in the network connector.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379540 13f79535-47bb-0310-9956-ffa450edef68",30,78
3155d41711ac1b8fc068af1dacdbf08d066ded76,"don't throw an exception if the transport is disposed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379557 13f79535-47bb-0310-9956-ffa450edef68",5,7
1045fc0c7d2211b3ebdbcc7e28bc170b54d60474,"basic network tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379569 13f79535-47bb-0310-9956-ffa450edef68",0,205
9d8f82b3c9f34734f9598c3dfe3ac4a44a1dec1a,"organized imports

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379570 13f79535-47bb-0310-9956-ffa450edef68",16,7
c16538616ad73d735b8f7275377908d2bb505233,"make m2 poms work 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379578 13f79535-47bb-0310-9956-ffa450edef68",1,3
bef0867d6f0bf4c022a93637be8e69001d97b777,"Adding pom so sandbox stuff can also be resuivly built


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379615 13f79535-47bb-0310-9956-ffa450edef68",0,43
a107823dc38056dbdc5c23db2daebe211b0a5bc4,"Did a bunch of svn:eol-style property setting


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379619 13f79535-47bb-0310-9956-ffa450edef68",27606,27888
4d00a1a311a69458dc099bb074ffe42e250b3600,"did some more svn:eol-style property setting

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379623 13f79535-47bb-0310-9956-ffa450edef68",15216,15216
be2ae6669bcbf2a1438b589dd88f7a3a899249bb,"did some more svn:eol-style property setting

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379624 13f79535-47bb-0310-9956-ffa450edef68",1016,1016
97f35c40ec5fbd50be9ce393de8a1081fc781754,"enabled back DiscoveryTransportBrokerTest. Is currently working on all CI test grid


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379702 13f79535-47bb-0310-9956-ffa450edef68",2,0
83ab261e69aa4ff6fbf4bb6a05291d7d9d464eda,"Move the shutting down of the reconnectTask outside the reconnectMutex. The shutdown task may block indefinitely, while waiting for some other threads to finish iterating through the task. If the iterating thread needs to obtain the reconnectMutex (i.e. in doConnect), it won't be able to, since the shutdown task is still holding on to the lock causing a deadlock.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379717 13f79535-47bb-0310-9956-ffa450edef68",3,3
1d61be6ce2b9906a95e6742686ec8606387f182f,"Enabled fanout test.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379720 13f79535-47bb-0310-9956-ffa450edef68",2,0
277f3b3d5aef845b7f471661920d26231d6638c2,"added extra check for null pointer exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379725 13f79535-47bb-0310-9956-ffa450edef68",0,3
6f82a857c76cfa7a6f9398c5706d5a5de18c912d,"added the autogeneration of the C++ headers and cpp files and refactored the class generation scripts so that they are easier to work with

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379734 13f79535-47bb-0310-9956-ffa450edef68",25,369
9c4223615d795bfe9a7c03317db98fa7526e3b1b,"updated to test durable subscriptions get propagated

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379767 13f79535-47bb-0310-9956-ffa450edef68",95,116
54db62a39506c2016329ed0ffd1034ceb89a06e7,"Latest spike of the refactor of the code generation; almost done refactoing it so I can look at the C++ code shortly...

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379824 13f79535-47bb-0310-9956-ffa450edef68",618,836
7e464aff59969433f5c5b7f8d8feb946609015ff,"Latest spike of the refactor of the code generation; almost done refactoing it so I can look at the C++ code shortly...

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379825 13f79535-47bb-0310-9956-ffa450edef68",1,1
3d3c4679fdc43b31da1f72b4d2fb12262d867530,"latest code generated code for C# which just about compiles now

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@379827 13f79535-47bb-0310-9956-ffa450edef68",2600,5360
7dca720f93dff4b6db578259c310358f6f9067e6,"added better debug logging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380104 13f79535-47bb-0310-9956-ffa450edef68",0,8
e430412f13c5e1d3c2ace13796db2f893dde941f,"added a simple main() that can be run from your IDE easily to run a broker without doing a full multi-project maven build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380105 13f79535-47bb-0310-9956-ffa450edef68",0,49
44613adf755058e4a838c80f9b9e5ce8a26adf4f,"minor refactor for easier debugging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380179 13f79535-47bb-0310-9956-ffa450edef68",1,3
c7fc04d0266b95c99da79dd2359ce08d4aee701e,"minor refactor for easier debugging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380180 13f79535-47bb-0310-9956-ffa450edef68",1,4
eaafdbd69a79cb16d33c7dd91016856e61eef886,"migrated the code generator to the latest .Net code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380181 13f79535-47bb-0310-9956-ffa450edef68",10,10
8ba8da23883d57d93df61d9731a445f90d53b4a0,"updated working .Net code which is capable of creating connections, sessions, producers and consumers - not quite completed the consumer side yet but we can send messages now! :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380183 13f79535-47bb-0310-9956-ffa450edef68",1443,2159
2ce853a42d8edfb1b27b5a89b629fdbd3a96313d,"added the auto-generation of hashcode, equals and toString methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380217 13f79535-47bb-0310-9956-ffa450edef68",6,83
33094e694af7ff89bf10dbc96af03af5cdb310b3,"working OpenWire.Net client! While not all of JMS is supported just yet, the test program shows the creation of a Connection, Session, Consumer, Producer and sending and receiving a message (using the synchronous dispatch)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380220 13f79535-47bb-0310-9956-ffa450edef68",293,881
6c1d45e1fc8578cc407ca515abcd0516a3f3a8b6,"Add a name to a bridge - so multiple bridges between the same two brokers can be used

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380616 13f79535-47bb-0310-9956-ffa450edef68",9,28
69889d82bbd638cee64590139b4080ecc1e10e73,"Added visual studio project files and started porting over test cases from the java side, flesh out the durable sub stuff a little more

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380620 13f79535-47bb-0310-9956-ffa450edef68",101,1266
172b2d11fa504e36fd298c1fda69750f45f2dcef,"Added missing copyright headers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380622 13f79535-47bb-0310-9956-ffa450edef68",0,848
f0300f1251d14231b88bf3e99fce3b6c09d3e9a2,"added the standard JMS headers to IMessage together with support for custom message headers and support for temporary destinations, IMapMessage and IBytesMessage

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380652 13f79535-47bb-0310-9956-ffa450edef68",745,2425
15dc02a88db974005ab48d282101a38899496a6a,"added support for explicit client acknowledgement of messages or for auto-acknowledge

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380656 13f79535-47bb-0310-9956-ffa450edef68",72,135
76494afa3fbc3f6ea5d84dbeb3ce59cb5cbaf2c4,"remove the old versions of the C# code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380657 13f79535-47bb-0310-9956-ffa450edef68",4981,0
7130f43c8f6b874b3e9b86cd27d179991476483d,"added full test for MapMessage together with fixing a bug with long marshalling types and headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380666 13f79535-47bb-0310-9956-ffa450edef68",27,62
00d07b7783e6d7c1743ab4389f2135cd8511feef,"made the join ability of the transport configurable so that we don't have to wait for each transport to complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380683 13f79535-47bb-0310-9956-ffa450edef68",1,17
a640ff58433a435c811f4c33d1cd998a031cc784,"fix for AMQ-591 so that we can add a per message level authorization policy to allow content based authorization on a per message basis

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380684 13f79535-47bb-0310-9956-ffa450edef68",6,120
fbb26ba7d700bd3d04ef2277743418a06f464fb0,"refactor of the message-level security implementation so that it works with any QoS, not just queues. Also fixed bug in Message Groups where not setting the sequence ID broke the message groups

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380688 13f79535-47bb-0310-9956-ffa450edef68",10,10
baabdde9f2e226a041a1823f9838d312758c7716,"added support for the latest wireformat and clean stack trace support

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380771 13f79535-47bb-0310-9956-ffa450edef68",153,341
eb5263599424c04df834147c94cfd67fc9da8c0f,"Latest generated openwire code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380775 13f79535-47bb-0310-9956-ffa450edef68",1413,1502
046146636777d927116db6344296a1fd773ea2ed,"Added little snippet to example for wiki

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380777 13f79535-47bb-0310-9956-ffa450edef68",11,5
79d28688df7f7973f608f23f6bf49ce37587ee7e,"latest generated OpenWire commands and marshallers - updated WireFormatInfo so that it has boolean flags for the various options like stack trace and the like (we should avoid int based bitflags going forwards now as they are harder to support in other languages and are more brittle)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380778 13f79535-47bb-0310-9956-ffa450edef68",391,354
5ece545b7995a10095dda70fb8ed125f8462b19a,"Updated test cases for openwire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380782 13f79535-47bb-0310-9956-ffa450edef68",51,51
3582300af6497a182dc1b48cbb8186964e1771fb,"Added ProducerEvent advisory support

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@380795 13f79535-47bb-0310-9956-ffa450edef68",2,452
4bf76c23ca0d96fcb5dd94d1356b1955b0ffce03,"Updated the example program

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381308 13f79535-47bb-0310-9956-ffa450edef68",4,10
72fb0039752214d1edd19a082d47b900aa4acdef,"Updated snippet comment

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381309 13f79535-47bb-0310-9956-ffa450edef68",2,2
81cc428b767fe9809b351aceac639c8e073bba5f,"added support for asynchronous consumption to .Net using a MessageListener along with fixing up some nant build errors

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381319 13f79535-47bb-0310-9956-ffa450edef68",24,152
39b329fc7d06c2cee6da6492ac6358da17d1296e,"removed old directories

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381321 13f79535-47bb-0310-9956-ffa450edef68",0,0
c628313c628376be5368e2be297097f5f0e73902,"Ensure only one thread dispatches to a session at once

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381322 13f79535-47bb-0310-9956-ffa450edef68",5,13
75af5faa5ae5c715483b86e0e899bffd9e533c45,"Enure reference count for MessageReference is always updated - if dispatched sync or async

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381328 13f79535-47bb-0310-9956-ffa450edef68",35,28
2a088309a623556940ca3eb3b79f5bc282441ee7,"applied patch from Matz of AMQ-592 for improvements to the C++ client

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381363 13f79535-47bb-0310-9956-ffa450edef68",0,1937
b7d5fa07d1cc66a2f1495ebc191bb689d7db0b77,"initial spike of the code generation of the OpenWire marshalling code for C++

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381410 13f79535-47bb-0310-9956-ffa450edef68",1,655
895a15761fb37f540783ba86918de0a43a38ec98,"minor refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381584 13f79535-47bb-0310-9956-ffa450edef68",5,6
35e088856d752debe99701e48654c24c6ac97422,"added comment - I'd have thought a Map was better?

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381612 13f79535-47bb-0310-9956-ffa450edef68",0,3
695a766b5c7efcc755daf0715d05b595584d8ee2,"fix for matchesForwarding Filter (spotted by John Heitmann)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381627 13f79535-47bb-0310-9956-ffa450edef68",0,1
8ee9b4548437b10a930587f3dbd8f95b3af09d10,"added support for transactions together with support for consumer.Receive(timeout)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381643 13f79535-47bb-0310-9956-ffa450edef68",442,1119
2748ae1612190838a74e653e2ecbf75e5e506446,"Added support for browsing Topics

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381644 13f79535-47bb-0310-9956-ffa450edef68",207,290
3f2c18dbfec26ec361b4ccfd6426d5de6ac901a6,"Added support for browsing Topics

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381645 13f79535-47bb-0310-9956-ffa450edef68",0,87
e434c1306c86507184de4b764fb684eef749ef7f,"disable failing tests on some platforms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381690 13f79535-47bb-0310-9956-ffa450edef68",0,5
5f5ccc052758d4dc78e885b74ed9d742f4b61c25,"made it easier to copy connection factory objects

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381761 13f79535-47bb-0310-9956-ffa450edef68",1,13
c91724c35a68aaa6fc6a1f4e4908cbfe5601dc67,"change so that the connectionFactory property is always used if it is customized; if necessary, creating a copy and configuring it if the ConnectionRequestInfo has some configuration inside it

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381762 13f79535-47bb-0310-9956-ffa450edef68",25,64
eba9e88af8a40c34e9925ea54292b3ba88a8b685,"Excludes the SimpleNetworkTest in project.xml, as it caused the build process to hang in Linux platform

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381868 13f79535-47bb-0310-9956-ffa450edef68",0,3
33b73ac71d7d2c473d7f1943dde7e9992ec40bd1,"A few openwire refactors/enhancments
 - The old/default marshaling style is now refered to tight encoding 
 - We now support a loose encoding style which should be less CPU intensive (it's only a 1 pass algorithim)
 - prefixing the packet size is now optional (needs more testing)
 - Updated the c client so that it works once again.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381926 13f79535-47bb-0310-9956-ffa450edef68",2830,6328
3601e813f352b85983c607cd4944f8159175a3dc,"Added mbeans for Subscribers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381927 13f79535-47bb-0310-9956-ffa450edef68",74,630
d7e80d53065938d0bf44305903e19227fbd0ebb5,"Forgot to add this one.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381928 13f79535-47bb-0310-9956-ffa450edef68",0,37
c794f240b575f035ceae69611035dddd700f532a,"fixed broken script after hiram's method rename

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381943 13f79535-47bb-0310-9956-ffa450edef68",2,2
defd3eeee0f564bfb79c6f6449695ef1a450bac1,"made it easy to build the DLLs without running the tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381967 13f79535-47bb-0310-9956-ffa450edef68",4,3
32c7aeaf0e9aa1f45a904927605291ae5b7fe632,"added comment to help diagnose deployment errors in JCA containers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381971 13f79535-47bb-0310-9956-ffa450edef68",8,4
4630b661be233f87ddb1dcd2ef8517d677cd7f7a,"fixed compile error on .Net 1.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381979 13f79535-47bb-0310-9956-ffa450edef68",1,1
2c440b40a462520d9b2c92df70049ce81c87ce61,"fixed project files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@381983 13f79535-47bb-0310-9956-ffa450edef68",1,1
01b50e941ba89816275dd30591ef99fd50be1566,"added test to  verify that  messages sent are received in order.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382007 13f79535-47bb-0310-9956-ffa450edef68",2,55
fcfb57e3978d7252adee94ed48da424bc4d02522,"Applied Nathan's C++ API for ActiveMQ

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382028 13f79535-47bb-0310-9956-ffa450edef68",0,8402
6d817a2fb78921d0fce5cd3eae3bba89f6debf2a,"added snippet example and Apache header

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382041 13f79535-47bb-0310-9956-ffa450edef68",6,27
44acc715697bb44ec27b38b7986ee2532de4b2db,"removed old directories

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382080 13f79535-47bb-0310-9956-ffa450edef68",0,0
3bf29aa0625e013a1853a7adab5ac1270cf84cb5,"enabled the marshalling of C++ code by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382081 13f79535-47bb-0310-9956-ffa450edef68",0,2
7f1b4644af2b8a6255b7a98ad1803ca71dd284e0,"minor refactor to avoid strange eclipse compile error message

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382082 13f79535-47bb-0310-9956-ffa450edef68",4,11
b5bba0920785d56de9707021767bf42b517805fe,"test case and patch to ensure that the JMSXGroupID can be specified in Stomp together with testing for the use of correlation-id

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382083 13f79535-47bb-0310-9956-ffa450edef68",6,55
2f6054959ad0af33770fd3f1a037a9ab5bf60e3e,"added test case and fix for JMSType header

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382086 13f79535-47bb-0310-9956-ffa450edef68",0,8
60c65ba7ff0dd9f59b37b1bb7701acb84be604fd,"Adding csproj and cln files created with x-develop as I was having touble with the vs.net generated ones.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382087 13f79535-47bb-0310-9956-ffa450edef68",961,268
cc7678ee9b9b44700ee1addfe8ccd6146867af7f,"Added latest generated C++ commands and marshalling code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382091 13f79535-47bb-0310-9956-ffa450edef68",77,12103
283549bae60cb1295933c1d37cbbb99bf04eff68,"Applied Mats latest patches to get the openwire-cpp code compiling

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382102 13f79535-47bb-0310-9956-ffa450edef68",127,172
9efa4e6e68c571fcef07bf5cb9bc32923b211028,"Applied modified generated code using Mats latest patch for the generator

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382103 13f79535-47bb-0310-9956-ffa450edef68",712,605
1d6fb63a95c5ab5a4add5158ee4d592c29ce8a44,"Possible bug in computation of BooleanStream size.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382252 13f79535-47bb-0310-9956-ffa450edef68",1,3
0d3c8fd61d75cb7ce8c0ee3ffb7f1eadc8d1a30d,"Updated dependency version.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382340 13f79535-47bb-0310-9956-ffa450edef68",3,3
4ddb76fe4d7e2edeeebb02667f5fca1529fbea9b,"updated package and dependencies.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382341 13f79535-47bb-0310-9956-ffa450edef68",2,2
c82f6f330965944c6948d0bc997ddf0681020dde,"Added support for view inactive durable consumers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382344 13f79535-47bb-0310-9956-ffa450edef68",34,274
2eae0548d861c75b5c8a52e81cc2dcba5743fcf5,"Fixed some npe I'd just introduced

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382353 13f79535-47bb-0310-9956-ffa450edef68",4,3
5fbce8982c7c94ff4f22c995336e294f9d71fd91,"disabled test due to AMQ-583

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382359 13f79535-47bb-0310-9956-ffa450edef68",0,3
3182029ef43c4c4373a97b0beaa4a144222be1ed,"Make it easier for ActiveCluster to be used by other JMS implementations - 
added patches supplied by Ben Kibler

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382378 13f79535-47bb-0310-9956-ffa450edef68",20,121
c717221cf838abd647e3c489aa5a69df9935f366,"added support fro browsing messages for a durable subscriber

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382393 13f79535-47bb-0310-9956-ffa450edef68",9,96
f1e44596443b3bea78837518d6904258d0161020,"added test case and patch for marshalling of long values which result in negative int / short values being unmarshalled

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382395 13f79535-47bb-0310-9956-ffa450edef68",2,150
0d5de13537dad45a044668948d5c14325b867716,"added the ability to discard old messages for non-durable topics if a maximum number of pending messages is reached

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382421 13f79535-47bb-0310-9956-ffa450edef68",3,25
c874b21ef84e1633927d04f8d3264a14960d33ce,"added test case for the BooleanStream together with the patch from Dave Gynn

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382428 13f79535-47bb-0310-9956-ffa450edef68",2,137
d8c086274aeebec8bcbedc417848f01a8bc525da,"updated the comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382434 13f79535-47bb-0310-9956-ffa450edef68",2,4
acce91b74e952d654b80de21292ce0e73d20e804,"Fix for http://jira.activemq.org/jira/browse/AMQ-578

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382439 13f79535-47bb-0310-9956-ffa450edef68",18,2
4a65a33af074925ab63dc9f6d54d3c7ab199aaa4,"Fix for http://jira.activemq.org/jira/browse/AMQ-525
BooleanStream now can handle more than 64*8 bits.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382454 13f79535-47bb-0310-9956-ffa450edef68",9,22
95d0dec008e5f8ae48cda1cb61f8019874a7a86e,"Patch for AMQ-606 to allow slow consumers to have their old messages discarded. For background to the issue see http://docs.codehaus.org/display/ACTIVEMQ/Slow+Consumers

Provides a way to set a limit on the pending messages to be dispatched to a subscription so that if that limit is reached, old messages are discarded. This will avoid the non-durable topics from getting blocked due to slow consumers


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382459 13f79535-47bb-0310-9956-ffa450edef68",18,204
3bdf883d0490d81f77ece834d1f1dd45ecdcf082,"BSDish lic.  we can redistribut this code.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382462 13f79535-47bb-0310-9956-ffa450edef68",0,715
1229c23bc483399d9bee0418300969773b2dc869,"- Implemented transpor inactivity monitoring for the tcp transport
- The properties set on the tcp transport can now be set on the transport sever, and the sever will configure the transports it creates with those properties.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382503 13f79535-47bb-0310-9956-ffa450edef68",37,304
ed5d43b04f25ed4835feba1afd66c440fb256c1e,"Added more operations to the JMX beans.
 - broker view can now create and destroy destinations
 - queue view can now copy messages to other destinations.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382532 13f79535-47bb-0310-9956-ffa450edef68",28,122
981cef5f84b94045b269d8b58fcc83eae1a67b9c,"Added test case to verify that the group id could be set using STOMP, in reference to:
http://forums.activemq.org/posts/list/442.page

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382544 13f79535-47bb-0310-9956-ffa450edef68",0,29
6272ddc88f741ca03dd1ac8df67debc9dc95308c,"spelling fix.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382547 13f79535-47bb-0310-9956-ffa450edef68",1,1
5aec42f155ecacc86fa14985c67f935b44d3b4cf,"Added xcode project files and modifed includes so that they would work for me on OS X,
still getting some compile errors tho.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382590 13f79535-47bb-0310-9956-ffa450edef68",168,1370
057cde18f932a0ee1a579ae3b29531ec35b8cfce,"updated groovy code genertors so that the .hpp suffix is included in the include statements.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382591 13f79535-47bb-0310-9956-ffa450edef68",3,3
2867249482c65508a0a0d3071de930b4ee6a4558,"log when discarding messages - and ensure we don't get npe

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382692 13f79535-47bb-0310-9956-ffa450edef68",4,5
4e28bcea8fd0673073ef30b932f429552ad4ba86,"added example of setting the pendingMessageLimitStrategy

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382708 13f79535-47bb-0310-9956-ffa450edef68",0,5
e87f4c9106e30baf3f47484f471a2eb7352303db,"reset the logging level

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382738 13f79535-47bb-0310-9956-ffa450edef68",1,1
c916749e78e82b27ff29f3cb405e9325ce2ad696,"Don't use the inactivity monitor when the stomp protocol is in use.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382741 13f79535-47bb-0310-9956-ffa450edef68",3,7
6d003a89e2aba5e2d5218655cc63a2c4ec76ed6c,"tidied up some of the synchronization

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382746 13f79535-47bb-0310-9956-ffa450edef68",107,96
bed10aac1e4d8e1e6f5dc7817b63014525be299d,"allowed the maximum pending message count to be specified on the ActiveMQPrefetchPolicy or the ConsumerInfo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382753 13f79535-47bb-0310-9956-ffa450edef68",20,73
4dad3fc833c035cf193e805cb0c5c9a5fccaafb3,"removed old comment

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382754 13f79535-47bb-0310-9956-ffa450edef68",9,0
062dc5681c6932bfde4bdd14db70becb759acc2c,"added better MBeans for topic subscriptions so that they can see the discarded and matched statistics. Also added a configurable MessageEvictionStrategy

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382816 13f79535-47bb-0310-9956-ffa450edef68",4,232
fa430aaae07d177a029d406114bb25e0aa83c00f,"minor refactor to make it easier to add extra startup features

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382821 13f79535-47bb-0310-9956-ffa450edef68",3,10
9c1a5fa6a2b825464d215106c0055efe7e6860a9,"bad testcase, transport was never started.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382824 13f79535-47bb-0310-9956-ffa450edef68",3,18
178515aa3280a8b07c3b147406a8eb7410be99ed,"added an alternative eviction strategy

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382830 13f79535-47bb-0310-9956-ffa450edef68",0,48
99c1a67a288555bc7413616e10c6e1f432d8064b,"refactor of the TcpTransport so that the timeout and buffer size can be configured via properties before the socket is used after the start() method is called.
this also fixes AMQ-610


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382846 13f79535-47bb-0310-9956-ffa450edef68",17,48
7f5213ba990ff4f1629f63dc93d0225a3c78594c,"Standardize on throwing Exception instead of Throwable, we were using both forms throught the API



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382869 13f79535-47bb-0310-9956-ffa450edef68",653,657
4759540e6eac4fe1282057023ea4b4962038ca97,"fixed bug if the connection factory already has a clientId configured

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382886 13f79535-47bb-0310-9956-ffa450edef68",12,23
dc168c055b567f1eb7c9488762b494f24902afed,"fixed NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382888 13f79535-47bb-0310-9956-ffa450edef68",1,8
62c28d1b77acb3d5b4363a4abf41130d1e97e5c1,"Added methods to create/destroy durable subscriber

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382890 13f79535-47bb-0310-9956-ffa450edef68",0,30
9c5680c9f645cb6e3249d65e56e0ba2140038e2b,"don't remove connection info from broker if the transport has failed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382913 13f79535-47bb-0310-9956-ffa450edef68",3,5
44b00e930970a594cfb0c9604e823c698160ae97,"- Improved the delete and purge operations on a queue.
  - Messages now removed from the message list: fixes message count < 0 problem
  - Messages are now locked before they are deleted, if messages are in flight to a consumer, we don't want to delete them.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382919 13f79535-47bb-0310-9956-ffa450edef68",26,77
202b3efb9641d2489a373ac8f78520e81f0a47b2,"http://jira.activemq.org/jira/browse/AMQ-612
http://jira.activemq.org/jira/browse/AMQ-613

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382934 13f79535-47bb-0310-9956-ffa450edef68",29,11
1882e545a51a72eae7acfdaec9f2d95ad370cea9,"fix testcase 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382936 13f79535-47bb-0310-9956-ffa450edef68",2,0
375469bac7318b6f14b6f8058287ba58a292a016,"disabled the inactivity monitor by default for now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382954 13f79535-47bb-0310-9956-ffa450edef68",2,2
7f9f0408356d4635463eca56e13d3e9f4e14230e,"No need to clean up connection if it's being closed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382960 13f79535-47bb-0310-9956-ffa450edef68",5,6
da26ccbd320e315148989bdf654484016ff2d2f4,"added another option that allows you to basically drain a destination for while messages are being produced.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382964 13f79535-47bb-0310-9956-ffa450edef68",6,30
7027fe66d7e0993871cf90915de87adaf87c9558,"Initial fix for http. Its still failing for some other reasons though (sync problems I think).

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@382998 13f79535-47bb-0310-9956-ffa450edef68",11,21
c60ac2ff6256a8b63340f621afa540b66c5ca5ce,"Fixing up http://jira.activemq.org/jira/browse/AMQ-615
- We now close the consumers created by a pooled session when the session is closed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383014 13f79535-47bb-0310-9956-ffa450edef68",11,46
0bba31190efaafea76b15f7888f4f6d5f3d994f1,"organized imports.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383015 13f79535-47bb-0310-9956-ffa450edef68",13,11
f6393f602f5f08f18e0627f8d7de22f1f127f147,"fix pom so that it builds

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383034 13f79535-47bb-0310-9956-ffa450edef68",1,4
477984fd4f7ee56dfbf6f0ce354b51f91f54384a,"simplified a little. 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383040 13f79535-47bb-0310-9956-ffa450edef68",9,4
b858350da4c4e7bc672e596d7d79089f1ffa166c,"back ported the BooleanStream class and it's associated test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383051 13f79535-47bb-0310-9956-ffa450edef68",192,328
a7b0e27d3df260a259e6b7c42e4c32001b7ba7ef,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383053 13f79535-47bb-0310-9956-ffa450edef68",0,0
943621276d3133246fc15c1bfa614db3a51f10af,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383054 13f79535-47bb-0310-9956-ffa450edef68",0,0
8f3d48f7ed4814202513032b8a3b79f497675363,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383056 13f79535-47bb-0310-9956-ffa450edef68",0,0
a3e44f0f764d921eab64df0d971314ad8b1ea658,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383057 13f79535-47bb-0310-9956-ffa450edef68",0,0
352696e94bcdeb07db7464ab4b9f836787baff6a,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383058 13f79535-47bb-0310-9956-ffa450edef68",0,0
fc10bd2baed0473ba1302f068c34da7e59b17034,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383059 13f79535-47bb-0310-9956-ffa450edef68",0,0
cab9b954f89d1b145833b2a0c8b89aa26ef8eebc,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383060 13f79535-47bb-0310-9956-ffa450edef68",0,0
fbd11aec9d28e6dfd2fdac288c72448065e69560,"refactoring namespace

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383061 13f79535-47bb-0310-9956-ffa450edef68",0,0
42ac3f1afce1cd707a4b7c4834a700da59103e54,"include tools.jar in the Gram classpath, since that's where javadoc classes are.  If java home is not the JDK, this may not work.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383064 13f79535-47bb-0310-9956-ffa450edef68",0,1
aae59ee589cdfcfd5da78796ee05d3cec6b8ad23,"Get it to compile after refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383068 13f79535-47bb-0310-9956-ffa450edef68",513,461
eb6e421ff6d8347dcf235fe59eb0854430dbd2d8,"Get it to compile after refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383069 13f79535-47bb-0310-9956-ffa450edef68",298,277
1701ac7fa54848612e7f35c5cab7b87b2cf95f11,"Get it to compile after refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383070 13f79535-47bb-0310-9956-ffa450edef68",1922,1906
fcbb2b22e895bb95db16534460ba9cf506d00b35,"Get it to compile after refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383071 13f79535-47bb-0310-9956-ffa450edef68",262,265
bb28820a8e2d3e06533159a110744d600711cc34,"Get it to compile after refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383072 13f79535-47bb-0310-9956-ffa450edef68",1207,1215
47a327ab83779698d68055d2600af3ed088ef48f,"Some more refactors:
 Moving the jms type interfaces to the JMS namespace, hopefully this will be come a standardized set of interfaces
 for dotnet in the furture.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383295 13f79535-47bb-0310-9956-ffa450edef68",6190,6348
e0a2b8eab7270fc9d95def535af097758555c26a,"Updated openwire generation scripts so that they produce file with consistent newlines even on windows.
Updated dotnet generator due to refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383296 13f79535-47bb-0310-9956-ffa450edef68",5606,5719
41c4a49a529fcc47e828cd3a5c2bd142d5d7dce6,"Fix setup teardown methods.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383297 13f79535-47bb-0310-9956-ffa450edef68",16,16
2949d2657a690d1f5b031e192ee1b447d9c5fabe,"Send a ShutdownInfo so that broker knows that we are doing a clean disconnect.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383298 13f79535-47bb-0310-9956-ffa450edef68",0,1
494e5bdd2abe4ccf5ef4b8e5e712c4d1f6008ebd,"A few more refactors.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383299 13f79535-47bb-0310-9956-ffa450edef68",199,185
8f8bfee0be58f4c4665a52496db2903ae26991d0,"Implemented the filtered layer concept similar to what we have with the Java implemenation. 



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383309 13f79535-47bb-0310-9956-ffa450edef68",265,668
bfe91884bea58838f5abc3402de96f3386cce7c0,"Fixed up some comments.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383314 13f79535-47bb-0310-9956-ffa450edef68",186,172
e6ad61952ebf9b308eaa6182610afd15328f4a6e,"Don't report errors if the transport is being closed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383315 13f79535-47bb-0310-9956-ffa450edef68",3,13
ecf56d1a74f8d0956bf39563f7cefb4e77a7b1c4,"- Fixed endian convertion issues
- Fixed UTF8 encoding issues (size prefix needed to be a short instead of a int)
- Simplified usage of the Binary Reader/Writers by extending the class.
- Fixed Primitive Map encoding issues (edianness was not right)
- Enabled a durable sub test that works now due to message properties being correctly marshalled.
- Added a MessageTest 



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383459 13f79535-47bb-0310-9956-ffa450edef68",449,897
83b624fe8ea253b641451b752590ad241d8fe887,"Exclude the QueueClusterTest so that build process won't hang

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383474 13f79535-47bb-0310-9956-ffa450edef68",0,3
64bf22ce94619410864fbf22144a983ab2b4c639,"Added slow consumer test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383484 13f79535-47bb-0310-9956-ffa450edef68",0,0
6892f8ca047e2d57f0696a424e8ce6ca7adf9cce,"Added slow consumer test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383485 13f79535-47bb-0310-9956-ffa450edef68",6,152
6cb66e48652946226767f14fc3ae4fa04e20d79b,"PolicyMap not initialized by XBean/Spring when Broker constructed for Transports.
Chanhed so PolicyMap is lazily fetched from the BrokerService by the RegionBroker

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383486 13f79535-47bb-0310-9956-ffa450edef68",42,40
204e9408092698905ac70385e20bcf1f015076c9,"added helper method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383516 13f79535-47bb-0310-9956-ffa450edef68",0,6
3d96abcc932be04f6e1273db28cf9589eb00fa93,"added extra test to ensure that the transport instance is fully started before attempts are made to use the transport

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383523 13f79535-47bb-0310-9956-ffa450edef68",2,8
149a9292c5bf0885e9bea27378263c9c6c3d4d5f,"patch to ignore blank clientIds in a connectionRequestInfo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383524 13f79535-47bb-0310-9956-ffa450edef68",1,1
120f77dad0fe1e05393bfee8202349570c659ef0,"return true if the copy works.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383530 13f79535-47bb-0310-9956-ffa450edef68",2,2
d666be05f9e8cec029e47d50e64e5c8e06e8234f,"added test case and patch for AMQ-617

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383541 13f79535-47bb-0310-9956-ffa450edef68",1,144
b665f187305e0320092a33bffc6e536ca06c4d26,"Better cache eviction in place.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383544 13f79535-47bb-0310-9956-ffa450edef68",15,54
c3e10f54388a1b87783e2bc8d6d8229ab7a9a321,"updated hashCode and equals to pickup new fields.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383545 13f79535-47bb-0310-9956-ffa450edef68",3,7
db9144a985f43eeca9f3a6c37c569255a5dd9f2e,"Protect against cache overwrites.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383546 13f79535-47bb-0310-9956-ffa450edef68",4,16
900f6e9de1f7f075bd842d2a1ef6485b4467ac32,"added better exception message

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383565 13f79535-47bb-0310-9956-ffa450edef68",2,4
e7d32ad93db126edfa1deff874faa0440f6611c8,"Adding initial maven layout for activemq-dotnet project


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383568 13f79535-47bb-0310-9956-ffa450edef68",0,242
1ea5d94095f39262d775c8b76918786f5131261a,"Moving code in the openwire-dotnet module over to the activemq-dotnet module

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383570 13f79535-47bb-0310-9956-ffa450edef68",6,2
77a9957a5558abe0d90d5a0b6c9cf5bb0b530354,"added simplified nant build


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383596 13f79535-47bb-0310-9956-ffa450edef68",701,569
f12596648a70ee63f64e4e28cfe513554f213e34,"this moved to activemq-dotnet


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383598 13f79535-47bb-0310-9956-ffa450edef68",291,0
d9b9427a5f79c0e2977a9466c0b0bcb5919e0023,"added fix for AMQ-519 so that we explicitly force the redelivered message to be deserialized again for ObjectMessage instances to avoid mutable objects being changed, then rolled back

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383627 13f79535-47bb-0310-9956-ffa450edef68",6,65
d5193d217f1b30bed6c1a490dada6171e972e6d2,"increased timeout to ensure test always works

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383632 13f79535-47bb-0310-9956-ffa450edef68",2,2
b4d2e81ff6f583c743cd84215c0a8f57c09ac828,"updated to backport 2.1 for AMQ-605

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383643 13f79535-47bb-0310-9956-ffa450edef68",1,1
446629bba0a09f101f9d574296b6c9b966c27198,"- Since we WireFormatInfo needs to be flexible and extensible so that feilds can be added witout changing it's on the wire encoding, we are now using a primitive map to store it's data.
- Extracted the NetworkBridgeFilter out of the Demand based forwarding bridge and made it a serializable class so that a bridge can be used with a remote broker.
- Cleaned up many of the warnings gram was spewing out by having it suck in more files.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383749 13f79535-47bb-0310-9956-ffa450edef68",12495,4016
cd0fb615deb6accf8dfdc07fbe58b53cf6b972a2,"Adjusted openwire generators
 - Got .NET working again after bing WireFormat change
 - Fixed generated indenting for the java and csharp stuff.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383767 13f79535-47bb-0310-9956-ffa450edef68",1322,10593
4af97546537765c015951f9500ced2f36271122a,"Added a timeout to the client connection to prevent hanging.
Added some cleanup codes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383814 13f79535-47bb-0310-9956-ffa450edef68",0,9
07d4e8c63de63e589b7bf807fecdf64d167565d3,"- A bunch of JMX related tiding up.
  - Added a sendTextMessage() method to the DestinationView so that a JMX console can send a test message to a destination.
  - Renamed a few bean properties so that they would be more consistent:
      - use get*Counter for properties that keep incrementing
      - use get*QueueSize for poperties that repesenet the size of list in broker.
  - the gc() method on the broker is now the only one expose
  - the CachedMessageCount is not exposed anymore.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383815 13f79535-47bb-0310-9956-ffa450edef68",186,529
b80ccdf412b442b978ac66006f2f471097e7d78c,"Added csharp repos 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383821 13f79535-47bb-0310-9956-ffa450edef68",1,16
3e30fec10b19a1caf3af62e5be00bf7b168eb08d,"deleted old cruft and updated the activemq.xml to support stomp

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383823 13f79535-47bb-0310-9956-ffa450edef68",835,2
3cd3fd364e90595c59b33c3466bf9559fdc9a051,"added extra check to make sure all MBeans are unregistered on a stop() call to ensure that AMQ-585 is fixed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383828 13f79535-47bb-0310-9956-ffa450edef68",41,157
c2123e3b1be86a90e64b5c02d8c15331a855d4a4,"allow a connectionTimeout to be specified on a socket for AMQ-607

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383831 13f79535-47bb-0310-9956-ffa450edef68",13,32
9c2185b826c89c2c6bff10f0692e6d94a96089c6,"set default timeout value of 30s

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383832 13f79535-47bb-0310-9956-ffa450edef68",1,1
560763a603bdc8e00f6bd1ebdd367283d0adc324,"delete db messages on start-up

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383853 13f79535-47bb-0310-9956-ffa450edef68",2,2
fb2902900abc918c54b79f6a828ab453a2ed2069,"initial spike of a UDP based transport - completely untested so far :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383892 13f79535-47bb-0310-9956-ffa450edef68",0,0
eba4c9cfa8b46d3b546b89b1ecfaec6742dd9af8,"initial spike of a UDP based transport - completely untested so far :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383893 13f79535-47bb-0310-9956-ffa450edef68",0,819
fcd06b2077e2cff8d06d61b44f8c12bd3110b4e9,"add the data size to datagram headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383894 13f79535-47bb-0310-9956-ffa450edef68",1,5
1c5ecb36d3870650ce2286a7087dd886d4dd0232,"added a default implementation of BufferPool and a default replay strategy

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383918 13f79535-47bb-0310-9956-ffa450edef68",23,204
3b0377cfaf7ebde79bc9784d26764b964ead533e,"Test case and fix for http://jira.activemq.org/jira/browse/AMQ-618
Robert Newson, great job finding and putting together a test case for this.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383957 13f79535-47bb-0310-9956-ffa450edef68",2,148
5ff3487b2fc32ca5becdfbf7f5c1c3a5f26a8680,"renamed matched to pending.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383969 13f79535-47bb-0310-9956-ffa450edef68",27,27
c977f7ddfc9883293f77371fbda9a96973971817,"support destination options on a stream consumer.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383971 13f79535-47bb-0310-9956-ffa450edef68",2,11
b2ad8fa833fdfaaa75f5ced370c6756fbe3c0103,"Support naming all the connectors so that JMX object names are easier to view.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383972 13f79535-47bb-0310-9956-ffa450edef68",31,84
f8e1c0ebe595a6186f2ea8b3649ae22646e44cb2,"added helper methods for NIO/AIO/UDP based transports

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383980 13f79535-47bb-0310-9956-ffa450edef68",0,40
187f884b58ba2074b0aa3447e55695f7b51379c1,"added test case demonstrating UDP transport working

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383981 13f79535-47bb-0310-9956-ffa450edef68",106,274
05b81ba8beba4e1d960ae3352d414b91429286ee,"Added test case for UDP

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@383984 13f79535-47bb-0310-9956-ffa450edef68",0,171
ead505da9837037beae4e5bd18049971d7d0473d,"Fixed transport testcase so that it does not fail anymore.  tcp transport was being stopped and then oneway was being called on it, and it was throwing an unexpected illegalstate exception witched to ioexception and all was better.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384001 13f79535-47bb-0310-9956-ffa450edef68",2,3
5628c2d94b202e8828f476ba8be858cbdf5f8fe3,"Use the backport library to fix the compile error in Java 1.4.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384162 13f79535-47bb-0310-9956-ffa450edef68",1,1
9430890dc74b8c07c26440d3f3290b8bea35a174,"update to beta10 of jetty

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384163 13f79535-47bb-0310-9956-ffa450edef68",18,34
bd04e351e73d0d2304bc3be443916581efa1bbd8,"From PVillacorta - Fix IE issue where 1 message is received multiple times.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384166 13f79535-47bb-0310-9956-ffa450edef68",0,2
7e6e788362bf5205da95226ea0eeb84936a3e4bb,"Added sleep after tearDown to give the jetty server enough time to shutdown before starting the next run.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384170 13f79535-47bb-0310-9956-ffa450edef68",0,6
8776a4154e438a662a3392bb432f1c293fe23744,"added helper method to create non-persistent output streams together with added more javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384173 13f79535-47bb-0310-9956-ffa450edef68",0,14
d0466165c8fc73c92262a27bb045cbdb47a25c64,"disabled JMX for test case so the test works if we enable JMX globally

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384180 13f79535-47bb-0310-9956-ffa450edef68",1,2
f692aa3781bdfd5286ed93a3312e70f8ca835cd3,"added slow consumer config

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384181 13f79535-47bb-0310-9956-ffa450edef68",0,7
d47ce01a850f633eb5828837b5c47c191da8e61b,"deal with mbeans being already unregistered gracefully

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384185 13f79535-47bb-0310-9956-ffa450edef68",0,3
8d36b4c751cc5a6c77bf5a4dc5e8bc2111e73f80,"patch test case to explicitly disable JMX

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384186 13f79535-47bb-0310-9956-ffa450edef68",1,7
dba3ea8d0eb06c9777f56dc6b20d9de9d9b523cd,"enable JMX by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384187 13f79535-47bb-0310-9956-ffa450edef68",1,1
534ea690ff77de57f051e1571ed16ba35601daa1,"allow the transport to be closed before we try and send remove commands to it without generating an exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384189 13f79535-47bb-0310-9956-ffa450edef68",1,2
8568d6ee05fc254f12f20da0698dbf4f9e674bc4,"minor refactor to make it easier to override starting

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384193 13f79535-47bb-0310-9956-ffa450edef68",5,9
11be076ac9d69171a54a03e03169b7d78685e095,"refactor to move the useful code for dealing with start/stop lifecycles and the start, closed, closing properties into the base ServiceSupport class

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384208 13f79535-47bb-0310-9956-ffa450edef68",118,88
436fe42778df7955e4c04d686e6bedd8a08d57c8,"minor refactor to use ""stopped"" and ""stopping"" as properties on ServiceSupport and the transport classes. Also made the TransportListener getter visible and avoided the need for protected variables in the various TransportFilter implementations (due to inlining, often getter methods are faster in hotspot than access to protected fields, plus it simplifies the code & makes it less brittle)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384220 13f79535-47bb-0310-9956-ffa450edef68",61,75
1ccd7bdbf00e80046cf0275e3742cf62f41e27be,"Refactorings of the transport/service base classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384222 13f79535-47bb-0310-9956-ffa450edef68",34,37
11c37a7be5f592d05c460944343ce8af8583541f,"added fix for NPE when adding durable subscribers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384223 13f79535-47bb-0310-9956-ffa450edef68",1,8
08f4639d5e7deaa1f6fe17977b21fe8c2cab7c71,"added spike of a UDP server together with applying the transport refactorings to the UDP transport

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384225 13f79535-47bb-0310-9956-ffa450edef68",60,278
12b736d703b6aac46d1309a1d7e08435e4ec44fd,"latest generated openwire code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384230 13f79535-47bb-0310-9956-ffa450edef68",3560,44
2cd143782ad2c95e6c39d1b0e328dd28de14f57a,"added a ReplayCommand to OpenWire for re-requesting dropped datagrams/commands and regenerated the openwire classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384231 13f79535-47bb-0310-9956-ffa450edef68",242,320
ef59d2c1e330cb06a8f00184a674f9c70b23bc4a,"latest generated openwire code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384232 13f79535-47bb-0310-9956-ffa450edef68",0,57
ac3e41b7b7cfcd3a0c3eff206f0afb7f2609848c,"latest generated openwire code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384233 13f79535-47bb-0310-9956-ffa450edef68",5711,196
4aa503f4af1041c6dab784b7332a66a9c3880f8f,"added MBean unit test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384254 13f79535-47bb-0310-9956-ffa450edef68",0,0
5d9d499e663a80d3b1f53fc0485c378d3053396f,"Fix so that we can get the messages.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384255 13f79535-47bb-0310-9956-ffa450edef68",0,1
138d9cfffaf1adc72f22f6e492c6711aaa6e0327,"added MBean unit test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384256 13f79535-47bb-0310-9956-ffa450edef68",0,151
6c0fae01deb8ddf41bfd0c7d3d663d4929d29b2e,"added working test case for the use of Broker, Queue, Topic MBeans

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384274 13f79535-47bb-0310-9956-ffa450edef68",26,87
242353b56c6519fb6ebc9b4c8bbd89f909c20a11,"applied patch from Fabio Ospitia Trujillo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384275 13f79535-47bb-0310-9956-ffa450edef68",2,2
cbd5960e5a9a2d02801bb52f412f17ed4d33ea4b,"shorten subscription name

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384297 13f79535-47bb-0310-9956-ffa450edef68",1,1
6583ef182194b7d97ad96ff5afc25953b2edbda4,"I wish I could have commited this in smaller chunks

- Added support for the openwire loose encoding to the .NET port
- Fixed the InactivityMonitor, it was timing out conections too often and testcase for it would fail intermitently
- Improved the wire format option negociation phase.  
   - We now gaurd to sending the WireformatInfo, so it's only sent once even if the start method is called multiple times.  
   - We now wait for the WireFormatInfo to be sent before reconfiguring the WireFormat with the new negociated options
   - Option negociation is now simpler to understand:
     - The WireFormatInfo is allways sent with all options turned off
     - Once WireFormatInfo's are exchanged, we enable the options on the WireFormat that both sides enabled.
 



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384390 13f79535-47bb-0310-9956-ffa450edef68",1179,12877
0c21d86151f8748e092ad73f3bb952e6c55be050,"test commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384395 13f79535-47bb-0310-9956-ffa450edef68",1,1
d34b2fe0723961ab4d62a3ba0e1dc1765ebb0977,"Use offer to wait (with timeout of 30secs) for space in case the queue is full.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384419 13f79535-47bb-0310-9956-ffa450edef68",1,10
c4e99fe48b9cc0597df3de9e82d8dc9c3eb5a63e,"- Fix NPE due to JMX problem
- Made the maven setting a little more eclipse freindly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384438 13f79535-47bb-0310-9956-ffa450edef68",34,56
081b0e3b51cb91c92a9a748f379fb954c90ee4ae,"Minor cleanup and remove some System.out

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384439 13f79535-47bb-0310-9956-ffa450edef68",25,2
c40f989966be2085e2d7a02442b7129ff0d48702,"Refactored the .NET client so that all the JMS references are NMS.  Figured Sun would not be happy if we called this JMS.
also tweeked the m2 poms a little




git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384452 13f79535-47bb-0310-9956-ffa450edef68",598,601
8bbca4d6cb558768c594dda7a705bf882f4a79dc,"Missed a few in the refactor


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384453 13f79535-47bb-0310-9956-ffa450edef68",93,108
cedc2fb891c4e0cfd2e23a8a1d85dc3771c2628d,"added an implementation of ActiveMQXAConnectionFactory for AMQ-624

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384454 13f79535-47bb-0310-9956-ffa450edef68",5,227
46ad8c2d71aaa40e158011ff38b4162212b9faf6,"Enabled CLS compliance again and fixed some of the comment positioning.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384457 13f79535-47bb-0310-9956-ffa450edef68",2217,2325
346cdc574445d69673adee5257f7ca33206e6e65,"added test for copy() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384459 13f79535-47bb-0310-9956-ffa450edef68",1,7
b86da466e6cbfa990745b30c6c380d5df1cf12c5,"disabled some failing test cases until we can fix 'em

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384479 13f79535-47bb-0310-9956-ffa450edef68",0,7
5371cf5e64fa3c2d2696bacfbc5660163490fd1e,"minor refactor of a property and exposed the selector as an MBean attribute. the selector can actually be updated in real time via JMX for non-durable topic subscriptions for AMQ-625

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384486 13f79535-47bb-0310-9956-ffa450edef68",12,71
9718909422f15a1d4684ba7ada19e60e883e7215,"soak test module . module will not be included on the default build and will be ran now and again to test messages consumed and msg order  are correct on large for large amt of msg

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384490 13f79535-47bb-0310-9956-ffa450edef68",0,568
6c0df67be60797aa7c12e3dbe5dc62cc9b9564ea,"tidied up subscription objectNames

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384492 13f79535-47bb-0310-9956-ffa450edef68",135,119
22bb1bdd413448a79ad639223f848abde7c3f32b,"added helper method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384568 13f79535-47bb-0310-9956-ffa450edef68",0,10
4f446eb0254d720b318d9c2de1ee712307a85842,"initial spike of UDP server transport with some test cases (some of which are commented out as they are not quite working yet)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384569 13f79535-47bb-0310-9956-ffa450edef68",188,472
4446d55d307dc34d2131ee08e4c90257a83dab3a,"added a working UDP server with test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384603 13f79535-47bb-0310-9956-ffa450edef68",83,153
fd5ce05c1d47f26a6c39d03606aa93296aa479a4,"Appling patch from Nathan Mittler.  Thanks Nathan!  http://jira.activemq.org/jira/browse/AMQ-620
Improves c++ openwire support on linux



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384616 13f79535-47bb-0310-9956-ffa450edef68",10338,938
7b6914515970a43f7f7b189b37cd12e378dbae81,"Fix a 1.5 API dependency the slipped in.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384634 13f79535-47bb-0310-9956-ffa450edef68",1,14
3d7f76719f57e50d0ee021fe1d24b4f99d4e2484,"fix bug in fragmentation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384638 13f79535-47bb-0310-9956-ffa450edef68",1,5
2f1dcea144edbc0b6df2995d71e2a6c0dfd85218,"added test cases for UDP fragmentation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384640 13f79535-47bb-0310-9956-ffa450edef68",6,68
5e8f85df327e60699925ae9a6f2fe82cf162af84,"Move MarshallingWithCachingTest from core module to soaktest module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384690 13f79535-47bb-0310-9956-ffa450edef68",141,142
f2e210bef3a2c81f6ef7a3cad9bdd5705b546f7b,"pom tweek


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384695 13f79535-47bb-0310-9956-ffa450edef68",1,1
c5f96e1db54a186cb6e8e9430d22704af418248e,"added some state to avoid npe when starting the connectorServer after stop has been called

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384738 13f79535-47bb-0310-9956-ffa450edef68",168,151
df26287181935f6a4ad93cff96621786a5d486fc,"minor refactorings to make it easier to derive from

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384755 13f79535-47bb-0310-9956-ffa450edef68",25,37
87043382882e04be1bd05fed5cb2596d7fadcc1e,"refactored the UDP transport to push most of the code and logic back into the transport layer itself.

* Command how has transient from & to properties which can be used with transports like UDP/multicast to indicate which endpoint (typically broker) actually sent the commands
* used int for commandId 
* support for PartialCommand support; allowing large commands (such as big messages) to be split up into smaller chunks
* added a CommandJoiner for joining partial commands together into complete commands
* ReliableTransport which re-orders and can re-request missed commands


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384826 13f79535-47bb-0310-9956-ffa450edef68",565,1371
5c4ca193bee5d3db19d50107dee8c8ad091926bf,"Latest generated openwire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384827 13f79535-47bb-0310-9956-ffa450edef68",9,15
73f173852c74de9e9ef0d71bdaa906e37b0808ab,"Latest generated openwire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384828 13f79535-47bb-0310-9956-ffa450edef68",12,305
555e7e296f689da30e77bba080691cb12c36ac0b,"Latest generated openwire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384829 13f79535-47bb-0310-9956-ffa450edef68",40,170
f51ac13f85016ad16b3989083dd954995736e564,"a little bit of spring cleaning to remove some of the cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384837 13f79535-47bb-0310-9956-ffa450edef68",59,20
5fe0a4ca8ac2e033010be065e2348ad40d16bcd9,"Added request(Command. timeout) to transport and added a timeout on
close from ActiveMQConnection

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384853 13f79535-47bb-0310-9956-ffa450edef68",2,147
c2c3cc20c0b3a8f3364c6665a8def35946783344,"Added request(Command. timeout) to transport 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384854 13f79535-47bb-0310-9956-ffa450edef68",0,4
c2fc820c4866e3966bcd2ec203e0fb7723f06540,"removed hacks in OpenWire to marshal the PartialCommand; we now use normal OpenWire marshalling instead. Also the LastPartialCommand now has no byte[] data in it; making the UDP marshalling code even easier. The PartialCommand literally only has a datastructure type (byte), a commandId (int) and a byte[] now. Ideally OpenWire could detect there is no need for BooleanStreams with this type.

Also added a test case for ReliableTransort

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384893 13f79535-47bb-0310-9956-ffa450edef68",150,424
42a7a369213738c45be9cfc9a02561a6137aaf82,"Refactored the PartialCommand to make it simpler and make LastPartialCommand not contain binary data

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384894 13f79535-47bb-0310-9956-ffa450edef68",6,20
21798b65c8f95f3fc0d5324d8fbbcbba3936ccf6,"Refactored the PartialCommand to make it simpler and make LastPartialCommand not contain binary data

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384895 13f79535-47bb-0310-9956-ffa450edef68",10,9
eb16cdb0ec9dc9faff68169302731c95a90a9024,"Refactored the PartialCommand to make it simpler and make LastPartialCommand not contain binary data

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384897 13f79535-47bb-0310-9956-ffa450edef68",4,4
fd2fa9da5c7ce4888c091a32b49c5cf457cdb247,"Refactored the PartialCommand to make it simpler and make LastPartialCommand not contain binary data

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384899 13f79535-47bb-0310-9956-ffa450edef68",53,53
4727a0f452efe38b28042601554fdf89a45f70af,"API updates.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384955 13f79535-47bb-0310-9956-ffa450edef68",1308,1336
be50d8699c83c529e0551d9e926db4bd247ebe28,"Applying patch http://jira.activemq.org/jira/secure/ManageAttachments.jspa?id=23767

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@384957 13f79535-47bb-0310-9956-ffa450edef68",85,106
95ab99cad516802396a9c0835eec8c1b1bc30348,"switch to non-synchronized implementation of ByteArrayStreams

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385091 13f79535-47bb-0310-9956-ffa450edef68",3,3
7fc12716f5e5d68030b69d3fb1d6ecf27719f718,"disabled test so the m2 build succeeds.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385131 13f79535-47bb-0310-9956-ffa450edef68",3,56
e08fe99ec04dbe162e8d021cdac967c055c4d697,"latest tweaks.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385202 13f79535-47bb-0310-9956-ffa450edef68",4,2
db9a7097a1076412de413c62f889b59e888ac584,"- Remove 1.5 dependency
- Added activemq-optional to multi-project.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385419 13f79535-47bb-0310-9956-ffa450edef68",1,4
c8b8fdde4f7611ec2285897b0d0b2d78fcb81fbd,"updated timers to ensure that the test runs even on slow machines

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385467 13f79535-47bb-0310-9956-ffa450edef68",3,12
e6954f1fd4d9c3b8b1f1d0b602c564e95753369a,"refactored the reliable transport into the reliable package and added a test case demonstrating the transport handling duplicate packets and dealing with reordering OK

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385478 13f79535-47bb-0310-9956-ffa450edef68",37,85
65fdf0762ac596b0bbeae17071d7f96df0fdda91,"updated the reliable transport to be able to deal with out of order messages within a certain range and discarding duplicates within a range

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385480 13f79535-47bb-0310-9956-ffa450edef68",10,70
a4c6dc40c42ac4beb58f3f947f448558c1be973c,"disabled hanging test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385502 13f79535-47bb-0310-9956-ffa450edef68",0,2
80fc4969fcbeeb7963609e5b275190cff805763d,"disabled hanging test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385504 13f79535-47bb-0310-9956-ffa450edef68",0,5
f2a0184a851ffd2a9cdd8cdef3142d9a1b79e1b8,"added javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385510 13f79535-47bb-0310-9956-ffa450edef68",0,9
d633de1efe78d4b54095d703f499cfcbe9188846,"disabled hanging test case

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385536 13f79535-47bb-0310-9956-ffa450edef68",1,1
6ce0aaa0dcac090e03181dc7146f6ba38eb6ab22,"fixed possible NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385557 13f79535-47bb-0310-9956-ffa450edef68",28,36
ad5ad88996bd9c63dabbd774beb9da98afbcbe08,"moved the create/destroy durable subscriptions to the broker MBean to make it easier to use and not require a reference to the topic to destroy them

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385561 13f79535-47bb-0310-9956-ffa450edef68",55,62
0def1d4d4007bcc9cbcb2a9e56ef035c67c162c3,"refactor to allow the MBean createDurableSubscription() method to return the ObjectName of the newly created subscription

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385575 13f79535-47bb-0310-9956-ffa450edef68",46,103
5739c6cdcaa450880ce02733f8e3c53ab2affb42,"refactor of the UDP transport so that it can work with multicast using a DatagramSocket/MulticastSocket directly in addition to using a DatagramChannel (which only seems to work with UDP)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385577 13f79535-47bb-0310-9956-ffa450edef68",250,797
14a1757b873af469bb8278f711bd905d112c4fd8,"Removed old cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385578 13f79535-47bb-0310-9956-ffa450edef68",0,0
bca85752097b7152f64a948ceb2ea31018bc2bd0,"set the eol style so that it matches the platform they are targeted for.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385593 13f79535-47bb-0310-9956-ffa450edef68",733,733
281fd8ded08cb5c3f368ca0ed5f0284eebeb334d,"Added a <bean class=""org.springframework.beans.factory.config.PropertyPlaceholderConfigurer""/> to all activemq configuation files so that system properties can be used in the configuration of the broker.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385689 13f79535-47bb-0310-9956-ffa450edef68",4,37
e614534e721554a425ed8dff2a3e65b0cfbd980e,"Added assertion to test that system properties can be used to configure broker settings.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385690 13f79535-47bb-0310-9956-ffa450edef68",0,3
d11ec2baf6f1177c7df63b54fa09327c78662e59,"have only the parent pom configure the surefire version used.  Also enable the right tests on the activemq-core module.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385691 13f79535-47bb-0310-9956-ffa450edef68",11,32
f471303cc59e11f015c5b4fe8179e321d14b2d86,"- Modified the version of the mx4j dependency to use the predefined one.
- Excluded HttpsTransportBrokerTest.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385695 13f79535-47bb-0310-9956-ffa450edef68",14,30
7531e3ea4a0e9767e6b1f3927924643877ad0157,"- Temporarily disabled using session cookies to store clientID. Does not seem to work in https.
- Modified HttpsTransportServer to use the doStart format.
- Added test cases for https.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385699 13f79535-47bb-0310-9956-ffa450edef68",39,129
99e340a5e8da01d7806e77d16576463470ff7c83,"Removed old dependencies

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385785 13f79535-47bb-0310-9956-ffa450edef68",11,0
daf48bb297c31f806a9eceaf9d171bbbd9f13fd1,"added better exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385792 13f79535-47bb-0310-9956-ffa450edef68",3,6
72b382d0bd120ea500b56c53a9ed7a6b0fb07331,"fixed the UDP and multicast test cases by merging the ResponseCorrelator into the UDP transport implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385794 13f79535-47bb-0310-9956-ffa450edef68",141,468
364337b9aa2f973697355148c521aeb3fd0c2c88,"refactor of the UDP transport to enable the ReliableTransport by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385826 13f79535-47bb-0310-9956-ffa450edef68",224,205
687a45a516d7bf455848889673b91c54595ae38d,"minor refactor to allow composite demand forwarding bridge implementations

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@385861 13f79535-47bb-0310-9956-ffa450edef68",696,754
a2fc7a2dc05aece8b6c0fcb6fba34d3f4a33f341,"- Fix error in stub connection to prevent HttpTransportBrokerTest to hang.
- Enabled test cases. (This is passing for me now, both in maven and in my IDE. Have to see how it does in the boxes.)
- Increase the logging level to error in HttpTransport. (Exceptions could be critical in that section. Better informed i guess.)
- Just a note: HttpsTransportBrokerTest takes around 13mins in my machine to run. (It could be too long for a test case. 137 test cases * 5 secs to setup jetty each time + actual processing time.)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386013 13f79535-47bb-0310-9956-ffa450edef68",9,2
9c19776c17969d2dd46bf6f3e410816fe01203af,"catch interupted exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386076 13f79535-47bb-0310-9956-ffa450edef68",1,6
15023df29be3c98bee8f544af6bb50255e889ddf,"The testcase now sets the system properties so that they don't need to be set by maven

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386090 13f79535-47bb-0310-9956-ffa450edef68",9,14
7bc618b2ae01d7904fab8fa6f1af2916cdcf4ea5,"enable jaas build in m2 again


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386091 13f79535-47bb-0310-9956-ffa450edef68",2,0
3c09f0cba5101ba7fcf33b500b68af68243c20e5,"Be more carefull about how long we wait for the test to timeout

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386092 13f79535-47bb-0310-9956-ffa450edef68",12,21
1629774d27502f1d9c5d5e889beeb6c845fc0775,"added logging if we can't properly cast things when closing things down

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386099 13f79535-47bb-0310-9956-ffa450edef68",4,19
400b1fca09423bd711fbe68dab566ff68147574d,"refactor of the DemandForwardingBridge so that a multicast-based network can be created (or any other multiplexing transport can be used to create a netowrk)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386100 13f79535-47bb-0310-9956-ffa450edef68",314,809
6994361f80557a460c43803b5b5544a4b6956859,"Get the connonical path so that we we debug, when know the explicit path to the data files.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386129 13f79535-47bb-0310-9956-ffa450edef68",1,1
6a89f08c4febe6849f9931ded413d7a8b2307b2f,"disable the use of range acks with network connectors since that could cause the broker to block waiting for messages to be consumed (in the case of big messages being sent).

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386132 13f79535-47bb-0310-9956-ffa450edef68",18,31
3dd6d8afcb2a8be80fe1aa6c084d75fcac5ea1cd,"cache around endpoints so that they are reused - so that networks using brokerIds & brokerInfos can store the state on the endpoint

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386196 13f79535-47bb-0310-9956-ffa450edef68",3,28
8d589ec6fa91f449ba7d04071e00296b84122a20,"added a replay buffer to the ReliableTransport so that nodes with missing messages can re-request stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386198 13f79535-47bb-0310-9956-ffa450edef68",154,532
36722d87744d2db5291d58d5d6eefc947e442c9c,"Applied patch in http://jira.activemq.org/jira/browse/AMQ-633
Thanks Brian Diesenhaus!

Also exposed the memory limits and usage via JMX and allowed the limit to be configured via a destination policy.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386199 13f79535-47bb-0310-9956-ffa450edef68",3,36
09de5a24818766a5590325bc448ad3973bcf3447,"switched default stomp port back to 61613 (thanks for the suggestion brian :) to avoid causing surprises for folks using stomp on 3.x or using the existing ruby stomp client. See AMQ-634 for more details

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386208 13f79535-47bb-0310-9956-ffa450edef68",2,2
de74d7ac72aca5d637a9bd8d944e81c1f1e9487f,"added a stomp connector to the little debug broker program

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386209 13f79535-47bb-0310-9956-ffa450edef68",1,1
70f9d61313e654ee1670040e1fece57b88bfb09e,"fixed bug which was exposed by the Stomp Ruby client. (We could really do with a maven integration build project that runs the C, C++, C# and Ruby code against a running broker)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386215 13f79535-47bb-0310-9956-ffa450edef68",2,1
38f7b126d65b25f7f0a6e339c92026d976a4f53d,"Made the peer test a little more reliable by using consumer advisory messages to know when the peers have fully connected in the cluster.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386258 13f79535-47bb-0310-9956-ffa450edef68",7,34
4b1af8e029e896c9d6cd23a953ee92c361a60300,git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386269 13f79535-47bb-0310-9956-ffa450edef68,55,244
2133fb7c9156448c081a6c85f95b60b1240b3dd5,git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386271 13f79535-47bb-0310-9956-ffa450edef68,2,2
ea94429a2fe3de621c95d708f97d7c2a4dd278ee,"- server should set a error code if no clientID was specified.
- client should avoid doing a GET until the clientID is specified.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386272 13f79535-47bb-0310-9956-ffa450edef68",38,57
4e15e1b1778170d1aef9e2b0465c6042e33fc97a,"fixed spelling.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386274 13f79535-47bb-0310-9956-ffa450edef68",1,1
85cc87a5a53729edf1501a58b2df57d68f40e05b,"Commented out HttpsTransportBrokerTest.java because it hangs.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386303 13f79535-47bb-0310-9956-ffa450edef68",0,3
baab4b209ec23e59b4d389e18aeea2c6fc324506,"Also set the dispatchAsync when using connection consumers (use in MDB dispatching).

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386335 13f79535-47bb-0310-9956-ffa450edef68",0,3
05ea5d4795bbde47c73c4b3a237c2bdea4f9e9fa,"added test case for closing just the session

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386382 13f79535-47bb-0310-9956-ffa450edef68",4,62
f21fe895a26b129b8c3e2251ce9a3dd9e89747a4,"updated the C# client to get it compiling and most of the tests working with the latest generated OpenWire code; particularly after the change of Command.CommandId from short to int

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386440 13f79535-47bb-0310-9956-ffa450edef68",2115,2235
68a542a0976cd0cb581c35138f17326662920e8b,"removed some old cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386441 13f79535-47bb-0310-9956-ffa450edef68",66,6
2b1a0f0c94412ee855ad61ec8c18f5d1e446302a,"updated to use the class name ""BaseDataStructure"" so that generated code mimicks the class structure of the Java code to avoid getting confused

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386442 13f79535-47bb-0310-9956-ffa450edef68",1,1
89ac08c57fa310fc207b3f83a414df26df918a6e,"- Added activemq-optional.jar to the assembly module dependency.
- Corrected broker name in config files.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386480 13f79535-47bb-0310-9956-ffa450edef68",7,5
2edfb2864ce8baf495fe783f6ffee021085e2a2f,"Add the jetty jars to the distribution.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386484 13f79535-47bb-0310-9956-ffa450edef68",0,6
24235a99e49234baaf75f1e0b0373a41e9f44dfc,"limit the child when the parent is limited.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386504 13f79535-47bb-0310-9956-ffa450edef68",0,4
d77e665ed7974fde5bd21f210944da33063908ba,"Deliver the events to the DiscoveryListener async to the mutlicast/heartbeating thread so that that if the
DiscoveryListener blocks for while (like if he is being debuged) then we don't erroniously assume that memebrs
int the group have timed out. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386506 13f79535-47bb-0310-9956-ffa450edef68",6,42
47853d35847ed616372bfd6474d048cde9e23d95,"Fix for http://jira.activemq.org/jira/browse/AMQ-639

The NetworkConnector was not removing the old bridge for the map of bridges that he was mantinaing,
so when the remote broker came back up, then the bridge was not restarted.

Also add a new ConnectionFilter interface which allows the broker to avoid establishing loopback connections.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386507 13f79535-47bb-0310-9956-ffa450edef68",4,73
b4c362bf25d8153c5166895c9492b944ca5f7c76,"adding more ignores.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386508 13f79535-47bb-0310-9956-ffa450edef68",0,0
13adb80274333421ca2c71aecf0138897dfeb4bb,"http://jira.activemq.org/jira/browse/AMQ-631


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386546 13f79535-47bb-0310-9956-ffa450edef68",0,1
0ae30b3e87276f14d5b3ed71f3b9c7450ba6e297,"added a few more properties to the multicast transport

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386581 13f79535-47bb-0310-9956-ffa450edef68",0,24
3d07b930740e1d359f37dd76cf7e3dddbe81e5a7,"enforce loop back mode false

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386583 13f79535-47bb-0310-9956-ffa450edef68",1,2
15550b812af7ec9b559881cef0af4b44856bf226,"latest generated openwire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386585 13f79535-47bb-0310-9956-ffa450edef68",53,53
cfbb3c852a9bdfffd05d337a08b9d2bdf70e502f,"fix for AMQ-627 to always catch and deal with interupted exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386586 13f79535-47bb-0310-9956-ffa450edef68",3,5
a876eb378906182c33d57325c368908ab8b80a0c,"latest generated openwire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386589 13f79535-47bb-0310-9956-ffa450edef68",2,2
635e6e744540cc4b20686781086d41dce7198b5f,"- Perform the actual setup of the connectors when it is actually started.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386603 13f79535-47bb-0310-9956-ffa450edef68",13,17
2bc9a835080a59577cfc0a75552022863996127b,"patch for AMQ-600 to catch IOException caused by attempts to dispatch synchronously to a connection on a dead socket and treat them as a transport exception (rather than service exception), disposing the connection so that clientID's can be reused

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386608 13f79535-47bb-0310-9956-ffa450edef68",5,40
c559a8093f8ac3b858571fa0d3f46f6789382685,"fix for AMQ-600 to detect IOExceptions as being transport exceptions, not service exceptions (which are normally things like JMSException or security exceptions etc) and then disposing the connection eagerly - to free up the clientID so that the client can reconnect

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386610 13f79535-47bb-0310-9956-ffa450edef68",1,6
27a677f459ab3cf6f7779dd5dd69b76114fe708f,"added the ability to configure the redelivery policy on the activation spec

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386654 13f79535-47bb-0310-9956-ffa450edef68",0,65
257f16a0bbdc06b49253a41512fffab814b533e6,"The default should be failover=false.  We can't assume that normal configurations will use broker nodes that never fail.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386670 13f79535-47bb-0310-9956-ffa450edef68",8,7
9224eeb0a2dc7c9ce4a6c8477f4c7ed7421fe397,"Fixed the primitive map marhsalling problem that was breaking the tests.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386703 13f79535-47bb-0310-9956-ffa450edef68",842,988
8b3fb9b9280ad8883ce46be5914805fdb7d2f15f,"- Enhanced the NMS test support class so that it creates the connection lazily.
- You can now get a DestinationType from a destination in case you want to know what type of destination you are working with.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386712 13f79535-47bb-0310-9956-ffa450edef68",831,975
9920d70580e02d83bb5f2a472a5e53e177865aac,"- Send the ConnectionInfo first before sending the BrokerInfo in the DemandForwardingBridge, so it would work in http.
- Enabled the TwoBrokerTopicSendReceiveUsingHttpTest.
- Added a sleep to the test to give jetty enough time to setup before sending messages.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386738 13f79535-47bb-0310-9956-ffa450edef68",5,19
4f7235d964be851fc4f00a37ce7bd598077cfd9d,"- Setup keystores for ssl used by ConfigTest.java
- Prevented NullPointerException in MemoryPersistenceAdapter

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386769 13f79535-47bb-0310-9956-ffa450edef68",1,13
351decc105fed333d48f28cdd5fe9d93d4b89cea,"- Corrected the path to the keystores.
- Enabled SslTransportBrokerTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386772 13f79535-47bb-0310-9956-ffa450edef68",5,2
b182afbe46814854066ada4c65a89067dce14f15,git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386808 13f79535-47bb-0310-9956-ffa450edef68,17,34
d5b3b819ba8f695e011914ed82daa46094df0cf2,"Created a STOMP PHP client.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386940 13f79535-47bb-0310-9956-ffa450edef68",0,235
774cdcf8b54b864ea6fca627d7f8fb02f04ac4ee,"Added maven goal to ignore test failures.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386953 13f79535-47bb-0310-9956-ffa450edef68",1,14
27ec68d22d0cfc7b8a5145d2d67b18d0b8b0b5b1,"- Added checking for NPE
- Added newline in maven.xml

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@386960 13f79535-47bb-0310-9956-ffa450edef68",1,3
9c6169748dafa06c566e3692cab857223a63b0c2,"- Minor correction in xml config
- Enabled failing test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387060 13f79535-47bb-0310-9956-ffa450edef68",6,1
f3ef1a9a31c14e24c2c4587095be7191228af041,"refactored LastPartialCommand so that it is-a PartialCommand so can contain data and should marshal just the same as the PartialCommand; this solves the double-datagram issue when closing a partial command stream
also refactored the reliable transport some more so that it is close to working; should have test cases working soon...

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387385 13f79535-47bb-0310-9956-ffa450edef68",340,403
cb3f7746134a39cf11e16910db485aa0d1b0cbd6,"Doing a sleep inside the send loop makes TwoBrokerTopicSendReceiveLotsOfMessagesUsingTcpTest take forever!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387417 13f79535-47bb-0310-9956-ffa450edef68",1,1
15101c7fbb1f877833069b4c56c850ac1cc91cee,"- Fix message serialization problem using xstream.
- Added some more http test cases.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387470 13f79535-47bb-0310-9956-ffa450edef68",12,109
0cc5d24dcb637c6ca4287f7abf9a16ddd6c2ff75,"made more properties public; ""closing"", ""closed"" and ""transportFailed""

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387531 13f79535-47bb-0310-9956-ffa450edef68",11,30
cff515e024c0bb85c0e904178613244005f0b8a7,"removed some unnecessary cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387532 13f79535-47bb-0310-9956-ffa450edef68",22,0
72a495e1ebd1ac9634502d7a00120d269a17e752,"derby is not to happy about being started up multiple times in the same vm with different homes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387553 13f79535-47bb-0310-9956-ffa450edef68",108,69
7ae0081e7e6936e9af827f5ca197d9c6b4e10693,"ignore the KeepAlives

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387555 13f79535-47bb-0310-9956-ffa450edef68",0,2
b1cd2b9ec2eb9f1997b72169dae3ebc203c11442,"flowControlSleepTime was not used.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387559 13f79535-47bb-0310-9956-ffa450edef68",23,3
1b60ebbea5502153c8130a4e4274f90e08ed4035,"Applied patch at: http://jira.activemq.org/jira/browse/AMQ-632

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387561 13f79535-47bb-0310-9956-ffa450edef68",0,1
4757b273d1d2f689c4efe4b3dc5695f0266a9f52,"removed the preLoadLimit logic since it was causing the RoundRobingDispatchPolicyTests to fail intermitently.  The preLoadLimit was an additional prefetch limit, and when it kicked in, 
it would cause the round robin distribution to stop sending round robin.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387562 13f79535-47bb-0310-9956-ffa450edef68",16,4
a5ee130beafd59c5782541a61e56db0c6c3823b2,"Allow previous messages to drain before doing the real test.  (makes the test more reliable)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387563 13f79535-47bb-0310-9956-ffa450edef68",1,4
ef0c0e1f87d2875a960eb5fad6d336230b2bda08,"http://jira.activemq.org/jira/browse/AMQ-643

The maxInactivityDuration is now negociated using the WireFormatInfo.  This makes it easier to configure connections since client and server configs do not HAVE to match up excactly.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387566 13f79535-47bb-0310-9956-ffa450edef68",101,199
94e8cf49223c9584d7faf911ba572a5c6d1137fd,"no need to configure the maxInactivityDuration since it is controlled using a WireFormatInfo.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387570 13f79535-47bb-0310-9956-ffa450edef68",1,1
bc4efeac5d4bc5c6da2424e68d90ca54659aad54,"Disabling the HTTP tests for now since they doing reliably pass for me

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387571 13f79535-47bb-0310-9956-ffa450edef68",0,3
8697cc71b81de4d88f16810a5d371de9a7db4e83,"dumping first cut of kaha in SVN

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387585 13f79535-47bb-0310-9956-ffa450edef68",0,0
d56eda03db8913ecb6b549513d1e32b0f72b7e53,"dumping first cut of kaha in SVN

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387586 13f79535-47bb-0310-9956-ffa450edef68",0,6211
739d12ac2003cefdfe0a379937e90bebf6968698,"bad commit - removing files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387592 13f79535-47bb-0310-9956-ffa450edef68",637,0
12cea50f155fd359189122f6e0fb5166980744d1,"removed debugging println

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387609 13f79535-47bb-0310-9956-ffa450edef68",1,0
a25562855731c303a72c68e334d2f56f9e2dbff8,"clear the list after the sleep so that any left over messages are drained.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387632 13f79535-47bb-0310-9956-ffa450edef68",1,2
8866e28fbcfa539ce564a4214f51edd4773623db,"Added to the svn:ignore list


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387634 13f79535-47bb-0310-9956-ffa450edef68",0,0
261b455078cb096cc31d765d546b991e50a326e7,"these tests were failing on windows where File.delete fails if the file is still open.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387663 13f79535-47bb-0310-9956-ffa450edef68",6,14
aecbd1c3f22e6aec4de90bd937f15ad4b77baa42,"did a bunch of svn propset svn:eol-style native 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387665 13f79535-47bb-0310-9956-ffa450edef68",5432,9855
14763b4f204450039ef985ff72de47c5a569a9a6,"Reved up to the latest version of the geronimo spec jars


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387873 13f79535-47bb-0310-9956-ffa450edef68",88,77
5720238ca5bad03f2cd5240d8ee6bb5cb9cf470f,"Applied http://jira.activemq.org/jira/browse/AMQ-653
Thanks John!



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387874 13f79535-47bb-0310-9956-ffa450edef68",5,5
3a6dc9ddf3ad2ae195608b3241a0a6105526a8f4,"fix for http://jira.activemq.org/jira//browse/AMQ-654


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387893 13f79535-47bb-0310-9956-ffa450edef68",11,9
4c96523c6af23928e2b6930d0208416db0f139a5,"adding a log debugging statement so that if table creation fails we have some hopes of seeing what the statement looked like that failed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387908 13f79535-47bb-0310-9956-ffa450edef68",0,1
e94ba16710af1cdc6965e4686f504b4535091a08,"Updated m2 build to use latest geronimo spec jars


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387924 13f79535-47bb-0310-9956-ffa450edef68",43,48
ea7dd79062c3f5081deb1e553aae52a8de48e463,"Li, Fan <fanli@amazon.com> reported to the mailing list that the connector id was not being incremented.
fixed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@387930 13f79535-47bb-0310-9956-ffa450edef68",1,1
4ae3b9b2baa8a3acfd7347fcb6f71a06081cd75f,"Updated to show where the lists are archived at.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388016 13f79535-47bb-0310-9956-ffa450edef68",3,3
6412d6526a9fdcb1887c8dfcb19a4d7aa0413759,"Avoid NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388079 13f79535-47bb-0310-9956-ffa450edef68",1,3
47f2bb7cc24055cb09a7a05ac68389971d020410,"Avoid starting a persistence adapter if the broker is stop()ed before once has been created.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388081 13f79535-47bb-0310-9956-ffa450edef68",2,1
61fef743e8be3e0e4df21a233bf2d738a080c2af,"If multiple concurrent threads were creating vm://localhost connection, it was possible multiple ""localhost"" broker would be started.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388082 13f79535-47bb-0310-9956-ffa450edef68",29,46
75bffcb008b4fb004a536b87d9643d3163af2304,"applied patch from John Sissons

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388176 13f79535-47bb-0310-9956-ffa450edef68",1,1
5bd451b91c2e6ce549844bd6f86c35195c7af8a1,"removed unused property.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388190 13f79535-47bb-0310-9956-ffa450edef68",16,0
87d8e01e01f0d069216376b5651588030914e628,"Moving stuff around so that it's in m2 layout


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388191 13f79535-47bb-0310-9956-ffa450edef68",0,0
d36c1fd2cc5c9dee5d59d646554fd49afa3eef87,"Updating project layout so that it's in m2 format


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388193 13f79535-47bb-0310-9956-ffa450edef68",3,3
26bb18ba8c6c51591d359b80ffd9feaa1840f13e,"Added a way to get the socket address that a transport server is accepting connection on.  Needed by gbean modules.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388202 13f79535-47bb-0310-9956-ffa450edef68",2,44
3a6063c923f8c81c0936da6d1b7d65d074a8936d,"It Compiles!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388204 13f79535-47bb-0310-9956-ffa450edef68",1,1
5026a89b886ac41aa1ae5f16ff178e67f40710b8,"It Compiles!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388205 13f79535-47bb-0310-9956-ffa450edef68",572,173
9e204dcb75c0f5eeac58193f27cb7d0d4550384b,"added to svn:ignore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388206 13f79535-47bb-0310-9956-ffa450edef68",0,0
0e0ecf3cf632935281693b9109d2dc889664dd41,"Moving the Geronimo gbean integration modules out of the sandbox now that they compile.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388207 13f79535-47bb-0310-9956-ffa450edef68",2,2
72f1594b393c859f1ba6542fea82abf04dfcd3f0,"Added a way to get the socket address that a transport server is accepting connection on.  Needed by gbean modules.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388208 13f79535-47bb-0310-9956-ffa450edef68",0,5
9e10f163ce3af00c553b8d9c46101c3b010c46d8,"modified maven.xml to ignore test failures in continuum

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388475 13f79535-47bb-0310-9956-ffa450edef68",2,23
4b3fde716aeb33f4c466944a42a331f559784148,"latest jetty release

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388498 13f79535-47bb-0310-9956-ffa450edef68",2,1
f451ad04bf1237dee259ea9caeb5a53b0d9d5f3a,"- Switched the m2 builds to use maven-one-plugin so that the activeio jars can be used in the maven 1 build activemq is using.
- the m2 build now uses the same groupId that our m1 activemq build is using.  I know it's not the m2 way to name groups, we I'm willing to live with this until we are out of the incubator and using m2 to do builds by default.
- Ported activemq to use activeio 3.0-SNAPSHOT from activeio 2.1, since the 3.x stuff is in a new package space, it should not conflict with previous version (for example the version used in Geronimo).



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388677 13f79535-47bb-0310-9956-ffa450edef68",478,542
a9c49a7f1666068274b0c2c464bdfda7ec8becfc,"Fix for http://jira.activemq.org/jira/browse/AMQ-487

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388714 13f79535-47bb-0310-9956-ffa450edef68",25,210
1baf9f10f9503dcd71d20f2cdc354c689307f279,"make top level default goal call sub project default goal.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@388983 13f79535-47bb-0310-9956-ffa450edef68",2,1
90bab0fcf475509ca1f343227a77a454483782fe,"Fix for
https://issues.apache.org/activemq/browse/AMQ-661

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389007 13f79535-47bb-0310-9956-ffa450edef68",16,11
d84e0521ea6f787178dc0684784880e1a4b3ab92,"added a visualisation plugin to render the current queue and topic hierarchies graphically

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389018 13f79535-47bb-0310-9956-ffa450edef68",2,355
694120cd299b70a688ac1deb857d4a7c32d16c84,"made the destination map easier to navigate

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389019 13f79535-47bb-0310-9956-ffa450edef68",0,17
5bed19f1c5c75de33a5202be26b5566b3db28d06,"tidied up some cruft

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389020 13f79535-47bb-0310-9956-ffa450edef68",8,7
4ba19cad181206271083f44079397a6182177059,"minor refactor to share code

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389021 13f79535-47bb-0310-9956-ffa450edef68",19,61
3d43a18e2add8ad1378495f74cfb9c410ca3659e,"Moved to the org.apache.activemq package and updated copyright headers.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389180 13f79535-47bb-0310-9956-ffa450edef68",95,94
af9ee400753896ec35f0011a13f0447b23ba4e94,"Creating a project doap file so we can be included at http://projects.apache.org/index.html


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389208 13f79535-47bb-0310-9956-ffa450edef68",0,42
2d827765031b77ef97077d2e5bd992531c5d754c,"Validated against http://www.w3.org/RDF/Validator/


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389210 13f79535-47bb-0310-9956-ffa450edef68",6,2
90ce62b952202581e84aaaffb78f0a07e6613779,"Getting gbeans to work.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389219 13f79535-47bb-0310-9956-ffa450edef68",108,107
4d98e8318425408d4790d80062bf6ae43ab558cb,"Build against G 1.2


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389256 13f79535-47bb-0310-9956-ffa450edef68",4,4
28316bb0bba79bbcf8921471dc6ed5bc3daea0c9,"Fix for http://issues.apache.org/activemq/browse/AMQ-659


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389258 13f79535-47bb-0310-9956-ffa450edef68",1,1
3263205bf993206a187219549f5582c7cf990ad2,"Add more useful info if broker fails to start and don't start an embedded broker by default.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389334 13f79535-47bb-0310-9956-ffa450edef68",1,4
d754e76c508a30b0200394ad861714bdd8aaea8e,"added support for RESTful browsing of message queues using a web container; either as XML or as RSS/Atom feeds. Fixes AMQ-666 - crikey thats a bad number for an AMQ issue :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389482 13f79535-47bb-0310-9956-ffa450edef68",2,669
d1a18f5787eb97c7613272b657436d1c06a30f56,"added extra visualisation plugin; to render the broker, connections, sessions, consumers in a DOT graph

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389519 13f79535-47bb-0310-9956-ffa450edef68",18,322
5a392bee0a8aa4b73c0ea46ddddca1af89fa0695,"Adding back ability to configure the data directory and datasource.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389528 13f79535-47bb-0310-9956-ffa450edef68",2,61
2a076d07104740f5bfbe32335cc91c7252ab9085,"added some test cases (that are not yet working) for reliable UDP

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389533 13f79535-47bb-0310-9956-ffa450edef68",6,444
24404740a16d6b7d8afd28845cf30c35abf7406a,"moved the SSL transport into the main core module and switched to using our own TCP transport by default (as well as refactoring to make the [Server]SocketFactory objects pluggable

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389536 13f79535-47bb-0310-9956-ffa450edef68",34,130
89106062da7a002538f3f874dc8cd7fab09dcbe6,"moved the SSL tests into the activemq-core

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389537 13f79535-47bb-0310-9956-ffa450edef68",103,0
0797d088d30910c54795daff76ceab10469a9963,"https://issues.apache.org/activemq/browse/AMQ-660
adding support for MaxDB

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389551 13f79535-47bb-0310-9956-ffa450edef68",0,36
8c20a11a439cd266b5da003b8f7468738746b2b6,"tidied up the connection/producer/consumer/destination visualisation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389554 13f79535-47bb-0310-9956-ffa450edef68",31,116
02d5f187ed05be1b0f6464401a12109041b61bd4,"Applied patch https://issues.apache.org/activemq/browse/AMQ-668
Thanks Bruce!


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389608 13f79535-47bb-0310-9956-ffa450edef68",0,4
449981be9db1380167e650b34bda53c524f8128d,"Working on https://issues.apache.org/activemq/browse/AMQ-669

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389614 13f79535-47bb-0310-9956-ffa450edef68",37,80
cd3f28f6695d7419915c1d08f1c20d06ba739e30,"- Refactored the HttpEmbeddedTunnelServlet to make it easier to reuse.
- Ported the 3.x HttpSpringEmbeddedTunnelServlet to 4.x.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389632 13f79535-47bb-0310-9956-ffa450edef68",10,60
a094f3246208cea1ca818013691d4e11446f17aa,"Added a continuum goal to build and ignore test failures.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389642 13f79535-47bb-0310-9956-ffa450edef68",31,24
4060ad9231c98c417252b6b9ab3736bc41ab470b,"non static queue consumers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389757 13f79535-47bb-0310-9956-ffa450edef68",182,151
c80b084cdc8a9758ef3d1a09e5faaf67c7bcb070,"Use the JMS methods to get the bytes in a BytesMessage since those decompress the payload if the content was compressed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389841 13f79535-47bb-0310-9956-ffa450edef68",1,2
38d8b832efd46214c50320a20c1e695f3ade61e3,"Better content-length handling.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389845 13f79535-47bb-0310-9956-ffa450edef68",0,4
f1e3420e1db4c1723b16e72e4e961ee339740f1b,"better debug so we can see the sql statement being executed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389893 13f79535-47bb-0310-9956-ffa450edef68",0,1
18d616c8db14f15d4b30fba51050c7c86b9890b3,"- Since we now have per destination usage managers, I updated the MessageStore API so that each destination's store can be maded aware of the manager for that store. 
  Some stores like the journal hold messages around and use the usage manager to know when it should flush to disk.
- Moved alot of the message reference counting logic from the PrefetchSubscription up to it's subclasses since they all seem to do it just a slightly different way.
  I think it makes easier to see now how the usage manager is affected by operations.
- I fixed and verifed that the keepDurableSubsActive=true option actually works.  I think we should make this the default setting since it
  make recovery safer.  Once we have a better spooling implementation we can turn if off again.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389941 13f79535-47bb-0310-9956-ffa450edef68",86,250
e29d514732409af8e92759af31a27f549a391974,"The journal constrcutor changed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389942 13f79535-47bb-0310-9956-ffa450edef68",4,0
ec5b7d0ffad27b25b5431e8de6ebda01fa8e26d5,"added to svn:ignore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389943 13f79535-47bb-0310-9956-ffa450edef68",0,0
ae01926a0b7e43b18bf7f910153f467f1d148d7d,"added to svn:ignore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389944 13f79535-47bb-0310-9956-ffa450edef68",0,0
b8b2258fc78e4d56be7167c22ffd97e92778a78e,"Fix for maven 2 builds and organized the dependencies.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389950 13f79535-47bb-0310-9956-ffa450edef68",315,651
ab7e7144b0362f16d1d50c6e872cec778fcc8e76,"Organized and added required dependencies to be able to build in maven 2.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389966 13f79535-47bb-0310-9956-ffa450edef68",5,36
f1bc88c787eb90c170f2b5912e6123be88a67df4,"Added additional dependencies for building activemq-web.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389967 13f79535-47bb-0310-9956-ffa450edef68",8,12
268a81b2786079581c4b417148705393ec839b7e,"forgot to uncomment activemq-web.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@389970 13f79535-47bb-0310-9956-ffa450edef68",1,1
2ed21cedd01af7625db4c07b2e10f08492cc524a,"removed a couple of possible concurrent accesses of the message collection

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390041 13f79535-47bb-0310-9956-ffa450edef68",2,8
71f15d4804c74ccf0fd336027b9b9631a8de4a19,"Added configuration to include the mainclass in manifest.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390044 13f79535-47bb-0310-9956-ffa450edef68",6,8
a715f014e35490b6dcaf718a4f9968aba577776a,"changed groupId of the included artifact to ""incubator-activemq"".

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390045 13f79535-47bb-0310-9956-ffa450edef68",2,2
e8305854550397377a1400a00486ebd4d7212c2d,"interupt thread on exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390056 13f79535-47bb-0310-9956-ffa450edef68",1,2
7af0ed307ca6cd50ef5bfa095d8bb69ce16838a1,"Included other dependencies using maven 1 build as reference.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390078 13f79535-47bb-0310-9956-ffa450edef68",17,19
d9729e86d461f551be50b9f6bebcb19f6605d62f,"fixed old startup text - thx for the catch Geir

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390117 13f79535-47bb-0310-9956-ffa450edef68",1,1
217e0c8527d636e1b92160848d8085aca0998c3f,"fixed typeo and made synchronized collection private

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390149 13f79535-47bb-0310-9956-ffa450edef68",2,2
1a917fe88f6d6e464eb97d954d1852f3aebd3d92,"added test case for rendezvous

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390163 13f79535-47bb-0310-9956-ffa450edef68",0,29
d4584452457e83ded1fb0fc92cc82f2b23233104,"added test case for rendezvous

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390164 13f79535-47bb-0310-9956-ffa450edef68",3,7
161c24aa1695f297c757dfa725adbe66c2b8ef39,"Changed the KeepAliveInfo packet so that it extends BaseCommand so that a reply can be requested.  Should will allow for a broker or a client to get almost imediate feedback to see if the connection is down.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390200 13f79535-47bb-0310-9956-ffa450edef68",24,13
296d081fb8f529bfd7c84d628204d41fee3f12c3,"Updated version of backport-util-concurrent to 2.1 since the assembly uses this version.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390351 13f79535-47bb-0310-9956-ffa450edef68",1,1
1263c80c7b62b4d1fd84edc148ff0d9c0ab4c1dd,"Updated jar files to be included in /lib  and /lib/optional.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390352 13f79535-47bb-0310-9956-ffa450edef68",1,2
065f8a9807cdf3b6156fa3a174ffdb2ea4870449,"Updated the dependencies to be included in the jar file activemq-full-version.jar. This was referenced to the jar created in maven1. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390353 13f79535-47bb-0310-9956-ffa450edef68",6,8
44ab5243495b57621d94138b7e84d0d08e83f66a,"patch for https://issues.apache.org/activemq/browse/AMQ-672 - supplied by Mike Gerdes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390369 13f79535-47bb-0310-9956-ffa450edef68",40,44
e44aee930ea5d9e481ec23a62f8f82521abd541d,"added properties for userName/password

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390370 13f79535-47bb-0310-9956-ffa450edef68",0,34
2af7d9836e94c490daead64878068b2605c5bb64,"sbe fix on collections toArray(Object[])

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390374 13f79535-47bb-0310-9956-ffa450edef68",1,1
f732943141c343002e12d11e5954c16f44cff168,"disabled rendezvous test by default as it fails on some OS'es

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390375 13f79535-47bb-0310-9956-ffa450edef68",0,3
a38a90657ba780885087dfa776cfd79375747757,"fixed some issues with measuring durable topic subscriber performance

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390376 13f79535-47bb-0310-9956-ffa450edef68",5,78
d68fe55933b51b55ff53e37c3729883549e5e3f9,"added better exception message

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390379 13f79535-47bb-0310-9956-ffa450edef68",3,4
8f02ba6a53bf09e452a0a0bb64ae0acc7599d180,"fix for NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390411 13f79535-47bb-0310-9956-ffa450edef68",3,11
382b825aa5973b87f4dc30757f20776b63271d46,"Added commented sections on how to configure things like the broker memory limit and jmx properties.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390423 13f79535-47bb-0310-9956-ffa450edef68",2,14
7ed7b25dbe7522ce08e60d53207c6e8a937d9572,"include mx4j tools in the optional dir.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390445 13f79535-47bb-0310-9956-ffa450edef68",0,9
8999aa10e02bd15a483c4d99420ff1f80609b220,"Just use usage monitoring to cause the early checkpoints to happen.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390449 13f79535-47bb-0310-9956-ffa450edef68",1,0
ea1dad712aba14486a55bd8a39bd71f0bf20c6f8,"Implemented: http://issues.apache.org/activemq/browse/AMQ-673

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390470 13f79535-47bb-0310-9956-ffa450edef68",1,191
68cd5ea5171dfdecdf7b8e829bbb37484ea06df2,"modified Jmeter to upload geronimo-spec-j2ee properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390580 13f79535-47bb-0310-9956-ffa450edef68",2,2
a748040d31b1435f20dbe79e5bde3b88a1685a0c,"don't iterate through dispatchQueue if the broker is stopped

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390614 13f79535-47bb-0310-9956-ffa450edef68",1,1
05d271a719e77cb3b0f257b1c295279654a64635,"prevent ObjectNames being unregistered from the MBeanServer if already removed in doStop()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@390998 13f79535-47bb-0310-9956-ffa450edef68",12,9
e9b1ff51ee19a1e52b4ba7dcbbb1ac066fb7bab6,"resolve some timing issues

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391049 13f79535-47bb-0310-9956-ffa450edef68",18,88
0a7ade231a32cde715a526bdc1b9255022597607,"close the thing on a stop

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391050 13f79535-47bb-0310-9956-ffa450edef68",1,3
0e6a7e48978bde623cb03a393deaffde50a81e46,"extended so can be used by Transaction tests for Master Slave

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391051 13f79535-47bb-0310-9956-ffa450edef68",17,13
ff6a6e834e3e5edc276d7debbabc3b46e839ac75,"test transactions don't through any funnies

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391052 13f79535-47bb-0310-9956-ffa450edef68",0,90
1ffd9f88a90e16303c8c481f71aa7135302f0452,"Add some basic testing of the Kaha persistence adaptor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391053 13f79535-47bb-0310-9956-ffa450edef68",6,217
39ad4a84cb2fe91743b0e444df7a243310f592bc,"change some frequent info logging to debug

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391054 13f79535-47bb-0310-9956-ffa450edef68",1,3
609681a0cbbe5658ce67409112414e8f0c7f1b8b,"allow any implementation of PersistenceAdapterFactory to be used

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391091 13f79535-47bb-0310-9956-ffa450edef68",3,4
cda091cb5e59917ed96b06f2020c9168fa4abd41,"allow any implementation of PersistenceAdapterFactory to be used

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391096 13f79535-47bb-0310-9956-ffa450edef68",4,10
9d50686820d161881dc23644dcdee0edd62d73ab,"added underscore to look more like other rendezvous services

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391272 13f79535-47bb-0310-9956-ffa450edef68",1,1
3b1a7d66dec05f81d24e781963e53a18d5cb6041,"comment out KahaXARecoveryBrokerTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391607 13f79535-47bb-0310-9956-ffa450edef68",0,4
97f2ca1eef32153bb900567acf2f48e97639e7be,"fix for http://jira.activemq.org/jira/browse/AMQ-651


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391694 13f79535-47bb-0310-9956-ffa450edef68",9,16
6d2c2f96196c5dea2ae23617c9464912c6861836,"fix compile error


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391818 13f79535-47bb-0310-9956-ffa450edef68",1,1
b6673c4bf3108c29011617e31e34eab502460fb0,"Fix for https://issues.apache.org/activemq/browse/AMQ-662

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391819 13f79535-47bb-0310-9956-ffa450edef68",4,4
d65cc6311fda826d76c1f72afdff481a70f7542e,"do smarted chechkpointing based on usage.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391820 13f79535-47bb-0310-9956-ffa450edef68",1,0
23d80b3c71065571c5c6ca458626fd681326dc2c,"List the unique id of the broker when it's started and stopped.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391821 13f79535-47bb-0310-9956-ffa450edef68",4,7
5982b208d40a2b940bf5931f3e7bb1975697b592,"added initial config file for DB2 universal driver

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@391998 13f79535-47bb-0310-9956-ffa450edef68",0,1
2f7ab768175aca585fc3ec69ff581ca02c2e6925,"insure unique JMX names across multiple connectors and connections

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392003 13f79535-47bb-0310-9956-ffa450edef68",7,7
b76530740e60d40f9bf3107d1d440e85122bda6b,"allow folks to serialize the broker service if they really need to

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392035 13f79535-47bb-0310-9956-ffa450edef68",2,5
d724f9ed4d85d398dd5fe4b44157ca7c5ec2afba,"Group the connections using the connector name that they were created from.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392043 13f79535-47bb-0310-9956-ffa450edef68",10,13
68779c0aa54bbc773d38589942efedbf448755cd,"changed UDP port of test cases to see if this fixes the ci.gbuild.org build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392083 13f79535-47bb-0310-9956-ffa450edef68",2,2
064880b08a61e161d672e7dfcebbdf6622cbc71f,"Was having some jmx dup id issues.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392283 13f79535-47bb-0310-9956-ffa450edef68",14,11
84fd773f27564ebeb1f3d6cfe81b08ae2afdb64b,"Updated the Transport interface so that you can pass in a ResponseCallback object that will be called when the response for a request arrives.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392288 13f79535-47bb-0310-9956-ffa450edef68",78,157
8a5e8d9fc5a723eb5a0900616694cd29ea9ecdbd,"derby is required for more than testing.  Need to split this into a jar module and a demo module

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392300 13f79535-47bb-0310-9956-ffa450edef68",2,1
46d62dff70d782a8f21915c00cef3eb1f5128691,"enable keepDurableSubsActive by default.  See:
http://issues.apache.org/activemq/browse/AMQ-669


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392323 13f79535-47bb-0310-9956-ffa450edef68",2,1
cc6fec68f41d7eb796376d635d9d06b136412735,"added a hook to eagerly evict expired messages on non-durable topics first before we apply other eviction policies such as old messages etc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392349 13f79535-47bb-0310-9956-ffa450edef68",6,99
3c10ee0f5229085c3851581dc60ede18ef4abd67,"updated comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392433 13f79535-47bb-0310-9956-ffa450edef68",3,3
72923b8cbb4bcd6e4959991f830812caa126d954,"fix for http://issues.apache.org/activemq/browse/AMQ-676

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392434 13f79535-47bb-0310-9956-ffa450edef68",21,476
d8546c2567bb4343d0cb3af6f41d02ce6cb79657,"remove Thread.dump on error condition

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392440 13f79535-47bb-0310-9956-ffa450edef68",4,0
3c72961e09ff4fde36c81db9628aa3f5f79db747,"handle concurrent close errors

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392441 13f79535-47bb-0310-9956-ffa450edef68",1,5
9cd60d8c5db198b0e720f39d3289e2e93f517973,"removed SPLATTT! comment

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392487 13f79535-47bb-0310-9956-ffa450edef68",1,0
67064db83227c0f78e017d3e6d7159749d558b04,"Fix for problem reported by: Christopher G. Stach II

We're using Resin and trying to use 4.0-RC2.  It just so happens that
Resin makes this call in ConnectionPool.init(ManagedConnectionFactory):

ManagedConnection mConn = mcf.createManagedConnection(subject, null);

So, eventually that null info gets dereferenced and BOOM!

com.caucho.server.webapp.Application.start java.lang.NullPointerException
       at org.apache.activemq.ra.ActiveMQResourceAdapter.createConnectionFactory(ActiveMQResourceAdapter.java:156)
       at org.apache.activemq.ra.ActiveMQResourceAdapter.makeConnection(ActiveMQResourceAdapter.java:100)
       at org.apache.activemq.ra.ActiveMQManagedConnectionFactory.createManagedConnection(ActiveMQManagedConnectionFactory.java:103)
       at com.caucho.jca.ConnectionPool.init(ConnectionPool.java:462)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392556 13f79535-47bb-0310-9956-ffa450edef68",0,3
973147afb0de924d600f7103d5c885baa8d18772,"Fix for http://issues.apache.org/activemq/browse/AMQ-677

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392623 13f79535-47bb-0310-9956-ffa450edef68",1,2
2373eb2d22db60b179c2a3a63e7c48e93c8aab53,"fix for http://issues.apache.org/activemq/browse/AMQ-683

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392624 13f79535-47bb-0310-9956-ffa450edef68",2,2
82704c072531beee0796aac5bc37195d8dd9eb78,"restructure for AjaxServlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392829 13f79535-47bb-0310-9956-ffa450edef68",0,2383
6e4302e09b173b0963620f268855c825dcdabd86,"restructure for AjaxServlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392830 13f79535-47bb-0310-9956-ffa450edef68",0,0
a85b0d093b535c4fe8d49101b045fb9178af0446,"restructure for AjaxServlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392831 13f79535-47bb-0310-9956-ffa450edef68",0,0
fdd4b4e3e813b3bb303264226386d1e90fa0a5e7,"Added test case for multiple consumers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392888 13f79535-47bb-0310-9956-ffa450edef68",0,38
b792f117672bfacbaed3db6622a4df715bbdd99d,"fixes for memory leaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392904 13f79535-47bb-0310-9956-ffa450edef68",33,45
8cb2141080bff9f9df7bcad263b9ea70aa8285cb,"Upgrade to jetty 6.0.0beta14
factored out web demo into activemq-web-demo
made activemq-web just produce a jar
added amq.js as a resource to the jar
added AjaxServlet to extend MessageListenerServlet with the ability to serve amq.js
cleaned up m2 build and dependencies
added jetty6:run plugin to run the demo.




git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392913 13f79535-47bb-0310-9956-ffa450edef68",2486,301
a1e410f761253564f599ff6c2b6a42c1e19398ae,"another memory leak fixed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392929 13f79535-47bb-0310-9956-ffa450edef68",0,2
9c9343c9ddcbae699342b8b94bdd67f61b9ec957,"fixed the distribution artifact to include ""incubator-activemq""

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392989 13f79535-47bb-0310-9956-ffa450edef68",1,1
c7be305873b3bcc1db4276960fafdda46794ab51,"fix for https://issues.apache.org/activemq/browse/AMQ-687

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@392992 13f79535-47bb-0310-9956-ffa450edef68",2,8
4436b7b28e0de1fe6cf4c23928e3f6fc24bbe047,"use latest versioned actveio


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393012 13f79535-47bb-0310-9956-ffa450edef68",1,1
c852f0755b773b6777cbc72f1ff8fa09e89936ec,"some tuning of default buffer sizes etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393024 13f79535-47bb-0310-9956-ffa450edef68",4,4
78e79614e5bf25e8579c739602f4abdf40941e05,"The file lock implementation on some JVM/OS combinations is broken.  See:
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4883030
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4854085 

If -Djava.nio.channels.FileLock.broken=true is now passed as an argument to the JVM, the actveio journal will avoid using that file locking APIs.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393039 13f79535-47bb-0310-9956-ffa450edef68",4,7
3043e7ab3182ae81888f72e8b2f809e7e71916c1,"test case for tempDest.delete() was failing.  It could be that the advisory topics were never created for a temp topic so its delete operation would fail.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393048 13f79535-47bb-0310-9956-ffa450edef68",2,8
daddd413a27cf167609e452e7e689a08ed3c9d54,"don't throw excpetion if directory doesn't exist when removing

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393051 13f79535-47bb-0310-9956-ffa450edef68",21,20
700ba75d55a751586b36eb84a19d610ea787b430,"If multicast is not properly configured.. we run the chance of filling the logs with error messages on a vanila install.
We now gard against this by only reporting the error mesasge the first time we hit the error. We keep trying to do mutlicast advertising, but
suppress futher error messages.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393054 13f79535-47bb-0310-9956-ffa450edef68",3,12
a2ae3a9f8a2a2b0157ecab542ea330d5768a5d12,"The JMSDurableTopicRedeliverTest was failing intermitently.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393106 13f79535-47bb-0310-9956-ffa450edef68",5,4
ad612f59d02cc85c9a1d3958e34818296b9fbcfa,"Fix compile.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393126 13f79535-47bb-0310-9956-ffa450edef68",0,10
13e8bf0b9125a8b04365534a957d9cd88c262e9c,"Make the dist build work again


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393151 13f79535-47bb-0310-9956-ffa450edef68",1,1
014c62bc563c77d973fe07a0ca5d6b5a76d19971,"Better DB2 support.  Thanks goes to Klaus Terjung on activemq-users list for providing the needed info.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393265 13f79535-47bb-0310-9956-ffa450edef68",1,41
d96414553254f3bbf37a2ffe8dfbb1d046771536,"extra peformance tuning parameters

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393294 13f79535-47bb-0310-9956-ffa450edef68",66,174
28647f1790b434837ee0bf8fe58bb1999d82155b,"added changes from http://jira.activemq.org/jira//browse/AMQ-660
to allow destination conversation on outbound messages with replyTo destinations



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393383 13f79535-47bb-0310-9956-ffa450edef68",104,204
9e3a3344ffd805cb0296a14b10c640aff165d764,"Added disclaimer that was incorrectly added to the other README.txt file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393400 13f79535-47bb-0310-9956-ffa450edef68",4,14
00d054a6c267c04d011c9ea8ca018c45ecdaa3ac,"more tuning

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393490 13f79535-47bb-0310-9956-ffa450edef68",3,1
52ee976ec8c13ee5666faeb1a7d12ab4a92dc8e9,"added support for clearing messages in-flight

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393495 13f79535-47bb-0310-9956-ffa450edef68",2,7
3e69e735b0be66ad9659cc854171bb19a7e7716e,"Fixed TwoBrokerTopicSendReceiveUsingHttpTest test.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393569 13f79535-47bb-0310-9956-ffa450edef68",0,8
ef0734bccf71c27d87d7e519afc8e683be09b3dc,"fine tuning, client control commands etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393912 13f79535-47bb-0310-9956-ffa450edef68",110,663
6d366dcc85f9594535b20aa70b37647cc91ae313,"fine tuning, client control commands etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393913 13f79535-47bb-0310-9956-ffa450edef68",0,14
2e035301e2a95ad0f39131a236ec055baf77acf2,"dded client control commands (Java clients mainly)


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393917 13f79535-47bb-0310-9956-ffa450edef68",0,166
ef276909f10d58ccfe1a283dcefaac4d3856d5e4,"Added client control commands


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@393918 13f79535-47bb-0310-9956-ffa450edef68",0,99
6eaea6f3361b7ba5183f8d7037f232c5619e351a,"For optimized acknowledge, eagerly get acknowledgements from consumers
when the dispatched list gets too big.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394050 13f79535-47bb-0310-9956-ffa450edef68",29,184
51d3c8260cb9933ed62f93654b45091f42916eaa,"message.onSend() was not being called causing the readOnly fields to not be properly initialized.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394142 13f79535-47bb-0310-9956-ffa450edef68",1,3
5706bed79d519244509c78edbf20736986a65852,"ah.. onMesage was causing the bytes messages content to be nulled..  setting the readOnly properties manually.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394145 13f79535-47bb-0310-9956-ffa450edef68",2,3
e73fa1201af2fbf87b5c0a64743e2fe2ea44c174,"Get bytes messages to work right with pub sub.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394242 13f79535-47bb-0310-9956-ffa450edef68",8,5
70c5073fb320c7bbaf8e154ae7a5987d1d815ebf,"Fix compile.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394261 13f79535-47bb-0310-9956-ffa450edef68",0,5
5c03c7df969084a421e52b9d6cff95e156e03486,"frame builder was not adding all the properties (they were not all String values).
Connect should also use the\0\n convention that the frame builder uses.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394269 13f79535-47bb-0310-9956-ffa450edef68",12,15
bfa4b9bb680b121ec5c8d27678e257345b6662b7,"Fix m2 build: the distribution is nearly identical to the m1 dist.
Remaining problems: missing STATUS file, and activemq.rar is way too big

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394399 13f79535-47bb-0310-9956-ffa450edef68",190,384
969eefeef0114860ed8f6b27d0edca3d151dc1ae,"Include STATUS file in assembly

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394441 13f79535-47bb-0310-9956-ffa450edef68",1,7
91720daee7c3a1f2be5b38d922639750632b6a39,"On consumer close, wait for it's async threads to finish before returning.  Was getting errors when async acks were sent and the subscription was allready closed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394705 13f79535-47bb-0310-9956-ffa450edef68",1,8
c46562ba7cc9497edf0d08ffca7d0052197b529b,"If a topic consumer was hung up, it would eventually stop the producers since the broker memory limit would be reached.
The problem was if the consumer was killed, the broker memory would not get freed up and so the producer would remain blocked.
When a subscription is removed, the memory of the pending messages are now released.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394707 13f79535-47bb-0310-9956-ffa450edef68",7,54
178f34bd9bc4ee02bdfa22ff8e16ea6892769cbc,"Missing synchronization would cause acks to not be delivered to the broker.  After enough acks were missed, 
the consumer would stop receiving messages due to the broker thinking the consumers prefetch is full.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394710 13f79535-47bb-0310-9956-ffa450edef68",2,5
dcf7dea53fe6b7ae78737deabfdf7df3e3ceb193,"An async error could cause a deadlock when using the VM transport since all it's operations are sync.  The error handling is now done in an async thread to avoid the deadlock.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394729 13f79535-47bb-0310-9956-ffa450edef68",13,46
0b88dbe3e7310525fa5744e3a0e283f0b892f507,"Now the distribution fully works on m2 (without tests).
However, we need to rework all the scope of dependencies (mainly for activemq-core)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394772 13f79535-47bb-0310-9956-ffa450edef68",10,663
1e6c45fb2e8daf5731fcd0a58564e33e9dd16fe8,"Fix dependencies scopes for m2 build...

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394797 13f79535-47bb-0310-9956-ffa450edef68",47,133
535c30c3e8576b470cbd0031f90ad31031461959,"handle sync send timeouts better.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394811 13f79535-47bb-0310-9956-ffa450edef68",4,3
b708fd32c3acaff5ae1744c71a005b890480b5dd,"Properly handle a rollback() when call from an onMessaqge()



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394851 13f79535-47bb-0310-9956-ffa450edef68",8,11
3ecdb62bf5922ec9db7c88a54f47a1c7e17cbffc,"We now check to see it org.apache.activeio.journal.active.DisableLocking system property is set to true, if so we don't attempt to do any file locking.  
Used to help work around Hibernate ClassCastException.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@394992 13f79535-47bb-0310-9956-ffa450edef68",0,7
675a82c18e7ce31d15f8eee762673101b0768659,"Restored fixes for some cross-browser issues 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395201 13f79535-47bb-0310-9956-ffa450edef68",6,7
cceda1426296297010ad55b867f2ccc41dc9748c,"renamed to avoid clash

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395253 13f79535-47bb-0310-9956-ffa450edef68",3,3
5c7f4b626b531f20a309e069a75d31012187e320,"messages not getting acked 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395254 13f79535-47bb-0310-9956-ffa450edef68",1,1
2c64bf99d92fea07c27c93ae09b503174ce3f781,"fine tuning

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395256 13f79535-47bb-0310-9956-ffa450edef68",1,1
19bfbb869875592688216d7d6dd1dff8b965fda5,"Add \n after the frame terminator \0


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395331 13f79535-47bb-0310-9956-ffa450edef68",142,151
5574d2ad35d1f79495f3d2afe04fd24eaa1515ab,"tuning around kaha persistence

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395596 13f79535-47bb-0310-9956-ffa450edef68",0,0
6575f2d22d076ae798d9470d20ae8813aa7f299c,"tuning around kaha persistence

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395597 13f79535-47bb-0310-9956-ffa450edef68",1910,2953
fa8b88990636ad2a4ca69ea935615a12a755103c,"finese tuning

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395611 13f79535-47bb-0310-9956-ffa450edef68",14,38
2ee58ca235b9ca2b834e8e9062f1a094769cbc7a,"Support ""transport."" properties when creating a tranport server
Support ""socket."" properties when creating a transport.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395640 13f79535-47bb-0310-9956-ffa450edef68",1,24
9cf5f45cf67ca968bf634362891aa8012e6e107c,"If we get an async exception, report it to all blocked sync requests.
https://issues.apache.org/activemq/browse/AMQ-691


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395641 13f79535-47bb-0310-9956-ffa450edef68",0,26
73187ab013318939087c7fc2581303c2e7c40d30,"refactored the jmeter module to match naming convention

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395652 13f79535-47bb-0310-9956-ffa450edef68",0,0
4c91a69ead0309dd16eb726c8c9a0a38e060daeb,"added support for standard JMS headers being passed along as parameters

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395670 13f79535-47bb-0310-9956-ffa450edef68",1,56
a16b869fd857837f048eb47b42212a60bccf9917,"more tuning - and ensure data files have more meaningful names

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395689 13f79535-47bb-0310-9956-ffa450edef68",83,233
c2aad2a0748930e340c08c74cf5f6ee55e75d7bf,"- Read the first string of the request parameter if the value is a String[]
- Appended the message properties in the MessageListenerServlet.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395717 13f79535-47bb-0310-9956-ffa450edef68",3,28
8a07f91304a6020422a0c4ff4f7c9c4bee4e691d,"Fix for maven jar and dist build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395771 13f79535-47bb-0310-9956-ffa450edef68",83,81
4f0e6d51ebf6ba9fa599d415ff82045b92a718d0,"fixed typo error.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395773 13f79535-47bb-0310-9956-ffa450edef68",1,1
065c46f19da406ab419fcc517a70b9bb0dd1bf6a,"put back support for request/reply across networks

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395810 13f79535-47bb-0310-9956-ffa450edef68",2,37
0fa774501e64f46fb1de4a20388217e31bf30d80,"added the notice file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395812 13f79535-47bb-0310-9956-ffa450edef68",0,11
3ecc6f52939e5e56a12720c63c612ddafdccb211,"Fixed build to include notice file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@395817 13f79535-47bb-0310-9956-ffa450edef68",1,1
75c9b638be0653463cd6f160855fbafacf38ddcb,"Close data files when the store is closed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396040 13f79535-47bb-0310-9956-ffa450edef68",0,1
2acf76e9230472617af4e3c97e2f6234fee39542,"Fixed broker url for Jira issue AMQ-686

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396325 13f79535-47bb-0310-9956-ffa450edef68",3,11
c47de061b77c71beafaf53227b920a31e967b9b3,"Fixed handling of bytes message for Jira issue AMQ-685

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396329 13f79535-47bb-0310-9956-ffa450edef68",73,163
c1b8e0410da016d33d77529b88c05cd26ccfff7c,"Fixed handling of bytes message for Jira issue AMQ-685

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396330 13f79535-47bb-0310-9956-ffa450edef68",14,51
a184831c30b5d125d48d2095abf1644f62953d30,"avoid NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396503 13f79535-47bb-0310-9956-ffa450edef68",1,6
32bdc1b9e816d3efd6a1b5c4888139dc2651f898,"patched the pom to work when the war is deployed in jetty

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396506 13f79535-47bb-0310-9956-ffa450edef68",1,28
53454ccb362ff19ef827d9d3d158155b295570d6,"Don't open data files again if the store has been closed.. on windows tests were failing since the open data files could not be deleted.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396583 13f79535-47bb-0310-9956-ffa450edef68",0,2
a306ba306120944cabd06f70197daa47a96fe16c,"Added minimum maven version

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396851 13f79535-47bb-0310-9956-ffa450edef68",0,4
73f0e97531cdd9b596222e26fa256c66af1982df,"added helper classes for comparing messages

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396891 13f79535-47bb-0310-9956-ffa450edef68",0,104
8ad6fd36a1a285e37d5e910a1c43994af2100fd5,"added a helper method to make it easier to work with the admin view together with fixed some NPEs I was getting when redeploying ActiveMQ when using mvn jetty6:run

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396892 13f79535-47bb-0310-9956-ffa450edef68",76,99
33cf032b3895384def008e5d48ed985e49ec1f55,"allow priority, peristence and timeouts to be specified in REST front end and use a 'type=' attribute to make it easier to provide alternative destinations

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396897 13f79535-47bb-0310-9956-ffa450edef68",72,102
3f1ea2e01ac264226866f6d28e1d05daff49d323,"updated the demo to reflect the latest changes in activemq-web

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396898 13f79535-47bb-0310-9956-ffa450edef68",4,22
b49145835cbbdb955e0ca5ca4ddfc9e430aad6f4,"Added xcode project file for the OS X users out there and tweaked so that build works on OS X.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396899 13f79535-47bb-0310-9956-ffa450edef68",14,550
9477854858251054c6d8c58d73e2c0dbf0066104,"avoid NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396923 13f79535-47bb-0310-9956-ffa450edef68",0,3
535e16a3e4d28ad44330b5479f63e6449ff55ac8,"It was possible to return a marshalled command before previously added pending commands.  And have the commands run out of order.  For examples, an unsubscribe could be executed before all it's ack were run.  This fix forces commands to allways be run in enqueued order.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@396957 13f79535-47bb-0310-9956-ffa450edef68",0,10
c1a1dd268983802b24f9fb7a383a90828bce7a10,"minor refactor to make the WebClient easier to use as a stand alone POJO

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397149 13f79535-47bb-0310-9956-ffa450edef68",31,30
f25d9269afd0b608319b0a26e63f38d756fc2b61,"batch support

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397165 13f79535-47bb-0310-9956-ffa450edef68",12,28
35f915f3b9820ba112e03222051bf0864bb1fc91,"updated the javadoc to be more explicit about the limitations of the pool package

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397168 13f79535-47bb-0310-9956-ffa450edef68",2,12
4e65119cfffa6381dedbb9cc3ab06b8a6efa67fc,"disabled test case that has a timing issue

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397193 13f79535-47bb-0310-9956-ffa450edef68",0,1
d680ba1291fca2bb78090d105408297464247288,"added some helper methods to make it easier to access management information without having to use explicit JMX APIs

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397198 13f79535-47bb-0310-9956-ffa450edef68",7,153
90b66ce627577642b6031486769b3bd4a878d348,"Initial import of a simple web based console for ActiveMQ

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397209 13f79535-47bb-0310-9956-ffa450edef68",0,8960
c0ac0b771875b305354b4e152dda9008256e8603,"added a little hover-over to display the message body

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397214 13f79535-47bb-0310-9956-ffa450edef68",2,2
edbadd930b12b01b1a23fd2934dd021f46233be1,"added a tag to display a JMS message body

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397217 13f79535-47bb-0310-9956-ffa450edef68",0,60
c99a7597aab51ec3033dbb560036acc526ef7ccb,"added a message detail page

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397237 13f79535-47bb-0310-9956-ffa450edef68",116,261
09a3830fe068735075487fba1163fb517b5a7ab9,"tidied up the formatting of the message view

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397238 13f79535-47bb-0310-9956-ffa450edef68",2,22
93dc39b1307eda90adef910aa975c8fcd1a8df28,"changed a bunch of System.out.println() to log.info()


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397249 13f79535-47bb-0310-9956-ffa450edef68",204,277
0a3072998bc7987b5715fba512ec8a8a408c8713,"don't include the oneport jetty stuff in the default build


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397250 13f79535-47bb-0310-9956-ffa450edef68",1,1
25a50630ed3471c3351556f847a4253230356ce7,"converted more println in the test cases to log.info() calls.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397324 13f79535-47bb-0310-9956-ffa450edef68",107,129
0cacae1f04735b198f42ccd202795e8d94027170,"fixed multicast inheritance

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397392 13f79535-47bb-0310-9956-ffa450edef68",1,2
40b96b1b8f25e5c691713bc9249ad510c256cf20,"Fix for Queues getting full in the broker

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397420 13f79535-47bb-0310-9956-ffa450edef68",1,1
b71a9f6a94cf0b5f38824e4707f2b9df32fc70c8,"Configured Jmeter related files to accomodate SwiftMQ testing, and added radio button for Asynchronous/NonAsynchronous sending

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397425 13f79535-47bb-0310-9956-ffa450edef68",27,297
a17b95182fbeca4b347be881bf9feb468a70defa,"close local transport if remote transport fails (and supports failover), and re-establish local transport on a successful re-connect

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397589 13f79535-47bb-0310-9956-ffa450edef68",3,29
cb1d21f0a34dfe9115a076c54841c47b1f136a66,"Fix for http://issues.apache.org/activemq/browse/AMQ-695


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397613 13f79535-47bb-0310-9956-ffa450edef68",37,213
a624fcafef3f332bc30bf8f69fb773717bda6e72,"Applying patch for Jira issue AMQ-656 (adding latest code for openwire-cpp client)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397654 13f79535-47bb-0310-9956-ffa450edef68",14465,23426
39a5bbd68fc06ccff18e94cf098e6b3d5986c300,"AMQ-656 - removing eclipse project (added accidentally)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397658 13f79535-47bb-0310-9956-ffa450edef68",31,0
e2aad41e6a8d0ab5315be519cd43aaec984f2912,"Since some OS/JVM combinations handle threads more efficiently than others, using a thread pool to run our async tasks may not
be the most optimal solution.  Modified the TaskRunnerFactory so that it uses a system property to choose between the 
PooledTaskRunner or the DedicatedTaskRunner which now keeps a dedicated thread per task.

The default is still set to use the PooledTaskRunner, but we may change this if performance benchmarks indicate that DedicatedTaskRunner should be the default.

Also make the thread names a little more uniform so that when you use a debugger you can easily tell what each thread is doing.




git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397774 13f79535-47bb-0310-9956-ffa450edef68",54,187
68b65fa340ae390ce895c5acf57a7fa8ce83ab47,"Used dedicated tasks by default on the standalone broker.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397779 13f79535-47bb-0310-9956-ffa450edef68",2,2
03de4c2d8bcf59e7fc0835584521e255fa298d79,"Added testcase by Rodrigo S de Castro.  Thanks Rodrigo!


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397908 13f79535-47bb-0310-9956-ffa450edef68",0,173
f25e2ca23ec6d005ad361d3392f9c2c87c9571b3,"Applyed Rodrigo S de Castro's latest unit test patch and fixed the redelivery problem.  Redelivery was not being delayed when rollback was called from the message listener.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397915 13f79535-47bb-0310-9956-ffa450edef68",41,109
4009fda30c0a7f25d5c64b3695e1384644c49c04,"Organized imports


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397941 13f79535-47bb-0310-9956-ffa450edef68",5,4
f1a06140667f5b5505874ca8bed9e3935aac2923,"Added a 'noRangeAcks' flag to the ConsumerInfo command



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397960 13f79535-47bb-0310-9956-ffa450edef68",0,106
d67246412d54da8ffafb82d34baa59dfe3c579f3,"added a simple spike of drawing of graphs of queue depths; its pretty basic so far - a bit more work and it could look quite nice :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397975 13f79535-47bb-0310-9956-ffa450edef68",3,8144
f5f1366e4b91c516a15b6551a1a6c56f2edfc507,"Include the prefetch size in the JMX stats of a subscription

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397982 13f79535-47bb-0310-9956-ffa450edef68",0,19
d65ba8034bd10aa45b9b8f0a8cbe72034eb33e67,"Gaurd access to the pending list better.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@397985 13f79535-47bb-0310-9956-ffa450edef68",41,35
807e18f9f9b34923606ac1313c25c74e0e66803b,"- Gaurd access to dispatched list ( a sync was missing).
- Added better exception messages to know what happened when a slave subscription gets out of sync with the master.
- Implemented a simpler isFull()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398015 13f79535-47bb-0310-9956-ffa450edef68",16,22
653a7791f79a8ad55db225417df4c5ac029cb46b,"Disable optimizeAcknowledge for now.  It is still not threadsafe.  Tests fail on on 2 core windows box when this is enabled.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398016 13f79535-47bb-0310-9956-ffa450edef68",1,1
794e8d78803565987dd863cdfcdb49cb55563f05,"Ignore log messages from other software packages by default.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398018 13f79535-47bb-0310-9956-ffa450edef68",2,2
b022a9d8354f5a8060bab98ce4c67a8595110752,"Set instance variables to null so that we don't OOM exceptions when using m2


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398076 13f79535-47bb-0310-9956-ffa450edef68",0,9
29b5ae57a23fa5080e4f2e9bc7207796e1357195,"Making the m2 release look like the m1 release


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398279 13f79535-47bb-0310-9956-ffa450edef68",38,97
6b1682f9490731b47e943cd32864f8627977a01a,"added test case for AMQ-696

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398560 13f79535-47bb-0310-9956-ffa450edef68",0,70
c3efc550841476a65fef790cd6da75253729adde,"Added openwire classes that were generated for the .NET port


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398596 13f79535-47bb-0310-9956-ffa450edef68",1,6
fb47f3aa04ad0b1ae2d094011eb7dc2d38790d20,"rollback mx4j version chnage... 3.x could not be found in a m1 repo


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398621 13f79535-47bb-0310-9956-ffa450edef68",2,2
ff2094c9fde9abb6336fcdc859c4f7ebe4bfc64f,"Use Atom 1.0 by default in demo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398838 13f79535-47bb-0310-9956-ffa450edef68",1,1
045353cde664e56924186f4e13c4c3489d9b742e,"Upgrade surefire-plugin to 2.1.3 (instead of snapshot)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398861 13f79535-47bb-0310-9956-ffa450edef68",2,2
b06de590e0b63d3a20fd71f386e27c2cfd49d055,"ensure that the check of whether or not the ConnectionInfo is sent to the broker - and the clientID created - is thread safe to fix AMQ-696

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398928 13f79535-47bb-0310-9956-ffa450edef68",1,1
fbc8053db8c14266a83f5be2ed402303755086bb,"Use beta2 build of activeio instead of snapshot

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398951 13f79535-47bb-0310-9956-ffa450edef68",1,1
a6a39433b5cb9a0bc8832e2eda2dd6aaa882af81,"tidied up atom and RSS icons and fixed the queue graph to show the queue names on the X axis

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398958 13f79535-47bb-0310-9956-ffa450edef68",15,12
c53bb05cd2e51377a1f43d5d0f9a1be796acc3b6,"disabled logging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@398965 13f79535-47bb-0310-9956-ffa450edef68",1,2
5fd6125b23c8b3836e3ba17c271fb5c4abf741a3,"Bug: Unable to start the generated distribution due to the created run.jar in ""/bin"" dir.
Fix: Added a new assembly execution that will create the run.jar containing only ""org.apache.activemq.console.Main"" and setting the manifest main-class property to the same class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399101 13f79535-47bb-0310-9956-ffa450edef68",10,44
174a581a4ff33ff380d6290994c3a6516ce38f3c,"Modified the version numbers for jar files with dependency error

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399195 13f79535-47bb-0310-9956-ffa450edef68",17,115
778adae0203fccaac7b7c1029fcf9164d635c6ac,"Disabled maven-one-plugin declaration. This forces nightly-build deploy to also update the maven 1 repository. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399233 13f79535-47bb-0310-9956-ffa450edef68",3,3
3cbd06152b6216e3dd7086f53191ae7b5385c6b3,"commented out more failing tests under m2

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399237 13f79535-47bb-0310-9956-ffa450edef68",0,5
9f9fe90d8531af6559362b590d80f3066395211b,"removed some system.out logging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399249 13f79535-47bb-0310-9956-ffa450edef68",9,20
8c933fcc898ae3a186a2c0f6b87997238fbe6fbd,"removed some system.out logging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399250 13f79535-47bb-0310-9956-ffa450edef68",6,6
0afd5a8cf9b82b390704765111d648012de42396,"removed some system.out logging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399256 13f79535-47bb-0310-9956-ffa450edef68",1,0
5e558f82d54cbcc5e84d27affa5f0485a9303140,"removed some system.out logging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399259 13f79535-47bb-0310-9956-ffa450edef68",3,7
2faad432f3af108b600231d1b04ae260e288d2ec,"removed some system.out logging

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399260 13f79535-47bb-0310-9956-ffa450edef68",1,1
15db51ea749718c498b06e45f32e6b381c619c62,"fixed stange compile error when using m2

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399262 13f79535-47bb-0310-9956-ffa450edef68",2,5
5281f8d9328d20e5442e02c23e7da8701683ca68,"minor layout tweak

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399271 13f79535-47bb-0310-9956-ffa450edef68",6,6
91732843ea37c3515b1ce986210b5cb099f39109,"added a tad of whitespace back :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399285 13f79535-47bb-0310-9956-ffa450edef68",15,16
44493e4997fde9100351e531ac9975f655dc0dcd,"added helper methods to Destination POJOs so the MBeans are not required

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399298 13f79535-47bb-0310-9956-ffa450edef68",17,112
b402c79da16d2b8f2bb5a054d45beb2012188dda,"switched away from using the MBeans due to strangeness when used in JSP EL on some JVMs 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399301 13f79535-47bb-0310-9956-ffa450edef68",4,11
f8c47c699803643f47d84006d2d10d1664cac73b,"Added win32 project files to build cms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399303 13f79535-47bb-0310-9956-ffa450edef68",0,992
d818262a1d052cdd5e63a9436a0c9bdd688fe55f,"Added modules created with WebLogic Workshop to demonstrate using MDBs with ActiveMQ and Weblogic

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399308 13f79535-47bb-0310-9956-ffa450edef68",0,677
eaad2f96f903456bf20b66a23a822d9008bdaef6,"magical combination of excluded tests so that the build works on m2

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399312 13f79535-47bb-0310-9956-ffa450edef68",2,6
9ebe333816a89733cec72aed1eb286df85d39208,"Added LICENSE files for the 3rd part modules that we redistribute

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399321 13f79535-47bb-0310-9956-ffa450edef68",0,538
71669cba11062b9c473abebd5f3797686db8eb3b,"ignore empty parameters

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399333 13f79535-47bb-0310-9956-ffa450edef68",1,10
84bee771f81d45dcfef4406db3b691bedfa73d2d,"Moved the php stomp implementation to the stomp project


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399385 13f79535-47bb-0310-9956-ffa450edef68",244,0
c6e0984e1dbf4afce4ac475e3f3c0bc29816bdf6,"Enable optimized ack by default again but disable the broker from sending the prefetch resize command to the client.. the client still has not implemented proper thread safe handling for that.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399530 13f79535-47bb-0310-9956-ffa450edef68",1,5
b36e9f804a9f2c245b57cfc0f65d1a6375910e2d,"added the jetty plugin repo to ensure we get the latest/greatest jars after finding some strangeness when running the web console on a machine which had not done a local build of jetty

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399628 13f79535-47bb-0310-9956-ffa450edef68",0,8
3fc05469369e4e7296197690d847041762a06f6a,"Applied John Sission's patch: https://issues.apache.org/activemq/browse/AMQ-705 Thanks John!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399701 13f79535-47bb-0310-9956-ffa450edef68",0,19
2fd7ccbdf54c00c448bf35b86c2d83e15e0dbd31,"patched the pooled JMS provider to make it easier to configure the size and implementation of the underlying session pool

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399702 13f79535-47bb-0310-9956-ffa450edef68",13,46
fccef1010d772b3f9160ef0bad1d967525f08eb3,"enforced the use of the snapshot jetty plugin to work around some strangeness I was getting

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399704 13f79535-47bb-0310-9956-ffa450edef68",0,1
6e329f7d9e38ac77cd0e99d7c5fa51166d621310,"Avoid NPE in MasterBroker.processDispatch...  a null message is sent to the client to signal end of queue browse.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399710 13f79535-47bb-0310-9956-ffa450edef68",1,2
e25461641e9366384ed1eb9115f3fa76d8b192bd,"Include activemq-web-demo and activemq-web-console in the binary distroy example directory.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399751 13f79535-47bb-0310-9956-ffa450edef68",0,23
b0bacafa0c9006f46b5b41c636bd0117315f5448,"improved the readme

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399755 13f79535-47bb-0310-9956-ffa450edef68",2,6
1f3f66284fec47fdc4f0acd4a85edb8d0a73fac8,"improved the readme

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399756 13f79535-47bb-0310-9956-ffa450edef68",3,8
b29f744014c702e136ac5073ccc08ec9d79fffac,"Fixed references to the test-jar.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399854 13f79535-47bb-0310-9956-ffa450edef68",11,12
ac132020078ea98b0421edd9d8ba315561904e5b,"improved null handling after suggestions from Danielius Jurna

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@399999 13f79535-47bb-0310-9956-ffa450edef68",22,37
89d6fd0a802d9b58306503dcd1d52c8b15ed169d,"avoid NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@400057 13f79535-47bb-0310-9956-ffa450edef68",1,5
9614aa9b4edd5c24ee0bffa623388f976961fa94,"Connection state tracking would cause a CCE if temp destinations were in use.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405206 13f79535-47bb-0310-9956-ffa450edef68",9,15
2391cb0d17f2f17d206726c45304504499d6b767,"- Added means to configure the prefetch and optimizeAcknowledge setting of the connectionFactory in the WebClient.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405397 13f79535-47bb-0310-9956-ffa450edef68",0,16
c4b11a639615d3192ab242bf76d7146383751396,"Minor rename of variable names

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405404 13f79535-47bb-0310-9956-ffa450edef68",6,7
fedc03939cc1d5f4746991a457abdba6e2b402d7,"Allow a local resource to override js scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405482 13f79535-47bb-0310-9956-ffa450edef68",1,12
cb97916c980fdd023c7d8ab940426e1442e70f92,"force session

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405483 13f79535-47bb-0310-9956-ffa450edef68",1,1
075778e346d5dca54f42c961a763d70873ced4af,"minor refactor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405484 13f79535-47bb-0310-9956-ffa450edef68",16,15
3b973bce324b7ce2038b5d8177fb3f240dd9fd21,"made it a little easier to extend the ActiveMQ JNDI provider

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405737 13f79535-47bb-0310-9956-ffa450edef68",17,22
7947655e5f7b2142de869b95a02900826298855a,"Honnor the QoS requested by the client when replicating to the slave broker.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405806 13f79535-47bb-0310-9956-ffa450edef68",3,2
a522d3abf739bcf2f544f378b3f6e4d440ef0eaa,"Implementing a Rapid store which is a mix of the QuickJournal and the Kaha store.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@405807 13f79535-47bb-0310-9956-ffa450edef68",0,1604
e5bbcb532b814176e01ee76ac5cb3efc458ca474,"- Made the consumers in some of the test cases retroactive to enable it to receive messages that was sent before its registration can be processed.
- Enabled SslTransportBrokerTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@406150 13f79535-47bb-0310-9956-ffa450edef68",7,14
60e84b8429553737a2c2fb660c2743d97d4848f5,"applying updates for JIRA issue AMQ-656 (attachment source_060515.zip)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@406628 13f79535-47bb-0310-9956-ffa450edef68",8197,12408
99af763728aaa0e9c19dbe2d2623bcaf121d4fcc,"updated the status file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@407005 13f79535-47bb-0310-9956-ffa450edef68",4,4
d3f09abfd17773ee45065a51bd653bc7a0002bd8,"updated broken links


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@407175 13f79535-47bb-0310-9956-ffa450edef68",4,5
d49ff795fad70048b44656305cf47a93e48bfc8a,"Modify permissions for scripts.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@407463 13f79535-47bb-0310-9956-ffa450edef68",0,13
80cda71326ae9297851789bea6e9a4daca3ce79d,"modify script permission

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@407467 13f79535-47bb-0310-9956-ffa450edef68",0,0
088d52cfd15c63ac6a65edb6f7e93712c715af39,"Added quotes in scripts to allow spaces in ACTIVEMQ_HOME - AMQ-706. Thanks Brad Fritz!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@407470 13f79535-47bb-0310-9956-ffa450edef68",18,18
bca487a2bbcacc69187185d6b9326c9e073ec480,"Use a released plugin for javacc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@407803 13f79535-47bb-0310-9956-ffa450edef68",1,1
0fd46ce6212408191db456865724fac38a8037b2,"Test and Fix for http://issues.apache.org/activemq/browse/AMQ-715


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@407816 13f79535-47bb-0310-9956-ffa450edef68",1,69
e0692dd265c2cdc453e9973e03a2e8ec9d8fb7f5,"Applied fixes for AMQ-717

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@408635 13f79535-47bb-0310-9956-ffa450edef68",945,945
9d0ca025fa42a61a7da99086114672fc606e690c,"fix for AMQ-689 to deal with NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@408636 13f79535-47bb-0310-9956-ffa450edef68",1,3
c172b50ccceadd71a98c91cb8cf6e918ae4cd07e,"failed attempt at replicating AMQ-715 which at least adds a few more test cases

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@408638 13f79535-47bb-0310-9956-ffa450edef68",1,3
deff26029f93f199ea8039d5135c5710f051d99e,"added another attempt to reproduce AMQ-715

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@408640 13f79535-47bb-0310-9956-ffa450edef68",1,53
d671875ebf0eeacfd2d4554d1ff335182804cebe,"Applied patch at https://issues.apache.org/activemq/browse/AMQ-718


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@408776 13f79535-47bb-0310-9956-ffa450edef68",3,7
802f91eb55534eedd014ebc82803527edd3ffdd4,"added back activemq-web on distro

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409104 13f79535-47bb-0310-9956-ffa450edef68",3,5
8383905546244932375ec3f39116b5190ca91b12,"updated the pom so that the javadoc is generated at the apache site

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409105 13f79535-47bb-0310-9956-ffa450edef68",4,2
d97fb0ce6e44c94e75f374f3b809d85e93a96fff,"fixed javadoc 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409129 13f79535-47bb-0310-9956-ffa450edef68",1,1
97998ad6dad9155be5e378d1096f0d8f707a00ef,"Added activemq-web dependency in lib/optional.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409134 13f79535-47bb-0310-9956-ffa450edef68",0,5
9d3b3aef05f2ed95193a9ba0527bd491287eae10,"added better javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409136 13f79535-47bb-0310-9956-ffa450edef68",0,36
06b94f122087388806f9030cfccd6adfe37403a6,"Fix assembly recursive problems

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409145 13f79535-47bb-0310-9956-ffa450edef68",2,2
aa026f1f6a1f385f646ae11d06011d5633834db6,"- Added some of the intial infrastucture needed to be able to use that DataManager to do index file recovery.
 - ObjectMarshaller now avoids doing byte[] allocations.
 - We now store the data item's size in the index file so that when we load data from the data file using a 
   DataItem object, the data payload can be read in 1 io operation, previously an extra io was need to find
   out the size of the payload.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409297 13f79535-47bb-0310-9956-ffa450edef68",78,202
129f879607e02f54834911d5b31a5cffb9f4b2b3,"Changed the KahaStore so that it works with set of data and index managers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409300 13f79535-47bb-0310-9956-ffa450edef68",33,81
cad2107dd710bacd6abee8dd1eec2c79fd49f1ae,"- do layz intialization of the containers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409303 13f79535-47bb-0310-9956-ffa450edef68",26,20
aa049d2ce28b3dcdba0c3b274b1afa576c9aa73e,"Kaha can now journal the changes it makes to the indexes so that they can be used to redo the changes on
failure.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409322 13f79535-47bb-0310-9956-ffa450edef68",69,220
fd43325c2bd5458e5813890ddf62f83cc50d5825,"changes:
1. Fix for assembly build.
2. Fix for jar deploy.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409633 13f79535-47bb-0310-9956-ffa450edef68",13,15
7bcb9dbf4f4a38270f01e5ba38fcb6561e24721b,"enabled nicer JMX integration with JConsole by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409646 13f79535-47bb-0310-9956-ffa450edef68",2,2
10edc94224b960bc0c4c95871443e6e7d9328e73,"used new single goal which avoids the recursive build issue

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409650 13f79535-47bb-0310-9956-ffa450edef68",2,2
14fda24c872b7846667a062a358ba2ba8ff3174e,"Fix for: http://issues.apache.org/activemq/browse/AMQ-726


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409742 13f79535-47bb-0310-9956-ffa450edef68",21,49
a3b0e8ad7f9f6f7aba848cdce13acff32fd936e8,"AMQ-656: Applying patch_060518.zip.  Moving scripts (under gram) to activemq-core. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409828 13f79535-47bb-0310-9956-ffa450edef68",701,422
c834a10a01ba160a0dcbf3cf65d7ac48dcf11942,"Update README.txt and UserGuide to refer to ""Apache ActiveMQ""

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@409832 13f79535-47bb-0310-9956-ffa450edef68",19,20
b8facc37b4ecb58fed3da08b5ba507222d977b68,"Module for performance testing. Temporarily used Tools from activemq-optional.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410428 13f79535-47bb-0310-9956-ffa450edef68",0,498
a10dbf310cb78c83d60ac3917f350a9f619ab680,"Changed https to http in connection repository.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410435 13f79535-47bb-0310-9956-ffa450edef68",1,1
f4160e88744122de3b57d6d92da3d358ae4f165e,"Added different message store broker config in the performance module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410443 13f79535-47bb-0310-9956-ffa450edef68",0,283
52cdf3dd4f8adae9883440ca5d3784022b10b606,"fixed ID issue with assembly plugin - as per patch from Carlos for MASSEMBLY-49

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410455 13f79535-47bb-0310-9956-ffa450edef68",3,2
4bdfd8820899796a8ee143b371b7eb6271283a28,"updated jetty

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410456 13f79535-47bb-0310-9956-ffa450edef68",3,3
faba2162949179a369722de61bb1a643baf01c05,"Plugin to start the broker, run a consumer and producer.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410462 13f79535-47bb-0310-9956-ffa450edef68",0,326
6066ddced4c63dbce067ddcbbeda444c8098ee1e,"Moved Client Tool in perf-plugin.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410509 13f79535-47bb-0310-9956-ffa450edef68",169,3
b2cc86d10c8894d3494cd14bfbefe903912a1b4b,"default broker config

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410511 13f79535-47bb-0310-9956-ffa450edef68",0,47
2139881476f9233f4da50618b7606d95c742756a,"Renamed perf plugin to activemq-perf and added plugin that will start broker in assembly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410534 13f79535-47bb-0310-9956-ffa450edef68",3,11
b36cf8c30bba80bb307ba60788007ed0f0555b9a,"Added javadoc reports

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410601 13f79535-47bb-0310-9956-ffa450edef68",0,7
e45af987615a9c48380d076ffe786c3f7fbe5820,"Added initial spike for support classes for performance measurable jms clients

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410774 13f79535-47bb-0310-9956-ffa450edef68",0,636
e30f3eee4cdbd478d10b607393935ab43e7604c7,"Fix for a compile error

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410778 13f79535-47bb-0310-9956-ffa450edef68",4,0
8afd2f6b01d0b0b5974698d760e3608f519b0b33,"Added a producer tool to the performance tools

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410824 13f79535-47bb-0310-9956-ffa450edef68",5,333
a37fa0d6f36a98d1291145173cf442b7417d3221,"disabled use of activemq-perf plugin to avoid build failing

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@410889 13f79535-47bb-0310-9956-ffa450edef68",0,2
29eef80774c841ca56a01848632781093350f671,"- Added a getClientID to retrieve the connectionID of a client
- Added a getSettings to PerfMeasurable client and remove unnecessary getters.
- Added a PerfMeasurable parameter to the listeners.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411019 13f79535-47bb-0310-9956-ffa450edef68",76,76
dfe552d2f9d9f7369e6243df76e63f374e4a2ed4,"Added overloaded method for createMessageConsumer

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411020 13f79535-47bb-0310-9956-ffa450edef68",0,18
ef7cceafdc8122de838b3716ac6730079d01b09e,"Consumer Client for perf test.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411061 13f79535-47bb-0310-9956-ffa450edef68",0,147
3a92ec38020ce32af03b736caa3ed13ca81c3983,"Added initial spike for the measurement sampler.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411084 13f79535-47bb-0310-9956-ffa450edef68",12,195
16439a4b4e480c114521055f896e50405f921b1a,"Added support for sync and async.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411085 13f79535-47bb-0310-9956-ffa450edef68",26,48
0b8fdcdb9344da81cc27a4351b4bd92395bcbc10,"not used.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411139 13f79535-47bb-0310-9956-ffa450edef68",0,0
c5ce043ca7015a6e007421dae20dcb781a632d55,"fixed compilation error.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411145 13f79535-47bb-0310-9956-ffa450edef68",1,3
5f5bff613e86d193c5cf1df67d5dae8845bc335f,"Updates to performance module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411631 13f79535-47bb-0310-9956-ffa450edef68",1134,1061
d2db87cc0b164efd1090e962fd706c8173617a10,"Fix runtime and compiletime error.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411641 13f79535-47bb-0310-9956-ffa450edef68",13,33
a38f71d5b2dfca75fb6e870cdf8d8bd5f1d1c2e6,"- Added JMS Client system test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411650 13f79535-47bb-0310-9956-ffa450edef68",11,351
7d049c13445cd1b15f1dede062f661de5dfef070,"- Add method to wait for performance sampler to finish

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411695 13f79535-47bb-0310-9956-ffa450edef68",0,14
490407ed18d64ee541ec1d2b71e0533c40a1cd18,"Forgot to notify the waiting threads.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411697 13f79535-47bb-0310-9956-ffa450edef68",0,1
33d70700561fcc9dcb7cc0d7b5b13c7174bf5c93,"Add synchronization block.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411701 13f79535-47bb-0310-9956-ffa450edef68",5,14
ed4f10bd6b0bd0e70b61340aa212a5984e6ee75e,"fixed pom dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411721 13f79535-47bb-0310-9956-ffa450edef68",1,1
dc2919e8ca95a2f1daa47e29844d13bc73be437a,"commented out a couple of tests which seem to fail in m2

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411726 13f79535-47bb-0310-9956-ffa450edef68",1,10
61fcd4cfd1a843d7ff5fd23d60351d7fd1c46c2b,"- Added support for distribution of destinations between clients
- Modify the support for composite destinations

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411727 13f79535-47bb-0310-9956-ffa450edef68",12,118
f533b42f31095ad5b70d57f130fffbce2708a1cf,"avoid NullPointerException

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411728 13f79535-47bb-0310-9956-ffa450edef68",0,3
2db848f32dde0a900486a787c9473b5219fbb649,"added test case for AMQ-736

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411733 13f79535-47bb-0310-9956-ffa450edef68",0,160
871476e195722140e9b4e614ae13f452b1e4dc40,"disabled the UDP tests which fail on some platforms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411743 13f79535-47bb-0310-9956-ffa450edef68",1,4
7a369c4c0c18eff09b7d35339484308a90ac4ea1,"disabled the UDP tests which fail on some platforms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411766 13f79535-47bb-0310-9956-ffa450edef68",1,2
6235a07700f2ea9a471f0ec848d799eaf04bd5c7,"Upgraded to Spring 2.0-M5

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411767 13f79535-47bb-0310-9956-ffa450edef68",1,1
11fd909837542694f16da97f0cfd1ff56f5c5c1f,"disabled the UDP tests which fail on some platforms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411768 13f79535-47bb-0310-9956-ffa450edef68",0,1
90fca6a3a4f892effe1cfc9b6f9bc3a6ab43f44c,"disabled the UDP tests which fail on some platforms

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411770 13f79535-47bb-0310-9956-ffa450edef68",1,1
ce6e1b49452ed1d408fffffb82df41e1d4a8ee6d,"Rolled back upgrade to spring-2.0 as my mvn2 build was confusing me into thinking it actually works :(

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411776 13f79535-47bb-0310-9956-ffa450edef68",1,4
72555fe8346fd813337cbe6e964942cba6b3dad3,"applied patch from Danielius Jurna on AMQ-736 - many thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411788 13f79535-47bb-0310-9956-ffa450edef68",1,0
a4bb58725d561e50c060828b989617760fc8116f,"cleaned up versions and dependencies to remove duplicates and to allow settings.xml overrides

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411792 13f79535-47bb-0310-9956-ffa450edef68",66,129
7976ad976e37ad96461794065efc2cd590faa8a0,"Applied http://issues.apache.org/activemq/browse/AMQ-711


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411832 13f79535-47bb-0310-9956-ffa450edef68",3,3
264f0a3732b70827bac00d6ba6ccfae508a29a0a,"initial support for generating report xml file.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411835 13f79535-47bb-0310-9956-ffa450edef68",56,461
02dff3c0d3954fe000b278130e28548bddd8920d,"commented out performance test plugin.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411841 13f79535-47bb-0310-9956-ffa450edef68",0,2
2b0279a9af096cd2d2e655ce95308a3212f0dbdc,"added test case and fix for AMQ-724

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411881 13f79535-47bb-0310-9956-ffa450edef68",19,233
bc7aa98d4593cb1129ab30b54868f1a9bb0ef1a0,"trunk has moved onto 4.1 development.. if you want to work on 4.0.1 stuff, co the 4.0 branch!


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411906 13f79535-47bb-0310-9956-ffa450edef68",28,30
fa37910edde3e99eae267b78ed97131bd5319178,"Fix 1.4 - 1.5 compatibility issues

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@411967 13f79535-47bb-0310-9956-ffa450edef68",19,20
52602f03772aa7d9bb876af895290e99eb3c4cc7,"Changes:
1. Filename includes some config info of client.
2. Additional test information in the generated report.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412046 13f79535-47bb-0310-9956-ffa450edef68",13,66
11a2950e16b22b1872726aa6f62c595fcd50d8a7,"Fixed error when starting perf test.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412074 13f79535-47bb-0310-9956-ffa450edef68",7,10
d273cf9c8c633340b0dc2dc8e901794984c67aea,"added better exception message if a dataSource is not provided

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412076 13f79535-47bb-0310-9956-ffa450edef68",0,3
a0397468fae85c038e8a20458501e71c9439c59b,"minor refactor to reuse the lazy construction logic of the DataSource across the journaled and pure JDBC persistence adapter

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412110 13f79535-47bb-0310-9956-ffa450edef68",78,121
5128a70420473590e53361f3f60df0a5185ca8dc,"added a better example XML configuration file we can use for snippet macro examples

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412141 13f79535-47bb-0310-9956-ffa450edef68",2,17
cf0570f75e2f9e94f1d52a99706ed1b51a793f8e,"updated the snippet tags

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412147 13f79535-47bb-0310-9956-ffa450edef68",2,2
99b088dcd494d34681540816dba3070e30a929a6,"Changed DataOutputStream to PrintWriter when generating the report xml file.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412256 13f79535-47bb-0310-9956-ffa450edef68",66,60
4fb36fe50c3ddf97a7bfb716cb126949f1eabd91,"Parameter cleanup.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412278 13f79535-47bb-0310-9956-ffa450edef68",273,138
edfe3df36bdd4ff5851ae95e3093a12da85e72f2,"changed prefix consumer and producer to ""client"". Also, the broker can be started in activemq-perftest instead in the assembly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412301 13f79535-47bb-0310-9956-ffa450edef68",31,21
e8b3bdb866d8511e7f8b12b0219b238564f50354,"Added all System properties in the generated report xml file and also included a readme.txt that contains information on how to use the performance test module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412342 13f79535-47bb-0310-9956-ffa450edef68",12,288
e332143fd839832b93a4d412a06e08792410a83d,"Added report template in readme.text and fix when displaying system properties.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412361 13f79535-47bb-0310-9956-ffa450edef68",1,39
ec74dd845ce6e3ff6312ad2ab66d7466f42e4131,"- Added fix for 1.4/1.5 compatibility issue
- Added fix for wrong counting of tokens
- Added test case for ReflectionUtil.java

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412364 13f79535-47bb-0310-9956-ffa450edef68",3,194
51eed37625ec3fe75ebe9374b2f07d8f2084f76b,"Change client prefix to consumer and producer prefix respectively.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412371 13f79535-47bb-0310-9956-ffa450edef68",44,44
741cdeec2b1d58c95e30eb90c7435d12c63b0f5e,"added patch to run broker using a URI
ie. mvn activemq-perf:broker -Durl=broker:(tcp://localhost:61616)?useJmx=false


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412386 13f79535-47bb-0310-9956-ffa450edef68",10,27
15ae52dbd6e861e311c677b9b09093d715fdaabb,"removed unnecessary repo from pom

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412401 13f79535-47bb-0310-9956-ffa450edef68",5,0
332423345501ad84c5fe3939ca09f3fc45135ae2,"Apply patch for AMQ-722

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412408 13f79535-47bb-0310-9956-ffa450edef68",52,70
fbdc95e6a3504a33fa8ab8b87a30b19a38b5afd5,"added back csharp m2 repo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412454 13f79535-47bb-0310-9956-ffa450edef68",109,118
1ff39dbdec7aff4d353439d308f4454a1e495593,"changed the defaults of the performance test mojos to be more normal (folks usually wanna see results for 1 producer/consumer and on a decent box they wanna see it go for about a minute) plus some minor refactorings to make the code a bit easier to maintain

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412467 13f79535-47bb-0310-9956-ffa450edef68",68,69
4b2f4790731a5547ed5c93d71bd0dfaa4b0979f8,"refactored the XML output of the performance tests a little to make it XML compliant and to add a client index so its easy to render the XML in tables etc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412483 13f79535-47bb-0310-9956-ffa450edef68",3,17
663b8a24f9d2553450515c56cf4ff52c6b9a5b10,"Added junit dependency to pom.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412665 13f79535-47bb-0310-9956-ffa450edef68",0,5
c56ae926a5ea617aa5efd870905d63fa4ffd52bc,"- Added default values
- Added checking for NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412670 13f79535-47bb-0310-9956-ffa450edef68",11,20
703d468a49d6f9315826257b7c33482da5ae01c3,"Fixed overflow notification could eventually get into infinate recusion.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412759 13f79535-47bb-0310-9956-ffa450edef68",10,20
b4390246ca918b958b9bafdaffbe4abc473433ac,"Fix for the following exception that could occur:

java.lang.UnsupportedOperationException
        at java.util.AbstractCollection.add(AbstractCollection.java:216)
        at java.util.AbstractCollection.addAll(AbstractCollection.java:318)
        at org.apache.activemq.store.journal.JournalPersistenceAdapter.getDestinations(JournalPersistenceAdapter.java:139)        at org.apache.activemq.broker.region.AbstractRegion.getInactiveDestinations(AbstractRegion.java:193)
        at org.apache.activemq.broker.region.TopicRegion.getInactiveDestinations(TopicRegion.java:254)
        at org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:157)
        at org.apache.activemq.broker.region.TopicRegion.addConsumer(TopicRegion.java:113)





git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412772 13f79535-47bb-0310-9956-ffa450edef68",1,2
c085df44f8b0663a7ee59737e31b2cc49e533882,"updated javadoc comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412781 13f79535-47bb-0310-9956-ffa450edef68",1,23
1b4eb127237fd2b27457b8eb8762281d2bf329c5,"The onSendPrepareMessageBody connection property was not being used.  Removed it.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412783 13f79535-47bb-0310-9956-ffa450edef68",30,0
51daeeeeda587e7aaf0d7d15e99aa2f724dd0b5f,"Added a custom IOException so that apps interested in the Locked journal condition can more easily trap the error.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412797 13f79535-47bb-0310-9956-ffa450edef68",2,44
bf310ef475f17b25cb0a191f634b1a3b32ac1177,"added a helper class to make writing new broker plugins easier (its just one POJO) together with adding a simple LoggingBrokerPlugin

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412801 13f79535-47bb-0310-9956-ffa450edef68",0,228
55ac4358a47f37667ba61649d1e980baa598fc4b,"Implemented:
http://issues.apache.org/activemq/browse/AMQ-742



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412802 13f79535-47bb-0310-9956-ffa450edef68",1,24
682b8c2ccd55c8251934d67a187ffd6e05e35a44,"Moved to activeio-SNAPSHOT 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412806 13f79535-47bb-0310-9956-ffa450edef68",1,1
358bc878132ae0d9f4d2f26bfd42b074174fcca4,"fixed compile error

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412811 13f79535-47bb-0310-9956-ffa450edef68",2,0
f0d409fec6a6018771a6c1b0bd4161f0e1105f85,"fix the scm info for continum.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412813 13f79535-47bb-0310-9956-ffa450edef68",2,8
2054392af21a510ad0eda28f361e511432b16b88,"systest  to check for memory leak

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412933 13f79535-47bb-0310-9956-ffa450edef68",0,1283
4ee5b8c11e73d1686951550461dab790d055e2d0,"included plugin for memory usage  test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412934 13f79535-47bb-0310-9956-ffa450edef68",0,4
21e08377cb2efd7dc0bdedadfa6cd56fc1d23d74,"Remove onSendPrepMessage option

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412946 13f79535-47bb-0310-9956-ffa450edef68",7,1
37e3387bed483586fe74dbda7e0ac55985b2135c,"applied patch for AMQ-731 from Christopher G. Stach II - many thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412950 13f79535-47bb-0310-9956-ffa450edef68",1,3
a1ba6e0325f5af18f958104b603779635e9064ed,"Updates:
1. Added plugin that will start Broker
2. Updated assembly pom to include the new plugin but still commented out.
3. Updated memtest plugin dependency version config.
4. Updated root pom.xml to use https on scm connection.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412955 13f79535-47bb-0310-9956-ffa450edef68",13,188
8f3f4e1ae05973f16c92535f38d8a444d9bd2b16,"Fixed pom.xml format error.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412958 13f79535-47bb-0310-9956-ffa450edef68",2,2
7a386be93891dc331260160d0d76ced959f17f25,"set default for optimize acknowledge to false
For performance - recommend use DUPS_OK acknowledge - at least its clear what your going to get -
and it performs better too

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412964 13f79535-47bb-0310-9956-ffa450edef68",2,2
cf1fc15ad5edff89018224b21741429f11f3d949,"fixed m2 build on java1.4

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412970 13f79535-47bb-0310-9956-ffa450edef68",0,10
8eb04d6b95a450019b05ccf8e4ddc62a98dbe218,"Bug: run.jar is not correctly created.
Fix: added ant plugin to crete the run.jar because the assembly plugin doesn't correctly create it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@412975 13f79535-47bb-0310-9956-ffa450edef68",3,28
c3d8fe18d4f78fb085070c269b32959793be6cf5,"tidied up the namespaces

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413008 13f79535-47bb-0310-9956-ffa450edef68",3,3
6d115cf7a56f8c43ec98973527d99116d0b46812,"tidied up the namespaces

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413009 13f79535-47bb-0310-9956-ffa450edef68",2,2
2c8b312bdab334694f4cdc9673af9aec3f170405,"excluded failing test for AMQ-724

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413014 13f79535-47bb-0310-9956-ffa450edef68",0,3
584288dbe9705bf55acd400298e56d38fb89a822,"https://issues.apache.org/activemq/browse/AMQ-732

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413521 13f79535-47bb-0310-9956-ffa450edef68",1,1
54515313716733ae95d17044d2cc26456c3bcc6b,"updated snippet macro

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413621 13f79535-47bb-0310-9956-ffa450edef68",2,2
fcc9ae70b15082ee67815a58feb3b1c36db454cf,"disabled another multicast test to get the m2 gbuild working

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413648 13f79535-47bb-0310-9956-ffa450edef68",2,2
77c889d19e89f467b369fe3a6879aa2619f13028,"- Added a configurable report generator that could generate output either verbose or to an xml file.
- Using sysTest.reportType=[verbose|xml], default is xml.
- Xml output also displays a summary verbosely.
- TODO: Update the mojo to accomodate the additional option.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413651 13f79535-47bb-0310-9956-ffa450edef68",278,903
e0efebea98db365ee7922c0b3b62729ebd2da30c,"- Remove the property consumer.consumerName, since this has been replaced by consumer.clientName
- Shortened the default name of the xml file.
- Added additional summary information.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413666 13f79535-47bb-0310-9956-ffa450edef68",18,30
855076cee3fd933ccf0f336315420910b7aa7cc1,"Updated ignore lists

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413670 13f79535-47bb-0310-9956-ffa450edef68",0,0
c1a0cd6875ad04dc384ef484e00788cb2f4c51c0,"http://issues.apache.org/activemq/browse/AMQ-714

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413674 13f79535-47bb-0310-9956-ffa450edef68",2,42
7dafbb582fbba60c1797cf15af298c7ab6cc8913,"http://issues.apache.org/activemq/browse/AMQ-734

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413679 13f79535-47bb-0310-9956-ffa450edef68",1,1
e264e6f9d1e8e5bcea7d1e30df8793731c608451,"http://issues.apache.org/activemq/browse/AMQ-682

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413733 13f79535-47bb-0310-9956-ffa450edef68",12,8
e9e8fd147d6fa21a024929fcc8cdc2afa9e2b83d,"Fixing AMQ-664 - making broker assign JMSTimestamp to all incoming stomp messages.  Updating unit tests to verify timestamp is received properly via JMS.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413769 13f79535-47bb-0310-9956-ffa450edef68",0,7
021a2afd88ca334e789782a98b0a72ecafdaec94,"Implementing AMQ-748 - adding optional request-id header in connect message and corresponding response-id in the connected message.  Updating StompTest to verify.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413770 13f79535-47bb-0310-9956-ffa450edef68",42,63
d6c2de6b8cb675f493bf5de1a41ef1d0d291d256,"Added support for reportType parameter.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413787 13f79535-47bb-0310-9956-ffa450edef68",2,16
1f93e11accb39972aee8563183d9680ba75f9595,"Added getter and setter for reportType

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413790 13f79535-47bb-0310-9956-ffa450edef68",0,8
789d2da20c0d304a68017c389d99f5ff191ac50c,"Added support for bstat --help, bstat -h, and bstat -? (AMQ-702)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413796 13f79535-47bb-0310-9956-ffa450edef68",2,21
8ce74fa439cabc51b562bf936a8011111c6bfea4,"removed Java 5 dependency - naughty Nathan :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413838 13f79535-47bb-0310-9956-ffa450edef68",1,1
97f311f89843ceb54fadca237025a764316dc5ce,"Adding a little mojo that will allow us to create a repo for activemq dependencies.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413960 13f79535-47bb-0310-9956-ffa450edef68",0,238
2e018cc5acd76b2600cae1d12514bb8cc6bcd513,"updated pom


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@413961 13f79535-47bb-0310-9956-ffa450edef68",0,23
2fa88148e546295b9002cf8a58eb76c827e91bc8,"aco - added a way to configure the delivery mode of the producer

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414029 13f79535-47bb-0310-9956-ffa450edef68",5,37
18aa6dd34a2969277f4b725c5b1afa56c5bd0cd7,"changed snippet macro

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414154 13f79535-47bb-0310-9956-ffa450edef68",2,2
5f318d3aef2053f4d201eede4063dfad0436cd3d,"Applied http://issues.apache.org/activemq/browse/AMQ-699

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414441 13f79535-47bb-0310-9956-ffa450edef68",14,17
c2a51115cd0a2efede4cb24ba2c25178c684400e,"Applied http://issues.apache.org/activemq/browse/AMQ-608 thanks Kevin.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414443 13f79535-47bb-0310-9956-ffa450edef68",16,16
6355225b133d3eded826077b6071931615612e24,"Set the clientID of the connection for durable subscribers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414502 13f79535-47bb-0310-9956-ffa450edef68",2,17
da93e413c1af54f984bf74250c0f8892eb0ee08e,"http://issues.apache.org/activemq/browse/AMQ-752

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414592 13f79535-47bb-0310-9956-ffa450edef68",1,10
75270affd846c5ef6ae0c0a81ba4af1d5cd71ac8,"http://issues.apache.org/activemq/browse/AMQ-749

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414595 13f79535-47bb-0310-9956-ffa450edef68",17,20
dee685f73c67a87b731135146daddedb9cc47cee,"http://issues.apache.org/activemq/browse/AMQ-725

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414610 13f79535-47bb-0310-9956-ffa450edef68",0,43
f6041bb83946e1b418046d72216914bc3f73cb9e,"http://issues.apache.org/activemq/browse/AMQ-710

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414640 13f79535-47bb-0310-9956-ffa450edef68",13,13
944f9d60d71f3a7c1531b7a0d41ff9e17dc344bf,"http://issues.apache.org/activemq/browse/AMQ-754

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414652 13f79535-47bb-0310-9956-ffa450edef68",7,78
60ba9da302b4265f6e7104bc0db0dfffe91cfc1d,"tidied up the example JNDI

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414808 13f79535-47bb-0310-9956-ffa450edef68",4,0
319033f7129fa96dcf07a9deb141938b7a15d5b6,"added patch to handle timeout exceptions gracefully

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@414823 13f79535-47bb-0310-9956-ffa450edef68",4,14
b3748b4fd8acd595c6bd59c68e82b0b3bf863ca3,"http://issues.apache.org/activemq/browse/AMQ-759

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415036 13f79535-47bb-0310-9956-ffa450edef68",1156,12
87dcdce23992781dd047a09ff028bcee9f33d0ca,"added better javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415293 13f79535-47bb-0310-9956-ffa450edef68",1,10
4c4f86a0d8523eb9fca630b181ce2b90e28940a6,"applied patch from Christopher G. Stach II for AMQ-747 to allow redelivery backoff to add a collision avoidence capability. Many thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415300 13f79535-47bb-0310-9956-ffa450edef68",12,57
0f1dccee3797645e8df7ddaa40972e8fce08ffac,"applied patch from Jason Sherman for AMQ-753 to expose the remote connection address in JMX - many thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415306 13f79535-47bb-0310-9956-ffa450edef68",12,89
140daf436c936fae9f9d6d715d76ee9c72010bd2,"applied patch from Jason Sherman for AMQ-753 to expose the remote connection address in JMX - many thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415307 13f79535-47bb-0310-9956-ffa450edef68",2,10
65e40d03dab60518072515670a87b4d2471badaf,"The ItStillMarshallsTheSameTest looks like it's passing
Also did some work to get the http://jira.activemq.org/jira/browse/AMQ-522 to pass.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415356 13f79535-47bb-0310-9956-ffa450edef68",4,7
3850704161bdaf7a47fe1e131c637668e182c084,"added a better error message if deployed on GlassFish and no connection manager is configured

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415543 13f79535-47bb-0310-9956-ffa450edef68",1,4
b695b490b26d627fd8cca451c9d16d11ff8f28c2,"fix for AMQ-663 to add more attributes to the subscription MBean

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415641 13f79535-47bb-0310-9956-ffa450edef68",10,108
ca067a6bbb91bbe1d8e3878b1ececd0449ae85b4,"added support for arbitrarily nested Map or List properties on Message together with nesting on MapMessage to fix AMQ-757. For more information see: http://activemq.org/site/structured-message-properties-and-mapmessages.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415642 13f79535-47bb-0310-9956-ffa450edef68",35,296
1a2c507d2f3e48500a4ee2b87ed468a0067a537d,"Use redirect to file when running tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415670 13f79535-47bb-0310-9956-ffa450edef68",1,2
661b281984025801d0326a4c0e58e32cc979c783,"added a dummy test case to avoid the surefire plugin barfing

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415722 13f79535-47bb-0310-9956-ffa450edef68",0,34
26c45dee0a1ab8275647d9961f7702f092494ab7,"added plugin repo for latest surefire plugin

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415729 13f79535-47bb-0310-9956-ffa450edef68",0,5
6fbb56868ff7d11c28c55ca2134c2a93e3a778d3,"changed parameter handling to impose a strict ordering to avoid reordering of messages by client libraries

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@415827 13f79535-47bb-0310-9956-ffa450edef68",24,40
ab027d08673aca992e00741a8a3f1b0543b8936f,"only have a single outstanding send to avoid out of order messaging. improved batching

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416324 13f79535-47bb-0310-9956-ffa450edef68",19,11
f1c6e4c663bc8fb7b9b11ead9bee800006b3e6bb,"- Redesigned the perf plugin
- Added the cpu sampler for linux using vmstat (no summary as of the moment).

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416542 13f79535-47bb-0310-9956-ffa450edef68",2074,1802
80bf2417f1452a5160f43d1ff28bf706025b4e8e,"- Redesigned the sampler and added the cpu sampler.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416547 13f79535-47bb-0310-9956-ffa450edef68",0,345
0f59ecc43341b23b63a2965e98f6031c48dfc89f,"- Added null checking during property set to prevent NPE

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416549 13f79535-47bb-0310-9956-ffa450edef68",19,33
75bf37eaaa96697a2d6450f2ef20b1cd18af3db4,"Change the readme.txt to readme.html that is based on the wiki.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416584 13f79535-47bb-0310-9956-ffa450edef68",305,569
127a36a02bc3cb5c8d2d5bb9a7cc92f47b644641,"- Added properties and display for provider name/version, jms version, and jms properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416592 13f79535-47bb-0310-9956-ffa450edef68",0,41
ac86d4d01ec1bac8b11d634f1961608df93ad706,"- Beautify the format of the connection metadata

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416598 13f79535-47bb-0310-9956-ffa450edef68",4,16
4bcac89d49d5b93d534de8cb5d4ee4b5fae5bb68,"Fix 1.4 compatibility issue.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416631 13f79535-47bb-0310-9956-ffa450edef68",1,2
6a794d8a60b704e5dd250e4086ee09950f8367ff,"Fix configuration bug for factory and ActiveMQPojoSPI

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416637 13f79535-47bb-0310-9956-ffa450edef68",23,23
990b852b42cb06cd100654046087d48da0ba7be0,"added optional poll delay to amq.js

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416640 13f79535-47bb-0310-9956-ffa450edef68",2,13
4225a4937b7e9d1f6ce2195780dd2c0f2121df52,"fixed local resource override of js

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416641 13f79535-47bb-0310-9956-ffa450edef68",2,3
6b0f75c0e11095699b05234735e21162e7a36c99,"specify version

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@416645 13f79535-47bb-0310-9956-ffa450edef68",0,1
a6f93512b426f121f67c5758cd99a454f777fe22,"- Modify delimiters for cpu sampler data

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417128 13f79535-47bb-0310-9956-ffa450edef68",10,10
cc1986ff12fd54af6fde60514e600eb2445450bf,"Modify the vmstat plugin as it was returning only the summary previously.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417341 13f79535-47bb-0310-9956-ffa450edef68",40,103
b1d2279145fabb100625c952969c6cc9ee70c3f4,"Added an index field in the cpu data result.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417346 13f79535-47bb-0310-9956-ffa450edef68",1,1
ffcbd0c015c45270fab45fd20cd1592067569ff4,"Fix the setting of the connection metadata

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417391 13f79535-47bb-0310-9956-ffa450edef68",21,21
6086520836c0e19ec362096ec08d497daba4cf62,"Added ability to load extension dirs to the spi classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417653 13f79535-47bb-0310-9956-ffa450edef68",11,92
faff4999f462676585e0dcdaa3918bf9e99fef78,"Minor API change.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417658 13f79535-47bb-0310-9956-ffa450edef68",4,4
0dbcc1f4af7afb19e82c30bda98752204a5b75cb,"Modify the reflection utility to be able to recognize property of type object and setter with string param.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417699 13f79535-47bb-0310-9956-ffa450edef68",118,156
a783a42f7a2b9d7f490c384655e94b8b40d16f28,"Modify the producer and consumer system to recognize -D parameters

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417701 13f79535-47bb-0310-9956-ffa450edef68",6,14
e8952f6b37d1df4238bcc983fedac1ec0802e6ec,"support networkTTL as an option

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417734 13f79535-47bb-0310-9956-ffa450edef68",4,23
7606053815c5944ad0299587e85ded5f4067d7a0,"test case for: http://issues.apache.org/activemq/browse/AMQ-755
ensure temp destination infomation is propagated around network of brokers correctly

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417744 13f79535-47bb-0310-9956-ffa450edef68",0,95
b583afccc29688fbad89dde7b6a2175c943e1502,"- added option to run test on Jboss MQ.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@417927 13f79535-47bb-0310-9956-ffa450edef68",0,47
52105b6c251bcc5180e8014b651827720c1c368e,"Added option to specify a properties file to configure the system

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418007 13f79535-47bb-0310-9956-ffa450edef68",26,48
2026e6e83187b35cf79bf5ee5ddfd2bdc4b23310,"added extra test case from userlist

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418022 13f79535-47bb-0310-9956-ffa450edef68",0,7
35fb3d1c84d5fb523f39abe5766b51eb5bbcda98,"http://issues.apache.org/activemq/browse/AMQ-780


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418119 13f79535-47bb-0310-9956-ffa450edef68",39,111
f5ffb392437d7f04979f4ed2ce75a907380b6eb9,"http://issues.apache.org/activemq/browse/AMQ-781

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418123 13f79535-47bb-0310-9956-ffa450edef68",3,5
9c135637f90e0a6dc78201db9e79fb370e334344,"Eliminated an unneed Thread.currentThread().interrupt();

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418156 13f79535-47bb-0310-9956-ffa450edef68",19,9
24d8986cee13b7c14333026912e7cd034231f5c8,"Allow the connector to override if async dispatch is allowed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418162 13f79535-47bb-0310-9956-ffa450edef68",1,11
a53b2e80c6232b33b119eec9df00bc440dd1c4fb,"Allow the connector to override if async dispatch is allowed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418164 13f79535-47bb-0310-9956-ffa450edef68",1,1
2f7da7fa9b0952bcc58f891c4212f73b222e7526,"added to support SwiftMQ. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418212 13f79535-47bb-0310-9956-ffa450edef68",0,57
686db796b99b6e0e198ebcbe54dad9f400922b52,"If sessionAsyncDispatch==false we do not need to create a session thread.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418285 13f79535-47bb-0310-9956-ffa450edef68",16,18
d0c46a77265f4569ee78e972ea9861b09bde1cc7,"If the server and client are configured to disable async dispatch, the servlet could cause a deadlock due to the way
it was syncing on the WebClient     


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418306 13f79535-47bb-0310-9956-ffa450edef68",16,16
1e54538e69f2a39cef7347f546656822bf7e3fc0,"Support a destinationOptions servlet parameter that configures the destination options used on a destination

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418311 13f79535-47bb-0310-9956-ffa450edef68",1,8
6a9d59658be8f383bd8a0614517882fb61a0405a,"Added apache copyright headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418349 13f79535-47bb-0310-9956-ffa450edef68",0,32
edf3ba702cc4ce14ac80cdb32c132e14706f0844,"Remove third party MQ implementations pending further discussions.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418358 13f79535-47bb-0310-9956-ffa450edef68",136,0
66f759123b155f5176309cbf8d6b11fa9d3259c4,"We should not be checking in ide project files since maven can generate them

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418372 13f79535-47bb-0310-9956-ffa450edef68",38,0
8905b967bbe68797e8201ad8f5be27760c4172c5,".project file should not be checked into svn

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418378 13f79535-47bb-0310-9956-ffa450edef68",14,0
a49e0850f7bb58cbf6c0461a9f85eb34df687efe,".settings file should not be checked into svn

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418379 13f79535-47bb-0310-9956-ffa450edef68",5,0
311cd54b7827fc6a9eb97184cbaa84945b49aa1a,"Updated pom so that when you do a mvn clean, it does not affect your eclipse project

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418380 13f79535-47bb-0310-9956-ffa450edef68",2,9
a5379026138619fc95e20940939b45aedeb99b11,"http://issues.apache.org/activemq/browse/AMQ-787

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418413 13f79535-47bb-0310-9956-ffa450edef68",1,24
0da70121d415552f772f3bf380300ae70a2d7812,"Put data file under target directory


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418422 13f79535-47bb-0310-9956-ffa450edef68",2,2
47abda2a7d26629ef8428000c664af6f9487bc4c,"Trying to get this to pass more reliably on linux


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418424 13f79535-47bb-0310-9956-ffa450edef68",18,15
5401cf8365ae56a0662fb648738fca94a178d10a,"added some debug to see when consumers are added and removed.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418435 13f79535-47bb-0310-9956-ffa450edef68",1,4
4404311534d6c418e6c6db1b10ffd60c9c81bafd,"Make this guy succeed on linux


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418436 13f79535-47bb-0310-9956-ffa450edef68",2,6
6f9cfad67b7056879facf98f0f842281ccb7caa2,"Changed tests so that the data files are under the target directory


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418437 13f79535-47bb-0310-9956-ffa450edef68",11,11
9befb114358205afe025f8e9a92324f874f54572,"http://issues.apache.org/activemq/browse/AMQ-788

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418486 13f79535-47bb-0310-9956-ffa450edef68",26,44
7f0e13571f8547f1f079dbc4cfc3bba42f646e9e,"http://issues.apache.org/activemq/browse/AMQ-406

You can now configure the prefetchPolicy and redeliveryPolicy using the jndi properties.
You can also do it using the Broker URL



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418495 13f79535-47bb-0310-9956-ffa450edef68",13,126
3a4f3d5bd9afb69f124b8a31adf2229b243cab5e,"Fixed ItStillMarshallsTheSameTest



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418496 13f79535-47bb-0310-9956-ffa450edef68",25,5
e423bc58a03f3f02212f1696f96b8fb3e5929468,"http://issues.apache.org/activemq/browse/AMQ-789

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418497 13f79535-47bb-0310-9956-ffa450edef68",1,13
b4b8499be5cff49f89273a654dcfee8266d7f655,"Cleaned up TCP transport a little.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418548 13f79535-47bb-0310-9956-ffa450edef68",86,95
6d550302a2a606415abb9bdc1fd18c9af5c7a84f,"Enabled working test


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418549 13f79535-47bb-0310-9956-ffa450edef68",2,4
dc98d967b59397aa1e977e4006c78fda4297a367,"Added a new/highly refactored version of the STOMP protocol implementation.

The biggest difference between this and previous implementation is that conversion between the STOMP protocol and 
the ActiveMQ protocol happens at a Transport Filter layer instead of doing it all at the WireFormat layer.

I think this has resulted in cleaner code since there's a better seperating between marshalling/unmarshalling of 
the STOMP protocol and converting the stomp protocol to the activemq protocol.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418550 13f79535-47bb-0310-9956-ffa450edef68",2,1308
1ac3421e361f62f938bc3d306cb7290f40e68581,"Fixing http://issues.apache.org/activemq/browse/AMQ-724, async exception could close a connection while a new consumer is being added which resulted in the consumer not being removed from the
broker when the connction was shut down.

Danielius Jurna, thanks for the great bug report and problem determination!



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418592 13f79535-47bb-0310-9956-ffa450edef68",7,59
530884a2d99104a864531b27132e2a0ae825f996,"Better protocol error handling.
Fixed http://issues.apache.org/activemq/browse/AMQ-649



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418602 13f79535-47bb-0310-9956-ffa450edef68",130,207
be742f233988761f5804b572d8df2dd7838630be,"Receipt action was not being populated.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418617 13f79535-47bb-0310-9956-ffa450edef68",1,2
7113c5efd8de177c549f53774291936243a83093,"Fix for
http://issues.apache.org/activemq/browse/AMQ-665


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418618 13f79535-47bb-0310-9956-ffa450edef68",1,9
0d9c764bf5411770a4b63a3c29f9788f457f403f,"NPE checking

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418683 13f79535-47bb-0310-9956-ffa450edef68",1,8
6d9e5b59518ec6f8ad3e577f2a2e300087d25a43,"Add some info when loading properties and extDir files.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418686 13f79535-47bb-0310-9956-ffa450edef68",3,4
20f08f48a8cc12b4004faa1987e354dee0326783,"Added warning message if file is not found.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418688 13f79535-47bb-0310-9956-ffa450edef68",8,13
7a853a45bfef228d58990fdab6a8e0b40ce45123,"Initial import.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418748 13f79535-47bb-0310-9956-ffa450edef68",0,0
be47d4066cf01141336a0b857b2f08d736418960,"AMQ-517 - adding activemq-cpp project to support integration of c++ stomp and openwire projects.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418749 13f79535-47bb-0310-9956-ffa450edef68",0,36125
0803e6308bd7936ed39beb4822247d7929240c41,"preserve the exception stack trace when the activemq script fails - see AMQ-790 for detail

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418765 13f79535-47bb-0310-9956-ffa450edef68",1,1
98dcd68429cb19d9cbd8e0a165fdbbf8790dbe41,"log the exception stack trace when the activemq script fails - see AMQ-790 for detail

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418766 13f79535-47bb-0310-9956-ffa450edef68",0,1
8a960016ede3b90ead640c2ba5a1363672232e7a,"Fixed compile flags for Mac

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418777 13f79535-47bb-0310-9956-ffa450edef68",1,1
96f78a2c088e1d82787fad4bb67850ccce85ed19,"patched the #ifdef stuff to work nicely on OS X - not sure why defined(unix) is false

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418786 13f79535-47bb-0310-9956-ffa450edef68",36,36
b9d303224620864b80c382ba9d28bc1e2d91237b,"removed dependency on XBeanBrokerService so that a regular Spring XML file can be used that just instantiates BrokerService directly to fix AMQ-790

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418790 13f79535-47bb-0310-9956-ffa450edef68",3,3
10fe0ff7fa9bab38db7997de79f9c40229ea66aa,"Making build more m2 friendly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418798 13f79535-47bb-0310-9956-ffa450edef68",3091,3
c250fa5f6c7d43dbfe04773fc03d5018b8b857fd,"fix for http://issues.apache.org/activemq/browse/AMQ-792
enable setting async dispatch for consumers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418824 13f79535-47bb-0310-9956-ffa450edef68",1,1
cf7ee97cf663d12e77a68bcc0637430641a7e1ec,"Fix setting of client ID to enable to run jboss durable subscriptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418900 13f79535-47bb-0310-9956-ffa450edef68",10,3
cedf2fc4081aa08c1e8a17d6aac93de68960acc9,"Added AMQ common test settings properties files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418921 13f79535-47bb-0310-9956-ffa450edef68",0,1566
76d2eccf7c58a4a7900fe164d978011189084542,"Commented out the factory.brokerURL property

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418924 13f79535-47bb-0310-9956-ffa450edef68",21,21
9f3fcde5666235be4e695142e09617f6fa0d0f77,"Fix bug in ReflectionUtil in recognizing ReflectionConfigurable nested objects

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418964 13f79535-47bb-0310-9956-ffa450edef68",2,101
480433bd7414d22229fc1c03745fef7c30bbab55,"fix for AMQ-792 to allow the async dispatch of messages to consumers to be easily configured & properly documented the javadoc. For more detail see http://activemq.org/site/consumer-dispatch-async.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418966 13f79535-47bb-0310-9956-ffa450edef68",23,67
db39e50583eaba7e0f0293b6de7253afcfb42565,"updated test case to not use the default value of dispatchAsync from previous commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418967 13f79535-47bb-0310-9956-ffa450edef68",1,1
4b08ea5c0406d88d8be37f74f3439464f0a9111b,"updated the javadoc of the connection & factory classes to match the documentation on the wiki http://incubator.apache.org/activemq/connection-configuration-uri.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418970 13f79535-47bb-0310-9956-ffa450edef68",22,88
0c2c5c6a19aee93a8f08b59d04d43d198227b68f,"spring cleaning; catch bad ackMode configurations and throw an exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418987 13f79535-47bb-0310-9956-ffa450edef68",0,3
9324b597ac7c8c65128ad3a917e494e8a5f2841e,"attempted patch to issue brought up on the user list: http://www.nabble.com/AMQ-4.0-with-Oracle-Persistence-and-XA-Transactions-tf1888956.html#a5165822

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@418993 13f79535-47bb-0310-9956-ffa450edef68",1,4
399981fe74ace6fc1b6469ac7178111e23b46b28,"Allows the stomp client to accept a variable amount of while space between frames.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419004 13f79535-47bb-0310-9956-ffa450edef68",24,39
1f6aa57df62ae72d75a44ad61d859d499f6ca196,"Removing old stomp implementation since the new one seems to be working better and has been verified to have fixed some bugs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419012 13f79535-47bb-0310-9956-ffa450edef68",1880,2
98b61e439e40f1cdeb18b38ccd11113eb841b8c3,"Moved the stomp2 package to stomp.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419014 13f79535-47bb-0310-9956-ffa450edef68",15,15
4493e89ed71634a5e115b7097d477fa46c475eac,"Echo the linker command being used and add a dependency on the activemq libary to the test executables.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419043 13f79535-47bb-0310-9956-ffa450edef68",2,8
466ccddc1fde7810cd5d1ee91cf50f4b10518473,"made it possible to disable advisory message support for AMQ-794

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419049 13f79535-47bb-0310-9956-ffa450edef68",1,15
4383d00d81456f3e29dc4c27eacbba49c381fa3e,"added an example and test case of configuring the JMS to JMS bridge using the XBean format rather than the pure Spring version thats currently on the wiki - see http://incubator.apache.org/activemq/jms-to-jms-bridge.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419058 13f79535-47bb-0310-9956-ffa450edef68",8,133
36278a2c26f60d8bdc2e6bc78018f40de949feeb,"Disable advisory support in performance broker configurations except in the default configuration.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419127 13f79535-47bb-0310-9956-ffa450edef68",7,7
8b215705a264a30d81e6708b15f51738715aab4d,"Don't depend on java 1.5


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419156 13f79535-47bb-0310-9956-ffa450edef68",2,2
104305bac0b2f7f5d75631938eb0287f9f96bbde,"Fix 1.5 dependency


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419238 13f79535-47bb-0310-9956-ffa450edef68",2,3
5b26cd83c91b34e9eeddd50b21d8803e89eb5918,"Preserve the original META-INF data of each bundled jar.  Only inlucde ""jar"" artifacts


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419267 13f79535-47bb-0310-9956-ffa450edef68",4,23
a49017fb10cb831d46943bec03a4ada17323c16b,"switch to /www/people.apache.org/

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419307 13f79535-47bb-0310-9956-ffa450edef68",3,3
8b0f2930a381f4000ae1fbcb8d0c1826cd95fd1e,"To get the openwire generation scripts to work under maven2, I first needed to create a gram plugin.  This module should eventually move the the groovy project since
it would be better maintained there.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419352 13f79535-47bb-0310-9956-ffa450edef68",0,248
fcb5d9ed5f7aaf049d32311161038b1db435d972,"Created a activemq-openwire-generator module which will hold the openwire code generation scripts.  This will be used in conjunction 
with the m2 gram plugin to generate openwire marshallers under maven 2.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419354 13f79535-47bb-0310-9956-ffa450edef68",0,4272
a4b13add627fe00f3f280450d0e0c874bbb0d2f3,"Configure our use of the gram maven plugin so that it generates the openwire marshaller source code.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419357 13f79535-47bb-0310-9956-ffa450edef68",0,30
65162d01333b2ce0bd9cfe179cdcb556e8ac1959,"Set the eol type to native.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419365 13f79535-47bb-0310-9956-ffa450edef68",27397,27513
a88906f0e4fd710477b821c88440431308954615,"set the eol to native 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419366 13f79535-47bb-0310-9956-ffa450edef68",6092,6375
9f7dcf713982c445bc88cc22b20dcc9962540c5c,"setting the eol to native


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419368 13f79535-47bb-0310-9956-ffa450edef68",298,298
1c0d2eb88672a318b62b7dfd7007cade0d03ba80,"set the eol style to native


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419370 13f79535-47bb-0310-9956-ffa450edef68",1376,1376
e454d9e52abb6407d8e07e9dbc0fa252f1234d93,"set the eol style to native


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419371 13f79535-47bb-0310-9956-ffa450edef68",11696,11696
ae69568307d41c5a8b0c5cdcd205bd205c90f100,"Setting the eol style to native


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419411 13f79535-47bb-0310-9956-ffa450edef68",4,427
36aa31a734fb930b7e2c5d757b3ce56b3b784a07,"Added to the svn ignore list


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419417 13f79535-47bb-0310-9956-ffa450edef68",0,0
7c416e5f4afaaef3916fd431e73c1fb4bb9349d2,"set the eol style to native


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419422 13f79535-47bb-0310-9956-ffa450edef68",13708,13708
8245f68d7963266723fc6b596c12af6876832e7b,"Issue: For some reason, pom of maven-war-plugin is not downloaded when a central repository is declared in pluginRepository.
Fix: Removed central entry in pluginRepository since it is also included implicitly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419485 13f79535-47bb-0310-9956-ffa450edef68",904,899
7c6798ad8d83980185ae2ff492c0b83e47ed324a,"permission config doesn't have an effect when deploying using scp. Changed it to scpexe instead.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419503 13f79535-47bb-0310-9956-ffa450edef68",3,3
a48afebe70337999484d0c2dbc893a5a824f073f,"Adding example of usage for activemq-cpp - will be displayed on the wiki

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419586 13f79535-47bb-0310-9956-ffa450edef68",0,0
ec77ecd315f1d8ef94c68113ace3b73b1580c51b,"Adding example of usage for activemq-cpp - will be displayed on the wiki

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419587 13f79535-47bb-0310-9956-ffa450edef68",0,243
1a447b896bd44e18491f9130c17319baf6418ac3,"(AMQ-797) Fixing windows build for activemq-cpp

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419611 13f79535-47bb-0310-9956-ffa450edef68",4,8
a5971e69ab96ba5ecde47f06bfe3e6f9d4c955f3,"disabled test case which keeps hanging on my machine

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419620 13f79535-47bb-0310-9956-ffa450edef68",16,30
06a5829c14237418e142b4c79ed3777aed837de6,"added a helper method so a BrokerFilter can lookup all the active destinations for a specific wildcard which can be useful for implementing things like AMQ-452 to support virtual destinations

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419629 13f79535-47bb-0310-9956-ffa450edef68",8,60
16d403f5354ff7428e54f78ea0fbd360b54259b1,"http://issues.apache.org/activemq/browse/AMQ-799


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419753 13f79535-47bb-0310-9956-ffa450edef68",2,8
d320676ae1d031f61f7ee099b5aedf844a874296,"http://issues.apache.org/activemq/browse/AMQ-800


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419761 13f79535-47bb-0310-9956-ffa450edef68",0,217
c9ab0d01d1c25adc6b306cba48e345014d1fbc7c,"moved the tests across from the assembly module that can be run inside the activemq-core module

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419841 13f79535-47bb-0310-9956-ffa450edef68",0,720
c06ad3169261352cacdba8f8f9e3801cbb9535ff,"moved the tests across from the assembly module that can be run inside the activemq-core module

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419842 13f79535-47bb-0310-9956-ffa450edef68",0,0
a677c21240ac154a9fdd4cb1aca9001a5cb16472,"moved the tests across from the assembly module that can be run inside the activemq-core module

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419843 13f79535-47bb-0310-9956-ffa450edef68",0,6012
8cff4529607cfe6edccf5b33085aba0b96388357,"moved the tests across from the assembly module that can be run inside the activemq-core module

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419844 13f79535-47bb-0310-9956-ffa450edef68",0,11
35ce059a69148900d49df7e11c5db2896e13dd62,"updated to spring 2.x and xbean 2.4 for AMQ-531

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419849 13f79535-47bb-0310-9956-ffa450edef68",7,45
288f8767c3c22b5c30ade4f844d23f498824c415,"added activemq-jaas to the assembly to fix AMQ-801

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419850 13f79535-47bb-0310-9956-ffa450edef68",6029,1
6df6d58efea43b369cd088d609d077aa901482e4,"Added support for AMQ-798 to enable a new boolean header called JMSXGroupFirstForConsumer

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@419930 13f79535-47bb-0310-9956-ffa450edef68",2,26
b662f6065c9dccdd5b119e92f63a4eb984f6548f,"Removed relativepath element in parent declaration.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420267 13f79535-47bb-0310-9956-ffa450edef68",14,2
9b07e4323a2d37b5f30f592f39b75b1e4fed7473,"added a helper method to make it easier to browse messages as JMS Message objects. See: http://www.nabble.com/ActiveMQ-JMX-Questions..-tf1917262.html#a5248649

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420527 13f79535-47bb-0310-9956-ffa450edef68",3,54
fddc01d97cbad6d00a0ba32062d1ee9df2a89b7c,"- Added summary for CPU usage
- Fix compiler error for ActiveMQPojoSPI

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420537 13f79535-47bb-0310-9956-ffa450edef68",58,299
7450969cb7b6bddf5efd6db5d97497e7ae32344f,"- Add ignore list for vmstat data
- Remove unused imports

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420546 13f79535-47bb-0310-9956-ffa450edef68",5,4
94df6d1b05f286feafa7b78b92cdd54df848da2c,"- Add to ignore list and minor bug fix in checking of ignore list

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420551 13f79535-47bb-0310-9956-ffa450edef68",2,2
e4266c33f603f22101940d01dc111f242eec803e,"- Minor udpate: remove extra space in System.out

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420558 13f79535-47bb-0310-9956-ffa450edef68",1,1
2fe01ce355cfa527f24e9c787b9a2fcc8697713b,"Make the tests more reliable by explicity creating and shutting down the brokers.  Also wait for the brokers to be setup before running the tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420699 13f79535-47bb-0310-9956-ffa450edef68",15,21
ff30070bea5bdeb12deaf3d59cf639087033c8b8,"http://issues.apache.org/activemq/browse/AMQ-806
and
http://issues.apache.org/activemq/browse/AMQ-807

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420705 13f79535-47bb-0310-9956-ffa450edef68",89,132
cf5ee40d6397ad5e6106e74612620c797561cbd9,"http://issues.apache.org/activemq/browse/AMQ-808


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420708 13f79535-47bb-0310-9956-ffa450edef68",14,84
87666fa1948d22b89fd8cf547d5b4ef86044b9d7,"http://issues.apache.org/activemq/browse/AMQ-809


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420712 13f79535-47bb-0310-9956-ffa450edef68",2,27
40958b688fc5fc028fcbd4eef9aa0301d9374414,"Impoved error logging and throw an exception if the transport is being used when it has been disconnected.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420714 13f79535-47bb-0310-9956-ffa450edef68",3,5
d6c75ee25ec7c9cf3955d1610208d70445fdf619,"No need to be so verbose when disposing a service.  If we need to find out why something is going wrong we can enable debug logging.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420716 13f79535-47bb-0310-9956-ffa450edef68",1,1
1250a6d023092e739700ca8260ecfdc3c6a20cc6,"Added reconnect logic.
http://issues.apache.org/activemq/browse/AMQ-803

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420718 13f79535-47bb-0310-9956-ffa450edef68",2,136
75fde7165e9541da926ecc9763c905b9783f4c82,"http://issues.apache.org/activemq/browse/AMQ-810


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420721 13f79535-47bb-0310-9956-ffa450edef68",0,4
ad2546fa8d3982f6671e8022e05e3fb21f32227c,"Fixed Network Connection failure recovery.
http://issues.apache.org/activemq/browse/AMQ-802
http://issues.apache.org/activemq/browse/AMQ-805



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420723 13f79535-47bb-0310-9956-ffa450edef68",225,252
8a4db98776fe9fd191e0e77d36c63ee40aedbfb7,"Updated pom so that it has the proper contents now.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420726 13f79535-47bb-0310-9956-ffa450edef68",8,26
829e86f72e774f7bf067ee596fb5d91366921731,"Updated to latest openwire code gen

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420731 13f79535-47bb-0310-9956-ffa450edef68",31,32
6722a0327ea311f7710273371056f66a6bc8e204,"failover not needed anymore.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420734 13f79535-47bb-0310-9956-ffa450edef68",4,4
d1ff5abf481aba0d30ac60a56191ebf6a898f0b1,"Allow option to unsubscribe durable subscriptions after each run

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420774 13f79535-47bb-0310-9956-ffa450edef68",2,29
43742775af7893afcaaf8b9f0118d816d43670bc,"Close the consumer before unsubscribing it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420775 13f79535-47bb-0310-9956-ffa450edef68",0,4
2116b04dbb6fd5dc47a89dad659e695b5efc6079,"disabled test case which tends to fail on m2

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420795 13f79535-47bb-0310-9956-ffa450edef68",0,1
ffd1ccb6b8a382e315f0f6d06d5c52d825f095f6,"disabled test case which tends to fail on m2

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420831 13f79535-47bb-0310-9956-ffa450edef68",0,2
857cc8c30931076b5702d87bcfe9ed1cb894ade1,"added a destroy() method to durable subscription mbeans to make it a bit easier to delete them via JMX. For more background see AMQ-811

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420835 13f79535-47bb-0310-9956-ffa450edef68",5,48
0e91a73c616b98e2dae9cb24d12de8dd389c85c1,"Upgraded to later spring release

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420836 13f79535-47bb-0310-9956-ffa450edef68",1,1
1ea430e557060809f726229ad9dffa6ee0ada649,"http://issues.apache.org/activemq/browse/AMQ-608

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420872 13f79535-47bb-0310-9956-ffa450edef68",9,9
afba7231914cd9cac32be3e7a870f0871d73c57f,"http://issues.apache.org/activemq/browse/AMQ-814



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@420899 13f79535-47bb-0310-9956-ffa450edef68",5265,0
e2fc905581aeb754521ecf587939c33f3014a399,"Added test scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421092 13f79535-47bb-0310-9956-ffa450edef68",0,1057
c67a8838f360c721221b81cb50548496e3eaf57c,"Adding a project that can build a m2 repository of all the activemq dependencies.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421123 13f79535-47bb-0310-9956-ffa450edef68",1,105
244bee4404db7f6c2ff8df2535933653f949e5d8,"Added broker url as config param

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421140 13f79535-47bb-0310-9956-ffa450edef68",144,152
d7a872c4b5b821b5aef53da2f9377af5b2ab1f0b,"Change extDir prefix

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421153 13f79535-47bb-0310-9956-ffa450edef68",144,144
d1211992a1404d14e6f3ac920c96fb600a03d304,"Call the maven script instead of running it

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421175 13f79535-47bb-0310-9956-ffa450edef68",144,144
73d5b6feea246c20f26b949aa3d34974095752ee,"Remove scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421265 13f79535-47bb-0310-9956-ffa450edef68",1056,0
5f7c6b73ba6862345f8ae9d19e0706dc66155650,"http://issues.apache.org/activemq/browse/AMQ-773


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421282 13f79535-47bb-0310-9956-ffa450edef68",1,1
f2f428101bd3f35c30c2433f38eeaeba6dc4bf64,"Better debug logging of stack traces


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421356 13f79535-47bb-0310-9956-ffa450edef68",1,2
fe7ab1c01f5dafffc5834faba94b0c8c4dd8abc3,"Patch applied: http://issues.apache.org/activemq/browse/AMQ-719
Thanks Jamie!


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421376 13f79535-47bb-0310-9956-ffa450edef68",23,40
f2d90cd97cc457d63b066ed53a231ccccd5ab449,"http://issues.apache.org/activemq/browse/AMQ-701


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421396 13f79535-47bb-0310-9956-ffa450edef68",1,14
2fc2c285164b51d9fb756b074cd59343f42e34a1,"Fix up classloader problems in Main class

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421556 13f79535-47bb-0310-9956-ffa450edef68",2,3
2d9190f56a29381bc3a240007b7ec84e56ff6d9d,"changed version of spring to 2.0-m5. Also, added spring dependency in activemq core to ensure that the right version is being set in the classpath.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421575 13f79535-47bb-0310-9956-ffa450edef68",2,6
9758b12a085e8b45e8cd3f7a72f3e05a14b83582,"took an exclusion out


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421651 13f79535-47bb-0310-9956-ffa450edef68",4,0
b2aa0749664577ffdb0b24d8fee2bddb0fd359d4,"https://issues.apache.org/activemq/browse/AMQ-701

The zip is now tunned for windows and the tar.* packages are tunned for unix.  
The zip file bin directory only contains .bat files and all text files use dos line endings.
the tar file bin directory only contains the shell files and all text files use the unix line endings.




git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421654 13f79535-47bb-0310-9956-ffa450edef68",151,131
397e9ccee5c923ce755f1e6bce14ade703e7a9f5,"Renamed som files so that they have more consistent case and extensions.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421655 13f79535-47bb-0310-9956-ffa450edef68",0,0
02fffb44b06386fbee2d6fb5cdcf2a1482d3415f,"rename logging directory so that it matches the log4j configuration

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421656 13f79535-47bb-0310-9956-ffa450edef68",0,0
3a59e68649ae5e36012eae1c7be2714e7fb6b656,"set value of  activemq.home system property 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421790 13f79535-47bb-0310-9956-ffa450edef68",0,2
68c8c643f269ea113259b60c735a5b195f89fdec,"Cleaned up the TCP transport a little.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421811 13f79535-47bb-0310-9956-ffa450edef68",112,97
d966a8c4c18bea1547c59150dd2f0604918c2109,"fixed non-optional dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421842 13f79535-47bb-0310-9956-ffa450edef68",1,0
d64a9087bc41ddf4435f7b1df56768c7383d8e43,"fixed namespaces in test file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421876 13f79535-47bb-0310-9956-ffa450edef68",2,2
9b6942f4c1f8148fb8d63a698bec90f425aa2623,"fixed namespaces in test file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421878 13f79535-47bb-0310-9956-ffa450edef68",2,2
1fd01f0888072b0da9e8d9761385145a0f97a8ec,"fixed namespaces in XML files to only apply the ActiveMQ namespace to the <broker> element and its decendants to avoid confusing spring/xbean-spring when using other tags like <bean>. Bad James - they should have been like this to start with :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421897 13f79535-47bb-0310-9956-ffa450edef68",82,83
ea63d69242f37146b5ce19fb315735ed14210950,"switched to using the xbean-spring plugin

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421898 13f79535-47bb-0310-9956-ffa450edef68",88,63
3fcd7ca39c6e7d0a6ff31c414f2a075a5641474f,"tidied up the xbean-spring configuration and used the xbean-spring maven plugin

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421900 13f79535-47bb-0310-9956-ffa450edef68",1,16
fd3c5104df89ee7d2a7de5634760add0354d4d84,"Added a workaround for Spring 2.0-rc1 for AMQ-825 where we avoid using File objects on the default persistence adapter and use Strings instead. Its unfortunate (I tried patching xbean-spring to get around this but I'm afraid it doesn't seem possible). So folks using Java to configure the dataDirectory will need to change foo.setDataDirectory(file) to foo.setDataDirectoryFile(file)  or switch to using a String

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421936 13f79535-47bb-0310-9956-ffa450edef68",11,20
82004d852356601a779e5a923691899e96079988,"Switched to using spring 2.0-rc1

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421937 13f79535-47bb-0310-9956-ffa450edef68",3,3
da1204a1a804055f13a9d84efbf9191a025335b6,"set the explicit xbean plugin version so that the build works


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@421972 13f79535-47bb-0310-9956-ffa450edef68",0,1
c6b98adac458a263dc8a714944cc2dfe25d637d2,"Upgraded to xbean 2.5

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@422015 13f79535-47bb-0310-9956-ffa450edef68",2,3
6c5a0c634b6726eabd1ce0fe59c16e547bc49b2b,"Upgraded to xbean 2.5, using the same version as the parent pom

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@422186 13f79535-47bb-0310-9956-ffa450edef68",1,1
40db04a2a8b6d6cc3fb3fa49307e941ab37f528f,"reverted use of variable for xbean plugin version; it seems to cause some m2 wierdness

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@422217 13f79535-47bb-0310-9956-ffa450edef68",1,1
7b154cfacff9bed0f4e8ab2434f4adddcd17bf5a,"rolled back move to spring 2.0-rc2 as the build failed on some CI builds

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@422239 13f79535-47bb-0310-9956-ffa450edef68",1,1
e0f168a58d4492fb2577f1975726fb9b95625484,"added a couple of setter methods to make configuration a little simpler to avoid having to mentally multiply numbers by 1024 * 1024 and to fix AMQ-827 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@422967 13f79535-47bb-0310-9956-ffa450edef68",0,17
bc344c96279f3165da86c57fed6945e85378ce5a,"auto-create destinations when consumers are added to the broker (assuming auto-create is enabled) to help implement Virtual Topics.. For more background see: http://www.nabble.com/Re%3A-Virtual-Topics-%28was-Re%3A-Failover-topic-subscribers%29-tf1942508.html#a5332644

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@422978 13f79535-47bb-0310-9956-ffa450edef68",0,6
457093c386dbb689b75a14042ac7b482d88f82fb,"changed to a released plugin dependency


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423604 13f79535-47bb-0310-9956-ffa450edef68",36,14
b3d89a755bb5d3831a8fb5f46c6bbadaf8ca81d4,"added missing xbean-spring annotations to allow nicer XML configuration

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423738 13f79535-47bb-0310-9956-ffa450edef68",0,4
c13a547e1eadfae0ec407be185830db5dd175e03,"To help with the development of Virtual Topics I've added a test case to confirm that destinations are lazily created when a consumer is created. For more background see the dev thread:  http://www.nabble.com/Re%3A-Virtual-Topics-%28was-Re%3A-Failover-topic-subscribers%29-tf1942508.html#a5404863

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423755 13f79535-47bb-0310-9956-ffa450edef68",0,69
2fc3e8ee7f672cf75e8a028bd72780d923287ab4,"Adding some network reconnect tests.  These are used to validate the our network connections get re-established after a broker restart.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423783 13f79535-47bb-0310-9956-ffa450edef68",0,542
98a6f181ca990fd2e66bb1c8d696168bae1da74e,"http://issues.apache.org/activemq/browse/AMQ-789

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423784 13f79535-47bb-0310-9956-ffa450edef68",0,5
1bcd631bf913558d6213ce1e66946444a88a7a16,"increase the max amount of time we wait for reconnect since the default network reconnect delay could be up to 5 seconds

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423794 13f79535-47bb-0310-9956-ffa450edef68",2,11
ea35563b49e11ff9ce5c7aca70bc2dbbc58853e2,"added patch for AMQ-835 - many thanks Ozgur Cetinturk

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423797 13f79535-47bb-0310-9956-ffa450edef68",39,43
6f4c286d66d91d3443a9ce09d26772fa21a04c22,"Make IndexLinkedList and interface with two implementations - one for in-memory 
iteration of the indexes, one for disk based iteration

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423919 13f79535-47bb-0310-9956-ffa450edef68",216,1114
c94d6362412518f6832f162314d7d10cd1619c9a,git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423933 13f79535-47bb-0310-9956-ffa450edef68,261,0
b26b6e809a3a965a8269613089256a5d86eff16b,"fixed typo in config file that was failing the web app

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423946 13f79535-47bb-0310-9956-ffa450edef68",1,1
4806b2b4cbabb22792d5fbb57ad1ada2cff97729,"fixed delete URL

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@423947 13f79535-47bb-0310-9956-ffa450edef68",1,1
1ac701c48af7d3acbe7b7a5362976865785c79e4,"made IndexLinkedList an interface

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424037 13f79535-47bb-0310-9956-ffa450edef68",276,0
dc5b15ecd2806ec0de9c582417979932bff7d533,"Interface for IndexLinkedList

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424040 13f79535-47bb-0310-9956-ffa450edef68",0,154
4f131fdc2686c441a6ce3e2c68346fb64fb886fa,"ensure Desitnation infomation is received in the bridge in the right order
with respect to consumer information

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424214 13f79535-47bb-0310-9956-ffa450edef68",0,1
8dd454ed08e6e9021fcbd79251b5da908bd344d4,"added patch from Matthew Xie. For background see: http://www.nabble.com/Message-recieved-but-can%27t-removed-from-the-amq-server-problem-tf1964193.html#a5429771

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424237 13f79535-47bb-0310-9956-ffa450edef68",64,90
a0e3831ab8228c273a570bf2af14f9ab90ec88dd,"Applying patch to activemq-cpp client for AMQ 818

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424272 13f79535-47bb-0310-9956-ffa450edef68",6667,8308
f8734f79c6933d3a8b80b5b4a73bea236b559edf,"added an example configuration file using pure JDBC and no journal together with some example Oracle XML configurations

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424276 13f79535-47bb-0310-9956-ffa450edef68",1,110
e2f0ef3c5e9bab692d19ff935009e0b632caafbc,"made the test case broker Main a little easier to run with a URI supplied on the command line

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424326 13f79535-47bb-0310-9956-ffa450edef68",12,16
90d0c4b38b715e5fca91126e8fc673e7e9c67bf2,"an implementation of an exclusive lock in SQL to ensure that only one JDBC message store is run against a database at once to fix AMQ-831. For documentation on this feature see: http://activemq.org/site/jdbc-master-slave.html 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424328 13f79535-47bb-0310-9956-ffa450edef68",60,368
7dac80141702225c2c367d98822b7e6af07e3d9e,"fixed shut down bug; the connection must be rolled back before closing

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424542 13f79535-47bb-0310-9956-ffa450edef68",0,1
68d7c9e2fdc1b49a971004e68905a3e0d20c9cb0,"fixed bad namespace usages that was causing some test cases to fail

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424696 13f79535-47bb-0310-9956-ffa450edef68",8,8
7339c6efeae63a2d62b7028e4327b312799e5fa1,"Added an optional clientIDPrefix property to allow auto-generated client Ids to be named to make it easier to manage a running system using JMX. Fixes AMQ-836
You can now specify this clientIDPrefix property on the ActiveMQConnectionFactory POJO or via a URI such as

tcp://localhost:61616?jms.clientIDPrefix=Cheese


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424697 13f79535-47bb-0310-9956-ffa450edef68",20,78
fb6af074475ba333637544e68c3a6fea6895d57d,"added logging if MessageListener objects throw exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424698 13f79535-47bb-0310-9956-ffa450edef68",0,1
7d704bc3db375bca1f1a9a7b14735af4691bb553,"added better javadoc for the xbean package

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424699 13f79535-47bb-0310-9956-ffa450edef68",0,10
0094ff726991d3870ee8a7c3e2c39879d1c5f7b8,"added spring dependent connection factory implementations which autodefault the spring bean names for the clientIDPrefix property making it easier to introspect the running system. Fixes AMQ-840

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424700 13f79535-47bb-0310-9956-ffa450edef68",0,119
387805efeb3492b63c521a66ac1e6983b135a0b1,"used the new clientIDPrefix and made the code easier to run on Java 5

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424932 13f79535-47bb-0310-9956-ffa450edef68",1,5
7d0d25ba3273a465fed09b923eb1e7386cd6034d,"tidied up imports

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424992 13f79535-47bb-0310-9956-ffa450edef68",1,0
8f8fddc70c840a725193b8eed369baffab2298c8,"added patch from Brian Madigan. To see thread see: http://www.nabble.com/Re%3A-Virtual-Topics-%28was-Re%3A-Failover-topic-subscribers%29-tf1942508.html#a5439965
for background see: http://incubator.apache.org/activemq/virtual-destinations.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@424994 13f79535-47bb-0310-9956-ffa450edef68",2,180
29081a8b1010fa6f7f3788205662782d1ab2f784,"removed unused imports

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425021 13f79535-47bb-0310-9956-ffa450edef68",16,15
71154628f84b0587f2c3b760c7165144d6b3f755,"added cleaner logging, particularly when starting a slave (its good to tell the user that its looking for the exclusive lock so they know the broker is not just hanging for nothing :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425114 13f79535-47bb-0310-9956-ffa450edef68",3,2
50a649538981b0a72102456c6ad1d4ca683ebc3e,"always throw an error if the transport is being used when it's no running.  This fixes a couple of failing tests.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425127 13f79535-47bb-0310-9956-ffa450edef68",4,1
a42fac78b015b24c1e6d5ec2862ceb2244e1878b,"Fix for the forwarding bridge test the was broken.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425132 13f79535-47bb-0310-9956-ffa450edef68",1,0
94e0dd614a2bb5cdbc7bcc5a48d1cf785d588b46,"gbeans are in geronimo tree now


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425141 13f79535-47bb-0310-9956-ffa450edef68",7,1
859caee9d2f55b6ec1b2de7ea0a9ffef9fa18869,"The SSH tests only pass on machines that have ssh installed and configured properly


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425163 13f79535-47bb-0310-9956-ffa450edef68",0,4
95fec7d0db7381fa0f06b736f746d5d0e13267f5,"Fixing patch for AMQ-824 - adding NULL check for MessageConsumer::autoAcknowledge

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425574 13f79535-47bb-0310-9956-ffa450edef68",8,14
07b3cb329b58abf2243004985ed04ee0fb4b6f9f,"Patch for AMQ-823 - fixing offset in ByteArrayOutputStream::write()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425575 13f79535-47bb-0310-9956-ffa450edef68",1,1
8176dca67fe93c4b0fcb09fa333270a249ae18d7,"http://issues.apache.org/activemq/browse/AMQ-846


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425637 13f79535-47bb-0310-9956-ffa450edef68",107,107
fdde1661cb1d5bd2b3ef3089131a7da57fb186a8,"added option for running ActiveMQ with Java Service Wrapper on Linux and Windows.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425685 13f79535-47bb-0310-9956-ffa450edef68",0,854
f2a80acac5f0f8b38e7abbc7f197c44d8fd34f7c,"added NOT NULL contraint for ID column in ACTIVEMQ_LOCK table

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@425971 13f79535-47bb-0310-9956-ffa450edef68",1,1
da67a386967bd03bd21af1e3dff3b89f72fc8cc9,"refactored the previous implementation of virtual topics to use DestinationInterceptors instead so that there is no cost to virtual topics unless you are using them. Also added support for CompositeQueue/CompositeTopics too

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426060 13f79535-47bb-0310-9956-ffa450edef68",68,746
876d9cf64e0d6eedbf0745ed5ecbbf4714200396,"moved a simple main which can be used for testing the broker in your IDE to a better package (was in test)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426086 13f79535-47bb-0310-9956-ffa450edef68",0,78
370734c8213b87b40d02e16e5af87276f2a3a10d,"moved the virtual topic test cases to a better package and added a test case that demonstrates how to configure the virtual topic policy to enable all topics to be virtual topics together with changing the consumer queue prefix

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426087 13f79535-47bb-0310-9956-ffa450edef68",5,217
f1db92fb0799e6b1bdc56601064dda4423293a61,"zapped cruft (this was a cut and paste, I didn't mean to add it to svn :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426088 13f79535-47bb-0310-9956-ffa450edef68",81,0
4ae7e1cedefd7effd84d78a2ae978a6b8d97db3d,"added test cases for composite destinations (which are kinds of virtual destinations) - see http://incubator.apache.org/activemq/virtual-destinations.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426094 13f79535-47bb-0310-9956-ffa450edef68",8,274
bd8d07d948d38f9954555137d0beba8bb144518b,"zap old utility class that has moved to the broker package

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426105 13f79535-47bb-0310-9956-ffa450edef68",85,0
519649994617123a4981111d181ed7fc0964f8c5,"tidied up layouts

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426109 13f79535-47bb-0310-9956-ffa450edef68",50,50
4bd8a8bf852507b1d5d03eba0c20aa28a7e69f8b,"added a test case to show the auto-creation of destinations on startup working to fix AMQ-828. For documentation see: http://activemq.org/site/configure-startup-destinations.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426116 13f79535-47bb-0310-9956-ffa450edef68",1,113
8abb655e82501b33336316b6ba0d863fdfc01bf4,"added a helper method on the broker for its default administration connection context to avoid various parts of the code spoofing one and to provide a single place we can register any particular security details for startup or runtime MBean based administration

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426132 13f79535-47bb-0310-9956-ffa450edef68",91,159
acd599606e4d72f6d83342b9c561bc324fa502cf,"http://issues.apache.org/activemq/browse/AMQ-847



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426134 13f79535-47bb-0310-9956-ffa450edef68",5,64
1bd8c0b47fed8dcd3875a170f963352201860ed5,"https://issues.apache.org/activemq/browse/AMQ-835

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426136 13f79535-47bb-0310-9956-ffa450edef68",2,0
1a070b7a23773a782e4d3ebe9e9a9c04ad937e69,"fixed failing MBeanTest due to my bad refactoring :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426160 13f79535-47bb-0310-9956-ffa450edef68",2,23
57b494132549ebef6877bf47da3c3d5d776286e0,"Applied new source header boiler plate per http://www.apache.org/legal/src-headers.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426366 13f79535-47bb-0310-9956-ffa450edef68",12053,13548
96d92110a388905b33e48e9cbd6353e798a84a61,"Applied new source header boiler plate per http://www.apache.org/legal/src-headers.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426370 13f79535-47bb-0310-9956-ffa450edef68",624,732
7f883f6fe207cd40211ad897ec96a56d33c46aa9,"Applied new source header boiler plate per http://www.apache.org/legal/src-headers.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426384 13f79535-47bb-0310-9956-ffa450edef68",2694,2813
8c9a6ebb53395b520536020ecef18cd767236d19,"The openwire generation scripts have moved to the activemq-openwire-generator module

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426386 13f79535-47bb-0310-9956-ffa450edef68",4113,0
c36ea1aa9b11ab1cf8763ba6744b79df1cae6460,"applied patch from Mathew Kuppe for AMQ-849 - many thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426438 13f79535-47bb-0310-9956-ffa450edef68",0,11
6e755a5cc521a2d6d87b6a3ccd1c549f48b97476,"Renamed the kahaPersistentAdaptor to kahaPersistenceAdapter to be consistent with other persistence adapters. Makes configuration slightly more intuitive. :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426461 13f79535-47bb-0310-9956-ffa450edef68",199,199
c1e4384db2d657bbc9b2054c422c58602480e32e,"fix mistype in slave.xml

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426472 13f79535-47bb-0310-9956-ffa450edef68",2,2
dffe336851234a3389b983effe79bad287d6d1d5,"Re-enabled passing test case. Tested it on windows and linux env.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426486 13f79535-47bb-0310-9956-ffa450edef68",2,0
8e85dd25ed1202808144da353cabfa2050a18da5,"Enabled ProxyConnector test. I've tested this in windows and linux and it seems to be passing. Although, it takes around 379 secs on our linux box, while it takes just 9 secs in windows.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426487 13f79535-47bb-0310-9956-ffa450edef68",3,0
795166e87a57fcf790ac619ae39ce7b45808cbeb,"Fix xml resource path

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426493 13f79535-47bb-0310-9956-ffa450edef68",2,2
1d1f6597df78edb4a57d17f87f9a2893deb82e5a,"added a 'doc' goal which uses NDoc to create static html documentation (which doesn't render too well on FireFox and lousy on Safari but I assume it must render OK on IE :). Would be nice to get this documentation auto-deployed on the site

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426497 13f79535-47bb-0310-9956-ffa450edef68",230,295
73d14ce879200b4da6f4c24df92e037ca0e24e40,"automatically copy the generated documentation to the website checkout (ready for deploying) and added a little readme to describe how to use NAnt

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426534 13f79535-47bb-0310-9956-ffa450edef68",11,53
cb77064b88d3ce3558ac6bd91ee7cc8b5abd3a7c,"fix for AMQ-839 - lets not use == but compare the connectionIDs by value when removing a clientID

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426764 13f79535-47bb-0310-9956-ffa450edef68",3,10
3f1f8a626aec47267b3e38265f27b776111cde53,"Added IRC CI notification

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426874 13f79535-47bb-0310-9956-ffa450edef68",0,9
82942f9e318f87b5658b330a007f19aa886fe1cd,"disabled test case which seems to repeatedly fail on linux

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@426875 13f79535-47bb-0310-9956-ffa450edef68",0,3
fc68c3a6e5e3cefaa220d9e1be4004f8726a0ab3,"updated location of <notifier> tag. should be child of  <notifiers> element

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427006 13f79535-47bb-0310-9956-ffa450edef68",8,9
f4d37277d3fb12a63cbfdb868e0e2c98e93408a0,"Fix possible wrong type checking

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427020 13f79535-47bb-0310-9956-ffa450edef68",2,2
bc71842394d0b618006947014c0c0fe7cbbd85b4,"Added NPE checking for test case. Still failing though.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427037 13f79535-47bb-0310-9956-ffa450edef68",3,7
518e981b4b3ed07fbc238219c98c7d0cccd4f9c7,"Added better NDoc documentation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427051 13f79535-47bb-0310-9956-ffa450edef68",7,17
5ad120242694a0db524863aab3e03ab34be9c390,"Added C++ client contributed by Amazon for AMQ-842

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427057 13f79535-47bb-0310-9956-ffa450edef68",0,70503
b2f9eba23a0c550c1b27c756df92fe4a373ceb69,"Enabled the gram plugin


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427119 13f79535-47bb-0310-9956-ffa450edef68",23,21
b3001f22b14b738e29e9d1fc3981b72981ddd9e4,"Fixed comments and allow the use of <connectionFactory> and <xaConnectionFactory> in xbean files.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427135 13f79535-47bb-0310-9956-ffa450edef68",3,13
dd5c9e6e132f6da8eb52b904528ce2b7a7d17532,"allow folks to disable the JDBC database lock

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427144 13f79535-47bb-0310-9956-ffa450edef68",0,8
c45c69b30adaaa4750cc97e0641f4126e56b00c9,"added files to start ActiveMQ with Java Service Wrapper on MacOSX

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427481 13f79535-47bb-0310-9956-ffa450edef68",0,639
794acb667c18436d3c0ffc2a1f48442804a5d47a,"a minor refactor to make it easier to extend ConnectionInfo/ConnectionContext without having to change code in the AbstractConnection in the future - such as to support new certificate or security token mechanisms. For background see thread: http://www.nabble.com/Certificate-login-tf2029724.html#a5583011

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427507 13f79535-47bb-0310-9956-ffa450edef68",6,12
3badddac8794043691cb8956771dfd73cbfc5774,"got the xbean XSDs to deploy as part of a release

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427527 13f79535-47bb-0310-9956-ffa450edef68",44,88
5fbf634cfb61dfdfad421c0722f06385f72e01bd,"applied patch from Jason Carreira for AMQ-853 with thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427542 13f79535-47bb-0310-9956-ffa450edef68",2,10
65f67c6530079e4c3e4ceaae640c6486841cf414,"switch to use 2.6-SNAPSHOT of the xbean plugin to avoid the bug that was creating bad XSDs

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427597 13f79535-47bb-0310-9956-ffa450edef68",1,1
6b03bd3f9be483fc861b28a40e8ea3ae8956263b,"added a test case showing how to use the XBean configuration in a regular Spring XML file using the Spring 2 namespace handler feature

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427599 13f79535-47bb-0310-9956-ffa450edef68",1,90
4c1cc956cc72b600a5fc4764b343d23183e45bd0,"This allow spring 2.0 to work with xbean-2.5

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427613 13f79535-47bb-0310-9956-ffa450edef68",19,6
f998bc73981050d1cc69364df5e337ad7dd91bb8,"Lets not move up to 2.6 yet


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427617 13f79535-47bb-0310-9956-ffa450edef68",1,1
902a8ea864d4a8bda65d7ea76f12411f3104202d,"Allow the local destination name to be set -
re this thread on the user list: http://www.nabble.com/JMS-to-JMS-Bridge-tf1901141.html#a5598457

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427656 13f79535-47bb-0310-9956-ffa450edef68",6,86
a797efb3dc3d821c81bcda8eac3c9cc22bad6101,"patch for AMQ-854 - adding Javadoc-style comments to support autogeneration of documentation for activemq-cpp

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427774 13f79535-47bb-0310-9956-ffa450edef68",1088,1251
c3a8de8b53350852dae87e11787a7ed6f2878e0c,"porting license changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427820 13f79535-47bb-0310-9956-ffa450edef68",538,561
9c92f186a5f7a12a28e75160c5758431e5f7f045,"Rolling back my previous change.. I did not notice that james was the one that moved it to as SNAPSHOT 


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@427975 13f79535-47bb-0310-9956-ffa450edef68",1,1
98f35453031680770119763e77f68ccce6682927,"Added test case to verify that the prefetch buffer works as expected for prefetch==1

http://www.nabble.com/Trouble-with-prefetch-buffer.-tf2029800.html#a5599978

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428022 13f79535-47bb-0310-9956-ffa450edef68",0,42
0462d1d3d05008ec44236e7cbbd8e1d7408898cd,"disabled logging by default but allow it to be specified via a URI query argument of tcp://localhost:port?logging=true

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428225 13f79535-47bb-0310-9956-ffa450edef68",45,50
df09548bdecc6670527473a43a5f73b71ce35c0b,"made it easy to be able to run a single NUnit test case e.g.

nant test-case -D:test=NMS.TemporaryQueueTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428233 13f79535-47bb-0310-9956-ffa450edef68",1,8
b62e5cd91eb907f36f07a7d61b1714c01305d02a,"added a test case and a fix for the use of temporary destinations in NMS. Fixes AMQ-843

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428235 13f79535-47bb-0310-9956-ffa450edef68",7,120
6cf216953372cc95c493a1848361558c6599d971,"Added a modified version of the patch donated to (LINGO-22) submitted by Jim Beattie which tests that we leave no threads around after shutting down the JMS client and broker, together with making the Session Executor / TaskRunnerFactory part of the connection. We could still make it a singleton if required and just use reference counting to ensure its shutdown properly after all connections are closed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428339 13f79535-47bb-0310-9956-ffa450edef68",9,115
4d2b20b1b22b8f3177f974fbe2644d5d51575df6,"lets wait a little for the background thread to shut first so that threads tend to shut down nicely

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428419 13f79535-47bb-0310-9956-ffa450edef68",0,3
a97462501685811e9524b031439d4218c7bbe31b,"modified test case to ignore the extra Timer thread that gets created but I can't yet figure out where its created :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428436 13f79535-47bb-0310-9956-ffa450edef68",1,2
51829f56a1f9c13d4fd45f8f11c97da57b30fcc4,"copying the broker path breaks networks - if a consumer re-uses a consumed
message and forwards it on

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428465 13f79535-47bb-0310-9956-ffa450edef68",1,3
fd96598b25ae02834ffb03266c93a6d549965106,"extended debug information for clarity

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428467 13f79535-47bb-0310-9956-ffa450edef68",6,9
541d9fe3f3566bf2379c03727d442a23af095dcc,"AMQ-858: create a super pom for tooling projects in activemq so we can create a nightly build of the various maven plugins.

Also moved the maven-bundle-plugin and maven-gram-plugin to tooling.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428653 13f79535-47bb-0310-9956-ffa450edef68",451,41
d8ff65aab0b2659708b9ab85f42e449555250a37,"Sorry, wasn't included in the previous checkin. Related to AMQ-858.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428654 13f79535-47bb-0310-9956-ffa450edef68",0,451
5ae67695efb336a9b0b0759d500bfda8e9d9fd94,"Added parent pom

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428660 13f79535-47bb-0310-9956-ffa450edef68",5,8
427a397e113628fa6dbfe18f731efc2f45a033f1,"related to AMQ-858. Modified pom.xml because maven-bundle-plugin and maven-gram-plugin was moved to tooling.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428663 13f79535-47bb-0310-9956-ffa450edef68",3,4
365960e40c0615ae6d033a11362988e28da3021c,"Added scm element

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428664 13f79535-47bb-0310-9956-ffa450edef68",0,6
f76e23ce2f2da73496f2a6f4f654ac0e768bb8ab,"backed out parent pom change

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428666 13f79535-47bb-0310-9956-ffa450edef68",5,10
c68f455cab4b7396dee32aeb435847f2ff5685ac,"rolled back groupId change

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428667 13f79535-47bb-0310-9956-ffa450edef68",1,3
5e5febb4de1ad7881aad345ebc897cc779be837e,"AMQ-859: nightly snapshots to include source distro.

Added src-bin.xml and modified assembly/pom.xml to include a build for creating the source distro.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@428970 13f79535-47bb-0310-9956-ffa450edef68",1,84
bf4d7538f8924ed266cbbc76b1b7b29d93fdd2e2,"Beter documentation for xbean reference generation.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429358 13f79535-47bb-0310-9956-ffa450edef68",6,13
8b9b09181b7242fbff0d37ec31516c64e404e6bb,"Jira: AMQ-570:Create sample activemq.xml files under assembly/src/sample-conf similar to what we had in 3.x.

Added several amq sample configurations.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429605 13f79535-47bb-0310-9956-ffa450edef68",0,283
0ee6047d012249eb5896fad101f20cec21d1dbd0,"removed println in setRoot()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429609 13f79535-47bb-0310-9956-ffa450edef68",5,4
cc5f94d4ed4898bce6020c1ed7b53705f04da337,"Adding derby NOTICEs to our notices

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429731 13f79535-47bb-0310-9956-ffa450edef68",2,16
cab35d7553a284a52dca655241196c6f84c4e5df,"added a better exception message if we get a binding exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429765 13f79535-47bb-0310-9956-ffa450edef68",7,11
08e4b7ba19b39a70b8887b65caffedb2c2728515,"minor tweak to make absolutely sure that we definitely clear down the clockDaemon

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429767 13f79535-47bb-0310-9956-ffa450edef68",0,3
c96f327bfa5da8d2860ed7717a26332ea6a5299d,"removed unused code for AMQ-822

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429776 13f79535-47bb-0310-9956-ffa450edef68",10,0
2b6f6371e01ece219cc0160f61bdb4ca804d99e5,"fix for AMQ-856 - increase the logging level

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429787 13f79535-47bb-0310-9956-ffa450edef68",2,2
a7b9e8ce9ca24b6e2127ef4bd63b5245de54f78a,"fix for http://issues.apache.org/activemq/browse/AMQ-872

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429984 13f79535-47bb-0310-9956-ffa450edef68",5,34
e7e15b5559a8c293c7d9d2e0b6f1413b3a3e11e0,"a fix for  AMQ-769 to allow the MessageGroupMap implementation to be specified via a policyEntry

http://incubator.apache.org/activemq/per-destination-policies.html

so you can specify something like this...

 <broker>

    <destinationPolicy>
      <policyMap>
        <policyEntries>
          <policyEntry queue="">"">
           <messageGroupMapFactory>
            <simpleMessageGroupMapFactory/>
    

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@429995 13f79535-47bb-0310-9956-ffa450edef68",33,151
cb11447386909c15e9aa7e3b28d3e78c430e2e44,"Fix for AMQ-772 to add activemq-web to the distros

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430005 13f79535-47bb-0310-9956-ffa450edef68",1,3
75952abdbb2b8bd3f11bf9bf2c7b5ac80e5c1f7d,"Fix for AMQ-772 to add activemq-web to the distros

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430008 13f79535-47bb-0310-9956-ffa450edef68",1,1
171e3223c19b17658633a53732a93519e015f94b,"added patch submitted by Mathew Kuppe for AMQ-871 to allow the eviction strategies to decide to evict multiple messages

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430023 13f79535-47bb-0310-9956-ffa450edef68",10,20
3e945b5a9177af205129e7b3844d238fa33021af,"Applied patch for AMQ-826 with thanks. This patch adds an LDAP based authorization map. I""ve added the test case but disabled it so far - I've not figured out the magic combination of jars and versions and spring.xml configuration files to boot up ApacheDS in Spring for the test case - it seems the online documentation nor the spring.xml that comes with the 1.0-RC3 download actually work

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430034 13f79535-47bb-0310-9956-ffa450edef68",0,865
ed49ada6045e5f409a94422d70a1e34778546a73,"applied patch for http://issues.apache.org/activemq/browse/AMQ-776

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430068 13f79535-47bb-0310-9956-ffa450edef68",1,2
21f9bb8367664326accacb15b100cdeb73694310,"fix for http://issues.apache.org/activemq/browse/AMQ-857

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430351 13f79535-47bb-0310-9956-ffa450edef68",1,58
a96820ed1727f1a99644a4f4a1e9b973e3b4fd0b,"Updated jetty plugin to run the web-console through maven using ""jetty:run"" goal.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430353 13f79535-47bb-0310-9956-ffa450edef68",11,8
c3fae7767ddbd24f9ffcca2eda1dbe3de8f7b9b1,"added a better example of using the xbean-spring flavour of XML configuration

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430407 13f79535-47bb-0310-9956-ffa450edef68",18,8
9d671b70aa73067d07e2c20edc2128ae7448dc0e,"added some early support for AMQ-855 to allow pure pull based consumption - adding a MessagePull command so that a client can pull messages on demand

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430445 13f79535-47bb-0310-9956-ffa450edef68",2,188
6e3a634518d7166f9dad5476312f5abddda4759c,"added the client side and a test case to show prefetch of zero working for pull-only queues with synchronous consumers to fix AMQ-855

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430476 13f79535-47bb-0310-9956-ffa450edef68",1,118
dd55c215aaaf1e3a55b6576e5dc720c714045446,"moved the tooling to a directory matching the pom


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430479 13f79535-47bb-0310-9956-ffa450edef68",0,0
59a28777cdc662854154a08d1a0660b9627a8d1b,"Incrementing the openwire version

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430483 13f79535-47bb-0310-9956-ffa450edef68",1,1
1ff804699006659048cf78625e1780a9f898bda1,"Adding initial marshaller for v2

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430485 13f79535-47bb-0310-9956-ffa450edef68",0,59
cd9ce2e93deb41b812900c865de663ede361aff6,"Autogenerated OpenWire code after version 2 along with the MessagePull command

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430504 13f79535-47bb-0310-9956-ffa450edef68",1320,11338
c26d8a9d0d58beac27d2e7033a6c65ef452e8a98,"Added openwire v2 marshallers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430617 13f79535-47bb-0310-9956-ffa450edef68",3,777
fb5a3730db561c0567d8f84625689ee5e46cb95b,"modified test case to use TCP to force marshalling of the MesagePull command to check thats working

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430716 13f79535-47bb-0310-9956-ffa450edef68",4,12
06c560c081570feafdceb409bf74342cc4d8e224,"fixed test case due to openwire version increase

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430742 13f79535-47bb-0310-9956-ffa450edef68",1,1
befb3adc32cbfb8398fa4f30ae01dfafde364a28,"get gram:gram to run the first script too... it currently has a problem splitting on the :

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430798 13f79535-47bb-0310-9956-ffa450edef68",5,2
7711c7450d2cb459df9278a6a975100619af2c0a,"Adding a transport context variable.. see: http://www.nabble.com/Where-to-add-new-SSL-BrokerService-functionality-tf2088221.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430820 13f79535-47bb-0310-9956-ffa450edef68",0,23
492952b4bb25451fd85b294e504dd1d85212af3b,"made it easier to specify the port to use for running jetty

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430997 13f79535-47bb-0310-9956-ffa450edef68",31,37
b84c864d856a3fe1828544471bff659d769c15ac,"made it easier to specify the port to use for running jetty

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@430998 13f79535-47bb-0310-9956-ffa450edef68",50,57
f012622ff410566f6dccd3479ad56b49795080f2,"AMQ-874 - updating example on the wiki for basic activemq-cpp usage

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@431268 13f79535-47bb-0310-9956-ffa450edef68",243,448
7d4cddd4524508f760177901904e881b07b52177,"Stomp should now not pass through headers with null values in the AMQ message (correlation-id, reply-to, etc)


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@431714 13f79535-47bb-0310-9956-ffa450edef68",70,119
85df0e62d7208435531fd117c9b5b07a2377054e,"Minor change to test case


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@431716 13f79535-47bb-0310-9956-ffa450edef68",2,1
c578b76f140511a8aca62c1b54ef029d3d9f5fa7,"updating readme.txt for activemq-cpp to properly reflect how to access svn on the mojo site

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@431876 13f79535-47bb-0310-9956-ffa450edef68",1,1
aaccbd3bd4cbc4a44afbb4818ce69d75982ccd5e,"Added optinal async delivery to VMTransport

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@432221 13f79535-47bb-0310-9956-ffa450edef68",47,172
d0da99a08cada064dcf1cd11633ecab707159bdf,"removed areas of contention (deadlocks)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@432224 13f79535-47bb-0310-9956-ffa450edef68",19,26
73e5a3024c93cd459484f1e4ef4e3e41b03f638a,"added fix for AMQ-883 and AMQ-865 along with test cases from Denis Abramov and Bryan Schmidt. In partcular many thanks to Bryan Schmidt who figured out what the problem was and helped me do wacky things with the event delegate thingy :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@432377 13f79535-47bb-0310-9956-ffa450edef68",8,176
8f112fe2089888d6239b407a47706170a3c72384,"Removing the mave-dependency-plugin... this was a little experiment to see if we could use a plugin to dump all the activemq dependencies to a local repository.  Seem that the assembly plugin can allready do this, but the maven-proxy project http://maven-proxy.codehaus.org/ can do it even better.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@432448 13f79535-47bb-0310-9956-ffa450edef68",263,0
ee2462da4162185a33578d61a7d9e7404dfb3f57,"Minor refactor so that we can configure the MasterConnector using XML or dependency injection easier. Also added a test case showing how to use a new <masterConnector> element to configure the userName & password of the slave. For background on this issue see: http://www.nabble.com/Master-Slave-with-authentication-tf2094845.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@432517 13f79535-47bb-0310-9956-ffa450edef68",120,257
36553b336dfae95f3086491a4874b12efd387fa4,"added snippet macro tags for the wiki

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@432519 13f79535-47bb-0310-9956-ffa450edef68",0,2
bc005fd1e63f71ba2081f6f99a14bb616d8c0a3b,"tidy code for easier maintenance

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@432664 13f79535-47bb-0310-9956-ffa450edef68",25,41
80433801272408b62b3ae6d949b2133c90d1cd85,"remove memory leak of consumers & browsers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433198 13f79535-47bb-0310-9956-ffa450edef68",0,2
58d4605661f1563e4303f9279fa583af6c07c206,"Fix for http://issues.apache.org/activemq/browse/AMQ-886

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433244 13f79535-47bb-0310-9956-ffa450edef68",0,6
960dce70d345ce50b9a341f064fdbf26d32da8f7,"http://issues.apache.org/activemq/browse/AMQ-888

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433286 13f79535-47bb-0310-9956-ffa450edef68",38,6103
07c1e65c225415b09302a058dcade55c3adcab36,"http://issues.apache.org/activemq/browse/AMQ-888

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433353 13f79535-47bb-0310-9956-ffa450edef68",0,357
6a12e9cdebfcfbd4bc3aab767e56e4bc9cc60cb4,"http://issues.apache.org/activemq/browse/AMQ-887

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433673 13f79535-47bb-0310-9956-ffa450edef68",13,66
4ce744b16b79897c5c31ad2cad61dd0ed6d5e839,"added an XML view of the queue statistics on the web console so folks can slurp up the XML in any old scripting language and write their own alert monitoring stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433678 13f79535-47bb-0310-9956-ffa450edef68",20,56
73ef5bea0497a6b7a9b6c3a1f801aeb473f5053b,"added an example of using Oracle JDBC along with using DBCP with Oracle rather than the non-pooling default that comes with Oracle

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433697 13f79535-47bb-0310-9956-ffa450edef68",11,16
4b6b61b82078a75ef5a0d298daa2fa1ef2bd67f4,"Added a udp and multicast broker tracing plugins.  If enabled on a broker they can be used to monitor the broker without much network overhead.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@433948 13f79535-47bb-0310-9956-ffa450edef68",0,260
d4a834743f6513dbc587d0c7f836bf703f4cfde6,"added the ability to configure the TCP keepAlive option

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434006 13f79535-47bb-0310-9956-ffa450edef68",2,17
4f715a2f8ac98a79cfdfcafda55f2dc78b45c8cd,"Have just added a short circuit for the loop trying to acquire the exclusive lock so that we fail fast if we are stopping to fix AMQ-893

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434007 13f79535-47bb-0310-9956-ffa450edef68",1,6
7685e4d2f303d0d06a0c7c6e76ce2c44e7f9b9a6,"include the shell scripts in the ZIP distro as (i) some windows users use cygwin and (ii) some non-windows users use zip files :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434022 13f79535-47bb-0310-9956-ffa450edef68",11,0
20a4ebd8086dc52e93384c92e9b8ac32bdd34c40,"removed unnecessary import

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434023 13f79535-47bb-0310-9956-ffa450edef68",1,0
9431f934cdcff79a9a078ae5a5f33909d6bd4aff,"added the activemq.home system property in case the log4j.property is changed to use files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434043 13f79535-47bb-0310-9956-ffa450edef68",0,5
6e714a2fe5bc5727ef55ce18c33d99128e73f8a5,"use INFO level logging when we loose a connection to a broker to highlight to users bad networking issues such as dropped sockets or bad firewalls etc. This change fixes AMQ-829

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434064 13f79535-47bb-0310-9956-ffa450edef68",1,1
53082e6a14af5d80904b0b72b6f7ae2a98648ec3,"add the ability to remove network connectors dynamically

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434068 13f79535-47bb-0310-9956-ffa450edef68",3,42
d4a50a7340a4c9004a919042135c5d88cdb81684,"allow users to disable the creation of the DDL tables on startup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434344 13f79535-47bb-0310-9956-ffa450edef68",10,28
a420312a404483fd48488832975767d19a4fc5a9,"avoid the possibility that 2 threads could attempt to add a destination at the same time causing it to be created twice and avoid issues such as duplicate registration in JMX

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@434397 13f79535-47bb-0310-9956-ffa450edef68",17,25
d21381d21b01057944e1bf14ca34f99a38aad0d9,"allow the TCP_NODELAY option to be configured

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436745 13f79535-47bb-0310-9956-ffa450edef68",0,15
aa3b9acd5a78e48292d4cba7654e6141842e27c3,"applied patch from John Heitmann, many thanks - which fixes AMQ-515

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436748 13f79535-47bb-0310-9956-ffa450edef68",5,35
09990f2eab45e9db3be0c2b1ec300f224bc0c208,"add the UDP trace plugin which can be handy when testing stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436751 13f79535-47bb-0310-9956-ffa450edef68",1,2
fbad105e7d9ea7ac1635b30918b5e8fc4f986ab5,"attempt to reconnect to the remote JMS broker if we get a fail sending a message to it - an attempt at fixing AMQ-895

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436752 13f79535-47bb-0310-9956-ffa450edef68",158,213
b54ce41de25a6fe2575e7b7a9dfbe0dc80094a26,"added patch by John Heitmann with thanks to fix issue AMQ-890

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436767 13f79535-47bb-0310-9956-ffa450edef68",4,141
1ad52f420959e7b55cf301f0f8f61c8d4f4aef98,"patch supplied by John Heitmann to allow the rmi port to be configured to fix AMQ-892

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436833 13f79535-47bb-0310-9956-ffa450edef68",8,27
e8c8abcd5bd1d8fe28a6afd84e818ba0bda062c1,"applied patch from John Heitmann to fix AMQ-889 to avoid duplicate consumers (such as on failover) leaking resources

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436835 13f79535-47bb-0310-9956-ffa450edef68",58,210
fdb9c4153bcbfe17dc31530b71cdbb814e208d90,"added a test case to check we can configure the keepAlive and tcpNoDelay properties on TCP. For background see: http://www.nabble.com/Bad-AMQ-Linux-performance-tf2159490.html#a5986085

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436850 13f79535-47bb-0310-9956-ffa450edef68",0,55
9479de76fa3049921a911ee3988fcfd55595d1e5,"fix for AMQ-896 and AMQ-837. Also tidied up the Queue / QueueView / QueueViewMBean code a little to make it easier to work with queues via Java / JMX allowing messages to be copied, moved and removed via a selector or MessageReferenceFilter

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436899 13f79535-47bb-0310-9956-ffa450edef68",93,443
b3538319995aef836446ec91651df8aecb804469,"AMQ-884 patch

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@436909 13f79535-47bb-0310-9956-ffa450edef68",10,6
1e7d8d8b73c640ba9e94ce831fe7a8c1b921a6e0,"Adding a file created with sn -k 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@438113 13f79535-47bb-0310-9956-ffa450edef68",0,0
46c6ff97ac52486e30072506963d181bfabf22ab,"Issues:

1. 

Bug: Unable to find some dependencies because the maven plugin that is downloaded are snapshots version. 

Solution: Disabled release version on pluginRepository ""apache-snapshots"".

2.  

Bug: https://issues.apache.org/activemq/browse/AMQ-901
Solution: Changed version of maven-xbean-plugin to release version 2.5


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@438348 13f79535-47bb-0310-9956-ffa450edef68",5,12
ebf60bb3cae7585d75cf9d40b557f3db789ffa10,"https://issues.apache.org/activemq/browse/AMQ-902

Bug: Compilation error on class HttpsTransportServer because setAlgorithm(String) was replaced in jetty-6.0.0rc2. 

Fix: Modified setting of algorithm with new methods.









git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@438429 13f79535-47bb-0310-9956-ffa450edef68",11,35
f48b4eb3a360b9b0c792a0c512f36e8a11c8bee1,"added debug around transport being disposed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@438840 13f79535-47bb-0310-9956-ffa450edef68",1,5
bfaff9b37c815c32ec18911bf038d03724c753d4,"Apply patch http://issues.apache.org/activemq/browse/AMQ-877

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@438917 13f79535-47bb-0310-9956-ffa450edef68",343,1204
9d4c74fb74e6206f13ca43718bf922410744d09e,git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@438994 13f79535-47bb-0310-9956-ffa450edef68,4,16
1c0de6bda4dd2dd83771a33cb8ccb4c0701cbbcb,"implement toByteSequence on direct byte buffers too.. needed for http://issues.apache.org/activemq/browse/AMQ-907

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439108 13f79535-47bb-0310-9956-ffa450edef68",2,6
88acb0ede755808266ee9748fcf3d04ee6415e3d,"Eliminating required dependency on activeio... http://issues.apache.org/activemq/browse/AMQ-907

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439111 13f79535-47bb-0310-9956-ffa450edef68",289,1242
e2bd38c7a2e3b78b2ff0c770864ce04e2a6d5ff1,"http://issues.apache.org/activemq/browse/AMQ-907

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439204 13f79535-47bb-0310-9956-ffa450edef68",44,303
fe0243ade385095c8c0916b0e0c0a5185b9bac40,"use logger for exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439298 13f79535-47bb-0310-9956-ffa450edef68",3,7
2b51c3357e5594a49972cd68e5c5266d045bd13b,"Opps.. commented out tests by mistake

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439345 13f79535-47bb-0310-9956-ffa450edef68",1,1
e16114f99bdef263f3d79deacea32302f99cd9bf,"Protect against NPE when toString() is called before object is fully initialized.
Spring seems to be doing this (part of of it's debug logging) with newer releases.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439346 13f79535-47bb-0310-9956-ffa450edef68",2,8
a19bfd4c9a969d41faacb858be855d9fda338bba,"https://issues.apache.org/activemq/browse/AMQ-855 allow prefetch==0 to work with receive(timeout) and receiveNoWait()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439442 13f79535-47bb-0310-9956-ffa450edef68",41,100
51902f45f57e892fa2ab37a7653dc7dc528797e2,"some ground work for http://issues.apache.org/activemq/browse/AMQ-845
changed pending linked list to use a PendingMessageCursor interface instead

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439551 13f79535-47bb-0310-9956-ffa450edef68",0,0
7d1e6bcdeec58eff5f937adb6c5aa355d0a0ec13,"some ground work for http://issues.apache.org/activemq/browse/AMQ-845
changed pending linked list to use a PendingMessageCursor interface instead

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439552 13f79535-47bb-0310-9956-ffa450edef68",87,609
a7891c3dca7b598b4664574bc88e0802e16df6ef,"Patch applied from Vadim: https://issues.apache.org/activemq/browse/AMQ-855

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439804 13f79535-47bb-0310-9956-ffa450edef68",15,32
e78edb1ea73fd0e708a1a6c75ea7825f2d55da4e,"move setPercentUsage() out of synchronized blocks to prevent a deadlock in the journal
persistence adaptor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439837 13f79535-47bb-0310-9956-ffa450edef68",5,13
9da7781c49d15b1c21e9530f4965af5b8c76efa1,"Swtich to released xbean

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439880 13f79535-47bb-0310-9956-ffa450edef68",1,1
8029b8d5572c48c81fa7ae1efc31434aad9bbcd5,"trace more operations and don't let tracing errors cause operations to fail.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439886 13f79535-47bb-0310-9956-ffa450edef68",11,133
96356920b1818f08de10dfe35208aa20790b9ce5,"This test is in the core module allready

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439929 13f79535-47bb-0310-9956-ffa450edef68",381,0
ac66a09dab2a3a756def13c35e54a8a2e11017b8,"Added a MemoryPropertyEditor that allows you to specify memory sizes in the xbean config like: limit=""20 MB""
Upgraded the xbean maven plugin to 2.6 and the new qdox that it used did not like some of our valid inline initialization of variables, so I had
to refactor to an equivalent form that qdox did like.

http://issues.apache.org/activemq/browse/AMQ-827
http://issues.apache.org/activemq/browse/AMQ-909



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439930 13f79535-47bb-0310-9956-ffa450edef68",112,177
b75a6dac1bbf4d153b177fc3a36c9aeb6ffa5ea3,"Applied patch: https://issues.apache.org/activemq/browse/AMQ-891

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439939 13f79535-47bb-0310-9956-ffa450edef68",16,25
802296d5d90da499ed7d442f62f0c4d2da9c12bc,"Fix broken test case: ConfigTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@439950 13f79535-47bb-0310-9956-ffa450edef68",3,94
3fe77a2cf8de036cdfcdf4c0fc6889e71265ac88,"Use a different TaskFactory for PersistenceAdaptors - allowing the thread priority
to be set differently for PersistenceAdaptors (e.g. Journal) than normal tasks.

This is part of the work necessary for http://issues.apache.org/activemq/browse/AMQ-845

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@440108 13f79535-47bb-0310-9956-ffa450edef68",2,42
86d006ab28176f7cb9ce73c50c663d5a401b020b,"splitting kaha.impl into 3 packages per: http://www.nabble.com/Kaha-package-re-rog-tf2218956.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@440342 13f79535-47bb-0310-9956-ffa450edef68",98,168
2bdded210e2ceb0da5c16fd5cbc99fa35ed9f972,"Applied new source header boiler plate per http://www.apache.org/legal/src-headers.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@440350 13f79535-47bb-0310-9956-ffa450edef68",2,130
937de5bd1183e63456fb79db4c8af12d3b8d3b3e,"http://issues.apache.org/activemq/browse/AMQ-913


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@440541 13f79535-47bb-0310-9956-ffa450edef68",1,1
5b530832748c8ffe49e40cde535e8faf9a2b2380,"Fix for http://issues.apache.org/activemq/browse/AMQ-911

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@440588 13f79535-47bb-0310-9956-ffa450edef68",63,112
13277055fb57b9312831598777d52b01bd6d8348,"Doing repository re-organization discussed here:
cms module was removed since it's been replace with activemq-cpp
http://www.nabble.com/SVN-Repository-Reorganization-tf2221183.html



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@441202 13f79535-47bb-0310-9956-ffa450edef68",238008,0
73da05b8a138fa96ec88b9d4de32ae2e2de03263,"Moved the systest module to the sandbox since it is not integrated into the main build and never has receive that much development attension.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@441205 13f79535-47bb-0310-9956-ffa450edef68",13836,0
1039894721a53f666b656f2b3e23f8c7383a2c07,"Updated pom due to recent repo restructure.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@441524 13f79535-47bb-0310-9956-ffa450edef68",7,0
62f798a3dfd5995f1334da991b26b977da52b5da,"https://issues.apache.org/activemq/browse/AMQ-855

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@441525 13f79535-47bb-0310-9956-ffa450edef68",8,59
72cc9e9aa0e7d943ecf651ced3db1596c1fbdf7a,"Better NOITCE file.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@441599 13f79535-47bb-0310-9956-ffa450edef68",24,59
4eef609524f4831de2d294a50f534d112875c556,"More foundation work to resolve: http://issues.apache.org/activemq/browse/AMQ-845

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@442550 13f79535-47bb-0310-9956-ffa450edef68",123,1035
a86a587788e62c801c9aa71cefe7fa703d0ca810,"fixed for http://issues.apache.org/activemq/browse/AMQ-918

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@443267 13f79535-47bb-0310-9956-ffa450edef68",6,13
04c3b07a966e89cb207b53c852f16b881f2d5fec,"Backported fix for https://issues.apache.org/activemq/browse/AMQ-915
Failover transport does not replay all the transaction operations on failover.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@443271 13f79535-47bb-0310-9956-ffa450edef68",46,249
295850da01be27b59f90674527af28c5a6dbbab1,"Rolling back commit 443271 since it is breaking the build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@443425 13f79535-47bb-0310-9956-ffa450edef68",249,46
220ad62a5057fec622eb073fb97e0c2a76b2e586,"https://issues.apache.org/activemq/browse/AMQ-915

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@443430 13f79535-47bb-0310-9956-ffa450edef68",52,360
c9b89056f771d351f0a3a4cfbe8976011290e63f,"fix for http://issues.apache.org/activemq/browse/AMQ-922

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@443534 13f79535-47bb-0310-9956-ffa450edef68",17,132
4f945cf7e13dafc24d55ef9d5e4a9128af371a6a,"Commiting awesome patch by Sepand Mavandadi to add ActiveMQ support for SSL authentication and authorization: https://issues.apache.org/activemq/browse/AMQ-912

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@447607 13f79535-47bb-0310-9956-ffa450edef68",8,182
1a88ac6ac383eccf8a026368c894f8f21646cd3c,"Commiting awesome patch by Sepand Mavandadi to add ActiveMQ support for SSL authentication and authorization: https://issues.apache.org/activemq/browse/AMQ-912

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@447608 13f79535-47bb-0310-9956-ffa450edef68",0,2990
648826b6d29a3be4b6653aa9c026e9131663154e,"https://issues.apache.org/activemq/browse/AMQ-912
Removed extra  activemq-core/src/main/java/org/apache/activemq/security/JassCredentialCallback.java
and renamed JassCredentialCallback.java to JassCredentialCallbackHandler.java since a Callback is very different from a CallbackHandler


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@447635 13f79535-47bb-0310-9956-ffa450edef68",67,4
ae9ba43296b03df78ace4fc6be778ee273a87e2b,"Adding in a little helper script that will run the IBM JMS performance harness 
against ActiveMQ in case you want to benchmark activemq.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@448007 13f79535-47bb-0310-9956-ffa450edef68",0,49
4194df7f78dd7038e49d5a1154cf1e3cafbe3f7e,"Don't enable jmx on the embedded broker since that was hanging the tests


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@448014 13f79535-47bb-0310-9956-ffa450edef68",1,1
635bc2b11a06852bad38e197655ac2d4ab6d03aa,"fix for https://issues.apache.org/activemq/browse/AMQ-933

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@448492 13f79535-47bb-0310-9956-ffa450edef68",26,63
2e7aa919e8a2fef10ec47cf606adbb3a5fd44d1f,"Fixed up the poms to include the maven plugins

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@448832 13f79535-47bb-0310-9956-ffa450edef68",6,4
dcaf1dffb62e89c026f1dae13b1dce299fbfbc6c,"avoid serialization issues when using JNDI

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@448868 13f79535-47bb-0310-9956-ffa450edef68",1,1
f6d4f9f1480745c2aaae2dd9b6738b983dbed865,"tidied up the wire format negotiation to ensure that we don't try verison 0

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449023 13f79535-47bb-0310-9956-ffa450edef68",5,75
6e34afc293d6a87963cf3613ada19c2d57b62184,"fixed failing test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449045 13f79535-47bb-0310-9956-ffa450edef68",50,67
ef5fd15b8470c91470c63917b570c4ef6ae7671e,"http://issues.apache.org/activemq/browse/AMQ-938

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449079 13f79535-47bb-0310-9956-ffa450edef68",6,9
4b595ea6dc2d0bd3dcd7e80d0ddb670ead17245d,"applied patch from John Heitmann for AMQ-932  - many thanks!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449654 13f79535-47bb-0310-9956-ffa450edef68",70,128
7a5c4990e51a98e82ece5d0762cf9b42f86d47ca,"added missing license headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449682 13f79535-47bb-0310-9956-ffa450edef68",2,28
be5a7673338cacf39ec16f35c45e8106d5f12434,"doh - added the correct headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449684 13f79535-47bb-0310-9956-ffa450edef68",16,18
0f9f6f5ba26bcd7b2953560e79b6612de2c3f79d,"updated license headers and added a NOTICE/LICENSE file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449694 13f79535-47bb-0310-9956-ffa450edef68",7,669
fe1d993bb199e7d12e3be8f88299959d244b51c5,"removed some cruft CSS/JavaScript, added Inspirationally Blue CSS style and updated license headers and added a NOTICE/LICENSE file

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449726 13f79535-47bb-0310-9956-ffa450edef68",5855,1017
3df5af05ecd7bbcb60cc2ea55d8cdd7113fb485b,"Removed parent pom since it was adding the rsync repo to the distribution list, and reformated

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449739 13f79535-47bb-0310-9956-ffa450edef68",940,948
d90b781b00b52cd7e840fb8dd596044998281dc0,"Applied patch from Bruce Snyder to port AMQ 3.x LogAppender utility to AMQ 4.x.
Refer to: https://issues.apache.org/activemq/browse/AMQ-935
Applied to rev 449914

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449919 13f79535-47bb-0310-9956-ffa450edef68",0,478
8427665555aea78805dd6bea7dcc090616d85ddb,"added creative commons license details for common.js script

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449946 13f79535-47bb-0310-9956-ffa450edef68",3,61
2b11b8c36d29bc5f444b081fdf54e3974c5468a1,"fix for https://issues.apache.org/activemq/browse/AMQ-851 - reduce  dependencies of the activemq-core POM to only minimal stuff. moved xpath filtering components to activemq-optional

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@449965 13f79535-47bb-0310-9956-ffa450edef68",165,171
094f00750fafea213c176f5d10a1a0a0dad9ede5,"applied patch from Kelly Campbell for AMQ-940 wth thanks

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450044 13f79535-47bb-0310-9956-ffa450edef68",10,63
77f1ed2207804238cd01e0b47dc1e11b42d7a5e6,"Set the eol style on the generated marshallers


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450091 13f79535-47bb-0310-9956-ffa450edef68",59,8015
0935193f858c7485b4b8fa05e52657ee69658fea,"Added licence headers so that generated sources also have the header


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450141 13f79535-47bb-0310-9956-ffa450edef68",1,18
32f06120595bb9b59053253caa4b5c48e4bd7ec0,"Setting the eol style

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450143 13f79535-47bb-0310-9956-ffa450edef68",59,3476
bd0ad6860ac62c40ae2616d399d164ce17074641,"In an attempt to make the openwire generator easier to maintain and use from the now seperate activemq-cpp and
activemq-dotnet modules, I converted the groovy scripts to plain java and you can now execute them with just plain
Ant.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450289 13f79535-47bb-0310-9956-ffa450edef68",3454,3914
eaa5c9991b23685d7f2909a8e6ecae4dae6ac379,"Fixing pom


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450290 13f79535-47bb-0310-9956-ffa450edef68",1,2
45055d353219be9f96cf287257f6aa5f11395118,"removed unnecessary central repo which was causing G some issues

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450343 13f79535-47bb-0310-9956-ffa450edef68",4,0
91bcbda6e06a7d88ed21a701f145c74d7127cb05,"AMQ-928 - decrement consumer count only when a subscription was removed (add null check)
        - add test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450371 13f79535-47bb-0310-9956-ffa450edef68",5,59
833eefb3455efef6ed0f412b8f60fdb1686a56f5,"ensure that producer & consumers are created lazily

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@450451 13f79535-47bb-0310-9956-ffa450edef68",4,10
4879b9cbd34f3e0c8b0f58768a9339ce1cbf2d3f,"Adding a activemq.xml and log4j.properties as test resources so that ActiveMQ can be launched via 
the Main class in an IDE without any additional configuration.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451030 13f79535-47bb-0310-9956-ffa450edef68",0,63
3c441d03aed96f092ec686e2666f2d264d0af51e,"Added test case for JmsLogAppender
For: https://issues.apache.org/activemq/browse/AMQ-935

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451170 13f79535-47bb-0310-9956-ffa450edef68",13,106
72491912adc21bee4a5adccdf2fbc789d110f66e,"make absolutely sure that a session is always removed from the connection even if there is a failure while closing

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451323 13f79535-47bb-0310-9956-ffa450edef68",26,28
a8abf2e3912546118a693144021a9ce7f74cf02a,"removed some duff javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451325 13f79535-47bb-0310-9956-ffa450edef68",7,1
0552c2bf0d0f8aa2a62befa72f638d92e7698266,"https://issues.apache.org/activemq/browse/AMQ-812 - allow all destinations, including inactive ones to be shown in jmx 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451518 13f79535-47bb-0310-9956-ffa450edef68",6,25
e8bae06604e3d1dee6007b9a23b5476fcdcde5d0,"Added unit test for consuming expired topic and queue. - AMQ-936

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451612 13f79535-47bb-0310-9956-ffa450edef68",0,216
61308b8ff9491e5c4f5deb60a193bd302d9081df,"Made a slight mistake on the name of the unit test. Change the name of JmsQueueSendReceiveWithMessageExpiration to JmsQueueSendReceiveWithMessageExpirationTest.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451615 13f79535-47bb-0310-9956-ffa450edef68",1,1
aa532c16618cd581aab738f57d81f69d1f8a4f3c,"fixed classname specified in the log.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@451617 13f79535-47bb-0310-9956-ffa450edef68",1,1
fa4279c43341154ba1bf632190291df0e1f6e0e1,"http://issues.apache.org/activemq/browse/AMQ-953

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452108 13f79535-47bb-0310-9956-ffa450edef68",5,1
62cb1b6cb08f14db41934ae1f922511274e08346,"updates for https://issues.apache.org/activemq/browse/AMQ-834 and https://issues.apache.org/activemq/browse/AMQ-833

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452346 13f79535-47bb-0310-9956-ffa450edef68",22,31
917927fe6da93b718774314261aaff8b1b668236,"Patch for AMQ-950 to only create a JMX context if there is not a platform one

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452350 13f79535-47bb-0310-9956-ffa450edef68",1,2
8d42a5af7f1c1102b4486918e1f5c1a4ac8d6883,"applied patch from Hiroshi Ayukawa to ensure that object stream marshalling is all released - many thanks! For discussion see: http://www.nabble.com/Broker-used-up-the-memory-tf2316972.html#a6598182

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452505 13f79535-47bb-0310-9956-ffa450edef68",1,3
4e1ec02590b821defbe3288dfc3551a4c2b18e08,"added an explicit check that the destination is not null to prevent cryptic exception messages from the broker

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452507 13f79535-47bb-0310-9956-ffa450edef68",0,3
dfddf6910332e7981f6dc9c0df050ceaab441151,"Adding missing header files.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452657 13f79535-47bb-0310-9956-ffa450edef68",2,195
cc11683bf6f2bba6a7cba93d91e841ff00c74b89,"Use property variables to specify the URLs of the distribution repositories so that they can be overriden on the command line

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452659 13f79535-47bb-0310-9956-ffa450edef68",2,4
afcb55e547f8d7976b89ebcfa6137b82f3e1ed0c,"Use released versions of the plugins


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452662 13f79535-47bb-0310-9956-ffa450edef68",2,2
00282727b838988daa3328595d3f9058d86fdf6d,"minor refactor to create marshalString helper method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452752 13f79535-47bb-0310-9956-ffa450edef68",11,13
09ebb720d3c5553c0945f1b3cf793e8861fa4196,"Fix for: https://issues.apache.org/activemq/browse/AMQ-942
- Added support for large string in ActiveMQStreamMessage.
- Change the marshalling method of ActiveMQStreamMessage to also use the MarshallingSupport utility. This allows a central utility to handle object marshalling. Unmarshalling was still left to ActiveMQStreamMessage as it performs type conversions.
- NOTE: The constants use to determine the data type was also change to refer to the constants in MarshallingSupport. This makes this version's wireformat incompatible with previous versions.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@452793 13f79535-47bb-0310-9956-ffa450edef68",117,162
44aece50206f871ebbec2b44b6a23ec1d8664a16,"use the subscription name in the object key of a durable subscription so that it is more unique so that the MBeanTest can pass.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453075 13f79535-47bb-0310-9956-ffa450edef68",4,7
17946e532570199820b019b947c9110cc28155a0,"work for https://issues.apache.org/activemq/browse/AMQ-876

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453123 13f79535-47bb-0310-9956-ffa450edef68",850,1592
6e8044251947ebb95ad504646144c85228d9711b,"work for https://issues.apache.org/activemq/browse/AMQ-876

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453124 13f79535-47bb-0310-9956-ffa450edef68",0,355
ac4beb12f94b63d3a83fdf678e0a618542016ee3,"https://issues.apache.org/activemq/browse/AMQ-956:
Fix, created an activemq-version property that will represent as the version of each activemq dependencies. This way the activemq snapshot transitive dependencies will not refer to the timestamp of the parent.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453166 13f79535-47bb-0310-9956-ffa450edef68",15,22
a3cd7da9c1631b8e584c1db670555f0144502b21,"fixed some class cast exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453171 13f79535-47bb-0310-9956-ffa450edef68",7,6
374971febe969b72b7684bb79e7b00384ed6d44c,"trim the string used to get the sequence id

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453176 13f79535-47bb-0310-9956-ffa450edef68",1,1
bcca6682e0f0739a174be5c90bd7c60575f55934,"http://issues.apache.org/activemq/browse/AMQ-958

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453380 13f79535-47bb-0310-9956-ffa450edef68",1,17
5a58837f8e629c3cc190fb76c34b9659309260f3,"Updated test to the new way of specifying the broker xml file in the JNDI properties.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453440 13f79535-47bb-0310-9956-ffa450edef68",4,1
8c5aadf6a064f67e3e3de1540822d65225691930,"Switch to latest depolyed snapshot of activeio and disable persitence for some tests that don't need it on.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453454 13f79535-47bb-0310-9956-ffa450edef68",8,4
e353513bcd4e7eb28a4fc6078ef1a0182516e6e0,"pom tweak

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453459 13f79535-47bb-0310-9956-ffa450edef68",1,1
cc1a9be9c84d5887e7ec390e98b647a851f1094b,"Switch to using a variable when specify the url to the m1 deployment repo and also deploy to the snapshot repo by default.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453467 13f79535-47bb-0310-9956-ffa450edef68",1,2
f8485e3b36878d84a146af3ca15ba39a6e972aa8,"Initial work on making the stomp frame and destination conversion in and out of activemq pluggable. The only implementation is the 4.0 style, but adding others is doable now.

Configuration is done on a per-TransportFactory basis right now, this might need some tweaking. Will discuss on list


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453497 13f79535-47bb-0310-9956-ffa450edef68",255,332
ff7bee0e49928c7d6d770167f6c78fef9a4ad14f,"Minor update: Check for null first before using the object.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@453629 13f79535-47bb-0310-9956-ffa450edef68",4,4
4208134b5e90fda367fbef75cb49cbc5a32a667c,"Minor correction on comments.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@454326 13f79535-47bb-0310-9956-ffa450edef68",9,11
2a22129eddd7761f2ba3daf2406399afa7037461,"changes for https://issues.apache.org/activemq/browse/AMQ-845 -
provide support for durable topic cursors

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@454367 13f79535-47bb-0310-9956-ffa450edef68",0,0
b6ba20b965ec0fe97ead8f824a88d83d8e0d6400,"changes for https://issues.apache.org/activemq/browse/AMQ-845 -
provide support for durable topic cursors

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@454368 13f79535-47bb-0310-9956-ffa450edef68",1089,1932
78035ea26b5e56f422f7473c2690b3965aff4bbc,"check tmpDataStore is actually created before closing!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@454444 13f79535-47bb-0310-9956-ffa450edef68",1,3
7a6b944e6b2ccba6d9835daf2fb4e3a382c2b281,"Ensure messages inform usage manager when they hop in and out of ram ...

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@454471 13f79535-47bb-0310-9956-ffa450edef68",12,57
5c4bd063d7673cfde074ec4b55786a862c07464d,"added additional properties for network control etc


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@454532 13f79535-47bb-0310-9956-ffa450edef68",0,166
9fc2fd6af62747560e894347ccf2f96f8e4acb52,"Changes:

1. use actual group Id instead of using ${pom.groupId}.
2. changed groupId of tooling modules.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@454602 13f79535-47bb-0310-9956-ffa450edef68",43,30
daa3c005c532cbe4f3876151bbc92a23ce13243b,"delete instead of clear messages for deleteAllMessagesOnStart()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@462745 13f79535-47bb-0310-9956-ffa450edef68",1,1
3c9a89ac1a771bc932c4438ce8ab9f18aa0d1ed5,"Don't add the same CompositeDataSupport instance into the TabularData
twice (Doh!)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@463232 13f79535-47bb-0310-9956-ffa450edef68",1,0
a20de10f4aa89969900417cb4fc671f81aad8dd1,"Subscribers shout have unique ObjectNames - so use the ConsumerId
as part of the object name - unless its a durable subscriber.
Currently, we weren't allowing more than one consumer from the same 
client to be registered

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@463233 13f79535-47bb-0310-9956-ffa450edef68",31,37
3a9299bade47de24705eebfe8cb4941309986a00,"Fixed failing test cases: - a few problems had been there for a while

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@463646 13f79535-47bb-0310-9956-ffa450edef68",119,256
19812e7e290d09e56b888ae60f4eff6873134256,"Fixed failing test cases: - a few problems had been there for a while

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@463679 13f79535-47bb-0310-9956-ffa450edef68",0,242
171b10894491181500b4cdfc4d9c26f5c054c468,"fix for https://issues.apache.org/activemq/browse/AMQ-927

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@463689 13f79535-47bb-0310-9956-ffa450edef68",2,3
9ca56a0049e2009f1725aaf0e7afdf6e4d21d6ee,"http://issues.apache.org/activemq/browse/AMQ-976

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464110 13f79535-47bb-0310-9956-ffa450edef68",162,191
5159e2b9ad4c848cd0939b098aef9bbab5f0316f,"Copy the configured broker info too so that the brokerName is set on the created discovery agent.
This fixes the WARN message that was being produced on startup.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464216 13f79535-47bb-0310-9956-ffa450edef68",0,2
2e08bc7f37b0c714898737a60dd6b909e4787650,"https://issues.apache.org/activemq/browse/AMQ-855

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464643 13f79535-47bb-0310-9956-ffa450edef68",1,1
d78c1ff6086757615c5f4b7e791f6743047926d4,"use a seperate configure method on the transport factory for when we are configureing the server side transports.  Some transport impls are not asymetric and will need different configs.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464658 13f79535-47bb-0310-9956-ffa450edef68",1,19
6bae9594dbf3fd1bc88ca4bf5d60f3dfea1887f1,"Applying patch from https://issues.apache.org/activemq/browse/AMQ-960
Thanks Kelly Campbell!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464659 13f79535-47bb-0310-9956-ffa450edef68",26,94
7416155e42d81d71c6c72566c997eda0e3108785,"Test case to see how long it takes to run out memory for a Queue with no subscribers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464825 13f79535-47bb-0310-9956-ffa450edef68",0,110
35707b3c565716541dcd0b1b41c3f3a515a03cfb,"fix for https://issues.apache.org/activemq/browse/AMQ-983

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464880 13f79535-47bb-0310-9956-ffa450edef68",1,1
f2dbca05d7f32401446888b794504cce69a5bfac,"Use the jetty6 plugin in the web demo.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@464923 13f79535-47bb-0310-9956-ffa450edef68",1,1
27f15fd9c583f88e22642f2248641475aa9fcee8,"added better javadoc comments to add better descriptions on the XSD reference

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465204 13f79535-47bb-0310-9956-ffa450edef68",0,33
d96a43d400329bf126dbd9f58db692650b7a94ae,"some trivial javadoc fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465251 13f79535-47bb-0310-9956-ffa450edef68",4,2
7a1d626a00c9c4d642bf278322807d6ad84af172,"added explicit license header to some javascript and css files - also switched to another CSS layout which is definitely creative commons

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465258 13f79535-47bb-0310-9956-ffa450edef68",276,248
d287bb1d498bb2e8aabc350bffd3f6d9fd5b78b3,"added a test case to test out AMQ-980 and from the looks of things, things are actually working fine for last image policy with wildcards

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465266 13f79535-47bb-0310-9956-ffa450edef68",5,111
8cf0a390c5e2fc99f30f63f52d9be4e93f8b05da,"port of licence fixes from 4.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465275 13f79535-47bb-0310-9956-ffa450edef68",9,1427
4e98feca9209559ccb8105b9bdc4dd2878a972b4,"Updated to resolve over -eager clearing of old data files
http://www.nabble.com/ActiveMQ-4.1-hangs-when-using-kaha-persistence-tf2465546.html#a6874103

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465391 13f79535-47bb-0310-9956-ffa450edef68",43,124
a8b181014185341a0608448fbecdef3db07ba97a,"Applying patch from https://issues.apache.org/activemq/browse/AMQ-960



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465438 13f79535-47bb-0310-9956-ffa450edef68",10,15
796785171ad0c209eaf29729afebd92b800a4ec3,"Updating marhsaller generator


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465439 13f79535-47bb-0310-9956-ffa450edef68",1,2
aab5d8b1feaf448a5c2d105c8fdf2c5b2d56fd3c,"Added first cut of supporting cached keys in map container

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465643 13f79535-47bb-0310-9956-ffa450edef68",0,581
39ef23801f3eb99f385bb53c6e63cf1ef9625915,"Adding a droppable flag to each message

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465649 13f79535-47bb-0310-9956-ffa450edef68",0,17
6ba79b58d43139fd9b227a7948de6849216c6a4d,"Added a license header to the dummy, empty svg doc just to be safe :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465659 13f79535-47bb-0310-9956-ffa450edef68",0,6
05586eda6f95eab2132454cf395dac2fd52b8303,"Ensure that the connection info sent to the broker before doing XA operations.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465682 13f79535-47bb-0310-9956-ffa450edef68",3,20
da7ae3932054bf39597a722a4482612d947f9c1a,"Added headers to the jaas config files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465718 13f79535-47bb-0310-9956-ffa450edef68",2,50
c3f41326ef161ac322444558c750decaf296db78,"Adding some java keystore and truststore files so that we can configure an ssl connector out of the box.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465737 13f79535-47bb-0310-9956-ffa450edef68",2,2
5d6963e78c7e45208e9553bc3889d2285c373714,"setting the eol style to native


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465739 13f79535-47bb-0310-9956-ffa450edef68",747,747
4c7eaca5c5d50a48973abde0b726fb1388f3cd4c,"set the eol style to native


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465894 13f79535-47bb-0310-9956-ffa450edef68",100,100
af0aa85c8e360021b701b54660a502ff3a51bab4,"Updated startup shell scripts so that 
 - SSL_OPTS variable is set/overriden to configure the SSL options that are use to start up the ssl connector.
 - Added a ACTIVEMQ_BASE variable that default to be ACTIVEMQ_HOME but can be changed if you want multiple broker instances sharing the same broker installation.
 - Updated the assembly descriptors so that we are more careful about which file's line endings are translated or chmoded to 755.
 - the .zip is now specific to windows and the .tar.* packages are specific to unix flavors including cygwin.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465903 13f79535-47bb-0310-9956-ffa450edef68",29,103
886381edaa0073c2e7fa9ab91f7a41f3a24e91d3,"Adding license of the Java Service Wrapper


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465905 13f79535-47bb-0310-9956-ffa450edef68",0,59
d778fa4601c0ee6f461d69b0d06e597ebba71efd,"https://issues.apache.org/activemq/browse/AMQ-997



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465930 13f79535-47bb-0310-9956-ffa450edef68",16,78
76efc33cdbfb58f74ca05561341dc48dc633f74b,"Found some issues with the client ack handling for stomp and bytes message conversion while looking into:
https://issues.apache.org/activemq/browse/AMQ-978



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@465987 13f79535-47bb-0310-9956-ffa450edef68",4,12
29459ed41474b5447214696146508c7f75244293,"Add missing xbean annotation on ActiveMQManagedConnectionFactory

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@466039 13f79535-47bb-0310-9956-ffa450edef68",0,2
319966c1298daa97b86573c4149cd9a7fa896ce2,"refactored out a protected stopAllConnectors() so it can be overriden in derived classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@466320 13f79535-47bb-0310-9956-ffa450edef68",20,25
1bf7a48416ef8c4af5ff7f02f088fc86fd3af602,"minor javadoc patch

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@466959 13f79535-47bb-0310-9956-ffa450edef68",1,1
7a25bcf20302019b4fb9b0c675e99adc7ef3a076,"Adding NOTICE files to all build artifacts and updating some LICENCE files too.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467015 13f79535-47bb-0310-9956-ffa450edef68",295,1717
e73f5aabf61468d431d4ac18c1840c90d85820ff,"minor refactor to make it easier for derivations to expose exceptions on initialization

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467078 13f79535-47bb-0310-9956-ffa450edef68",94,102
0c6165f4bb6c959edd22bfc92ea07d0b7b0f4d32,"added an implementation of stomp+ssl along with a test case (which doesn't quite work yet but is excluded from the pom.xml  :) for AMQ-998

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467079 13f79535-47bb-0310-9956-ffa450edef68",24,96
2ccbdb86573f5ba146f0cdede6dd466cd59ee83f,"added an implementation of stomp+ssl along with a test case (which doesn't quite work yet but is excluded from the pom.xml  :) for AMQ-998

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467084 13f79535-47bb-0310-9956-ffa450edef68",0,39
333158a031fe2265f0277ddd4e45b4d364233c1c,"Fixed typo in subscriptionName property name in the ConsumerInfo object.  Left the previous getters and setters but deprectaed them.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467090 13f79535-47bb-0310-9956-ffa450edef68",44,61
a191115187a07585d30222bddf4a14c86fa24dea,"Merged in revision 467478 from 4.0 branch

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467481 13f79535-47bb-0310-9956-ffa450edef68",18,222
7b19dd4cece9141274be4c2fdbb2193cb6205429,"Moved the xmpp transport into the main trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467593 13f79535-47bb-0310-9956-ffa450edef68",0,8417
ddde7643fdcd34ca7bae658d1e966e0e0f5013e4,"managed to get the XMPP transport to subscribe to topics and receive messages when tested via the Spark Jabber client

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467606 13f79535-47bb-0310-9956-ffa450edef68",59,202
0ba4b93c3763e75e1ec0c34806c1b0e087dcbc61,"Adding module legal files


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467672 13f79535-47bb-0310-9956-ffa450edef68",0,222
aa54a8bec6cb79c99cd555ec58b5ba6b49aedb8c,"http://issues.apache.org/activemq/browse/AMQ-1001

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467676 13f79535-47bb-0310-9956-ffa450edef68",9,52
4f7025083420058e50051c86170e47c91d2af827,"fix npes during tests..

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467685 13f79535-47bb-0310-9956-ffa450edef68",2,2
a45a7a3f1dc0107b0eb02b243a9e9880c1a49426,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467688 13f79535-47bb-0310-9956-ffa450edef68",1,1
b68267a341174e23f1369a26b318d2a84351542d,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467689 13f79535-47bb-0310-9956-ffa450edef68",2,2
9ba6fcc40fa86626d89a7451152ece1d3b581f24,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467690 13f79535-47bb-0310-9956-ffa450edef68",1,1
7d54de6504327ac06c2ffde6fd4ba7aa887a1837,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467692 13f79535-47bb-0310-9956-ffa450edef68",7,5
e80e052c278df2b3657bdcfc01b2df4d8a01ccfb,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467693 13f79535-47bb-0310-9956-ffa450edef68",1,1
0d25d4e211c500e213477bad97b3d1e093a887ba,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467695 13f79535-47bb-0310-9956-ffa450edef68",13,13
b91928db8c8627d4f434934f77cd9fd608809645,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467696 13f79535-47bb-0310-9956-ffa450edef68",4,4
1b9276d2c14fb74ff2487c627ba5566e4bd64c9a,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467697 13f79535-47bb-0310-9956-ffa450edef68",2,1
fed2d6b5c7e3029d35d499a9a968ae569e731d0a,"avoid println in the console output

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467699 13f79535-47bb-0310-9956-ffa450edef68",2,2
be0aaf481fff2f01a5072a94b03af9b5b08df4fc,"Fix to support spring 2.0, connections produced with SingleConnectionFactory do not allow you to set the clientId on the connection.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467708 13f79535-47bb-0310-9956-ffa450edef68",1,6
e281f0645a0c580c3e87b7206e9c14444c1f1a64,"Fix to support spring 2.0, connections produced with SingleConnectionFactory do not allow you to set the clientId on the connection.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467715 13f79535-47bb-0310-9956-ffa450edef68",7,42
ec09a75e7aee5d6b890460ef4de93247df890834,"Commenting out failing test. see:
http://issues.apache.org/activemq/browse/AMQ-1002

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467716 13f79535-47bb-0310-9956-ffa450edef68",1,7
02991433bb9c8eb8271572bc72d88210e00cd06e,"https://issues.apache.org/activemq/browse/AMQ-1004



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467783 13f79535-47bb-0310-9956-ffa450edef68",2,2
349d0f219fbe1b120a17e862abea8a6749d8ee39,"Fix javadoc description.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467789 13f79535-47bb-0310-9956-ffa450edef68",2,2
47a97ef893c48824dfbe4fdad3549c87428c71dc,"Change default multicast IP used as we had been using one in the reserved range, now it uses 239.255.2.3, which is in th
e range designated for site-local stuff


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467791 13f79535-47bb-0310-9956-ffa450edef68",1,1
04015a5e3ddbdf2c15f5bd0d0818bb9c92f69fa7,"switched to released version

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@467949 13f79535-47bb-0310-9956-ffa450edef68",1,2
83573a052ce037405b62ccfbd866d4c08c9e095a,"fixed up the test case so its working now along with fixed a schoolboy error in sending messages over XMPP so that works nicely now. FWIW you can now connect via a Jabber client to the broker and interchange messages with the example JMS programs and the web console!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@468026 13f79535-47bb-0310-9956-ffa450edef68",58,76
9f000ec235afeaec10d4645e0c96688032d6dba8,"added the activemq-xmpp module to the build

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@468027 13f79535-47bb-0310-9956-ffa450edef68",0,1
b1ed273f83385b2bd1eea7881771d39f3ee63712,"fixed the web console so it works fine with spring 2.0 along with adding XMPP support so you can chat with the broker using a Jabber client or use the web front end to send / browse messages

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@468029 13f79535-47bb-0310-9956-ffa450edef68",5,19
efd516866d35fd38ac9ed084282f3a503d75cfab,"fixed trivial javadoc warning

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@468030 13f79535-47bb-0310-9956-ffa450edef68",3,0
f370f916648619ce0cc253c60372fbdae9ed814f,"added a license header & added details of the Jabber Software Foundation XSDs to the notice & license files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@468097 13f79535-47bb-0310-9956-ffa450edef68",4794,237
41265f2b537b0e214c780e95f075412db9c7d4b1,"make the setProperty public since it can be handy.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@468911 13f79535-47bb-0310-9956-ffa450edef68",1,1
148f3bded15c52ba4176a0ba40bcea39831e98a0,"Freshened up the shipped examples.
  - Inlined the ToolSupport base class to make it more obvious to JMS beginers how JMS is used (less code reuse but these examples are simple enough)
  - Added CommandLineSupport class that uses introspection to handle interpreting command line options
  - Added ruby and java versions of a topic listener and publisher tools that can be used to benchmark broker performance.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@468913 13f79535-47bb-0310-9956-ffa450edef68",640,1292
d9ad0437ffb16da04cc215e852816cfdf511f9da,"added the dependency on the command line console

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469134 13f79535-47bb-0310-9956-ffa450edef68",0,5
49e10d36fc5a3317ee6a3e7a42787c913da5234d,"added support for a simple message based command agent so that you can send management commands to the broker over JMS

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469135 13f79535-47bb-0310-9956-ffa450edef68",1,259
050de10d41953f26721562f4d1972c371b9c4d8e,"reused the command line commands as the default implementation of the CommandHandler

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469136 13f79535-47bb-0310-9956-ffa450edef68",0,64
2672065943f9119df9422ef5b3eea0d177a2e82f,"fixed the use of the maven-jettty-plugin to use the correct jetty version for AMQ-1015

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469564 13f79535-47bb-0310-9956-ffa450edef68",2,4
07529a5f05cc3940c0ce0c73aecdf26959b983bf,"AMQ-801: Bundle activemq-jaas with dsitro

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469670 13f79535-47bb-0310-9956-ffa450edef68",0,2
fdadd72d9c60339c04921ad13f965281f07bf8a8,"Let's use a different name for the network connector in the config file bundled with the distro. This should prevent the default build from spewing some xbean/spring exception.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469682 13f79535-47bb-0310-9956-ffa450edef68",2,2
b93cd9ec13c1d804aafbacdcc3d548eda55bc61a,"Ensure Administered objects are Serializable

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469873 13f79535-47bb-0310-9956-ffa450edef68",1,30
b3e315fcc21e2d96ab151fa4d2516bbdb3d49edf,"disabled the use of the CommandAgent by default to avoid causing the VM broker to keep around forever (since the broker itself creates a VM transport which avoids it ever being closed)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469972 13f79535-47bb-0310-9956-ffa450edef68",1,1
3f74b0e1c0e32746fdb4d37d8cf76cdb04371ce5,"support for ByteSequence

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@469986 13f79535-47bb-0310-9956-ffa450edef68",3,41
d01965af0b5f2c959e0fd93ac7b61f4b804731d4,"Minor renaming and typo correction.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470018 13f79535-47bb-0310-9956-ffa450edef68",2,2
c171817a749fdc9ea652c57237404d68bd77ff3e,"tidy up some of the error handling

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470025 13f79535-47bb-0310-9956-ffa450edef68",3,7
12fff7894308fd17ce4117116bfe2f5b29674e3a,"fixed typo

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470282 13f79535-47bb-0310-9956-ffa450edef68",1,1
526cb5bae8a0976e553a4072c8b82ec3fc07c768,"make enabling statistics configurable

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470387 13f79535-47bb-0310-9956-ffa450edef68",5,96
330e73140a1188424d64f031434c825fa8f2ea64,"moved utility methods for reading byte streams to utils package from Kaha

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470388 13f79535-47bb-0310-9956-ffa450edef68",0,552
fdcc973923380d4f14a8696c66e1dd4e7e29b2c6,"optimized

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470389 13f79535-47bb-0310-9956-ffa450edef68",11,5
166a04bc58b29d87a9fb6b608ba29158b0084793,"make size of io buffers configurable

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470390 13f79535-47bb-0310-9956-ffa450edef68",3,22
ae687a1182452d6939b48ae34e79b16745ddd9cd,"moved StoreByteArray stream methods to util

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470391 13f79535-47bb-0310-9956-ffa450edef68",553,11
8a8f41c33b904ef38a8e7844f7f6d00ea254bfe0,"Added test to make sure ConnectionFactory is serializable - which
is a requirement of the JMS spec

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470395 13f79535-47bb-0310-9956-ffa450edef68",0,19
4821b9da7055ba55fa3ce9ead5ff848db4052ff9,"Use Input/Output Stream intefaces instead of concrete classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470398 13f79535-47bb-0310-9956-ffa450edef68",855,862
9c3dc347ca39b9f714ce1f16e12569bce82877e2,"Use Input/Output Stream intefaces instead of concrete classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470401 13f79535-47bb-0310-9956-ffa450edef68",6,6
36de58b37136ce37d6c84bcf01cb3a6e07a5b75c,"fix for https://issues.apache.org/activemq/browse/AMQ-1023

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470695 13f79535-47bb-0310-9956-ffa450edef68",141,62
ede5e3f23ed0aeb2fd6b7a6a5fc47b1cb86a0bbc,"Use Input/Output Stream intefaces instead of concrete classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470716 13f79535-47bb-0310-9956-ffa450edef68",2,4
2cc9b26943e3a660067a0952fc121c74842a135f,"Use Input/Output Stream intefaces instead of concrete classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@470721 13f79535-47bb-0310-9956-ffa450edef68",3,4
cafe4cbcc4cf31839ff5bdfb5af7a55a682ef075,"http://issues.apache.org/activemq/browse/AMQ-1026
Created a ReconnectTest that showed problems with the synchronization used when a client reconnects to a server via failover before the server detects the client failure.
- InactivityMonitor : Better syncronization so that an inactivty exception is only raised once.
- Connection: Added serviceExceptionAsync() method and change all methods that are dispatching to use this instead of serviceException() to avoid possible deadlock that can occur during connection shutdown.
- MockTransport: finer grained sychonization to avoid deadlocks.
- PrefetchSubscription: it is possible it will get duplicate acks on a failover reconnect



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@471837 13f79535-47bb-0310-9956-ffa450edef68",207,553
da7478d9d534eefd979404417d0dbb9e7fd84a36,"Eliminated AbstractConnection by inlining it into TransportConnection.  The synchronization complexity between the two was making my head spin.  Now that they are consolidated, we can try to simply them a little more.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472157 13f79535-47bb-0310-9956-ffa450edef68",889,788
3daf923b510d3c626e9341567593ba7dcfccaad2,"Added some fields for future use to the BrokerInfo and ProducerInfo classes.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472165 13f79535-47bb-0310-9956-ffa450edef68",0,44
39b037600129ff8c872dbb5cf717f40a15135f33,"added a test case to reproduce a bad ack bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472207 13f79535-47bb-0310-9956-ffa450edef68",0,175
11501cb38e93d7ad59961fdaad0522f5ff7218ea,"removed java 5 annotations :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472209 13f79535-47bb-0310-9956-ffa450edef68",2,0
0c93dfde72494a5906b2937d320bde8ef46794e6,"Added message ordering assertions and also a test case that uses consumer.receive() instead of a messsage listener

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472237 13f79535-47bb-0310-9956-ffa450edef68",66,138
c636b3798f368ebfdd6fed7839e24f2072746e51,"Added test case to test resizing of internal buffer of DataByteArrayOutputStream.
Fix bug during resizing of internal buffer of DataByteArrayOutputStream.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472258 13f79535-47bb-0310-9956-ffa450edef68",7,108
da5139c24b083551fd00c88eb90a1f205c054c7c,"All message dispatching should occur from the session's executor.  Also, we should dispatch any messages in the consumers queue before dispatching messages in the session's queues.

http://issues.apache.org/activemq/browse/AMQ-1031
http://issues.apache.org/activemq/browse/AMQ-1032



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472345 13f79535-47bb-0310-9956-ffa450edef68",71,127
4b5bc5eb2ddf94c48a2c12917d3bb76c315d2500,"added synchronization around marshal/unmarshal

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472421 13f79535-47bb-0310-9956-ffa450edef68",3,3
6be185d2ce739ea04c6a85b9bba074771dde4689,"Changes to POM to try fix AMQ-1017

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472483 13f79535-47bb-0310-9956-ffa450edef68",0,3
8be1b5eb5a5f7ddde45656a7e156e8a9ec03b8af,"Reving up version

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@472518 13f79535-47bb-0310-9956-ffa450edef68",20,20
0918fba384080081df16c327c52ff5382ae8ebfa,"https://issues.apache.org/activemq/browse/AMQ-1036
- Fix some browsing problems in the web console.
- Added a purge queue action.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@473056 13f79535-47bb-0310-9956-ffa450edef68",5,69
d71bc421f8a7eeec3640b52dc8c93c2db5cb33f8,"We should let a client change the client id on a connection even if it was set on the connection factory.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@473167 13f79535-47bb-0310-9956-ffa450edef68",1,11
89510235560e625b4c82b3d8d5ac8fb82b6b4156,"https://issues.apache.org/activemq/browse/AMQ-1024
- Fix case where a non-exclusive consumer registered first will receive a message, before an exclusive consumer.
- Added junit test case to demonstrate the issue.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@473219 13f79535-47bb-0310-9956-ffa450edef68",1,31
a8f4f6978c318f186e07d1f6a9fd5326755d15ce,"Added optimization to determine the highest priority consumer during addition of subscription.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@473223 13f79535-47bb-0310-9956-ffa450edef68",2,7
beaca8a0432d99482301c71ae503605c4b81f971,"Fix some failing test cases in windows.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@473224 13f79535-47bb-0310-9956-ffa450edef68",2,4
b75b1ee059959b6da708e2b779e9613301978122,"fix for https://issues.apache.org/activemq/browse/AMQ-1039
updated activemq-version property to 4.2-incubator-SNAPSHOT
updated activecluster-version property to 4.x-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@473325 13f79535-47bb-0310-9956-ffa450edef68",5,5
2510b088adbe75ba744bb6fccc1eb66b46ce38c4,"fixed for http://issues.apache.org/activemq/browse/AMQ-1042

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@473647 13f79535-47bb-0310-9956-ffa450edef68",0,3
8396de884b1b20e45e65b3cfb719166cfa00ea29,"Merge in change 474371 from 4.1 branch


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474373 13f79535-47bb-0310-9956-ffa450edef68",0,23
43d2ef0469b5e65076d3896f599581bc9fa1f002,"log an error for ConnectionErrors that are not transport or 
Broker in shutdown related

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474465 13f79535-47bb-0310-9956-ffa450edef68",2,2
b376ce24ef21294bc88bacb17e4f15bbfb2af2ea,"propagate exceptions up to the caller


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474466 13f79535-47bb-0310-9956-ffa450edef68",2,3
6b5840f8c191f10f416d07b678403824444a1f97,"remove RangeLimitedMap - will be replaced with B+ Tree

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474467 13f79535-47bb-0310-9956-ffa450edef68",456,1
9fcfa5c6d249cea2e0300e9c4247f017ea04b116,"remove RangeLimitedMap - will be replaced with B+ Tree

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474468 13f79535-47bb-0310-9956-ffa450edef68",127,0
55f4aad761fa64c0e81fdc1a5b3712bd875d386b,"check that Queue messages aren't acknowledged before applying a filter


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474469 13f79535-47bb-0310-9956-ffa450edef68",1,3
6895d009d8f085747573a0955399bc1bad3d7a8d,"Split the internal messages in a Queue destination in two - messages accessed by the
PendingMessageCursor and work in progress or pagedInMessages - which are instances
of QueueMessageReference - hence keeping the semantics for Message Groups etc. and keeping
the majority of the 'fiddly bits' intact.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474475 13f79535-47bb-0310-9956-ffa450edef68",344,496
636e37b376c084de86032ac919ce38380138d485,"Don't include activecluster as dependency since it not :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474523 13f79535-47bb-0310-9956-ffa450edef68",21,0
2d64943d45f555c0467b88ba6d4a02fbbb56489e,"Minor fix on build failure due to missing start tag ""<dependency>"" on one of the dependencies.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474632 13f79535-47bb-0310-9956-ffa450edef68",1,2
7a3de7693bb97e63e01772e42fb6712cbb2679c7,"log the the exception if an exception caught in rotating the consumers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474674 13f79535-47bb-0310-9956-ffa450edef68",1,1
0e9369f5dd37f87dde425d16be9b28657884e796,"AMQ-644 - create Java Service Wrapper for ActiveMQ

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474706 13f79535-47bb-0310-9956-ffa450edef68",5,16
caa30ffdc02b57cf970ffc7eba5f877af184114b,"Added synconization to the methods that setup connection state so that when an async error is detected, it properly does a full cleanup.  Previously subscriptions were not properly cleaned up since they were being setup at the same time as they were being cleaned up.

Also start 1 async exception thread ever since an async exception leads to connection tear down.  Subsequent failures do not need additional async threads started.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474769 13f79535-47bb-0310-9956-ffa450edef68",23,26
c0bc3e00c13a5a5565744ab340768424a3da340b,"http://issues.apache.org/activemq/browse/AMQ-1045 we now evict failed connections from a connection pool.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474799 13f79535-47bb-0310-9956-ffa450edef68",41,181
ae5cf8ef9e32996bff71a44600afe9736f78319e,"https://issues.apache.org/activemq/browse/AMQ-1016

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474872 13f79535-47bb-0310-9956-ffa450edef68",3,3
b243182cf9773ab6dc49bb7d5b007fed95878bd4,"move the wrapper.jar to the bin dir

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474892 13f79535-47bb-0310-9956-ffa450edef68",5,1
f001db49a95ff1bfcbcbd8a6eea181a022b00231,"move the wrapper.jar to the bin dir

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474893 13f79535-47bb-0310-9956-ffa450edef68",0,0
48a1ad8eec5e0125c0a702733c677c5e6ad1b5ee,"move the wrapper.jar to the bin dir and set the eol-style

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474894 13f79535-47bb-0310-9956-ffa450edef68",391,383
36265ea80286fcd0bcad2ff5081a3e7e71fe63db,"Updated java service wrappers so that they properly use the ACTIVEMQ_BASE and ACTIVEMQ_HOME enviroment variables.
also print out the ACTIVEMQ_BASE on startup and if classloading error occurs, have the main method dump a listing of what is in the classloaders.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474926 13f79535-47bb-0310-9956-ffa450edef68",48,102
cdf6bee97748f4860c7eeea39fd55bb296907fee,"Added a source distro assembly

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474976 13f79535-47bb-0310-9956-ffa450edef68",21,164
9e6eb830b35b12fe6c2b15db8ec951d43a006124,"Set the eol-style


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474977 13f79535-47bb-0310-9956-ffa450edef68",593,593
06a365f12c3051e765466529e44ae192a9d5141c,"Setting svn:eol-style


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474985 13f79535-47bb-0310-9956-ffa450edef68",3853,3857
0028479281ea4d7f379f8626aea1e0b5c995b28f,"Adding notice files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@474998 13f79535-47bb-0310-9956-ffa450edef68",12,222
4416123a0076ba1b7cac8b62ea42a7867433c05b,"Adding notice files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475000 13f79535-47bb-0310-9956-ffa450edef68",12,222
934e70cb667a4d105cc8d3821ec91cb5a17c205c,"Adding notice files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475002 13f79535-47bb-0310-9956-ffa450edef68",12,222
9e454868061cc1145c771c0c3a439fc84ce246e3,"Adding notice files

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475004 13f79535-47bb-0310-9956-ffa450edef68",12,222
fe1cde80ae8cb0dde8ce001bad92679789e0a7a2,"removing extranous META-INF

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475009 13f79535-47bb-0310-9956-ffa450edef68",12,0
5bde1e3003431daa4e92e2fb8cc0bf51955924ed,"setting svn:eol-style


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475018 13f79535-47bb-0310-9956-ffa450edef68",1541,1541
f3105202ef110ee8f125794db7f4af26f13f83bb,"Tweaked out the source distro assembly


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475068 13f79535-47bb-0310-9956-ffa450edef68",37,50
940850910d621a5efa592d272209e56ebc7165ed,"added a simple command agent that can be used to send messages to a destination (ActiveMQ.Agent) to interact with the broker via the activemq-console commands (list, query, browse etc)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475210 13f79535-47bb-0310-9956-ffa450edef68",28,106
540ebc6651451d3bd12e3195e3056c69d45342fd,"added a simple interactive console via SimpleConsole together with making the commands usable from the CommandAgent in activemq-core

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475211 13f79535-47bb-0310-9956-ffa450edef68",15,96
ba476b36f05a9f2fdd7fe39c513d2ddbe43967a5,"Setting some svn eol-styles and improving source distro assembly


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475265 13f79535-47bb-0310-9956-ffa450edef68",96,11
9260e941f951462c1234795f7e7a75650b7fb871,"use a temporary queue so replies can be sent to the client when they send to admin topics like ActiveMQ.Agent

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475289 13f79535-47bb-0310-9956-ffa450edef68",7,45
bc7d758fa049809adb3e380881bf8a1e33acfc93,"Added some simple stompcat and catstomp scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475302 13f79535-47bb-0310-9956-ffa450edef68",0,117
1c89c9221790a77b29d322bf91e9e19fb5400ccc,"enabled the command agent so you can communicate with the broker agent via JMS or XMPP or Stomp

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475316 13f79535-47bb-0310-9956-ffa450edef68",36,32
fc6ab9c6877c83d5dbcf95c5da4cf04e50f389bb,"change Queue message store in Kaha store adaptor to use memory efficent list instead
of Map containers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475416 13f79535-47bb-0310-9956-ffa450edef68",70,152
34fb326a0abb2cad4b443bb981787002d23de5e1,"added test case for AMQ-1027

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475680 13f79535-47bb-0310-9956-ffa450edef68",0,119
86faaef7c9e5e01f0563ebbea610d01e9511cecc,"Fix for AMQ-1053. Added support for pluggable message transformation together with an implementation using XStream to marshall ObjectMessage instances as TextMessages. See the XStreamTransformTest to see how a producer can send ObjectMessages but then consumers can see either ObjectMessages or TextMessages depending on their requirements.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475701 13f79535-47bb-0310-9956-ffa450edef68",26,459
a218949c58e9957722f684854e6fa17f0736e337,"minor update to comment

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475768 13f79535-47bb-0310-9956-ffa450edef68",1,1
86ad069c2b77b25d2de384a05738430c43c9969c,"enabled the Command Agent by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475771 13f79535-47bb-0310-9956-ffa450edef68",1,7
822df45e38f40e1945160b88991b9b9599b1f408,"Rev up openwire version in case someone makes changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475773 13f79535-47bb-0310-9956-ffa450edef68",1,1
4f3f52392d3ee4053b75b8e41b577fb224f924d6,"Started on an AsyncDataFileWriter implementation so that we can get more concurrent writes and batch up 
file sync() calls done.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475775 13f79535-47bb-0310-9956-ffa450edef68",50,474
93ee7d9f5f3c9dcf58b04968f8599089c171efd5,"tidied up help when ran in interactive mode or via the Command Agent

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475794 13f79535-47bb-0310-9956-ffa450edef68",20,20
a58d36b9b3665b3493fd252e28996c849174fd95,"see: http://issues.apache.org/activemq/browse/AMQ-1056
We now expire messages on the broker.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475848 13f79535-47bb-0310-9956-ffa450edef68",12,358
2df306cc7ad07b78a3ff9f2db1599a6f9297bf99,"https://issues.apache.org/activemq/browse/AMQ-1050
Fix bug in query when using the format -QTopic=*, -QQueue=*, etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475901 13f79535-47bb-0310-9956-ffa450edef68",2,8
849d2f330ea978f959b6632523db10126457fb6f,"The async writer is now working and enabled by default.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475943 13f79535-47bb-0310-9956-ffa450edef68",59,252
86cbdfd5db5b1c90c4a5f4dcdef702b0cf4901ce,"Switching to Java 5.. Build and Runtime now require Java 5 see: http://www.nabble.com/Switching-to-ActiveMQ-4.2-to-Java-5----tf2637427.html
- Update maven build
- Removed dependency on concurrent-backport



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@475999 13f79535-47bb-0310-9956-ffa450edef68",496,466
69e5439718e655ba4171e14f9cda94e7beb5d2d1,"More Java 5 Ehancements.
 - Use activeio-3.1 snapshot since that has been upgraded to Java 5
 - Don't need mx4j since Java 5 includes a JMX server



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476007 13f79535-47bb-0310-9956-ffa450edef68",104,2
c1d82a43c6b5edafd27afb751e07db1a0d6bc73c,"applied patches for http://issues.apache.org/activemq/browse/AMQ-1057

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476058 13f79535-47bb-0310-9956-ffa450edef68",3,3
e582e2fd402dbcde2b77039371c6be8e35c6d4a4,"only rotate consumers if there are consumers to rotate!

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476093 13f79535-47bb-0310-9956-ffa450edef68",1,2
9dcd00823b64553a153ed1f1651f574ad8875aad,"applied patch for http://issues.apache.org/activemq/browse/AMQ-1010

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476099 13f79535-47bb-0310-9956-ffa450edef68",1,213
3b28c7c3ec80dfb5db369148ac9d00e958908f3e,"tightened up synchronization around dispatching

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476100 13f79535-47bb-0310-9956-ffa450edef68",7,17
629bc81fb2ab21f8ee4bd879b53e3dda0e459226,"Adding persitent cursor support for Queues

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476101 13f79535-47bb-0310-9956-ffa450edef68",522,973
e0fdce4f01acb4e7e669bb7a228d25f9cf59a8de,"Ehanced these performance tests so that the producers are running in their own threads.
Also change the dumping of stats to be time based and not based on the number of messages received.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476189 13f79535-47bb-0310-9956-ffa450edef68",60,108
57a4071d94519377c2f788d512e30fcd3d0d6358,"Better.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476198 13f79535-47bb-0310-9956-ffa450edef68",2,3
f65acf552bbc15aeb68b8fbd331600aefd895dae,"force the datafile before it is removed so that all async writes are completed before the file handle is closed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476225 13f79535-47bb-0310-9956-ffa450edef68",0,1
94f16ac6ab4e546a684d04b1d607ada5ab13b8ac,"Adding a perf test that uses the journal kaha combination.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476255 13f79535-47bb-0310-9956-ffa450edef68",0,47
411e750806e0c8055f881f018fab8615aad85896,"added some comments about what we should problably do...

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476262 13f79535-47bb-0310-9956-ffa450edef68",0,6
f9a159723cccce1a80416b2ba18e21660029dcd7,"set the checkpoint workers to 1

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476265 13f79535-47bb-0310-9956-ffa450edef68",0,1
87f2f502d78e7e76723ec454f5e63638f0765d12,"enabled asyn sends.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476266 13f79535-47bb-0310-9956-ffa450edef68",1,2
d47855ace38ff748f18c72bb376b4d5f5799eba2,"added ability to have the consumer slow down. also better rate info.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476279 13f79535-47bb-0310-9956-ffa450edef68",13,28
5f68126945dd7e6fd6181665cad88d8237cff220,"sbe in dumpProducerRate()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476294 13f79535-47bb-0310-9956-ffa450edef68",1,1
51e6a0d593524a201bcfc7281d765e842d045a87,"Made PerfRate a more thread safe.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476297 13f79535-47bb-0310-9956-ffa450edef68",15,26
ab66037b1219a602c8a0d1714a85552b3bb91faf,"A simple test to allow profiler to get an idea of how much memory is allocated per
temporary Queue. It appears that the ConsumerAdvisory - one for each Connection, holds
a copy of every temporary Queue in the system.

I don't think this is a big issue - unless - as in this case - all the connections and the
broker are in the same jvm.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476299 13f79535-47bb-0310-9956-ffa450edef68",0,86
97d0a6105738591aab33d015216cd6fd837e8fea,"switch from using the RecordLocation interface to the Location interface since the adapter will need to 
be aware of what log file the active records are in so that it can delete un-used log files.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476310 13f79535-47bb-0310-9956-ffa450edef68",58,51
979c5d55eec2d7312f05c0b28ad82a8ef8c6da89,"applied patch for http://issues.apache.org/activemq/browse/AMQ-967

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@476523 13f79535-47bb-0310-9956-ffa450edef68",2,112
b02ca01826b297f833258968aefe004938bdd40e,"applied patch for http://issues.apache.org/activemq/browse/AMQ-1006

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477066 13f79535-47bb-0310-9956-ffa450edef68",5,32
5367f1ecb078074ac02e673a8a911d8aed6ed3ec,"fixed some timing issues using the Kaha Persistence Adaptor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477166 13f79535-47bb-0310-9956-ffa450edef68",242,145
7dde85b821034c804dd287e9f61f7249ab6bac81,"applied patch for http://issues.apache.org/activemq/browse/AMQ-959

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477171 13f79535-47bb-0310-9956-ffa450edef68",1,8
ea66d50338aa912063e815e32f988509e1c4ba5d,"Output the # of producers and consumers running in perf test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477272 13f79535-47bb-0310-9956-ffa450edef68",0,1
06072268313140b632b4cf828f3a069670cad920,"Added the initial cut of a JPA based message store.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477273 13f79535-47bb-0310-9956-ffa450edef68",29,1072
ecb50234ec17abe5293d265b93ecda0817341da4,"http://issues.apache.org/activemq/browse/AMQ-1042

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477356 13f79535-47bb-0310-9956-ffa450edef68",8,7
878b9645ce9b0538816c0dca715843c87496f4ec,"Updated Rapid Persistence Adaptor to do batching for cursors

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477567 13f79535-47bb-0310-9956-ffa450edef68",719,750
e34cbc1b075ce78879abfdcb3a023df005686f7e,"applied patch for http://issues.apache.org/activemq/browse/AMQ-1029

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@477570 13f79535-47bb-0310-9956-ffa450edef68",2,13
e78a6f7ee952ebd32f03f22eb8109c712860b7bb,"added yield back into dispatch() - but with a counter - so not so much of a performance hog

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478238 13f79535-47bb-0310-9956-ffa450edef68",0,5
5e1da9a9a64e093acf88ada86d06ec287660fb69,"Ensure clear all containers - not just active ones

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478262 13f79535-47bb-0310-9956-ffa450edef68",4,7
41b9089ac37f032ffcefe2e1aef0dbbbacf4a76d,"check messageId isn't null before trying to copy it

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478292 13f79535-47bb-0310-9956-ffa450edef68",1,1
eb827e27802282702f9eaca280b8461a6987e29c,"Added a fix for AMQ-1068 to avoid lots of RAM being used up with deeply nested topic hierarchies - we basically create the AnyChild nodes on demand now rather than up front

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478324 13f79535-47bb-0310-9956-ffa450edef68",52,318
9e02c22529779e929a16de785859d9f05ac13975,"Removed unnecessary System.out

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478325 13f79535-47bb-0310-9956-ffa450edef68",1,1
e00678027f52d17cc2670e5a965f52a39049d631,"support for different message storage cursor types for Queue destination policies

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478509 13f79535-47bb-0310-9956-ffa450edef68",37,125
d81997d3eb5e4c7041def58d58f014628a144881,"AMQ-526: get TwoBrokerMulticastQueueTest to work.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478558 13f79535-47bb-0310-9956-ffa450edef68",10,9
be6fac15e2c853ad5b0c3d610dc58e2eed98f449,"setter for max duration

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478598 13f79535-47bb-0310-9956-ffa450edef68",0,16
3bf0245e763d74b5489ba0f872b09303fef8c7d7,"implementation of store based cursors for Queues and Durable Subscribers,
to fix:
http://issues.apache.org/activemq/browse/AMQ-845
http://issues.apache.org/activemq/browse/AMQ-1062
http://issues.apache.org/activemq/browse/AMQ-1061
http://issues.apache.org/activemq/browse/AMQ-493
http://issues.apache.org/activemq/browse/AMQ-914

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@478967 13f79535-47bb-0310-9956-ffa450edef68",214,446
118c8069073bd56e1c3fef834d2aca64a3915326,"Added a new org.apache.activemq.kaha.impl.asyc package that holds data manager/journal that implements both the Kaha DataManager and ActiveIO Journal interfaces.
- Initial bench marks show it to be as fast or faster than the default ActiveIO Journal.
- The bigest differentiator is that this implementation of the journal was built to also provide fast reads.
- The DataManager interface was extracted and now the KahaStore can switch between the original DataManager implementation and the new implementation in the kaha.impl.async packagge.
- Simplified the original implementation by removing the AsyncDataWriters stuff since this is largely what the new package is based on.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479089 13f79535-47bb-0310-9956-ffa450edef68",584,2907
9359e9f6ca110f7d9b4edcfd4a82f90d4c042afa,"Update to fix http://issues.apache.org/activemq/browse/AMQ-791
Use in mmeory list in FilePendingMessageCursor - until memory limit reached - then use disk.
USe FilePendingMessageCursor in TopicSubscription instead of LinkedList

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479094 13f79535-47bb-0310-9956-ffa450edef68",56,221
6e3bb5d6827810b887c8ca79540e3593bea2ed0e,"Moved the new JPA module to it's own directory.



git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479145 13f79535-47bb-0310-9956-ffa450edef68",36,319
24b005c3dae67d1aad0ea206da525741b27df003,"Added derby to dependencies so tests pass.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479147 13f79535-47bb-0310-9956-ffa450edef68",0,22
ec63977e81936ba14aec2cb29e8601157f95fbc2,"Tidied up locking around cursor iterators

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479156 13f79535-47bb-0310-9956-ffa450edef68",200,228
c9e75006df5e669e122424a0e40c5f3af85be9ec,"Added some more annotations so that intexs and the lob is properly handled

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479194 13f79535-47bb-0310-9956-ffa450edef68",3,14
a11060452b5383bae75cc35af777208a11637098,"support for durable store cursors and retroactive subscribers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479614 13f79535-47bb-0310-9956-ffa450edef68",155,263
e78e72f957475122a86eccb16c91efb13e6d8a8c,"updates for http://issues.apache.org/activemq/browse/AMQ-795

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479639 13f79535-47bb-0310-9956-ffa450edef68",22,245
4f7aeecc1e4ddef019fce57ce474d7f78dcd4552,"added support for AMQ-1073 to allow selectors to be used with virtual destinations

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479694 13f79535-47bb-0310-9956-ffa450edef68",5,218
935fde037784cecd92cb2292d0a83194fa4142a3,"added a test case to try reproduce bug AMQ-1054 (unfortunately it doesnt) - also added a patch to try fix AMQ-1054 based on the kind suggestion from Shoaib Akhtar that it could be the cast from getData() causing the ClassCastException; so AMQ-1054 may be fixed but as yet we don't have a test case to prove it

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@479726 13f79535-47bb-0310-9956-ffa450edef68",6,184
ed1537b79d440b4a4f7c5811fd6130dabf30a908,"Added support for JDBC Master Slave for MySQL for AMQ-1074 thanks to the kind patch from Steve Lotito

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480072 13f79535-47bb-0310-9956-ffa450edef68",7,38
fbce65019cd8eb9716d4d3dc10b619f2df51681f,"Fixed the test case so it actually does fail - before the patch was applied

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480097 13f79535-47bb-0310-9956-ffa450edef68",2,7
5c587a2f1319474aed07671faa5801cfc271edbb,"Ensure store is properly deleted, even if not initialized

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480185 13f79535-47bb-0310-9956-ffa450edef68",1,9
d871d0e304be00f16cb95e3b63e1c6ca1f1d25cf,"ensure container is initialized before accessing

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480416 13f79535-47bb-0310-9956-ffa450edef68",0,5
346119bfc4cc8dba17979b8cf4c85d535ab9bd6d,"applied patch for http://issues.apache.org/activemq/browse/AMQ-908

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480575 13f79535-47bb-0310-9956-ffa450edef68",12,81
789d4e55416f42fe7bdb794f2c3da5fffe9f8094,"Fix for http://issues.apache.org/activemq/browse/AMQ-1078


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480717 13f79535-47bb-0310-9956-ffa450edef68",5,6
4597dddf79cf250c5b29e2d59cb4f7457bc62ea1,"Setting the Store based cursor as the default for Durable Subscribers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480731 13f79535-47bb-0310-9956-ffa450edef68",70,182
a9d1f21c0515afeebb5b49f68689f5eb29906d03,"http://jira.activemq.org/jira/browse/AMQ-583

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480854 13f79535-47bb-0310-9956-ffa450edef68",3,0
415d46cf466067411d3a52a1ca8206fb456470ed,"log which Persistence Adaptor we are using

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480924 13f79535-47bb-0310-9956-ffa450edef68",14,67
f1a989da9e464b6b016e61e7e08d756f923b8d0d,"sp mistake

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@480925 13f79535-47bb-0310-9956-ffa450edef68",1,1
4554b5d22fe075cf7c244660208a3e6f05c2c9cd,"used a separate room for CI messages

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@481216 13f79535-47bb-0310-9956-ffa450edef68",1,1
870401217a35f3eba495eac167ab0199ab41cec7,"AMQ-1084: Allow o.a.a.pool to support XA transactions
Also enhance the pooled ConnectionFactory to reuse several connections.
Fix the lastUsed timestamp on the ConnectionPool to avoid discarding reusable connections.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@481742 13f79535-47bb-0310-9956-ffa450edef68",52,159
0a361e504ac78d7b79ae9232844e59be787ce09c,"getting rid of the 'Embedded error: The attribute Extension-Name may not occur more than once in the same section' 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@485741 13f79535-47bb-0310-9956-ffa450edef68",0,2
16546f951a7786c56881bbd62535d8eb0c70ba33,"added fix for https://issues.apache.org/activemq/browse/AMQ-908

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@486131 13f79535-47bb-0310-9956-ffa450edef68",3,30
747acfef69ec19b1690892008a687ae9281b28c6,"Fix exception when removing message from MemoryMessageStore

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@486382 13f79535-47bb-0310-9956-ffa450edef68",1,1
e413e8711b00fdc8ed1c5f29d4dfa5b79e60cde3,"AMQ-1091

Changes:
1. Fix assembly-src profile by providing the correct path to unix-src.xml and windows-src.xml assembly descriptor.
2. Commented out excluded ""data"" dir in source assembly descriptor because it wasn't including the data package in activemq-core.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@486479 13f79535-47bb-0310-9956-ffa450edef68",7,19
87d15d6b98bd654774c05484234d6bf60d4926c3,"https://issues.apache.org/activemq/browse/AMQ-1097
- Fix for selector configured using destination options is not set
- Test case to demonstrate issue

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@487187 13f79535-47bb-0310-9956-ffa450edef68",3,80
e500f2ecc4854d841e6e1e52e2e13bdb83c346bb,"synchronize around the send on a Message

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@487232 13f79535-47bb-0310-9956-ffa450edef68",78,74
419ed2ee91432459d58ece793b3287a97c98db8b,"Patch for AMQ-1093 to avoid a deadlock if the transport is being reconnected from inside a MessageListener which is calling a send(), lets make the explicit clear of the consumer dispatch list asynchronous and within the existing mutex

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@487235 13f79535-47bb-0310-9956-ffa450edef68",20,23
f6972ec84aa855d3099ca4fb527f04c16258ddc4,"remove println messages from remove()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@488783 13f79535-47bb-0310-9956-ffa450edef68",12,7
958c41a12b64d9107f4514092c61cb31ed4013eb,"stop destinations when stoping a region

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@488958 13f79535-47bb-0310-9956-ffa450edef68",0,5
2b903d446ad57e0ab84cee7556a9a68542d72d29,"Fix for AMQ-1106: PooledBrokerFactoryBean incorrectly compares broker config resources

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@489413 13f79535-47bb-0310-9956-ffa450edef68",5,5
2550bc44b7718a7bfdb8844d3e928a58368a271d,"AMQ-1107: Upgrade to xbean 2.8 to fix invalid generated schemas

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@489665 13f79535-47bb-0310-9956-ffa450edef68",1,1
3be01132280a2f4c5d2436941ded3089a541358b,"exclude QuickJournalXARecoveryBrokerTest

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@489769 13f79535-47bb-0310-9956-ffa450edef68",0,1
d8674a0fedd3c5322a35e88e070398ec20f43ba3,"fix for http://issues.apache.org/activemq/browse/AMQ-1108

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490007 13f79535-47bb-0310-9956-ffa450edef68",48,62
c651ace525c7f96892ab909bffbd503679e2125e,"it's ensure dispatching happens in order

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490111 13f79535-47bb-0310-9956-ffa450edef68",20,28
e6a418b13b3800df2b4b86b1ecbe17c1c94a9540,"check we don't through null pointer exceptions - as this can lead to stack overflows ...

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490174 13f79535-47bb-0310-9956-ffa450edef68",113,213
ef0b33eeb64cc59b97ec1ec208d6dc7b5fea17f9,"uses cases submitted by Brian Diesenhaus

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490319 13f79535-47bb-0310-9956-ffa450edef68",0,374
de64939643e139485b0941d37b18ba13677ac8ed,"somehow, somewhere, the ResponseCorrelator got dropped from the transport used by the 
MasterBroker - so I've added it back here

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490452 13f79535-47bb-0310-9956-ffa450edef68",133,121
63ec47942331e7524ebf2d71caad50fdcd434408,"forgot to remove the sophisticated debuging code - oops

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490454 13f79535-47bb-0310-9956-ffa450edef68",2,0
bc03f37ebe8b2180031eb21aca37b92a4521e644,"Fix for http://issues.apache.org/activemq/browse/AMQ-841

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490786 13f79535-47bb-0310-9956-ffa450edef68",10,51
27ded73ca6380e3e9d8bc2e39a86ca5f906ed62f,"drop synchronization from connectionState and connection context - 
not required when using ConcurrentHashMap and limited concurrency for 
publishers or transactions for the same client connection 

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490789 13f79535-47bb-0310-9956-ffa450edef68",18,18
3093ea0f6eaf4ebaea02b272e944c2980e420ebf,"Transactions, when recovered, need to be recovered in prepare order:
a)  order determined by an unsorted map iterator might confuse people
b) brokerSequence can get out of step for messages recovered then committed - e.g. 
recovery on startup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490792 13f79535-47bb-0310-9956-ffa450edef68",35,43
b1c94aa00b883f505018928dd4bcb50b45948692,"Provide a more robust implementation, and one that deletes messages after they have been consumed

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490794 13f79535-47bb-0310-9956-ffa450edef68",88,130
4a16f4527ae6fc7fa4a6de1c6abb6bee02c713fa,"Transactions, when recovered, need to be recovered in prepare order:
a)  order determined by an unsorted map iterator might confuse people
b) brokerSequence can get out of step for messages recovered then committed - e.g. 
recovery on startup

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490795 13f79535-47bb-0310-9956-ffa450edef68",77,113
e5efc58cd42aa75e77a7f6a6fc1be46454c6ec9c,"Added support for hasMessagesToDeliver() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490796 13f79535-47bb-0310-9956-ffa450edef68",10,59
974ec34df5ca0c68e6a8dd82c1fae06878bc734b,"add a little more stress to the testManyProducersManyConsumers() test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490798 13f79535-47bb-0310-9956-ffa450edef68",2,2
5b33fefd41c437e81596c696ecff1d95aacec394,"persistent not used - but needs to be set in config - as only has affect before
start is called on the broker (which happens automatically via afterPropertiesSet())

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490800 13f79535-47bb-0310-9956-ffa450edef68",1,1
710e2fd8ebb34b9b625419058e44c55af30f8c10,"exclude TwoBrokerMulitcastQueueTest for now

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490802 13f79535-47bb-0310-9956-ffa450edef68",0,1
17f8a7ebcc4e4b374543738c178c2357a3fe35a4,"use memory based persistence for this test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490804 13f79535-47bb-0310-9956-ffa450edef68",9,3
81920f61cc571177662563078464e560cc915bc0,"setPersistent() call has no affect when using XBeanBrokerFactory - start is already called

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490805 13f79535-47bb-0310-9956-ffa450edef68",4,0
63d78acccc64cc99ed92dad5744ce1e5887f00d5,"tidy up the tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490807 13f79535-47bb-0310-9956-ffa450edef68",4,17
a70f96bd3781c1f7aff4580296367b8e4a75520f,"set the basedir property - so can be run from inside eclipse

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490808 13f79535-47bb-0310-9956-ffa450edef68",0,5
69647479123d6b59a6ece464c7778ca9257759b3,"updated recoverNextMessages()

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490813 13f79535-47bb-0310-9956-ffa450edef68",2,25
d2e606208db8d320c072ee137f06169c6bdd4e90,"Use the store based cursor by default for Queues - which will enable very large queue support

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490814 13f79535-47bb-0310-9956-ffa450edef68",73,142
d7a9feb0a641f87c6138000e946dad38b1c3faed,"Fix for http://issues.apache.org/activemq/browse/AMQ-1113

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@490967 13f79535-47bb-0310-9956-ffa450edef68",1,1
8b0f88a2573602ecfea38fdb89e2ad3fcd08f9b5,"put the synchronization back for now

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491088 13f79535-47bb-0310-9956-ffa450edef68",567,483
cd687e389c8556c948229a849b33b2e9e2b2ab93,"clear last batch id if no more messages left to dispatch to a durable subscriber

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491089 13f79535-47bb-0310-9956-ffa450edef68",46,79
8bc7f8636c4c5edb23724c4c49d122839d3caeb7,"clear batch entry if no more messages in the container

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491090 13f79535-47bb-0310-9956-ffa450edef68",0,3
3d0191e29ee640523204178f7d49f431c3388740,"clear batch entry if no more messages in the container

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491092 13f79535-47bb-0310-9956-ffa450edef68",1,4
71e44ce436ce9c8fffab330595f24d469ace0d3c,"put back using kaha as persistent adaptor

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491093 13f79535-47bb-0310-9956-ffa450edef68",6,9
fe3f49232108dd57af244f9545dbc342c19478e6,"fixed class cast exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491128 13f79535-47bb-0310-9956-ffa450edef68",4,8
7351c4bd0d0229750eba5bfccc380f04ce8c67db,"clear batch entry if no more messages in the container

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491184 13f79535-47bb-0310-9956-ffa450edef68",1,1
2a682e2fb2b0f4fc212e89dc13d08a61c3cc1aea,"Applied patch from: https://issues.apache.org/activemq/browse/AMQ-961

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491185 13f79535-47bb-0310-9956-ffa450edef68",2,9
7695676339af398d2b3f46b9f518d70903b1a027,"Fix for CursorDurableTest.
The TopicStorePrefetch was iterating items that were in the subscription but not added to the pending list.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491346 13f79535-47bb-0310-9956-ffa450edef68",23,51
6ddeac7bc0e52336b92673ee7e908894bc058cab,"check we are not a slaveBroker() when dispatching

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491431 13f79535-47bb-0310-9956-ffa450edef68",4,6
b91103a8300e054f63539e9c3d1c6b619d167000,"sp mistake in log

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491432 13f79535-47bb-0310-9956-ffa450edef68",1,1
a810f4300a9acdcf981a4409f56858564929a4c9,"Fix RecoveryBrokerTest that I messed up :)

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491452 13f79535-47bb-0310-9956-ffa450edef68",2,11
3070d33275dc03fea5068975d2dba36ff59fd37d,"Wait the perfect amount of time by using count down latches.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491455 13f79535-47bb-0310-9956-ffa450edef68",19,54
4cd0a27f91ac6f0146b26053f5dd6915f5d127dc,"Fix for https://issues.apache.org/activemq/browse/AMQ-1110

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491753 13f79535-47bb-0310-9956-ffa450edef68",40,53
81c5b1500bc324e269ff462308094c6eda766021,"in stop() remove VMTransports after services stopped - to avoid a timing issue with 
discovery spinning up a new instance

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491794 13f79535-47bb-0310-9956-ffa450edef68",3,7
61d56b290ab80d8bf694a107759e7dbed12dd295,"in stop() remove VMTransports after services stopped - to avoid a timing issue with 
discovery spinning up a new instance

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491856 13f79535-47bb-0310-9956-ffa450edef68",35,21
207816b308b0c3cda78a365764ef3dc9a0878a6b,"Fix test failures

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@491857 13f79535-47bb-0310-9956-ffa450edef68",8,43
0afb7f934f0c0f1c4de98d9a850d8bd875f2a489,"- Big refactor of the QuickJournal:
  - Move it to it's own package org.apache.activemq.store.quick
  - Brought in all the latest JournalPersistenceAdaptor enhancements
  - It now uses the AsyncDataManager as the Journal implemenation which has better read performance
  - Instead of forcing all PersistenceAdaptors to support external references, we now move all the message reference methods to a new set of interface class (MesageReferenceAdaptor)
  - Enhanced a few Kaha container classes so that they take advantage of Generics
  - Added a Kaha based MesageReferenceAdaptor impementation
  - Strategy for deleting old journal log files is now in place so that disk space can be reclaimed.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492373 13f79535-47bb-0310-9956-ffa450edef68",1982,226
481fc1ee3a408117526a90922d9b839a363a2c24,"- Big refactor of the QuickJournal:
  - Move it to it's own package org.apache.activemq.store.quick
  - Brought in all the latest JournalPersistenceAdaptor enhancements
  - It now uses the AsyncDataManager as the Journal implemenation which has better read performance
  - Instead of forcing all PersistenceAdaptors to support external references, we now move all the message reference methods to a new set of interface class (MesageReferenceAdaptor)
  - Enhanced a few Kaha container classes so that they take advantage of Generics
  - Added a Kaha based MesageReferenceAdaptor impementation
  - Strategy for deleting old journal log files is now in place so that disk space can be reclaimed.


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492380 13f79535-47bb-0310-9956-ffa450edef68",14,2447
158dbc66e7354f36843c84a0a7948b28bd0ad825,"go back to less granular synchronization

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492461 13f79535-47bb-0310-9956-ffa450edef68",316,273
75b1c94ddcb535779340538945d9b0032a84d151,"Fixed a ton of Quick store bugs that were found when running the QuickStoreLoadTester.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492471 13f79535-47bb-0310-9956-ffa450edef68",143,237
a4c432ab4586596639117e098ee73bccb4a2d227,"Fixed a ton of Quick store bugs that were found when running the QuickStoreLoadTester.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492472 13f79535-47bb-0310-9956-ffa450edef68",0,84
62c850b7dec852692090be5f79baf4b6d3c0b944,"rollback change.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492474 13f79535-47bb-0310-9956-ffa450edef68",1,1
ced50c994004c952a38fe026df29868f528d22c7,"Quick store bug fixes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492511 13f79535-47bb-0310-9956-ffa450edef68",31,36
88eab92328540cdb8c9d7ff6d891992c09b42407,"Quick Store bug fixes and added a bench mark test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492517 13f79535-47bb-0310-9956-ffa450edef68",21,29
a664b0b917ef1f03d0f2669ebd64b3d5fe2c2376,"Quick Store bug fixes and added a bench mark test

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492518 13f79535-47bb-0310-9956-ffa450edef68",0,43
720a19c5bf93c952d97312e41c05d25d02c48f84,"optimization for large number of queue consumers

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492993 13f79535-47bb-0310-9956-ffa450edef68",1,1
d2bff5d8edcfe8bd378e93f4527992a714419546,"might as well use the generic stuff - sigh

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492994 13f79535-47bb-0310-9956-ffa450edef68",4,3
aebb18cc575a034127d8060d9e0d8c8009c9e341,"increase the default cache size

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@492995 13f79535-47bb-0310-9956-ffa450edef68",1,1
f89d4dcaeb28e2afc9dd6ba6bd75974ac997f4ea,"guard against MessageEvaluationContext dropping the message whilst doing the check

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@493032 13f79535-47bb-0310-9956-ffa450edef68",2,4
c1612b5e063ec605490d5baf75abdbeac59a43ab,"moving to the activemq-jpa-module.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@493196 13f79535-47bb-0310-9956-ffa450edef68",28,0
e30a9dddde94245184c891b5febf08eba6610eef,"Added a JPA based ReferenceStoreAdapter implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@493226 13f79535-47bb-0310-9956-ffa450edef68",20,1128
8e8b82024b06da33a4258be700054e17922d6abc,"Adding an intial cut of an NIO based Transport.  This could be really hand to help brokers scale up in situations where it needs to accecpt a large number of connections.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@493241 13f79535-47bb-0310-9956-ffa450edef68",0,1029
e76feb6b8e8d8c844cf008dd120c898a605b13f8,"fix for http://issues.apache.org/activemq/browse/AMQ-1119

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@493573 13f79535-47bb-0310-9956-ffa450edef68",2,7
e349089a8d3920cb2d8f2ec1252f944b93aece7f,"Fix for http://issues.apache.org/activemq/browse/AMQ-1117

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@493696 13f79535-47bb-0310-9956-ffa450edef68",33,43
79f326ad53dbdb30257ed4bfe30ffa4f528be454,"ignoring the mutex for shutdown causes sporadic failures in open-wire

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@494331 13f79535-47bb-0310-9956-ffa450edef68",5,1
b21113962ba3d23fb77c66655a2c548807da6ad8,"Disable nio tests since they are not working on OS X


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@494582 13f79535-47bb-0310-9956-ffa450edef68",0,3
f19a3a66d62acd7765c744b02e82c4ecebf1ea78,"Tidied up the async dispatch option

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@494950 13f79535-47bb-0310-9956-ffa450edef68",24,28
f30b0d81133f53e04f65e96148dac8a7d2dd5864,"AMQ-1096: Added a activemq.classpath system property to provide extensions to the ActiveMQ classpath. Extensions can now be added via 'set ACTIVEMQ_CLASSPATH=c:/foo'
AMQ-1046: Consolidated all admin scripts to a single activemq-admin script file. To run admin scripts, use: activemq-admin bstat, activemq-admin query, activemq-admin stop, etc.

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@495172 13f79535-47bb-0310-9956-ffa450edef68",1464,460
ba7519049fce1bf14c844844a154b811fff01125,"Minor: Fix wrong conf format

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@495499 13f79535-47bb-0310-9956-ffa450edef68",2,2
f490982c3874059a3c65d25026e98234be1916ca,"updated patch for https://issues.apache.org/activemq/browse/AMQ-1010

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@496571 13f79535-47bb-0310-9956-ffa450edef68",13,13
6e26195cd86777c2a971896bf912ed75d96e7653,"fix for AMQ-1130 to use LONGBLOB rather than BLOB for persisting on mysql to avoid the 64k limit

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@496976 13f79535-47bb-0310-9956-ffa450edef68",0,1
0aac7f5d5c4ecf014a2d944663d71f707f5c132d,"fix for AMQ-1134 so that stomp connections are cleared up by the broker if a stomp client is killed without disconnecting properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@497898 13f79535-47bb-0310-9956-ffa450edef68",8,64
28a7312f2e470f69d04b6a142baeae1ca017797f,"corrected spelling mistake in raised exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@498926 13f79535-47bb-0310-9956-ffa450edef68",1,1
1a448be8257384a89259cbeeb2d19f70a1a8c0f2,"applied patch for http://issues.apache.org/activemq/browse/AMQ-1077

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499032 13f79535-47bb-0310-9956-ffa450edef68",1,2
21391ceab4d9228e7ce700899d77ae68955d2eaa,"add synchronize around add() - see http://www.nabble.com/Is-anyone-else-seeing-messages-stuck-on-a-queue--tf3027911.html#a8550623


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499169 13f79535-47bb-0310-9956-ffa450edef68",1,1
30716b15197c541dc7dc333c59d9b6611727d9b3,"add synchronize around pending
- see http://www.nabble.com/Is-anyone-else-seeing-messages-stuck-on-a-queue--tf3027911.html#a8550623


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499173 13f79535-47bb-0310-9956-ffa450edef68",2,2
af249b6b862b676c93e4d96c29138a4dd8dd9ad7,"use different broker names for the remote and local broker

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499478 13f79535-47bb-0310-9956-ffa450edef68",1,3
22e007f0a33d8600cd08276949c8c6d10b694c7d,"log when transport reconnects successfully

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499746 13f79535-47bb-0310-9956-ffa450edef68",2,2
0552f4a1b04ac729bcb7fffa7e237065bb7e67eb,"change log level to debug for exceptio thrown when disposing of local transport

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499752 13f79535-47bb-0310-9956-ffa450edef68",1,1
1b8148cd37d9b5cc8660df97a960ebeb9336382f,"increase average size overhead of a message to 500 bytes

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499758 13f79535-47bb-0310-9956-ffa450edef68",2,2
b036d4d2fafb2a4ac7e289d87c68d13baa7b78d1,"fix for memory leaks woth non-persistent messages - see http://www.nabble.com/OutOfMemoryErrors-again-tf3083798.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499760 13f79535-47bb-0310-9956-ffa450edef68",149,213
fb56fd9c768da77f4b9f78e3e562468b48d22af9,"fix for http://issues.apache.org/activemq/browse/AMQ-1082

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499797 13f79535-47bb-0310-9956-ffa450edef68",11,38
10abf6727ac026ac622355893e995646da678acb,"fix for http://issues.apache.org/activemq/browse/AMQ-1082

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499798 13f79535-47bb-0310-9956-ffa450edef68",51,39
f0d9464da03efd554371bac2c9c7d528ea616a8f,"remove the caching (as was causing memory leaks) in the ListContainer

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@499827 13f79535-47bb-0310-9956-ffa450edef68",454,62
0c0be94a312fd432f3076fbe8ab91a2080e65043,"Updated support for configurable Cursor types from the Destination Policy Map

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@500862 13f79535-47bb-0310-9956-ffa450edef68",242,495
b54ff7acff55ec6ec3bceaad29d00944b5d42d48,"Updated support for configurable Cursor types from the Destination Policy Map

git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@500863 13f79535-47bb-0310-9956-ffa450edef68",0,62
be35271fdc0f73e0fc53f62fbc31bee311b96f04,"Port of rev 501500 fix for https://issues.apache.org/activemq/browse/AMQ-1140


git-svn-id: https://svn.apache.org/repos/asf/incubator/activemq/trunk@501506 13f79535-47bb-0310-9956-ffa450edef68",0,124
99e51ac4bb1ffc3dcde544304322a7d92dfecfab,"ActiveMQ moving to TLP

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@502054 13f79535-47bb-0310-9956-ffa450edef68",0,0
a01a002069de21b7899f11af33fcd05cc1c4b0f8,"Addition of Indexes based on BTree and Hashing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503175 13f79535-47bb-0310-9956-ffa450edef68",0,0
93c67fe701cd4fb7f3ad88e87c707dd81ba10d88,"Addition of Indexes based on BTree and Hashing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503176 13f79535-47bb-0310-9956-ffa450edef68",112,2977
5b49189cfe89cf706ff1d1a54a5c7a05f212d5fd,"Tidy up the choice of Index types for the Map and List container

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503177 13f79535-47bb-0310-9956-ffa450edef68",99,63
0859f30a91c3a808726cec884c7cb5189dbd5766,"use Kaha MapContainer for message storage instead of the Kaha ListContainer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503680 13f79535-47bb-0310-9956-ffa450edef68",368,843
ee9f05ea5226232c129a1d538922c611aa16f577,"use Kaha MapContainer for message storage instead of the Kaha ListContainer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503681 13f79535-47bb-0310-9956-ffa450edef68",2,2
d9ca5c07fdafe15ca63ee63f20d7f6eac555b608,"fix for AMQ-1151 to include the activemq-xmpp jar in the binary distro - along with including the shell scripts in the zip

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503688 13f79535-47bb-0310-9956-ffa450edef68",1,39
c4c9f0b983a877845d1721bd96e39febadd9709e,"use Kaha MapContainer for message storage instead of the Kaha ListContainer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503694 13f79535-47bb-0310-9956-ffa450edef68",3,4
aa18c5d6fc76ec9334124dd1cfebca4380e94674,"ensure that init() is called on index - before clearing the index

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@503856 13f79535-47bb-0310-9956-ffa450edef68",1,2
fb3f71d895fc5aeccf9289f0d3aba1c0d24e5f96,"ensure writer isn't null in removeDataFile()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504007 13f79535-47bb-0310-9956-ffa450edef68",1,3
2e0f676c9bd59c4ac078fcbe2d8bfab850ce1fc2,"see http://www.nabble.com/ActiveMQConnection.createConnectionConsumer-bug--tf3159712.html#a8819449
properties not being set correctly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504023 13f79535-47bb-0310-9956-ffa450edef68",1,1
5c7af47332103dbf985c7107861326b299c3f006,"make sure next entry will be set properly in recovery


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504032 13f79535-47bb-0310-9956-ffa450edef68",71,64
3b78804dbce2b256940e99ff67ab6ae175f693e2,"fix text case by disabling spooling to disk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504228 13f79535-47bb-0310-9956-ffa450edef68",0,20
8a5e197cb4afec8cd4418a0719c3c7223d35e053,"refactor the code to make it easy to support non-local brokers such as for connecting via JMX to a remote broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504235 13f79535-47bb-0310-9956-ffa450edef68",163,208
8f4dc0d657489b575bc08dd72140972e49ef65bd,"Improve svn:ignore


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504245 13f79535-47bb-0310-9956-ffa450edef68",0,0
e17e5eca88a1111bffb5d3dc1613b926d71697f5,"Updated version to remove the ""incubator"" bit.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504248 13f79535-47bb-0310-9956-ffa450edef68",70,75
48f874ca59cf0da33381438347896faa93d8d159,"added in initial support for using a remote JMXBrokerFacade to connect to a remote broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504251 13f79535-47bb-0310-9956-ffa450edef68",70,140
156479a33d08dc9eb1b1d16eaa565b4d189fb63c,"not far off getting the web console working with remote brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504257 13f79535-47bb-0310-9956-ffa450edef68",11,39
d32ae27f182b491af7ac04dd9b747f0358a98203,"Fix incubator links in the README


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504384 13f79535-47bb-0310-9956-ffa450edef68",18,7
6e7e3abf5da3f59b5a365f71a3c92516db4844c6,"fix some problems in Quick Journal - now message containers are using Kaha maps instead of lists

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504501 13f79535-47bb-0310-9956-ffa450edef68",126,86
1d882e981cfcd16a9f89c0e141cc4f7715b6e010,"adding a patch to fix AMQ-1157 allowing a broker security context to be used to allow destinations to be created on startup etc.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504586 13f79535-47bb-0310-9956-ffa450edef68",12,31
c1e676d172c78c761a2074d218f3606679b7781b,"Added book directory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504616 13f79535-47bb-0310-9956-ffa450edef68",0,0
d139d621acd00c205c230449bc2a142cfdf3baae,"Moved the book into the trunk



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504617 13f79535-47bb-0310-9956-ffa450edef68",0,28
cb00a4ed6dc018e5431c1bfb3bf2e712c0be23b4,"Moved the book into the trunk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504618 13f79535-47bb-0310-9956-ffa450edef68",0,60
5372b7f403b712a1e0186bcc1bf2db7ffb2207a3,"added the activemq-book to the default build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504629 13f79535-47bb-0310-9956-ffa450edef68",0,1
86c0087ca434eeb05015c4c184ca24ec63b9ecb8,"tidied up the pom and basic book structure - now we just need loads of content! :)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504636 13f79535-47bb-0310-9956-ffa450edef68",63,185
f30d42ade2a19270eaf62f31bb08dc7f43cb6cdf,"Added a bit more documentation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504643 13f79535-47bb-0310-9956-ffa450edef68",43,55
ee4bb53a7de81d40525e623677f2adb06f76bb86,"tell the PendingMessageCursor how many messages you want - for more efficent polling from store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504798 13f79535-47bb-0310-9956-ffa450edef68",0,2
dc111aac4659bceffe279ed21afb9eda77cd7e78,"tidied up the look and feel of the generated PDF

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504854 13f79535-47bb-0310-9956-ffa450edef68",6,438
f36407a68766f6a84f1ffacb22b1d143d2288f28,"add unimplemented methods for the ReferenceStore interface

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504935 13f79535-47bb-0310-9956-ffa450edef68",0,7
feef358a16f25918823623e0c253c8686d399dee,"applied patch from bsnyder to fix build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504942 13f79535-47bb-0310-9956-ffa450edef68",1,1
a32448486756bc4f71646eff9ddc4dcee8d6fc6d,"amq store - just like the quick store (cut n' paste) - difference is optimizations for recoverying in flight messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@504999 13f79535-47bb-0310-9956-ffa450edef68",19,1906
fb3e5468b7c080443f3dd391e2fd09e31427568c,"AMQ-1159.
Updated scm url to point to new repository.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@505193 13f79535-47bb-0310-9956-ffa450edef68",6,7
b786ddba38b753b8cce9c849bbdbded9a6fcb8d5,"removed old Incubator disclaimer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@505370 13f79535-47bb-0310-9956-ffa450edef68",11,0
8ae7d842401c48cdeef20c13873744e8542cd7cd,"* Start breaking out the book by chapters to make the xml manageable
* Add skeletons/ideas for additional chapters


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@505858 13f79535-47bb-0310-9956-ffa450edef68",57,185
ef073d1ae9a08d7e7098b982386692d685c3da3b,"avoided the creation of extra PDFs for each chapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@506410 13f79535-47bb-0310-9956-ffa450edef68",0,1
ccf3f3c60dc714beb24fb640f075d8b31c8b9be8,"updates for https://issues.apache.org/activemq/browse/AMQ-894 - provided option to disable statistics gathering

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@506415 13f79535-47bb-0310-9956-ffa450edef68",30,152
b8cc4be884b113c2fad51d00a78f1005f5ff73f9,"updated DOAP file post-graduation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@506426 13f79535-47bb-0310-9956-ffa450edef68",6,14
6ddca19690eb1c2add18bdc8ef222f8f538f21c1,"Fix for failing MapContainerTest on windows.  All file handles were not being closed on a Store.close() call.
also updated to make more use of generics.




git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@507717 13f79535-47bb-0310-9956-ffa450edef68",34,43
141b0faedb5462410ee7ec46a5a77fd7d628e9fb,"Fixed The StoreTest that was failing on windows due to file handles not being properly closed.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@507736 13f79535-47bb-0310-9956-ffa450edef68",0,2
ee64b03ff54ce82a08c039e040737688786ac95c,"patch for https://issues.apache.org/activemq/browse/AMQ-1163

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@507792 13f79535-47bb-0310-9956-ffa450edef68",1,1
1a33eb61fb5f4a5fb5b3571f49ccb0def5df0331,"added support for temporary destinations and support more polymorphic request/reply logic in clients

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@508489 13f79535-47bb-0310-9956-ffa450edef68",7,28
c8e6ff245ba250da63f6748e7d475e1f925c5800,"ObjectMarshaller cannot write to stream directly - it'll get corrupted

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@508534 13f79535-47bb-0310-9956-ffa450edef68",47,30
6ac27998aa961a1bda7d0404c69f954de111b6d3,"for getValue() ensure the StoreEntry is up to date

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@508719 13f79535-47bb-0310-9956-ffa450edef68",2,2
0384cabd9d537a6fed04ad0a859f178aedf856cc,"for getValue() ensure the StoreEntry is up to date

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@508721 13f79535-47bb-0310-9956-ffa450edef68",80,72
0cda6b0d582f97a338dd4e424607fc92749118c7,"fix some synchronization problems

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509115 13f79535-47bb-0310-9956-ffa450edef68",7,5
a3b3a497fbbbf7a5f93a6e761e1e2073220a135a,"added fix for AMQ-1161

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509200 13f79535-47bb-0310-9956-ffa450edef68",2,55
a5f74d673d938f5e8bb8b73295c1143101510bec,"remove unused line of code (it was bad anyway!)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509227 13f79535-47bb-0310-9956-ffa450edef68",1,0
7b317ba7adca4499c7813a760a4a4eb92cf66899,"Log the error that caused the rollback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509486 13f79535-47bb-0310-9956-ffa450edef68",1,4
40f5aadcd314dc2ec5825416abe359172ecff99a,"Add test case for slow durable consumer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509534 13f79535-47bb-0310-9956-ffa450edef68",0,200
3a2caf427d5721b82f69723f09c4c8cabdaa7579,"by default, there should not be a subscription recovery policy (and it leaks memory)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509550 13f79535-47bb-0310-9956-ffa450edef68",5,5
8de60cf98016289de362cb0abc037eece45fe675,"try to deliver messages if there's enough space

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509552 13f79535-47bb-0310-9956-ffa450edef68",104,114
c46003fd3b48d6644c46495a63b77c7b4d62a30b,"tighten up on message reference counting

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509563 13f79535-47bb-0310-9956-ffa450edef68",98,103
b9814c408ce8158617976d0b0bd15d30a875704a,"only set the initialized flag = true after obtaining the lock on the data files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509564 13f79535-47bb-0310-9956-ffa450edef68",1,2
d0beb32cb89f3fe7770e6d670661acc550dfe880,"add waiting to aquire a lock held by the store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509565 13f79535-47bb-0310-9956-ffa450edef68",1,14
b0b602121e3aa4e911cd40282f5d2ad9d4e07dd7,"set the prefetch to something sensible (this is actually a key bit!)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509566 13f79535-47bb-0310-9956-ffa450edef68",155,126
c74558bfde36fb4c40139d00fb98db0f20c58162,"Add some additional crude throttling. With cursors being limited by how much they can
can page into memory as well as the producer, you can get live locks around space usage -
if the allocation reaches 100%

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509575 13f79535-47bb-0310-9956-ffa450edef68",2,6
f5b1b831b63ec722936fcab2bb04235b8154cf5a,"set stats collection to false by default - a real performance hog - ironically

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509612 13f79535-47bb-0310-9956-ffa450edef68",2,2
bca88fee1890ce25821a89f0ae8acda47b74395b,"Used toString() on destinations to avoid issues with StompConnect

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509705 13f79535-47bb-0310-9956-ffa450edef68",1,3
b006e61e4f515c304aca5deaf4d2180f83adc864,"Handle duplicate destinations & concurrency issues better

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509706 13f79535-47bb-0310-9956-ffa450edef68",3,51
341a1d4753b68488c34e08df9d17fedf3f43f324,"small op

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509717 13f79535-47bb-0310-9956-ffa450edef68",2,3
76c466ddef324246a050d7f066d892d76427dbdc,"small op

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509720 13f79535-47bb-0310-9956-ffa450edef68",2,2
32a4c47204957c66dfd5232b1fb2e5c10716ef7d,"small op

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509728 13f79535-47bb-0310-9956-ffa450edef68",67,64
5da043be8453c81031f51d19e5dd8709587411f9,"testlets of performance

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509729 13f79535-47bb-0310-9956-ffa450edef68",5,215
f92e5b587a71ddebbbc1213ab487df0e6316e25c,"repeater test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509731 13f79535-47bb-0310-9956-ffa450edef68",0,124
8613f58d167d0727b58d44355b80e0c7fb8910b7,"tidy imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509903 13f79535-47bb-0310-9956-ffa450edef68",3,2
b88db246b554d9c351350fa095c66f476d27e9e6,"synchronization changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@509912 13f79535-47bb-0310-9956-ffa450edef68",6,6
d85794c17f41f8f75b2be0340e3f1241b1cae520,"Applied patch from Tom Vijlbrief for AMQ-724

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@510843 13f79535-47bb-0310-9956-ffa450edef68",3,2
f7e9206ae55068b9c6cc5928741f849f3df19fbf,"Add a default policy entry, now that FixedSizeSubsctionRecoveryPolicy is no longer set by default on a Topic.
It was a memory issue for large messages.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@510899 13f79535-47bb-0310-9956-ffa450edef68",1,17
9e14f67b406ea7ab890df42da8943945480b595e,"Fixed vroke test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@510991 13f79535-47bb-0310-9956-ffa450edef68",1,1
481e71729229c22845c8691d9be1aaf44c201e03,"take out a println() that crept in

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@510995 13f79535-47bb-0310-9956-ffa450edef68",1,0
b77d70a1b18a8ad99f39723ecc5dbbc0c002873a,"rolled back change of toString() which was made for StompConnect as we can use Queue.getQueueName() / Topic.getTopicName() instead

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511032 13f79535-47bb-0310-9956-ffa450edef68",15,13
8cf4795b94da83e09b94612c654315956c862677,"added the first cut of version 3 of the wire format which now supports BlobMessage for out-of-band (or later on in-band) BLOBs for AMQ-1075

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511045 13f79535-47bb-0310-9956-ffa450edef68",128,1335
48522098f53ba2203bf74f6ad151cdc4ac73f078,"chekc if debug is enabled before calling debug

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511073 13f79535-47bb-0310-9956-ffa450edef68",12,12
26198c209486e8ad1956c1a8b0a38d1633e360f3,"Backported fix to AMQ-1165 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511464 13f79535-47bb-0310-9956-ffa450edef68",4,47
05a8cba7d06d4c2c0843238edae54af0b483b52a,"An improvement of AMQ-1075 so that the BLOB upload policy can be configured more easily together with a simple provider of the BlobUploadStrategy (with the actual implementation detail stubbed out). Also added brokerUploadUrl to BrokerInfo so that the broker can inform the clients where to upload out-of-band messages to. Finally added a JMSXMimeType helper method to the ActiveMQ extension API for doing selectors on MIME types

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511598 13f79535-47bb-0310-9956-ffa450edef68",76,387
53bf323e7447bc817372b4117bcf0152f0fb4e0a,"added another helper method and fixed up some broken javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511753 13f79535-47bb-0310-9956-ffa450edef68",5,26
c0fb0c558462063f67a26c4fe983caf628af2b6c,"fixed openwire test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511758 13f79535-47bb-0310-9956-ffa450edef68",1,1
6c57f721c2891ced884efdb19c2d2940b532f1a9,"added explicit disconnect after Chris T.'s patch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511781 13f79535-47bb-0310-9956-ffa450edef68",1,6
3013c2020bcc65019a957017fcbda3ae5b79dac8,"updated wiki links in source code to point to the graduated site

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511784 13f79535-47bb-0310-9956-ffa450edef68",26,26
12a5355b2cf2511fb260d09f73f3f6e647f2b129,"disabled logging to System.err to tidy up the test run in maven

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511791 13f79535-47bb-0310-9956-ffa450edef68",2,6
52c22cca2e6175c491264b793f73503b7f81db15,"added a simple default cut of the DefaultBlobUploadStrategy implementation along with a test case for the URI based configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511798 13f79535-47bb-0310-9956-ffa450edef68",10,83
3753442b1848c2198a5433b92f75f162e088ffae,"added jndi support for BlobTransferPolicy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511841 13f79535-47bb-0310-9956-ffa450edef68",1,2
cbb458ce8b317033ccf1980cd70fb1cb6f11c584,"changed the default policy to use an offset from localhost

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511881 13f79535-47bb-0310-9956-ffa450edef68",1,1
c3fd0a65b1fd1b056c4a91fad4d59e1df48e745a,"applied patch for AMQ-1128

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511912 13f79535-47bb-0310-9956-ffa450edef68",1,1
63b2d6837d7e29250b537b892c95610a0756fa9c,"added patch for AMQ-1099

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511939 13f79535-47bb-0310-9956-ffa450edef68",1,23
611ecd2a0126ffc2e450eb6b28e94ea1bbfe98fd,"removed dead file

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511941 13f79535-47bb-0310-9956-ffa450edef68",22,0
9583b5fc9f3fa23ccbb2bea5d34cbb3c39048fee,"added a helper class so that system properties can be used to overload the default prefix for auto-created data directories. Also patched the test cases to use a relative to target/ directory for easier cleaning

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@511947 13f79535-47bb-0310-9956-ffa450edef68",23,84
274f677ecb8de58404d85a79b8e7c3812fa9572d,"Adding test provided in AMQ-1165


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512104 13f79535-47bb-0310-9956-ffa450edef68",0,99
1cc049c5d034ffbea55aa1a02fcd97d711b29979,"enable statistics for the broker created for this test (count for destinations relies on it)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512156 13f79535-47bb-0310-9956-ffa450edef68",1,2
9ba5e1921cba0888218948b4f3eca9297c1d0bd2,"tidy up the setting of the default policy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512259 13f79535-47bb-0310-9956-ffa450edef68",17,16
6b38f803bc7a8714fff07bcea890a7c6d4316bd1,"should be a synchronized call around getVmLockSet()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512497 13f79535-47bb-0310-9956-ffa450edef68",1,1
14c605feabc9ccabb407011f183d0076603350fc,"Have separate child Usage Managers - one for producers, one for consumers.
This has been done so that paged-in messages do not have to contend for memory
with fast producers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512637 13f79535-47bb-0310-9956-ffa450edef68",22,128
dc0241343a2c15fafc6d6428124d4c2a2ac0a089,"tidied up the way messages are page in for a durable subscriber

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512640 13f79535-47bb-0310-9956-ffa450edef68",32,89
9f15a47340887e79e48cbfc061e5b593a22321cd,"only use debug logging when re-filling a batch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512642 13f79535-47bb-0310-9956-ffa450edef68",1,1
60a526c36b5a3842c1f7eac1a8ffda5cd315c904,"now check for correct order of messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512643 13f79535-47bb-0310-9956-ffa450edef68",13,17
44bafc3e0340c60d78d533959aebc79e409f3ff1,"added a little helper method to make it easy to wait on a broker being shut down in Java code

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@512764 13f79535-47bb-0310-9956-ffa450edef68",40,61
eb19487b669838127429e5e1e0c50fe1391b20af,"If thread context class loader is null use the class loader of the FactoryFinder class

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513003 13f79535-47bb-0310-9956-ffa450edef68",1,3
4e11eb604578f0de97955b7546401f0bd753f76f,"Added javadoc css

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513228 13f79535-47bb-0310-9956-ffa450edef68",0,168
f41a3789b1d41e55f21fba6a8be306b397a28d24,"added nicer javadoc css

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513242 13f79535-47bb-0310-9956-ffa450edef68",0,171
569273e7d4198994d4d201321fe618e1597e64fb,"fixed up javadoc links

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513244 13f79535-47bb-0310-9956-ffa450edef68",2,1
1ea7c196b5f40496523f8198050b12684eea0e0d,"enabled Java 5 javadoc and fixed some javadoc links

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513256 13f79535-47bb-0310-9956-ffa450edef68",4,4
ad8c06116b3555404d935113be78ce108e02df23,"Disabled some reports to avoid heap exhaustion on the CI boxes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513276 13f79535-47bb-0310-9956-ffa450edef68",0,4
1ea6d270533a17056d3d4bc808eccca5ae26fb46,"brief pacakage descriptions for javadocs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513287 13f79535-47bb-0310-9956-ffa450edef68",54,275
167f99a3a1f17a83aec2ff4e31a5a096bcb72909,"fix for jira issue: http://issues.apache.org/activemq/browse/AMQ-1121

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513455 13f79535-47bb-0310-9956-ffa450edef68",119,276
9fd9189a17aef039bf28da1fd8538c736e0e550d,"ensure deleteAllMessages gets passed to the persistence adapter whilst it still makes sense

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513467 13f79535-47bb-0310-9956-ffa450edef68",0,3
c0cd83870c970ac9534e9fba63afe8e9744892a9,"turbo charge performance ;)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513494 13f79535-47bb-0310-9956-ffa450edef68",3,14
4e2acd4a77a39ed74dfb692c2978248fba3a4946,"provide the option to always send messages synchronously - even if the messages are 
non-persistent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513543 13f79535-47bb-0310-9956-ffa450edef68",9,40
2241f2064f65b742bc0b4e91eb6d6f09e4212261,"increase default buffer size - to accomadate average message size - which is usually 1024

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513626 13f79535-47bb-0310-9956-ffa450edef68",1,1
4089d75fb74d7dbbb49434063a2e1be558442a7f,"fix for failing test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513758 13f79535-47bb-0310-9956-ffa450edef68",0,1
deaeab06e2ab7919dcb6224fd04645aa644f942e,"fix for failing test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513759 13f79535-47bb-0310-9956-ffa450edef68",1,2
ccd81adc0f16292fbb93a5049e9c0c6f5022e80c,"set default recovery policy (can't be FixedCountSubscriptionRecoveryPolicy) - as that
can hog alot of memory if large messages are used

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513761 13f79535-47bb-0310-9956-ffa450edef68",2,2
32e84d6cd1e92daacaaa900072b29dc55e2e45f3,"name the adapter correctly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513769 13f79535-47bb-0310-9956-ffa450edef68",1,1
4e21e15f7ea0abbac0b16ddb91471ec27d72ab27,"minor change to improve the test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513810 13f79535-47bb-0310-9956-ffa450edef68",3,8
819b811a2e61029801b77d12612fa7407a1a0687,"test the AMQ Store cursors instead of Kaha

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513919 13f79535-47bb-0310-9956-ffa450edef68",12,15
55fa95460ce5b9fe208771733b8c500215a70b38,"transports copy messages after serializing them on to the wire. So move copy on send into 
the vm:// transport only

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513920 13f79535-47bb-0310-9956-ffa450edef68",3,7
31d327726aceea1ed0b7b90609ddf5aa799befce,"Fixed Queue cursor test case for AMQ Store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@513921 13f79535-47bb-0310-9956-ffa450edef68",46,80
84eb9f8b6975ccdf1fe7aa7c666fcc59ceb91ac7,"performance tuning

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514131 13f79535-47bb-0310-9956-ffa450edef68",130,416
1dc9d9d355d9159ec088c6ee8193e77a359a80c7,"reset enableStatistics=true

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514140 13f79535-47bb-0310-9956-ffa450edef68",1,1
1191d5eeb282e36476eb536ad0f7bf11dd570ae2,"make ProducerBrokerExchange mutable if the destination is composite

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514143 13f79535-47bb-0310-9956-ffa450edef68",1,1
c3f4712ac9b534478abb188bd7ff33eae7b42aca,"Pass in broker name to the AMQPersistenceAdapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514364 13f79535-47bb-0310-9956-ffa450edef68",8,18
2eaafc0c12bd5b2d8fa70b29ed48fee2ac76053c,"add wildcard info to the ConsumerBrokerExchange

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514365 13f79535-47bb-0310-9956-ffa450edef68",8,39
8432e0aafeb026cbead743b32a7065ce39aa31ad,"set the remote broker name on the remoteBroker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514588 13f79535-47bb-0310-9956-ffa450edef68",1,1
df15551a4bdd8cda54b188032eaaa24495cdd4e0,"messages from remote broker are now handled correctly again

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514592 13f79535-47bb-0310-9956-ffa450edef68",1,4
477fc859e6007e9f2d5684ac1d9fd958c446fb33,"performance optimization

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514593 13f79535-47bb-0310-9956-ffa450edef68",37,43
ef1d3559f502309194b7c9dd6388b92216e72c71,"ported fixed in 4.1 to trunk.  http://issues.apache.org/activemq/browse/AMQ-1178

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514668 13f79535-47bb-0310-9956-ffa450edef68",17,30
015cd8a7f92cb245977f1d502ffc401932426095,"ported fix to trunk : 
http://issues.apache.org/activemq/browse/AMQ-1172
http://issues.apache.org/activemq/browse/AMQ-1174
http://issues.apache.org/activemq/browse/AMQ-1175

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514694 13f79535-47bb-0310-9956-ffa450edef68",70,136
46d98e1287a82f1941911146436287dfb9e0e36a,"ported fix to trunk : 
http://issues.apache.org/activemq/browse/AMQ-1173

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514701 13f79535-47bb-0310-9956-ffa450edef68",1,1
e5b45f6b4b60e72841166200245899b1a588691d,"ported fix to trunk : 
http://issues.apache.org/activemq/browse/AMQ-1177

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514717 13f79535-47bb-0310-9956-ffa450edef68",6,12
49ea0eddf6ecfc2e6709192b0667b8126e4dfe92,"ported fix to trunk : 
http://issues.apache.org/activemq/browse/AMQ-1181

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514720 13f79535-47bb-0310-9956-ffa450edef68",4,19
b743552137969cc827e73221be0ab17a8112c47e,"ported fix to trunk : 
http://issues.apache.org/activemq/browse/AMQ-1179
http://issues.apache.org/activemq/browse/AMQ-1180

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514734 13f79535-47bb-0310-9956-ffa450edef68",8,68
bd7d59c38f5b90d8b089520abf05ad9cbc8046b5,"ported fix to trunk : 
http://issues.apache.org/activemq/browse/AMQ-1176

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514754 13f79535-47bb-0310-9956-ffa450edef68",109,243
8be526c5ec3fda6dd1397470f4847620053ddabb,"added toString() method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@514772 13f79535-47bb-0310-9956-ffa450edef68",0,4
aee4378a8a0ebd8709175c00ebfb27afd31745b5,"make sure we delete the persistence store before starting 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515019 13f79535-47bb-0310-9956-ffa450edef68",0,1
759fd2829ce147105c45962cb9d9d56bf5ff51c8,"Deleted store implementations rapid and quick, as they are replaced by the AMQStore implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515054 13f79535-47bb-0310-9956-ffa450edef68",4088,666
985b4ce0df17acf06c8046b6e2ecb80f88c31713,"Make AMQPersistenceAdaptor the default persistence engine for ActiveMQ 5.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515059 13f79535-47bb-0310-9956-ffa450edef68",241,416
0b1a064092f77e7c576294add38e352fd016df72,"enable setting of the ReferenceStoreAdapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515060 13f79535-47bb-0310-9956-ffa450edef68",0,26
d262dfd4a9694f09835619259bb89d51c063a752,"use a more friendly XBean name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515064 13f79535-47bb-0310-9956-ffa450edef68",2,3
4bef5e359966d2844e910e8f2f52b40d67031b75,"AMQPersistenceAdapter is now used instead of the QuickPersistenceAdapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515065 13f79535-47bb-0310-9956-ffa450edef68",11,17
8011f907ef7e84103c149dfd24fdfa40cd0b16b2,"Fix for AMQ-1188 to handle invalid URIs for host names on Linux

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515084 13f79535-47bb-0310-9956-ffa450edef68",2,10
800fba7f6c4f7658829268c0e081f6babc55afd8,"fix typo in optimisation that was breaking the virtual topic tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515175 13f79535-47bb-0310-9956-ffa450edef68",1,1
1807dbbba352eb0adc41704f38d130f719b3c06b,"minor fix to avoid exception in some test cases

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515193 13f79535-47bb-0310-9956-ffa450edef68",1,8
05de2b1f475ec37820ed7064119655b0f5c248f9,"Merged rev 515282 from 4.1 branch which add enhanced stomp tracing support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515284 13f79535-47bb-0310-9956-ffa450edef68",5,50
d00ce72595a14b9f46e29f26bec22578e6445faa,"not a problem to try and create a destination more than once

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515466 13f79535-47bb-0310-9956-ffa450edef68",22,14
d57343cdb55b6f3b951e43ffe768305477a32344,"minor patch to avoid ClassCastException for AMQ-1189

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515524 13f79535-47bb-0310-9956-ffa450edef68",2,3
63b82516a41ed5e045776a2d39ebfa1c83ed4b09,"applied patch for AMQ-944

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515556 13f79535-47bb-0310-9956-ffa450edef68",0,14
d7355e787471d37842f0ffbca3c4251cb69ffd10,"applied modified version of  AMQ-1147 (keeping the implementation classes the same name to avoid issues with existing RA configurations)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515574 13f79535-47bb-0310-9956-ffa450edef68",1130,351
3bd948f7388d3e180b187b11a079b277fe56f1ff,"applied modified version of  AMQ-1147 (keeping the implementation classes the same name to avoid issues with existing RA configurations)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515576 13f79535-47bb-0310-9956-ffa450edef68",0,1315
e3870495dd72131cd068bac5f9952f1f46e484f3,"- http://issues.apache.org/activemq/browse/AMQ-734
- the failover option is no longer supported to remove it from the interfeace.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515602 13f79535-47bb-0310-9956-ffa450edef68",19,0
95b34d5f2b7cf1c5d3a784b2fb32654637f55dca,"fix for AMQ-1191 and AMQ-1109

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515606 13f79535-47bb-0310-9956-ffa450edef68",4,43
300a5b23cb1d042f228cc5d3eea5937c18175e71,"added toString()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515609 13f79535-47bb-0310-9956-ffa450edef68",0,11
f7db42a8353b95279bedab6b3b9ba12f0569b24a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1189, use 2 fields instead of 1 for the 2 usages of the consumer field to avoid CCE when using vm messaging.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515625 13f79535-47bb-0310-9956-ffa450edef68",7,16
c12d7bfa22634d9ac4af3f5003131b50927d4c36,"remove data store at end of the junit run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515627 13f79535-47bb-0310-9956-ffa450edef68",7,14
0d9b41325673ce4b7b40fc76bec1415c98bef894,"remove unused imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515629 13f79535-47bb-0310-9956-ffa450edef68",4,1
b3bbb9c2eae1967251f3e533ba1df54ff1c62567,"check messageId when removing ConsumerMessageRef (pesky redo logs can add/delete things - breaking the assumption we always get a nice ordered behaviour for durable subs)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515630 13f79535-47bb-0310-9956-ffa450edef68",26,51
ec14f6569d7c9b0dcffbb799a7fa19aafa25a210,"Added a new windowSize field to the ProducerInfo command and added a new ProducerAck command.  These will be needed to implement better producer flow control
where threads do not block on the broker side.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515654 13f79535-47bb-0310-9956-ffa450edef68",3,121
f8d86bce2883ea72425456f5048e2668e869f051,"fixed bad failing test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515657 13f79535-47bb-0310-9956-ffa450edef68",16,26
2ca08ce7019f01ed170761630b74c8f1e4745796,"allow thread stack size to be configurable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515682 13f79535-47bb-0310-9956-ffa450edef68",2,36
618396d459d8cceb4b113a273e231129d9a989ff,"rolled back change for AMQ-944 which breaks multicast group names

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515689 13f79535-47bb-0310-9956-ffa450edef68",17,6
2a3fddbdead321b6952d38d0d0621ecd7a4024b5,"with AMQPersistenceAdapter being the default now- these tests are redundant

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515712 13f79535-47bb-0310-9956-ffa450edef68",89,0
10185cadd759ed63c43f3fe92aa90a45f5af6f50,"fix to avoid NPE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515746 13f79535-47bb-0310-9956-ffa450edef68",37,35
1a3f54c93f54f946342cc307848bb29722bfe8ae,"Expose the wire format protocol to the ActiveMQConnection and TransportConnection objects
so that they know when then can use more advanced protocol options.  This will be needed
to implement producer flow control acking.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515863 13f79535-47bb-0310-9956-ffa450edef68",20,265
ebfe94e07771af083c583147671d6eb3e57a404a,"Organized imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515936 13f79535-47bb-0310-9956-ffa450edef68",3,11
fa2d43f37905d88e9e57e95e6af9237320339784,"Added licence headers.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515937 13f79535-47bb-0310-9956-ffa450edef68",0,33
825447a615080662bbb9841410c0f1804855dc20,"close connection required in some tests before the broker is re-started 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515940 13f79535-47bb-0310-9956-ffa450edef68",3,4
dccd381c8fc5b29b5e4264b2112538a134a75ce1,"fix for   AMQ-1193

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515963 13f79535-47bb-0310-9956-ffa450edef68",6,12
af9cc560682012cd78d6a2654105deceda7bfb8e,"added lib/web directory if folks are embedded web apps in the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515989 13f79535-47bb-0310-9956-ffa450edef68",11,11
a08a4a84c768c3afaa8578d744386c9baf9dfc80,"fix for QueueSubscriptionTest and SimpleDispatchPolicyTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515996 13f79535-47bb-0310-9956-ffa450edef68",0,3
da13d596a50dfba6f2ec8425a339930962e17464,"use async dispatch for vm:// transport by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@515999 13f79535-47bb-0310-9956-ffa450edef68",49,79
8ad375ff605c358b4313e5f0eef98568c8f1b941,"on close() don't storeState in synchronized block - as it can lead to a deadlock

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516007 13f79535-47bb-0310-9956-ffa450edef68",11,13
c97b97ed885b236b6abb83d0be113ffdc2620090,"close connection before restarting the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516008 13f79535-47bb-0310-9956-ffa450edef68",1,2
12fa4de5c64fc32e665d80d6e38aec7ed9449a45,"ensure connections are closed (so all messages are fludshed to the broker) before testing message delivery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516012 13f79535-47bb-0310-9956-ffa450edef68",3,3
222dd260e6eb112802d508a7681f6b96600884cd,"fixed javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516030 13f79535-47bb-0310-9956-ffa450edef68",19,4
544ffe9dce8858bad59ed4f1a46b904ec3a17e74,"re-enabled some tests and tinkered to make a frew work better

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516031 13f79535-47bb-0310-9956-ffa450edef68",19,18
d7a14830c756f1f2e387b7247901db0725ac5f28,"use request() instead of send()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516034 13f79535-47bb-0310-9956-ffa450edef68",4,2
e39a679d2ff30935261307f0baccb0daf7ae0a8d,"fix broken test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516038 13f79535-47bb-0310-9956-ffa450edef68",6,12
eeafa1cfef5354b38d6e984677d8e43d9fb5ab10,"use request() instead of send()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516039 13f79535-47bb-0310-9956-ffa450edef68",3,3
e935c5ad3bc19f275f64594aded6456b1a2dba62,"added some extra properties to the MessagePull command for when we implement AMQ-1196

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516040 13f79535-47bb-0310-9956-ffa450edef68",0,30
885c379914877f0a542a78dfba08c744f90c327b,"Set the eol-style to native


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516048 13f79535-47bb-0310-9956-ffa450edef68",3206,14163
5143838fa37f1d1e8225c5dbb7e53ee2e96bfc8e,"Moved the version numbers of jars into the root pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516049 13f79535-47bb-0310-9956-ffa450edef68",4,27
1d846a9e61d44c8806366e37bc68f5de7e21f855,"ensure connections are closed (so all messages are fludshed to the broker) before testing message delivery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516063 13f79535-47bb-0310-9956-ffa450edef68",1,1
2a6a441fb08e3699f63b5bf847fa367f32c6cb52,"ensure connections are closed (so all messages are fludshed to the broker) before testing message delivery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516067 13f79535-47bb-0310-9956-ffa450edef68",1,1
f2acaa21100210eb4252499b76193518e464a398,"added missing lic header


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516074 13f79535-47bb-0310-9956-ffa450edef68",1,17
57ea011bee131872506550a233acc357688f2da1,"ensure connection state (e.g. consumers) are delivered before testing message consumption

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516104 13f79535-47bb-0310-9956-ffa450edef68",1,1
67fd739b3a846b411f0e296cb80d7ee81b4a83a5,"Delete duplicate and redundant tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516113 13f79535-47bb-0310-9956-ffa450edef68",356,0
5869f755bca80ddcf6b544a6f236f5747d6209c9,"added support for message deletion on the web console to fix AMQ-1197

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516117 13f79535-47bb-0310-9956-ffa450edef68",9,101
39db2d4ce61941aac26b8476bf26ba8c21dac066,"updated the web console to use the ActiveMQ look and feel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516133 13f79535-47bb-0310-9956-ffa450edef68",239,1499
4d6cba254892478439d16ea2e0d8cebced52955c,"trivial rename of link

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516136 13f79535-47bb-0310-9956-ffa450edef68",2,1
c9bb1c97b2364c5584f8962522a622c5bf13ed80,"Adding the client side bits needed to implement producer flow control using a window.  Currently disabled since 
the server side bits still need implementing.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516139 13f79535-47bb-0310-9956-ffa450edef68",21,106
c785ff773864e35de773b90ea0252514bb6b1f5b,"Fixed up styles a little.  Added lic headers.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516150 13f79535-47bb-0310-9956-ffa450edef68",1138,92
17c1ed71740faa9bcb0158864cdb5415c1cc91cf,"better css tweak


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516153 13f79535-47bb-0310-9956-ffa450edef68",1,1
b5a42599b1c61c5bcae34936ef86e4f79c5a912d,"use async=false for now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516169 13f79535-47bb-0310-9956-ffa450edef68",5,2
ba54ee86b290fe33110e05d44f17b4de03b71c9c,"added toString() method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516315 13f79535-47bb-0310-9956-ffa450edef68",0,4
cb3becf3c4db10c952d14fda83de55bb30cac878,"avoid NPE I was getting in the web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516401 13f79535-47bb-0310-9956-ffa450edef68",12,14
82d19974d8dfe5a3e74f9b45f0121c596a549d6b,"added isStoreValid() method - used by AMQStore to determine if references need to be rebuilt

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516407 13f79535-47bb-0310-9956-ffa450edef68",0,8
dda3e2a429882da38ea958f1852d301bba8bdff0,"added isStoreValid() method - used by AMQStore to determine if references need to be rebuilt

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516408 13f79535-47bb-0310-9956-ffa450edef68",10,26
19bab2bbb236d6cbfc89835c0369dc26b1362539,"fix typo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516429 13f79535-47bb-0310-9956-ffa450edef68",1,1
82201d28dd029b2f1c7c0b37b74a38629415b751,"Use the broker name in the directory used for the AMQStore and temp-store area

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516439 13f79535-47bb-0310-9956-ffa450edef68",9,32
24984276fc172447d1f5e924f9801db063fd6917,"Tidied up the activemq.xml file shipped in the distro. Also by default we now embded Jetty so that we can include the web console, or an out of band file transfer mechanism by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516442 13f79535-47bb-0310-9956-ffa450edef68",164,152
4569d7d28d61bc48dacc9a12a849d94b660e7ff8,"Refactor so that the ProducerBrokerExchange is passed all the way down to the Topic and Queue implementations.
This is laying the ground work to implement window based producer flow control.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516444 13f79535-47bb-0310-9956-ffa450edef68",22,29
9a79d3411d718bcdf38f9ed950c77c965c2887d4,"set duplex property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516450 13f79535-47bb-0310-9956-ffa450edef68",0,29
8e7fa346f72d45704ec928df03e4fe7a647ceea8,"Upgraded to newer jetty release

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516471 13f79535-47bb-0310-9956-ffa450edef68",1,1
4207bd9cc04d9716eafdadebc42852adf4d58dc7,"Adding the bits need to do producer flow control with a window to the broker. Just implemented on the Queue case for now.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516475 13f79535-47bb-0310-9956-ffa450edef68",67,260
1ffb7fc6e36cbbcd923a8751307c08f4d3ba6554,"tidied up the config file for the web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516481 13f79535-47bb-0310-9956-ffa450edef68",50,0
bdef2f52d095d80b18a27c328fb0b7f21c00dc38,"enable XMPP by default in the stand alone broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516482 13f79535-47bb-0310-9956-ffa450edef68",0,1
fb3b6dba571b9dbffaac45ac920037760ceb6dbc,"Enhanced the ActiveMQConnection to use the CommandVisitor instead of using a big if swtich
when handling commands from the broker.  This should be slightly more efficient.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516492 13f79535-47bb-0310-9956-ffa450edef68",114,303
e8b12e4eaf7bbd9b7efa2087ae241728e6eeebb8,"initialize brokerInfo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516664 13f79535-47bb-0310-9956-ffa450edef68",0,1
c0af1f51166761c65da9084ee750e794c43dcd10,"resolved class cast exception

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@516756 13f79535-47bb-0310-9956-ffa450edef68",1,1
7de0e81995e7693e5df16d4265feec7e566b899c,"Porting over tests in the 4.1 branch and updated the UsageManager so that if a Limit is set, then 
it is used instead of being % based off the parent.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517222 13f79535-47bb-0310-9956-ffa450edef68",7,645
0527ebacc9e2f1a528433a8c29b154fc68c557ec,"increment reference count on send

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517264 13f79535-47bb-0310-9956-ffa450edef68",0,1
93d1087726d24e52377512a1c3185266478132d7,"flush messages into journal on stop

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517567 13f79535-47bb-0310-9956-ffa450edef68",8,5
0ae6a1d6aa30d3840cbe183f64ec26ed5ce81446,"added helper method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517659 13f79535-47bb-0310-9956-ffa450edef68",1,12
ea42012ef16e78c1be30a1516303a2081f8db0cd,"added a file: based handler for the broker factory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517671 13f79535-47bb-0310-9956-ffa450edef68",1,42
274a95190108a600d4d02722063ffa6d0c7cc49a,"zapped some old test cases and added a new one which ensures that the activemq.xml file shipped with the distro actually works

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517674 13f79535-47bb-0310-9956-ffa450edef68",298,36
3e09007cc171794e8af988632a2064b2cce024f2,"added the ability to connect to a broker running in the same class loader (but not the same Spring context)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517686 13f79535-47bb-0310-9956-ffa450edef68",0,36
a51a7d53e2e2067659f775c343d86c4d13a3acee,"added a helper method to access the current singleton broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517687 13f79535-47bb-0310-9956-ffa450edef68",1,15
a7344588c9e880eb88b467237e68c01895ee3679,"added a better error message if there is no broker available

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517706 13f79535-47bb-0310-9956-ffa450edef68",1,6
3028a2faa126f4f9230536b81a0e312bb20f607e,"added an embedded jetty server to host the web-console in the default activemq.xml for AMQ-1194

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517713 13f79535-47bb-0310-9956-ffa450edef68",103,187
8815bf8045b4196a29df708f396527ebb6f28360,"tidied up the web-console look and feel a bit more, adding the queue view as graph/xml to the nav bar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517725 13f79535-47bb-0310-9956-ffa450edef68",4,9
4741136695f6871fa035c44c65a59e0d1ffe829f,"add method to retrieve the URI used by the local VMTransport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517741 13f79535-47bb-0310-9956-ffa450edef68",1,62
1d9737d577c46708a2ddac04477811797caf7fa9,"updated javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517748 13f79535-47bb-0310-9956-ffa450edef68",0,2
ae73f860b99f30256a3f2b30d4e5bfdb0beec74e,"working towards a solution for http://issues.apache.org/activemq/browse/AMQ-920

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517753 13f79535-47bb-0310-9956-ffa450edef68",497,641
fbd22b637c06e127c56dabdc225e537edb9419c6,"test for converting Properties to and from a String

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517764 13f79535-47bb-0310-9956-ffa450edef68",0,49
35fcee6a6b8e71a9291edc3583d7b35f55395231,"added web demos to broker by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@517790 13f79535-47bb-0310-9956-ffa450edef68",1,24
db9a535f786a3f76f3bb30ff3ab5bae97bd98174,"tidied the web app descriptions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518107 13f79535-47bb-0310-9956-ffa450edef68",3,3
0315016d374e63bc56ee18190980a27640cda0bd,"added the URLs which are available to run the Web Console or Web Demos when booting up activemq

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518157 13f79535-47bb-0310-9956-ffa450edef68",3,9
4443d32e5d48bc8dbc4c1763697b9f96dd6c5200,"tidied up the logging to reduce clutter & make it easier for users to see the URLs they can click on

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518191 13f79535-47bb-0310-9956-ffa450edef68",4,11
7162f01b75429edd25ae49b3039c496579775b89,"default the usageManager to 64Mb rather than the measily 20m :)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518260 13f79535-47bb-0310-9956-ffa450edef68",1,1
b72c28b8a61704db654cae5aada163645a78101f,"added JDBC driver for Sybase for AMQ-1204

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518296 13f79535-47bb-0310-9956-ffa450edef68",1,35
489f5aa2046a610f15360a7c53cc530020cf8394,"- Propagate the AlwaysSyncSend setting from the ConnectionFactory to the Connection
- Got rid of the UseSyncSend property since AlwaysSyncSend was already there and did the same thing.
- Updated VMPendingMessageCursor so that it updates the reference counters of the message so that the usage managers are properly updated since the messages are being kept in memory.
- Updated the region Queue so that it decrements the usage in the case of a transaction.
- Enabled the ProducerFlowControlTest since it is now working.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518437 13f79535-47bb-0310-9956-ffa450edef68",49,86
a640190fc45a256cf457e241c7acc634c020c4a0,"added support for using a properties file to configure the broker to avoid the dependency on Spring and xbean; for AMQ-1206

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518590 13f79535-47bb-0310-9956-ffa450edef68",25,224
c7299947396f5c790d18086187791c95cdd17af1,"rolled back the creation of the file: scheme and made the xbean: scheme handle files or URLs as well as classpath resources

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518632 13f79535-47bb-0310-9956-ffa450edef68",46,28
e4bc8e14f6c748bddcd5fb5d8059707d6681cdd0,"added snippet macro...

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518636 13f79535-47bb-0310-9956-ffa450edef68",1,3
f7a30b80fc9ff0c6b29ceb000e0c1a11cd0b64c0,"Added test case that makes use of producer window flow control.  So now even async sends can be flow controled so that an individual publisher can be stopped without stopping the entire connection. 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518638 13f79535-47bb-0310-9956-ffa450edef68",22,50
a0e92d713bfe4ab305a108d282248c89fbc1b70c,"removed the caching of the marshalled form of a message.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@518745 13f79535-47bb-0310-9956-ffa450edef68",70,22
a59cd030f51dbffba541e1fe38dc329c01d214cf,"Implemented the per producer flow control on the Topic case too.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@519233 13f79535-47bb-0310-9956-ffa450edef68",79,156
3e281cff12765217527f694ff5a7b47cc9514461,"Lets use a released version of 6.1 for now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@519234 13f79535-47bb-0310-9956-ffa450edef68",1,1
9f027a6254bbfbe995d8331a496410bb3b32923b,"Rolled back hirams rollback to use the vesrion of Jetty which actually works in the distro

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520477 13f79535-47bb-0310-9956-ffa450edef68",1,1
54114ccf77ac8032f51274bff19c8ae0de37a94c,"fix for broker name not being registered with the network connector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520814 13f79535-47bb-0310-9956-ffa450edef68",89,102
47510d8eee2eff8e4b449ee25717dfe1d75e2f98,"added soft bunny log message - so we don't scare folks when we delete all their messages on startup 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520819 13f79535-47bb-0310-9956-ffa450edef68",6,8
332aae366c0da4e5c0adfeca2e9c5184b291cd99,"fixes for LargeStreamletTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520865 13f79535-47bb-0310-9956-ffa450edef68",4,14
2e06692aaf82f754d5d6d356f8163791a26e0bf6,"tidier println() comment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520866 13f79535-47bb-0310-9956-ffa450edef68",1,1
c328c72472fff401a0b2bb7f29d55d989d2eaa5f,"decrease message count for now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520868 13f79535-47bb-0310-9956-ffa450edef68",1,1
a2aed3d732a57ea42bc3354d6cd2e1a603673f5a,"If localhost broker not started and other named broker exists - use that from vm:// transport instead of creating a new broker 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520870 13f79535-47bb-0310-9956-ffa450edef68",38,59
2a3f9e38ea15b9e8cc092ea4aa261badf7b5910c,"avoided double check locking bugs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@520937 13f79535-47bb-0310-9956-ffa450edef68",7,5
8c08fcad76285ff1af24be657505159472c8491f,"Added jetty repo to fix build for some folks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@521305 13f79535-47bb-0310-9956-ffa450edef68",0,22
735dc7a230b15044c7fcefbe1f762b5ed13b3132,"zapped clogging's extra dependencies

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@521365 13f79535-47bb-0310-9956-ffa450edef68",0,18
2ef81512d69ca9bff27350d274585b66ce64ebb4,"re-added name on the network connector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@523259 13f79535-47bb-0310-9956-ffa450edef68",0,15
9bb3b0cbf6ba9406c2d3f46ea31b1652ae6e24a5,"fixed typeo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@523266 13f79535-47bb-0310-9956-ffa450edef68",2,2
9dccfa4a8a03a0327b3daa7881bf4d2206225715,"fixed the assembly so that the activemq broker script works again. Now moved from a Jetty snapshot to a release (6.1.2rc2) and also made BrokerService.setDataDirectory(String) take a string to avoid strange Spring errors we were getting

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@523279 13f79535-47bb-0310-9956-ffa450edef68",44,31
2632922be8896a758c5cccddcda264c64f9fc578,"updated javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@523283 13f79535-47bb-0310-9956-ffa450edef68",2,12
a58a92d3027f86d185718ad583455e7291bbc002,"no need to auto-create the data directory for the test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@523290 13f79535-47bb-0310-9956-ffa450edef68",1,1
5a521b468ad0d1a7ee6c66d48e4ed0008fffd301,"applied the patch from Aleksi Kallio for the DefaultBlobUploadStrategy and DefaultBlobUploadStrategyTest with thanks! For AMQ-1075

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@523332 13f79535-47bb-0310-9956-ffa450edef68",18,104
9e8689ed28465d8caa3defe33fa79a7d0d0a9471,"Made the oracle driver use Blobs to fix AMQ-1216

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@524036 13f79535-47bb-0310-9956-ffa450edef68",1,1
d301cea84c9c34d7b5769d5d6ff29e9dec33fc10,"Make the test more forgiving of thread schedualing variations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@524266 13f79535-47bb-0310-9956-ffa450edef68",6,6
98376dd3be560278aaa3af502bac89bc45ff28c2,"AMQ-1218 added version to xbean plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@524280 13f79535-47bb-0310-9956-ffa450edef68",0,1
e6d20f3932b556377218ac2e353a2cc99d26d1ea,"Applied patch from Aleksi Kallio for AMQ-1075 to add a file server for out of band BlobMessage support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@527701 13f79535-47bb-0310-9956-ffa450edef68",0,555
dc6902269772e048a7b3856ed1ee5b9b62854b42,"Added patch for AMQ-1075 so that the fileserver web app is included in the assembly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@527705 13f79535-47bb-0310-9956-ffa450edef68",0,16
a1904ea1e777dac1a68759c8870fe2fd7a955836,"Fixed up the poms so the build works again :)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@527938 13f79535-47bb-0310-9956-ffa450edef68",5,2
3baaab2185a8cba61dd3fa944a5a9b6aa776cdb5,"create default ProducerState for dummy ProducerBrokerExchange to prevent npe when sending to dead letter queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@530131 13f79535-47bb-0310-9956-ffa450edef68",0,5
2b0bd44cbbd5b917098c05d114c258238374e63c,"Updated javadoc groups

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@532332 13f79535-47bb-0310-9956-ffa450edef68",0,57
afba1a811db2d6686932ccea5ed4b41f5dacd1e6,"Updated the javadoc generation to make a nicer report with groupings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@533655 13f79535-47bb-0310-9956-ffa450edef68",4,16
9f7fff73652871d2db2f3c263177a11f0315e6d0,"applied patch in https://issues.apache.org/activemq/browse/AMQ-1235


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@533740 13f79535-47bb-0310-9956-ffa450edef68",1,2
75c568012b06c52be8d81c64268eeeb700234365,"Amended patch for AMQ-1235 to not depend on Java 6

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@534046 13f79535-47bb-0310-9956-ffa450edef68",2,3
6641ef3ae7e76d672700f6fc7e862b3fa8e12713,"Added support for microsofts JDBC driver

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@536601 13f79535-47bb-0310-9956-ffa450edef68",0,1
b043ebef4e44427c8231789e2a2a6d85257acd53,"applied patch from Gaetan to avoid missing a message. For background see: http://www.nabble.com/Ajax-amq%3A-Lost-messages-in-MessageListenerServlet-if-more-than-maxMessages-waiting-tf3785745s2354.html#a10705883

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@540142 13f79535-47bb-0310-9956-ffa450edef68",4,6
0d289b7c0cc5051510d46d067993d94fd060233c,"fixed javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@540881 13f79535-47bb-0310-9956-ffa450edef68",3,1
9b9766d0341441619afbb9622ff96ec127143542,"added test case to try reproduce AMQ-1152 (but unfortunately couldn't)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@540916 13f79535-47bb-0310-9956-ffa450edef68",0,15
e2b561e12bc2efe68286cd282faa636874522dbf,"fixed javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@541232 13f79535-47bb-0310-9956-ffa450edef68",1,0
78cf4b1ac1bb251676f0037b303064930d79937c,"added fix for  AMQ-1253 to log a warning if users forget to start the connection within a small timeout period (500ms by default)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@541256 13f79535-47bb-0310-9956-ffa450edef68",3,101
9d53c53dc81aa17cef18c86131cd37c57b91392b,"improvement for AMQ-1253 so that the ConnectionFactory can be configured with the warning timeout (or have the warning disabled all together)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@541259 13f79535-47bb-0310-9956-ffa450edef68",1,20
72cee90f7a6b5bc8109fc97ca69bf4939a22fd50,"fixed typeo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@541260 13f79535-47bb-0310-9956-ffa450edef68",2,2
a92fb28d75f92b6fe4584b2b49d8b802464c839d,"tidied up javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@541261 13f79535-47bb-0310-9956-ffa450edef68",4,6
87f75b2de77aa57c4e708cee181725ade8227ca4,"applied patch for AMQ-1241 to allow the web console to be run against an embedded, invm, properties or remote broker. Many thanks to Mario Siegenthaler for the patch!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@541306 13f79535-47bb-0310-9956-ffa450edef68",270,703
af2dcc79652eb597c4d3662153ea5fc61b89a4c0,"Upgraded to use xbean 3.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@542418 13f79535-47bb-0310-9956-ffa450edef68",1,1
8786dbf593783f2b866b77ba2e4164df77e579e5,"Added spring test case that tests the locally generated xsd

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@542428 13f79535-47bb-0310-9956-ffa450edef68",1,94
f27715bcd9600d909bf63ee446c6f15fa8261b90,"Fix wrong commit on the pom.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@542429 13f79535-47bb-0310-9956-ffa450edef68",1,1
415f35b2081321db85bcc9f2d382c74887b9aa06,"fix for https://issues.apache.org/activemq/secure/CommentAssignIssue!default.jspa?action=5&id=25384


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@544973 13f79535-47bb-0310-9956-ffa450edef68",1,1
12dba4d65c6981324df39bc1b454927a197ec896,"Fix for XARecoveryBrokerTest


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@545202 13f79535-47bb-0310-9956-ffa450edef68",7,7
3965f2c34d5eb1de0e3d3ddfb4003b446ff9c1da,"disabling failing test: https://issues.apache.org/activemq/browse/AMQ-1268


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@545228 13f79535-47bb-0310-9956-ffa450edef68",57,73
421b911da29d6fc4fe82bbea5c182c8fe2a7b89a,"JmsTempDestinationTest was intermitently failing due to a timing issue.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@545232 13f79535-47bb-0310-9956-ffa450edef68",1,3
70706ef20a28cf366b79c6e232111f8265c0dd61,"See http://issues.apache.org/activemq/browse/AMQ-1269
disabling failing test case combination.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@545233 13f79535-47bb-0310-9956-ffa450edef68",1,9
21211dd6a1f15d9f46502b2d90fab3e1b2337527,"Fix for the DefaultStoreXARecoveryBrokerTest test failure.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@545289 13f79535-47bb-0310-9956-ffa450edef68",8,20
800cab1b3e184cfa7ffb285373de311306f53e42,"use the non-incubator xsd

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@545450 13f79535-47bb-0310-9956-ffa450edef68",2,2
8f8ff58f8ce0b3b117ac9dbf68aac1811b36e605,"Updated the pom version from 4.2-SNAPSHOT to 5.0-SNAPSHOT


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@545505 13f79535-47bb-0310-9956-ffa450edef68",26,26
b852dc87fc1c2fbed98c6711fe562e2689384077,"applied patch for AMQ-1263 to create a new connection each time in case the connection goes stale

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546120 13f79535-47bb-0310-9956-ffa450edef68",14,31
8ec100f56413891c3f541d2fcfa750f9f7591365,"Added a cluster field to each message so that each message can be persisted to a unique set of brokers working together as a master slave cluster.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546196 13f79535-47bb-0310-9956-ffa450edef68",0,49
0eae2880cc53a7c19079eabe3be99278f14865c8,"added test case and fix for AMQ-1142

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546476 13f79535-47bb-0310-9956-ffa450edef68",36,112
a6cb80ceb0a90853c4b4f040f2828bdf1dfdcb94,"applied patch for AMQ-1146

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546482 13f79535-47bb-0310-9956-ffa450edef68",70,78
45f6a87244ff0ffc0e70d7f1db33f10f21b42c12,"removed some logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546483 13f79535-47bb-0310-9956-ffa450edef68",1,5
5cb94193734ac76f2370630d87f20396fbd3b407,"applied patch for AMQ-1229 with thanks!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546485 13f79535-47bb-0310-9956-ffa450edef68",4,11
2d3106f56e39baabb14739eb12fa0b41055596cb,"applied patch for AMQ-1261

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546502 13f79535-47bb-0310-9956-ffa450edef68",1,8
aa1aa58caa992ac48cc1896042a95f8ebd10e693,"removed a load of System.out statements from unit tests; using commons-logging instead so the maven build is much cleaner

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546537 13f79535-47bb-0310-9956-ffa450edef68",417,422
7230da33c6e35133ef2c8c78fbe7151159bb6be5,"fixed typeo; bad james!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546540 13f79535-47bb-0310-9956-ffa450edef68",1,1
33be9eb4b1a1d9728f41f3674548894bccbe689c,"applied patch for AMQ-1245 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546542 13f79535-47bb-0310-9956-ffa450edef68",3,3
b19f17c96b3636369e394738b72638c9fa1da831,"removed tests cases using System.err to use log.error (or sometimes log.info) instead to tidy up the maven build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546554 13f79535-47bb-0310-9956-ffa450edef68",31,40
acc3ca79f8ca4dd05308c4d54467af5c900a1e11,"removed System.out.println statements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546559 13f79535-47bb-0310-9956-ffa450edef68",602,629
4474eb8a1b3e376af5ad14a5a69e7bcc97480f23,"Added fix for http://issues.apache.org/activemq/browse/AMQ-1014 and http://issues.apache.org/activemq/browse/AMQ-1002

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546755 13f79535-47bb-0310-9956-ffa450edef68",7,4
28e6453badf0c779a514eb00c0bd2114411f5ae8,"applied fix for AMQ-1232 and AMQ-1275

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546847 13f79535-47bb-0310-9956-ffa450edef68",17,21
8b8c268a372cc27a3f565ccc4d47b217bc70aae2,"switch to people.apache.org for repos

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@546868 13f79535-47bb-0310-9956-ffa450edef68",2,2
8a4fcd193463d14bf7ea90e7b7e9b462c355099d,"Updated the spring xml to use the 5.0 AMQ xsd

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547070 13f79535-47bb-0310-9956-ffa450edef68",1,1
67310ad7dd42dcf84bc7694cbaffb5d195082aad,"added more tests for using a remote schema using the nice new URLs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547211 13f79535-47bb-0310-9956-ffa450edef68",104,254
8f764144143ab687c5958d930ff14e9e89574a93,"patch for https://issues.apache.org/activemq/browse/AMQ-1274

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547472 13f79535-47bb-0310-9956-ffa450edef68",4,4
78761dde4e1f462c08cb228e71b4854624796eb7,"added xsddoc report

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547570 13f79535-47bb-0310-9956-ffa450edef68",6,46
dca58fa68c292532c1a5a18dadf2565c126a2568,"Updated the maven-activemq-plugin
https://issues.apache.org/activemq/browse/AMQ-1223
https://issues.apache.org/activemq/browse/AMQ-1224
https://issues.apache.org/activemq/browse/AMQ-1222

Thanks for the patches and comments Tim!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547575 13f79535-47bb-0310-9956-ffa450edef68",104,114
a0ba87b100cd82c35c3ae7a8a6c305ddb84ad654,"applied patch for AMQ-1204

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547585 13f79535-47bb-0310-9956-ffa450edef68",0,34
fa5e0a0e1596102bb293b10eb3dc47ca42fb97f2,"applied patch for AMQ-1204

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547586 13f79535-47bb-0310-9956-ffa450edef68",34,0
4d1a176784e1c5fd3f5302fb9371a42947e4c736,"synchronized activate () and add() methods

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547601 13f79535-47bb-0310-9956-ffa450edef68",9,8
ebcf2202fe87b9783a86e89886c3ea3ff5d66c70,"check we don't keep hold of a batch entry after its been deleted

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@547906 13f79535-47bb-0310-9956-ffa450edef68",35,45
4e0ee66db1cebf12931ac6225e2c82c9bf637ef1,"https://issues.apache.org/activemq/browse/AMQ-1284

change the openwire command annotation to correctly use code.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@548039 13f79535-47bb-0310-9956-ffa450edef68",3,3
0ef421d14ab9b43dbcfc8d10588d55b33ca4b038,"- Change the perfharness-activemq.sh to refer to 5.0-SNAPSHOT
- Minor spelling corrections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@548220 13f79535-47bb-0310-9956-ffa450edef68",145,145
fae5c5fd291be66000512f9c2da810dffc1e0dad,"Fix for https://issues.apache.org/activemq/browse/AMQ-1071

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@548260 13f79535-47bb-0310-9956-ffa450edef68",7,42
34a8028770e6bef549ee4466a8980c7e85aa7127,"Patch applied for: https://issues.apache.org/activemq/browse/AMQ-1208
Test case added

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@548300 13f79535-47bb-0310-9956-ffa450edef68",31,135
d2fe512fa4ac6a6b7e63854e0891ecfb08012887,"Added an adaptive message transformation. More details here: https://issues.apache.org/activemq/browse/AMQ-1208

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@548562 13f79535-47bb-0310-9956-ffa450edef68",51,158
76f573754b28e8e77ec931dd76ce00ad555d44ec,"added stub to clear down messages when recover is called

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549068 13f79535-47bb-0310-9956-ffa450edef68",0,8
9c2f043a6536e72313c5c35abe226ed219ae5c73,"Exclude duplex test - for now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549473 13f79535-47bb-0310-9956-ffa450edef68",0,2
7993aae794cb9ac6195262fc58038bf85800a1c8,"Add default constructor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549805 13f79535-47bb-0310-9956-ffa450edef68",0,5
b38ec0ad034d1ac156c214462cf21d62135924b1,"added recoverState() stub

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549809 13f79535-47bb-0310-9956-ffa450edef68",3,7
2b84b2622f048d3b3adffce2f8c5b6ef727ad4b0,"applied patch for AMQ-1279

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549834 13f79535-47bb-0310-9956-ffa450edef68",1,0
f3c6b7fff9c609efe9d71e9b7327cc5631838a22,"added documentation from patch AMQ-1281

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549836 13f79535-47bb-0310-9956-ffa450edef68",0,42
f09dcd932d3afec38bf4b9b225849705149e665e,"added pom & xml config file cleaning from patch AMQ-1281

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549838 13f79535-47bb-0310-9956-ffa450edef68",14,64
fccb3cc2b075eff4b540f26adaf4f86c28579846,"patch from  Andrew Deason for AMQ-1260 - applied with thanks!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549840 13f79535-47bb-0310-9956-ffa450edef68",1,18
e7ca8823922dfbd3045356a7fddff9441393ab94,"applied patch from Dejan Bosanac for AMQ-1227

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549845 13f79535-47bb-0310-9956-ffa450edef68",13,20
955ceceea8e5fa5fa92104dc024396c5b2a3d81c,"applied patch for AMQ-1270 from Dennis Byrne with thanks!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549847 13f79535-47bb-0310-9956-ffa450edef68",2,29
0112df56054a984df0afcf0ead39075d376160a1,"added equals() hashCode() methods

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549883 13f79535-47bb-0310-9956-ffa450edef68",0,18
2681bb89eea69d5400c6c7b3696e037d872288fe,"ensure state is recovered if data is corrupted and has to be regenerated from transaction logs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549887 13f79535-47bb-0310-9956-ffa450edef68",38,116
8842445fe472180630fea1a4c25867edc6fd8596,"fixed compile bug for AMQ-1292

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@549974 13f79535-47bb-0310-9956-ffa450edef68",1,2
149fffda77a77082960dac790af61c5237fd95b3,"applied patch for issue: http://www.nabble.com/Performance-problem-in-ActiveMQ4.2-SNAPSHOT-tf3973867s2354.html#a11280202

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550389 13f79535-47bb-0310-9956-ffa450edef68",1,12
626cdf527abc1f86fa9a59b6c43353e3d766d294,"applied patch from: http://www.nabble.com/forum/ViewPost.jtp?post=11263125&framed=y&skin=2354

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550393 13f79535-47bb-0310-9956-ffa450edef68",1,11
db51eba74f40c2d8e27ec17babb4ad470257b72c,"updated to latest jetty release; thanks for the heads up TomS

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550400 13f79535-47bb-0310-9956-ffa450edef68",1,1
d36c0d4de7d75e455536cba19d0acb378497d6ae,"Applying patch from http://issues.apache.org/activemq/browse/AMQ-1293

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550449 13f79535-47bb-0310-9956-ffa450edef68",856,877
5d41efce6a605d61c55f4f2bf1b5ee1611522bcb,"apply patch http://issues.apache.org/activemq/browse/AMQ-1293

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550450 13f79535-47bb-0310-9956-ffa450edef68",12,10
b266786728eef1c0ae132d8f7beec57b5e5a8aaa,"apply patch http://issues.apache.org/activemq/browse/AMQ-1293

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550451 13f79535-47bb-0310-9956-ffa450edef68",12,20
f50bf9cea057597e3e232e416f3a90d13f285a92,"apply patch http://issues.apache.org/activemq/browse/AMQ-1293

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550454 13f79535-47bb-0310-9956-ffa450edef68",5,2
2256ec03b40e2604a3067522bbdbc41c542c86e7,"apply patch http://issues.apache.org/activemq/browse/AMQ-1293

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550472 13f79535-47bb-0310-9956-ffa450edef68",17,17
702b13be278f0f1ad52ea7c7f95e750a0b9bfad8,"apply patch http://issues.apache.org/activemq/browse/AMQ-1293

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550473 13f79535-47bb-0310-9956-ffa450edef68",3,3
cb32fd2aa440da740ba5b062e12209ef15111b9a,"apply patch http://issues.apache.org/activemq/browse/AMQ-1293

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550476 13f79535-47bb-0310-9956-ffa450edef68",1,2
f95552b62157eb52f266c28fe6fd714604177398,"removed useSyncSend - as never used (replaced by useAsyncSend)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550684 13f79535-47bb-0310-9956-ffa450edef68",14,7
0b769eee01859cd16e3cf418f10ff533d681303a,"when seeting watcgTopicAdvisories on the connection - use the getter Method on the ConnectionFactory to retrieve the value

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550686 13f79535-47bb-0310-9956-ffa450edef68",2,2
1623820bf1ae10e56f147a9dd039f01249412116,"removed unused field

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550687 13f79535-47bb-0310-9956-ffa450edef68",1,0
0e0b6b731cfaddcc6b8d1a07ba8ee82f11de72b2,"tidied up imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550688 13f79535-47bb-0310-9956-ffa450edef68",12,4
8f85fdc36c4d395e15eb1fd8c7590381b7f5127e,"change scope of variables from protected to private

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550690 13f79535-47bb-0310-9956-ffa450edef68",7,7
b484eeb595106face28adec050927dd7d7b00bf5,"member fields are now marked transient (as can't be serialized)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550692 13f79535-47bb-0310-9956-ffa450edef68",2,2
2bed73b2f1561046bf97e88db2301571ce638372,"My bad if not true (I don't see how it could be done) - but why is BrokerService serializable ? - now removed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550694 13f79535-47bb-0310-9956-ffa450edef68",2,1
bc281a209e81be06e9bebe6c34bd0bbf0e9938f6,"check input stream is not null on loading properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550695 13f79535-47bb-0310-9956-ffa450edef68",3,5
98cd515fff69a930164df0a4f03e69f720362522,"fix for shutdown command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550698 13f79535-47bb-0310-9956-ffa450edef68",10,10
8068c5e1551bed9e0003806cb7b463bd1c058473,"debug showing wrong parameter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550699 13f79535-47bb-0310-9956-ffa450edef68",1,1
f6e1ac7f979baff434d2ff06f5d2e562becc8a45,"added NPE check

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550793 13f79535-47bb-0310-9956-ffa450edef68",4,11
8a5387f6adde99cf80796629395925bae2b9c9bc,"avoid concurrent modification exception on linux

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550796 13f79535-47bb-0310-9956-ffa450edef68",1,2
8a0157a506997d8be5b2fd371ab5019b76e45992,"added better synchronization

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@550797 13f79535-47bb-0310-9956-ffa450edef68",4,6
a3e382199cd45169ebad5c2c1544d67ac7314412,"ensure member variables are always synchronized 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@551271 13f79535-47bb-0310-9956-ffa450edef68",239,298
b56197408a2475cea7c7940323535ad3e3b3fbdf,"Test using the AMQ Store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@551437 13f79535-47bb-0310-9956-ffa450edef68",6,0
ec6e6a55a7477dc67d7dc4cd42f9caa64f8de654,"Display the establised Neteowork Connector Bridges via JMX - https://issues.apache.org/activemq/browse/AMQ-1299

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@551443 13f79535-47bb-0310-9956-ffa450edef68",93,497
56be6b93d3ef52270e5ea4e889dc506188f430d5,"make sure we properly close down the advisory consumer; great catch by Manuel!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@551857 13f79535-47bb-0310-9956-ffa450edef68",1,10
dd1d6601492e3d16a22e7de3d3762f0663dc83e3,"Added dup detection capability

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@551902 13f79535-47bb-0310-9956-ffa450edef68",0,481
7029d9b058282cd114afcf52fede7b7dd168f434,"https://issues.apache.org/activemq/browse/AMQ-1306

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552645 13f79535-47bb-0310-9956-ffa450edef68",1,1
5f30e418cb6884dd110c4fb771f9a562162522af,"A helper class to assist checking for duplicates within the Connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552710 13f79535-47bb-0310-9956-ffa450edef68",0,98
cbaa58b5087acb16584bbd2fd383d519e46748c7,"Added duplicate detection on the client

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552713 13f79535-47bb-0310-9956-ffa450edef68",80,133
791d78bc64def507b84ec4f0b12512182c53ee1d,"Added another Constructor for convience that just takes the maximum number of cached items as a parameter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552726 13f79535-47bb-0310-9956-ffa450edef68",1,11
4b7e5c914bae8ea80229d525780e0d47dac47cde,"Audit test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552732 13f79535-47bb-0310-9956-ffa450edef68",0,94
82ce164d7a95111d976dec747331c8f7e2536537,"Do this test properly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552733 13f79535-47bb-0310-9956-ffa450edef68",2,1
f1240b2e72867072e74cd46cd0be0f9925674de3,"Tests for internals

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552734 13f79535-47bb-0310-9956-ffa450edef68",0,168
c7469c433cfd00019656b3a5ff6cdcd24ca128bc,"Added flag to transport to denote if its fault tolerant

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552736 13f79535-47bb-0310-9956-ffa450edef68",1,40
25a252f34868fa58b3cb9207e8f91a44e720e8e7,"Added duplicate detection to the TransactionBroker - so can cope with rollbacks etc.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552738 13f79535-47bb-0310-9956-ffa450edef68",184,253
0b95f87db07da0bb4edce8d83d75ea8fbdf30c36,"ensure we don't use a batchEntry for an element that's deleted

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552845 13f79535-47bb-0310-9956-ffa450edef68",3,3
b0538fcc669a3e872e0037d66744b28fdcc6ebeb,"added support for  AMQ-1307 so that enterprise integration patterns can be used easily in the broker. For more help see the documentation: http://cwiki.apache.org/ACTIVEMQ/enterprise-integration-patterns.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@552926 13f79535-47bb-0310-9956-ffa450edef68",2,91
241971a13388a39b282472968f7d2ab433b82242,"fix deadlock

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@553076 13f79535-47bb-0310-9956-ffa450edef68",4,2
4757541f960330a11b6dc158006912a70fdfb68f,"set async=false for network connectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@553094 13f79535-47bb-0310-9956-ffa450edef68",1,7
94f3e17d7b2b21d2db5722fd4ed4c928c2b4c671,"pretty print the local transport uri

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@553095 13f79535-47bb-0310-9956-ffa450edef68",48,35
3d862f0dfb8bc097ff6a4e45e0cc25b06e498e9d,"allow the exclusive queue consumer flag to be defaulted on a connection factory / connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@553473 13f79535-47bb-0310-9956-ffa450edef68",19,48
9840a420cf76020efda5f518b1c5f9cf854cdb0b,"Fixed up the assembly so that the embedded camel routes actually work; they were dependent on the JTA jar being present so this was causing ClassNotFoundException if you actually fired messages into the from queue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@553763 13f79535-47bb-0310-9956-ffa450edef68",2,9
806013ea6261f25fa1a5d29b4c8b79892ee56744,"Enabled the camel route by default; folks can easily disable it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@553766 13f79535-47bb-0310-9956-ffa450edef68",1,1
677c22b4d572aba484582f1ea97c99abf9ae9546,"Added support for custom destinations; for example to allow Camel endpoints to be used from within the JMS client

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@554315 13f79535-47bb-0310-9956-ffa450edef68",307,448
44b1aa59c0f8506dbdbd168c09a2fd087594e901,"added savePreparedState() stub

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@554826 13f79535-47bb-0310-9956-ffa450edef68",0,10
e34185fa0103817902b2ae43faa0bcab73643c0b,"fixed build...

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@554910 13f79535-47bb-0310-9956-ffa450edef68",0,24
073f05cc6fc87c656439d9a32b7e5f63b91c5d8a,"Created an activemq-all.jar bundle
http://issues.apache.org/activemq/browse/AMQ-1318

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@555882 13f79535-47bb-0310-9956-ffa450edef68",38,146
26f4d2a4133fd10e6b7bf3ebdc47e63dcdbd88d8,"Print help, if an invalid argument is given to the command line.
https://issues.apache.org/activemq/browse/AMQ-1314

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@555911 13f79535-47bb-0310-9956-ffa450edef68",1,2
71a3324b93430a6b4f09fd51cca2ce5a31dc4397,"implement Comparable (well, badly)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@557384 13f79535-47bb-0310-9956-ffa450edef68",5,15
3cfa0b6e4d916fd020c5d7ddc41a7b83fbb4fa91,"Add a CommandMarshaller

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@557385 13f79535-47bb-0310-9956-ffa450edef68",0,6
3d1fca08fe65f5f8a8cd9d10c7643387aeff246e,"Added some java doc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@557386 13f79535-47bb-0310-9956-ffa450edef68",0,27
2438ada6ade5b314016255b32fcb27f8004afbc4,"Split out Transaction class from AMQTrandactionStore -

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@557389 13f79535-47bb-0310-9956-ffa450edef68",122,329
993f78caac9dfb63ab2e89e1eab51ad9195eb243,"persist in-progress XA transactions - in order to speed up recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@557391 13f79535-47bb-0310-9956-ffa450edef68",114,118
83a6eff431007e259fce89905f3245669f65c8fc,"move decision about being a slave from the Broker to the ConnectionContext - so can be done on a Connection basis if required

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@557748 13f79535-47bb-0310-9956-ffa450edef68",51,73
2d5bb84a4790d75b05fde334402249511482bb56,"Applying patch for http://issues.apache.org/activemq/browse/AMQ-1323

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@558044 13f79535-47bb-0310-9956-ffa450edef68",215,209
cfdc5e3de32b6f30068b2f6efac7dcafa0ec91c2,"fix null pointer in test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@558052 13f79535-47bb-0310-9956-ffa450edef68",7,9
a414c20dcbab7279a168eed3d40ac3c4d342cc61,"Fix for:
 http://issues.apache.org/activemq/browse/AMQ-1207
http://issues.apache.org/activemq/browse/AMQ-880
http://issues.apache.org/activemq/browse/AMQ-450
http://issues.apache.org/activemq/browse/AMQ-879

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@558054 13f79535-47bb-0310-9956-ffa450edef68",127,367
6ce8c3bf87cc2343609dfc9f7c71eadaa45488a9,"AMQ-1335 - Exclusive consumers are now selected up front when the consumer gets registered.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@558767 13f79535-47bb-0310-9956-ffa450edef68",48,391
20364163e9a75fbacb8e8546591d254ac6fbcdf8,"applied patch for https://issues.apache.org/activemq/browse/AMQ-1254

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@558774 13f79535-47bb-0310-9956-ffa450edef68",48,37
3a7c673dec46b27a691ea900d0639d92544917df,"https://issues.apache.org/activemq/browse/AMQ-1337 - Broker should finish accepting connection in an async thread.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@558814 13f79535-47bb-0310-9956-ffa450edef68",122,162
8f6fac7f1b8d90c2b979a989a667823df2afafd5,"Fix for AMQ-1339 - Give the connection dispatcher threads names that are easy to associate with the peer.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@559071 13f79535-47bb-0310-9956-ffa450edef68",8,11
5a3a45f0c0a7fc56e171679b42a1d21e241ab2f6,"Fix for AMQ-1340 - Thread gets stuck in a WAIT and never returns

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@559092 13f79535-47bb-0310-9956-ffa450edef68",3,7
97a591f08f01666f4e9e3fa132d74ff86abe2faa,"Fix for AMQ-1341 - Improve the InvalidClientIDException message so that we know where the previous connection was established from.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@559111 13f79535-47bb-0310-9956-ffa450edef68",14,9
7c94a73ba66c0ae4b1d7740a08e8ae4ec26f7c9f,"Fix for AMQ-1342 - Added backoff delay in generating discovery events when broker failures are reported

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@559132 13f79535-47bb-0310-9956-ffa450edef68",50,192
76b2a3ed8ffd70c2dd7ed7fe4cd2007f1244a6e3,"Fix for AMQ-1343 - Network conntions not shutdown propertly when a InvalidClientIDException occurs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@559139 13f79535-47bb-0310-9956-ffa450edef68",0,5
3b88ba0c47e36fd38e9112c0a5e8d296a20d7069,"Fix for AMQ-1344 - Deadlock can occur when cerating and deleting many destinations concurrently

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@559155 13f79535-47bb-0310-9956-ffa450edef68",61,62
6a928d5cfed0bba6e5b4c43ee795bcbd88d1d24e,"- Made the dispatchValve handling a little safer.. it was previously possible that an exception could cause the broker to miss turning it off before trying to turn it on.
- better producer flow control logic, was not working for sync send producers without a window


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@559915 13f79535-47bb-0310-9956-ffa450edef68",41,54
956fe93bd2681d7b70dbd2a7645acef1ad5accff,"No need to create destination twice when doing a destination lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560274 13f79535-47bb-0310-9956-ffa450edef68",1,1
d56ebd842dbf3d192ab7dd0d58685d02c916d3ed,"fix for AMQ-1346.. moved handling the not full event into the queue's task runner to avoid deadlocks and the recursiveness of the pagIn call that was 
causing the Illeagal state exception.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560282 13f79535-47bb-0310-9956-ffa450edef68",13,10
9d2e5418fe153b2ade3c977045d6c23430ee7ae2,"Added a handy processingDelay option to the MessageIdList so that a test case and simulate a slow consumer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560294 13f79535-47bb-0310-9956-ffa450edef68",1,28
3b73e602335bfa26dfe164ceb10f300f10e1134b,"Fix for http://issues.apache.org/activemq/browse/AMQ-1348

Better file locking on windows.  We now use a seperate lock file to signifiy the lock on the kaha db.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560352 13f79535-47bb-0310-9956-ffa450edef68",12,18
1e3e5b722337307dcce1cc12b001658dacd04c5a,"Fix for http://issues.apache.org/activemq/browse/AMQ-1294

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560693 13f79535-47bb-0310-9956-ffa450edef68",5,20
14180c5cb337452f4d630a5ad3d4c5a5dcfaff70,"check for nulls

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560694 13f79535-47bb-0310-9956-ffa450edef68",2,2
50c6d9ccc8ed923768d6cf6ba41990b474d51752,"A message is a message isMessage()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560695 13f79535-47bb-0310-9956-ffa450edef68",0,4
35ba427ec963c8b29401599e67c4042894a8ae69,"Fix for http://issues.apache.org/activemq/browse/AMQ-920

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560696 13f79535-47bb-0310-9956-ffa450edef68",224,269
6013b64f97cc1952e8a53be2f1fad8242564a651,"updated for junit test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560698 13f79535-47bb-0310-9956-ffa450edef68",1,1
13729a3690f03d25551aaafea7922f53fad6e41d,"Enabled

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560699 13f79535-47bb-0310-9956-ffa450edef68",2,3
eeb8d5bafc0df4684446a2024c775aa394baebae,"remove println

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560700 13f79535-47bb-0310-9956-ffa450edef68",4,1
3a5f48d277454e548a430a6611aee5e068ba3f4e,"Fix for http://issues.apache.org/activemq/browse/AMQ-1080

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560783 13f79535-47bb-0310-9956-ffa450edef68",103,128
ea7473170159ef6be75025292e2050071534f639,"Serveral changes needed to Fix https://issues.apache.org/activemq/browse/AMQ-1349
 - The vm:// transport was delivering events to the listener before start() was called.  Also clean it up a little by consolidating
   the use of the prePeerSetQueue and messageQueue field.
 - the tcp:// .stop() method now blocks until the thread that calls out to the listener is shutdown.
 - TransportConnection was not doing a good job synchronizing when multiple concurrent conenctions to the same connection Id was established.
   IllegalStateExceptions were common when a failover connection reconnected.  Now we make sure that only 1 connection with a given connectionId
   is activley operating in the broker.  Also removed 1 un-needed hash lookup by replacing the brokerConnectionStates Map with the 
   connectionState variable.
    
Also added a pause in the JmsTempDestinationTest to avoid intermitent failures.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560872 13f79535-47bb-0310-9956-ffa450edef68",314,397
2d27d56e592270e8cf6453ed4399b6710fde87a8,"- Fix for the xmpp transport needed du to recently added stop() synchronization.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560979 13f79535-47bb-0310-9956-ffa450edef68",20,15
b97f7d847980ff91f13f87729f4ea0007ace0be0,"Fixed pom so that it generates the openwire commands when mvn clean compile -P openwire-generate
 is run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@560989 13f79535-47bb-0310-9956-ffa450edef68",25,41
a4015755690206e1201851c933e062856079ab85,"Added support for length of time messages are processed by the broker - 
fix for https://issues.apache.org/activemq/browse/AMQ-1160,
https://issues.apache.org/activemq/browse/AMQ-1072,
https://issues.apache.org/activemq/browse/AMQ-936 
and ground work for for https://issues.apache.org/activemq/browse/AMQ-567

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561026 13f79535-47bb-0310-9956-ffa450edef68",125,203
b3eb9a5e5b18645132cff539b1f6cf42cf39930f,"added support for properties brokerInTime and brokerOutTime

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561028 13f79535-47bb-0310-9956-ffa450edef68",0,12
c07b23352cbcd60172f0ccbab3ea6747e44307fe,"Fix for https://issues.apache.org/activemq/browse/AMQ-567

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561088 13f79535-47bb-0310-9956-ffa450edef68",58,122
0e87c01f226e09ba3b404faf95bc97250c3316cd,"The JPAReferenceStore does not track XA transaction so force a journal recover always. Fixes the QuickJPAStoreXARecoveryBrokerTest


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561103 13f79535-47bb-0310-9956-ffa450edef68",1,1
350a2aad7ff67122dac1a075b26aa2e7ed7c130a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1305

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561109 13f79535-47bb-0310-9956-ffa450edef68",19,44
f90c62c64042a6cbf83845ff84932a7d4fdc9e54,"Fix for intermitent test failure at:
  testOneProducerManyConsumersManyMessages(org.apache.activemq.broker.policy.RoundRobinDispatchPolicyTest)
It was checking that messages were evenly distributed accross consumers but that can only be garanteed when 
the consumer prefetches can hold all the published messages.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561113 13f79535-47bb-0310-9956-ffa450edef68",1,1
5ad47320389a2044d107c27251807277e91fbf36,"- Faster VMTransport shutdown by avoiding a potential deadlock
- Better connection shutdown.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561180 13f79535-47bb-0310-9956-ffa450edef68",1,6
ec6a7029c5c787fac2f6d6a68356fc3a543f8bf1,"updated message properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561428 13f79535-47bb-0310-9956-ffa450edef68",55,60
64b8fb64f45bcfdb291806816ccc50dc0950495c,"Added explicit error for badly formated broker name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@561815 13f79535-47bb-0310-9956-ffa450edef68",3,8
8b68c62249fb192f6f062180207995a6d8d4698f,"Switched from using ${activemq-version} to using ${version}
added a required dependency in activemq-web to spring-web


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@562099 13f79535-47bb-0310-9956-ffa450edef68",19,27
2728ccbb88d62fc8f187f47313804a3a2db205d8,"Fix for AMQ-1356 : Durable Subscriptions do not work with Wildcards after broker is restarted.
 - Added a RecoveryBrokerTest.testWildCardSubscriptionPreservedOnRestart() test case that was showing
   that that wildcards did not work with DurableSubscriptions
 - Fix the TransactedTopicMasterSlaveTest so that setDeleteAllMessagesOnStartup() takes effect (had to be done before the connectors are added.
 - Change the MessageStore interface so that subscriptions are created using the data in the SubscriptionInfo class
 - Added a subscribedDestination field to the SubscriptionInfo so that the original wildcard subscrption can be remembered
 - The KahaReference store now deletes it's State store too when deleteAllMessages() is called
 - Fixed KahaPersistenceAdapter.getDestinations() so that it actually returns all the destinations.
 - We now recover all the topics eagerly when the topic region is started.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@563194 13f79535-47bb-0310-9956-ffa450edef68",109,335
4102accade78a78d36b1402ac369501b3971bd3d,"migrated the Camel destination code from the camel project into ActiveMQ as it makes more sense to host it here - and avoids a circular dependency issue when releasing ActiveMQ 5.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@563609 13f79535-47bb-0310-9956-ffa450edef68",48,1260
b6fad12ac61938f758d523695debfc580f535343,"migrated the Camel destination code from the camel project into ActiveMQ as it makes more sense to host it here - and avoids a circular dependency issue when releasing ActiveMQ 5.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@563611 13f79535-47bb-0310-9956-ffa450edef68",23,52
0945e32b6ac01569d69300c80c344bfae8392cbf,"Fix the TopicMasterSlaveTest that was failing
 - Stack was overflowing due to the advisory broker advising on topic advisories
 - MasterConnector now makes sync request to the slave if it's given a sync request
 - Test was failing due to kaha not being able to create a file that was too long.. fixed by making the 
   sub name and client id and dest name shorter.  Need to revisit.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@563854 13f79535-47bb-0310-9956-ffa450edef68",16,20
230a86c4897e10fbc5e7384b064cc526395d47e5,"Fixing a bunch of checkstyle violations


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@563921 13f79535-47bb-0310-9956-ffa450edef68",23452,21207
43ba1be1883c44c0d30f7df6b669b103d51631f9,"Fixing checkstyle issues


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@563930 13f79535-47bb-0310-9956-ffa450edef68",4,10
f812e3417988e13ed638434f892cff5c4ab843ad,"More checkstyle fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@563982 13f79535-47bb-0310-9956-ffa450edef68",17798,17591
74a7a8bbfc8012bf0842b1eec891a8545f9944cb,"More checkstyle fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564057 13f79535-47bb-0310-9956-ffa450edef68",4181,3498
fc00993839c69f86823870e06a335d035db48bb2,"More checkstyle violation fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564271 13f79535-47bb-0310-9956-ffa450edef68",4368,5005
1963ea400641edeed6c73783afecac4552b2dcab,"added test case to simulate  ""javax.jms.JMSException: Transaction 'TX:ID:...' has not been started.""   exception
this test appears to manifest consistently on a MacBook. Haven't been able to reproduce this on windows though. 
Is excluded by default as the test can sometime take too long to execute

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564505 13f79535-47bb-0310-9956-ffa450edef68",0,334
9cde47f42cefcc86dc314efe5dd4d507f7b29077,"Patched the ActiveMQ build to work with Camel 1.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564622 13f79535-47bb-0310-9956-ffa450edef68",0,50
ecf89a60bfd8089d1b1de5666bd2e9d5938abe8e,"More checkstyle violation fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564679 13f79535-47bb-0310-9956-ffa450edef68",1864,2079
5719351cb71fe3d4f8c1bd863bf91c1a7424f1ee,"Fix for the testQueuePersistentUncommitedAcksLostOnRestart() test in RecoveryBrokerTest.  Since this test resuses the memory based store instance across restarts, the cusror pointers were not getting reset after restart.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564685 13f79535-47bb-0310-9956-ffa450edef68",0,1
933eb2f9e4040a3a9200b1a461dc4e004aafbf81,"More checkstyle fixes and Generics usage.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564814 13f79535-47bb-0310-9956-ffa450edef68",1768,2066
5f1adbe898c2730f15f27d6806d74655505e52ae,"More checkstyle fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564977 13f79535-47bb-0310-9956-ffa450edef68",1546,1472
60bb4601965eab2a27bd6863688daf39882b8546,"added to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@564978 13f79535-47bb-0310-9956-ffa450edef68",0,0
540dd5c987855fc6b0981ece021358645ae07827,"Last set of checkstyle violation fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565003 13f79535-47bb-0310-9956-ffa450edef68",9642,9383
df6b54240c8d4d3cf81eff26ae1f13f82cf8c0db,"Applied patch from http://issues.apache.org/activemq/browse/AMQ-1361 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565381 13f79535-47bb-0310-9956-ffa450edef68",35,1104
13a9200e3e98cb058923cb04be9a806df32102bd,"Applied patch from http://issues.apache.org/activemq/browse/AMQ-1361 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565382 13f79535-47bb-0310-9956-ffa450edef68",6,11
2edbcd62981c8c5f38c99962f3a29a698f7ca2c6,"Applied patch from http://issues.apache.org/activemq/browse/AMQ-1361 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565383 13f79535-47bb-0310-9956-ffa450edef68",10,26
09f8ac55427e2c0bc31a098fc71f93fc035edc98,"Added the log analyser tool to svn - for http://issues.apache.org/activemq/browse/AMQ-1361


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565392 13f79535-47bb-0310-9956-ffa450edef68",0,2061
aa87faaaacc803958f2ee643104b6cfe4befed7c,"rolled back the previously applied patch for MessageActivationSpec and re-created the interface from scratch by pulling up all the public getters/methods from the original ActiveMQActivationSpec class to ensure we have the correct license headers etc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565398 13f79535-47bb-0310-9956-ffa450edef68",169,95
dbbd3643930a7c09e524dee89e49f0ed1faddc2c,"deleting .pyc files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565630 13f79535-47bb-0310-9956-ffa450edef68",0,0
54c8eeb8420d63228c5d0780c62eadff8a14e4cc,"temporarily comment out log4j dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565632 13f79535-47bb-0310-9956-ffa450edef68",2,4
141ee12e8d645c422d21a8b76b03d9b94a07ca0e,"added a better example of using Camel with the correct XSD

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@565705 13f79535-47bb-0310-9956-ffa450edef68",5,5
232844d4622796700c069b1d305aad19cd14f8ad,"Removing unwanted test files from the test-jar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@566121 13f79535-47bb-0310-9956-ffa450edef68",12,28
0576de32a79fb7a2c75cda6d0fa21f6d5a61bcf2,"Attempt to fix AMQ-1363, to no avail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@566177 13f79535-47bb-0310-9956-ffa450edef68",0,6
926f9ce614307b621d954e8f2d14867f023cbbc2,"Control file was not properly loading state when the the record length stored was not == to the max record length.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@566202 13f79535-47bb-0310-9956-ffa450edef68",6,19
90deed42ccc3ce12a4ea911295e69913b44d0a61,"Improved the STOMP test case a little to verify that killed stomp clients redeliver un acked messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@566277 13f79535-47bb-0310-9956-ffa450edef68",8,22
85fc6dd26782ac6976bd38674d9947d3a28471e1,"Commented out the threshold for the stdout logger, so it will use the global one.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@566477 13f79535-47bb-0310-9956-ffa450edef68",1,1
625cd7cdb6e503eceb70cb4f8266775c36aa448a,"UpdateManager changed to account for Store and Temp data usage as well as memory usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@567646 13f79535-47bb-0310-9956-ffa450edef68",7,12
6d8e2c5b3a4054f537308a5be9eac9254a57a17a,"UpdateManager changed to account for Store and Temp data usage as well as memory usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@567647 13f79535-47bb-0310-9956-ffa450edef68",754,1339
2b0024c269c8727084a36637f239667d25f5dfe7,"Made the SystemUsage and associated *Usage classes IOC friendly so that they can be configured
via xbean/spring.  Fixed the ConfigTest test case.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@567796 13f79535-47bb-0310-9956-ffa450edef68",289,387
fe6fa0479872b90becc0e537d5d4f7d03cdfa714,"moved activeio into the optional section

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@568642 13f79535-47bb-0310-9956-ffa450edef68",2,2
fba074227d4b7aceee3f06320938714378ed78ea,"allow a MessageListener to be specified when creating a consumer; to avoid threading issues when creating lots of consumers after the connection has started

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@568644 13f79535-47bb-0310-9956-ffa450edef68",94,174
d97054b1c236b152cf3503b2e0eb61b9dd6b3a72,"fix for https://issues.apache.org/activemq/browse/AMQ-1365

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@568869 13f79535-47bb-0310-9956-ffa450edef68",1,1
5a5056e73b851c6990a6f4e1bf5a16eb83efa82f,"moved the web helper classes to activemq-web so that they are reusable in other web apps easily

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@569067 13f79535-47bb-0310-9956-ffa450edef68",0,535
3cd1e6c73feef41c5a4a0e8fc548fc351f86fd90,"ensure exception is logged if one is raised sending a message to a dead letter queue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@569270 13f79535-47bb-0310-9956-ffa450edef68",32,42
eba0ae3c7bc13e30ceb8f341ad3916b921cae36a,"test case for https://issues.apache.org/activemq/browse/AMQ-1251

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@571150 13f79535-47bb-0310-9956-ffa450edef68",0,230
0a52fe728962f773d620b7f205dacf103599480e,"Satitized the filenames that the KahaStore uses. 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@571306 13f79535-47bb-0310-9956-ffa450edef68",15,121
1195ae751c69dd8bd4a5e797c6300ccd97fe6ee6,"ensure the ConectionContext always has a broker set before sending message to DLQ

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@572300 13f79535-47bb-0310-9956-ffa450edef68",0,3
c6301c37a82a76011d5632b180e8f6e0867e819f,"ActiveIO removed its incubator label

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@572523 13f79535-47bb-0310-9956-ffa450edef68",2,2
ec2cfc5fd0e030795efdccca87afc2ea59e4bf2a,"shorten the name of the container containing the SubscriberMessageList

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@572905 13f79535-47bb-0310-9956-ffa450edef68",1,1
0d0dd4587dea3e49d5976ddecf34c81c256e5ea2,"use potentially shorter container name for the topic subscriber references

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@572974 13f79535-47bb-0310-9956-ffa450edef68",1,1
65454017fce53f2e5a3d07577e4ba8499c0d68ca,"Ensure system safe names are used for container names

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@572975 13f79535-47bb-0310-9956-ffa450edef68",2,4
9e61ade946a7e348583de6570213224cdf7fe525,"Fixing compile issue cause by camel API change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573005 13f79535-47bb-0310-9956-ffa450edef68",1,2
642d38cd8ca74e4fdc70de0fc4d28f3997d4752c,"Fix for https://issues.apache.org/activemq/browse/AMQ-1156
We now actually update the tcpNoDelay setting on the socket once the wireformat options are negociated.  This allows
the client to control if his socket and the server's socket use the option.  By default tcpNoDelay is enabled.
the client should use a URL like -Durl=tcp://localhost:61616?wireFormat.tcpNoDelayEnabled=false to disable tcpNoDelay on both the client and the server socket.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573080 13f79535-47bb-0310-9956-ffa450edef68",0,13
1301501a0ae61f0e076f86f9db9a0fee32bf1d5a,"Fixed synchronizations so that threads don't block each others processing as much and now the test works fine without hanging.  see https://issues.apache.org/activemq/browse/AMQ-1251

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573342 13f79535-47bb-0310-9956-ffa450edef68",37,35
838e9a42b418ca723e815a122497fa7fce597c3c,"if the container name has '/' in it then make sure we create the parent directories before we try to access the file.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573392 13f79535-47bb-0310-9956-ffa450edef68",0,3
b81dd2886e791ffc0fdf6ac3571b8a83830e6546,"Fixed ContainerId so that it also uses the container name when it compares equality. Switch back to using a single index file
for the topic susbcriptions lists.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573395 13f79535-47bb-0310-9956-ffa450edef68",13,12
222daf2323cbb6d98b6bd7ed31d886b0c58cfdfa,"Fix for https://issues.apache.org/activemq/browse/AMQ-1382... if the broker.persistent==false then we should not create any files, not even for the Temp Store.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573397 13f79535-47bb-0310-9956-ffa450edef68",3,14
b732d3d1148be26d2d2de9fda252a6c055c2306b,"Fix for the QueueWorkerPrefetchTest. The VMPendingMessageCursor.isEmpty() was returning true when it had an a message that had been marked dropped due to it being delivered by another subscription.
 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573400 13f79535-47bb-0310-9956-ffa450edef68",17,48
5f968392593ca773a949c1bbdf1537cb0a3af5c0,"Moved the camel-activemq module into the activemq-core module to break the circular dependency between the activemq and camel projects.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@573615 13f79535-47bb-0310-9956-ffa450edef68",18,1166
a69c3e78c5b29dae72a30f193044f087f9213e62,"Switch to using a Timer to schedual tasks.  Seems to have much more acurate time delays between executions.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@574321 13f79535-47bb-0310-9956-ffa450edef68",29,23
cfe8b632b14b35f3a591ba46e3e4a9ed481f1280,"Updated to latest version of openjpa

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@574325 13f79535-47bb-0310-9956-ffa450edef68",1,1
84da202a7ae719d859226453d2acc93b99fe94ba,"Update to the latest version of xbean


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@574327 13f79535-47bb-0310-9956-ffa450edef68",1,2
8e33f646c63e32f95dc8063f7fdab6a8a1e9a1e6,"Make activemq-web compile.. needed an explict dependency on spring-webmvc


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@574368 13f79535-47bb-0310-9956-ffa450edef68",0,7
5829d7045ce48eb30b8397dd5c7d2beb348068e8,"added better debug logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@574460 13f79535-47bb-0310-9956-ffa450edef68",6,12
696b34a01dc0cf27740ac4fc1b766deb28122664,"use the same ConnectionFactory so that transactional consume + send can use the same session

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@574465 13f79535-47bb-0310-9956-ffa450edef68",22,4
a98333a19acfb3c3fe0c0c17df056d902405d076,"use default amq persistence

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@574646 13f79535-47bb-0310-9956-ffa450edef68",4,4
6b7055afc8e544c673ebdb9f819f4b8ca5105bf0,"remove unused imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@576527 13f79535-47bb-0310-9956-ffa450edef68",2,1
417fcd7f1940164c42473e0b63759f46e12175ec,"Don't use System.out

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577683 13f79535-47bb-0310-9956-ffa450edef68",3,6
4d01443fa765f1655d6e11c023bf319db303376a,"make the locking more coarse grained

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577746 13f79535-47bb-0310-9956-ffa450edef68",110,103
00895cecc1a8517f25b290a0431de0413187fdf9,"ActiveMQ is out of the incubator.. no need for DISCLAIMER.txt anymore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577759 13f79535-47bb-0310-9956-ffa450edef68",112,0
8032375531d8f3bac8e3454be42987d61c04afcf,"AMQ-1429: Package ActiveMQ as OSGi bundles instead of plain jars

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577760 13f79535-47bb-0310-9956-ffa450edef68",0,48
54d24ad3bfab7feae64ccd1d758a1d7fe491b6ac,"Fix broke test.. A transaction manager is now required when transacted endpoints are configured.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577869 13f79535-47bb-0310-9956-ffa450edef68",1,3
c8666f89dc3f69129ad785bfca69251e5a2ae06a,"Fix for broken test


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577878 13f79535-47bb-0310-9956-ffa450edef68",2,1
b7b929d90f6a8785649f767664ed497e2511672c,"Removing invalid testcase.  This test was setting up 2 consumers and storing the message sequences in a single list for both.  Further more it was checking that those messages were delivered in order.  It is not possible garantee order between 2 consumers.. therefore this test is invalid.




git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577881 13f79535-47bb-0310-9956-ffa450edef68",38,0
01bdc524e7950ca31f6258091d67e18f7f1cfbae,"Better broker shutdown handling and also better test support.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@577882 13f79535-47bb-0310-9956-ffa450edef68",28,53
2b063efafa0b490b477ecd0c4f066c75b042ed58,"fix reference counting

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@578877 13f79535-47bb-0310-9956-ffa450edef68",6,15
d48322690fcad77c6ff557899000278c5bab3824,"added patch for AMQ-1434 to allow transport listeners to be used with a connection factory for easy integration with Spring JmsTemplate etc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@579498 13f79535-47bb-0310-9956-ffa450edef68",0,21
8cad176f68d505594d8c25d106e5407b41b20a89,"minor change to make tests more exclusive to avoid 'em hitting each other

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@579639 13f79535-47bb-0310-9956-ffa450edef68",2,3
42b768aa1f5095419b7e25ee669f301b2b57f889,"added patch for https://issues.apache.org/activemq/browse/AMQ-1435 to handle Mirrored Queues (so that folks can consume on a topic what messages are sent to a queue)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@579941 13f79535-47bb-0310-9956-ffa450edef68",34,320
a395b872c18bce29c6bcf8cf5cf7dcb0c302be6a,"updated the stax version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@579943 13f79535-47bb-0310-9956-ffa450edef68",2,2
e21587fb9ea7a2bef0a5b7ce9909acb6c1db94ea,"Added the ASL to a bunch of property files.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@580013 13f79535-47bb-0310-9956-ffa450edef68",0,768
19a83ae3cb32ef0b56bad234ca08a9427b27dbdb,"Rolled back patches  for https://issues.apache.org/activemq/browse/AMQ-1361 - as no licence headers where provided - we can't accept


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@580273 13f79535-47bb-0310-9956-ffa450edef68",3033,32
3d024d6b4f6f72b5d731d3242699d5325160ca43,"Make amq 5.x compatible again with 4.x clients

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@580382 13f79535-47bb-0310-9956-ffa450edef68",5,12
7bd8fb67543caab3273eb1eb2416d389296a0fbd,"Fix failing test cases.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@580475 13f79535-47bb-0310-9956-ffa450edef68",1,11
19f9722445c1a13e225eb2689a5c9bf5bf6170b5,"Rolled back HttpTransportFactory to fix compile issue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@580495 13f79535-47bb-0310-9956-ffa450edef68",8,4
53c4e125f6790a9283687118e03567514f37d845,"Fix for AMQ-1095:
 - Added contributed test cases
 - We now filter out non-matching messages as they are loaded into the TopicStorePrefetch
 - Changed the TopicStorePrefetch and StoreDurableSubscriberCursor so that they don't depend
   on the pending message counter since some stores cannot give an accurate count for it.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581053 13f79535-47bb-0310-9956-ffa450edef68",97,526
6aa4bcad5b7e3524431ae3aaaae940113535a09a,"some unnecessary memory allocations removed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581167 13f79535-47bb-0310-9956-ffa450edef68",6,6
595d95b3da48ae5e366f0668415333c2ed8f9275,"Have the TransactionContext per connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581242 13f79535-47bb-0310-9956-ffa450edef68",1,1
69a5e00843cb242da87c735c670b54562869ebbc,"be conservative allocating objects up-front

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581321 13f79535-47bb-0310-9956-ffa450edef68",5,5
5bd3bf6e246cf12b115b738c849afb4f7f3add11,"Ignore NULL references when checking isEmpty

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581568 13f79535-47bb-0310-9956-ffa450edef68",0,4
08841bbde3456939376f1940789c9a7b88b7a6c0,"fix memory leak in ActiveMQConnection - with asyncConnectionThread not being shutdown on a close

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581683 13f79535-47bb-0310-9956-ffa450edef68",14,21
7b1fd3484ef2f557a3b322b5f08a8f5499be2c7f,"Fix for http://issues.apache.org/activemq/browse/AMQ-1250

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581715 13f79535-47bb-0310-9956-ffa450edef68",0,6
1401e699562531ae08b2501f35c06aa77e4b1a2f,"after canceling a TimerTask - purge from the Timer list - fix memory leak

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581736 13f79535-47bb-0310-9956-ffa450edef68",0,1
c256dcf9e80c1e21b5a9688747f763b73363d969,"Fix for https://issues.apache.org/activemq/browse/AMQ-1038
 We now send REDELIVERY acks to the broker when a message is redelivered.  This allows the broker to update the message with the number of times redelivery has occured so that if the message is delivered to another consumer it can DQL the message when max redeliveries have occured across consumers.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581747 13f79535-47bb-0310-9956-ffa450edef68",8,61
3c1a8474f97dd6873c95a9fafc6fa021f5329d5f,"FilePendingMessageCursor was being added twice to the MemoryUsage
which resulted in a memory leak

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581784 13f79535-47bb-0310-9956-ffa450edef68",1,0
fc69b2934333c07195cf4db4e1adae1d24307f09,"handle errors from recovery check gracefully

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581792 13f79535-47bb-0310-9956-ffa450edef68",0,4
5f8c1019737f622d62a68908bb9cce226acfe558,"By default, use no subscription recovery policy for temporary or advisory topics

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581881 13f79535-47bb-0310-9956-ffa450edef68",2,9
805a0cc506df4e80233118bb15091a882ea65610,"the MESSAGE_SIZE_OVERHEAD was too low - increased it to a more realistic size
Please note - this is related to the overhead in broker memory - not 
the on-the-wire size - which is small

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581882 13f79535-47bb-0310-9956-ffa450edef68",1,1
f3d633c2a9b4d95b9b23141c0e08ecf0605d0fba,"Test case for sending single messages per connection - was blowing memory - now fixed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@581885 13f79535-47bb-0310-9956-ffa450edef68",0,103
e2ef8b81650e03f397c474cd888d317119d9b4bb,"patch http://issues.apache.org/activemq/browse/AMQ-1444

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@582086 13f79535-47bb-0310-9956-ffa450edef68",0,52
84a116d2c7bb08586cd328d97694608955add8c0,"Fix for https://issues.apache.org/activemq/browse/AMQ-1445

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@582574 13f79535-47bb-0310-9956-ffa450edef68",1,4
1d487896b43e249bc25dd18a33c7d2a9353d1c90,"refresh entry for prev as well as next

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@582575 13f79535-47bb-0310-9956-ffa450edef68",36,41
d1eb18af7099a84c38458e9bf98e728d7998db62,"Add properties to the AMQPersistenceAdaptorFactory
to set syncOnWrite(default=false) and persistentIndex(default=true) properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@582801 13f79535-47bb-0310-9956-ffa450edef68",0,66
edb50cb4de32dab030dac4723a5dd51f46318b2c,"set options on the discovery agent correctly from the URI

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@582810 13f79535-47bb-0310-9956-ffa450edef68",1,1
22fbb80daf6d1dd9ab658882c7e74d23b42e412f,"make persistentIndex true by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@582839 13f79535-47bb-0310-9956-ffa450edef68",1,1
b9d0972596be05f33877fd67eee3d2558c1389bf,"quick fix for npe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@582910 13f79535-47bb-0310-9956-ffa450edef68",23,29
27a6c0a3016e0da0820c4d8584b1f0a01e59a367,"updated the javadoc to be more clear about the camel support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583114 13f79535-47bb-0310-9956-ffa450edef68",2,14
48e8c053fc260d43330ef001dc9528a14d6ac0c9,"updated javadoc link

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583163 13f79535-47bb-0310-9956-ffa450edef68",1,1
810375af5f6d0f5b1f7ca465d14f288c37773326,"added a plugin to support invocation of MessageListener classes as a bean in Camel; for more information see: http://cwiki.apache.org/CAMEL/activemq.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583184 13f79535-47bb-0310-9956-ffa450edef68",3,202
5dcf9cf6b972a324e8ef6159ae30614cc609a3a6,"added a plugin to support invocation of MessageListener classes as a bean in Camel; for more information see: http://cwiki.apache.org/CAMEL/activemq.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583185 13f79535-47bb-0310-9956-ffa450edef68",74,0
2d5a0990746f11c052746b5e3fbb50186877e20a,"include the STAX API jars in the distro

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583188 13f79535-47bb-0310-9956-ffa450edef68",1,10
b2f7ba79dbbeb661c3c680473e3212eb6026fff7,"add some more useful methods 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583237 13f79535-47bb-0310-9956-ffa450edef68",5,25
5ac6f3a890e05c2ac892bb01ac1e67726428a852,"removed System.out

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583571 13f79535-47bb-0310-9956-ffa450edef68",1,0
a9119eca19a8a427d2f99693bf98553d8bba8bb2,"Fix for NPE in duplex network connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583595 13f79535-47bb-0310-9956-ffa450edef68",120,459
cdf35dfe12a7b4295b33a3703d917b12b460576b,"Expose properties for configuring the asyncDataManager

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@583949 13f79535-47bb-0310-9956-ffa450edef68",0,52
67e5952dd1d77810837a96609f90a3acbab0d443,"Applied patch associated with:
https://issues.apache.org/activemq/browse/AMQ-358

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@584047 13f79535-47bb-0310-9956-ffa450edef68",0,223
487e6941523c651ecc92f3c14896c6e201802895,"Fix for a failover transport deadlock that could occur if the transport is stopped at the same time a failure occurs.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@584800 13f79535-47bb-0310-9956-ffa450edef68",1,5
c5f251ceab59ac8d8858ee6e011f2c6d2b76ea7a,"implement acknowledgeReference() for TopicReferenceStore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@584862 13f79535-47bb-0310-9956-ffa450edef68",0,7
172200174819bc6ec54e9a245e2280dfdd730687,"fix data logs not being correctly removed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@584863 13f79535-47bb-0310-9956-ffa450edef68",71,133
fe9bd4f59412c5aa98a17ef375c0d381de5ef88a,"fix for npe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@584929 13f79535-47bb-0310-9956-ffa450edef68",7,10
e16b7dbf16f6446b1ebf4747a841c70104cc9358,"updated to take account of new System Usage 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585040 13f79535-47bb-0310-9956-ffa450edef68",5,15
cb234b32d3303fbf29a693eb57f5de5cfdb72649,"change number of messages -was hanging waiting space

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585047 13f79535-47bb-0310-9956-ffa450edef68",1,1
8931aac98ee284f251cc582e493159f588746d55,"no need to call force() on commit as the reference store gets rebuilt on failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585109 13f79535-47bb-0310-9956-ffa450edef68",0,6
9da7e31a333860fa3c38aad19214b1c87058e946,"Updated the flow control logic for the Topic case to match what we are using for the Queue case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585187 13f79535-47bb-0310-9956-ffa450edef68",15,32
4c137cd2bc280b755cd23a7d05cfeb3a63c82e48,"don't wait for ever to stop

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585215 13f79535-47bb-0310-9956-ffa450edef68",2,5
0da68b4cb3915e36ea07ac322ea417c475573ac5,"Make producerFlowControl configurable per Destination
default=true

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585375 13f79535-47bb-0310-9956-ffa450edef68",5,66
898adccae31bc587a73e67317363df6bd1f8e10a,"update to show producerFlowControl and memoryLimit is configurable
on a Destination basis via destination policies

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585377 13f79535-47bb-0310-9956-ffa450edef68",1,1
89f793efb0dc184117aa196eeb4238fe6046bd0b,"updates for https://issues.apache.org/activemq/browse/AMQ-1311

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585413 13f79535-47bb-0310-9956-ffa450edef68",0,9
64bec6b133a136c80b2a09504bb1265cef9a704a,"Test case for https://issues.apache.org/activemq/browse/AMQ-1202

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585843 13f79535-47bb-0310-9956-ffa450edef68",2,92
393a861e89e08d767d40cd7740f274fa85020167,"updated for https://issues.apache.org/activemq/browse/AMQ-1251

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585853 13f79535-47bb-0310-9956-ffa450edef68",2,16
c513c859ac0024361fba48aac5ee267d078b9dfd,"updates for https://issues.apache.org/activemq/browse/AMQ-1358

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585905 13f79535-47bb-0310-9956-ffa450edef68",1,30
2cb21198141c8980a0d84b697809053a6ad36f35,"fix for https://issues.apache.org/activemq/browse/AMQ-1467

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@585967 13f79535-47bb-0310-9956-ffa450edef68",52,124
49325b60cd1e68367a14dab0e73f27006d2cf529,"Check for duplicates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@586025 13f79535-47bb-0310-9956-ffa450edef68",11,27
fe8bc3317c5362c1634253f13659f6a500cbf796,"The VM transport could deadlock between the iterate() method and the oneway() method when the async message buffer used by the transport fills up.  Change the synchronization logic to make use the a Valve to avoid needing to lock mutexes for so long.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@586185 13f79535-47bb-0310-9956-ffa450edef68",89,109
1ea24bff37eecf73b7f2346efe5f5b9f763eb7ba,"applied patch for AMQ-1440 and AMQ-1439

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@586251 13f79535-47bb-0310-9956-ffa450edef68",12,21
00ee64f076b903cfc530badaefa60c71df5007e2,"upgraded to 1.2.0 release of camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@586402 13f79535-47bb-0310-9956-ffa450edef68",1,1
4f8a1e6d6bb6b1b3c80cded1fd3f088d3ae0619c,"Reduced the amount of time that the synchronizations are held to avoid deadlocks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@586460 13f79535-47bb-0310-9956-ffa450edef68",52,56
1ee00173d6a395f9b49a3ab07530c9b51fe99f3f,"Fix for https://issues.apache.org/activemq/browse/AMQ-1452 and
https://issues.apache.org/activemq/browse/AMQ-729

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@586580 13f79535-47bb-0310-9956-ffa450edef68",48,478
99966f58e74ceab189d634ab27c672b4ba36acde,"fix for https://issues.apache.org/activemq/browse/AMQ-1467

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@586581 13f79535-47bb-0310-9956-ffa450edef68",2,1
36486fe5b4ecd43db2bf70026b69c10e949c85b0,"Fix for https://issues.apache.org/activemq/browse/AMQ-1449


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587033 13f79535-47bb-0310-9956-ffa450edef68",2,20
13fc99769f42e075080bc8d3943606630e261ff7,"remove System messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587051 13f79535-47bb-0310-9956-ffa450edef68",7,0
565588c13d1712beab7412a783ca3834ac861f55,"check for message order 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587091 13f79535-47bb-0310-9956-ffa450edef68",1,4
328229b42be7bb7592f5b6631454c7ca7ce03050,"Fixed the test cases in FanoutTransportBrokerTest also added a fanOutQueues property to enabled fanning out on 
Queues.  See issue: https://issues.apache.org/activemq/browse/AMQ-1464


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587188 13f79535-47bb-0310-9956-ffa450edef68",11,27
6bb7fba3c54f1dc61311f5560dc4b34f4624e621,"Avoid deadlock described at: https://issues.apache.org/activemq/browse/AMQ-1468
Synchronization not really required once the transport errors out..


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587198 13f79535-47bb-0310-9956-ffa450edef68",3,1
d3d58fe41d2e946f87abcbf1001be51e18749075,"Test case and Fix for https://issues.apache.org/activemq/browse/AMQ-777


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587216 13f79535-47bb-0310-9956-ffa450edef68",0,44
569e5ca78c4c02ea227fa208d6e49e6ba0426c4f,"synchronize doMessageSend() to ensure messages are stored and dispatched
in the right order

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587396 13f79535-47bb-0310-9956-ffa450edef68",1,9
82d1c91b3ffe24136b7ecf1c25df63f97796d3f5,"Fix for https://issues.apache.org/activemq/browse/AMQ-796
 - The threads associated with the session are now setup to be non-daemon so that if you 
   setup a MessageListener and let the main thread exit, your program will not terminate
   if there are no active transport threads which is the case when the failover transport
   is in the middle of reconnecting to a broker.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587504 13f79535-47bb-0310-9956-ffa450edef68",1,1
0570c00e37832cd38fe8270773d62799d9cd84d3,"Applied patch: https://issues.apache.org/activemq/browse/AMQ-1238
 - Allows java service wrapper start script to work on Debian sarge


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587507 13f79535-47bb-0310-9956-ffa450edef68",2,2
230a57b155287f517ea7104ab3c5515a48d2657b,"https://issues.apache.org/activemq/browse/AMQ-1268
Test case regression was fixed.. enabling test again


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587509 13f79535-47bb-0310-9956-ffa450edef68",10,2
1c1ed4d953b9580e5ccc72f6a63ca6f8039edb00,"allow any setter to be called

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587618 13f79535-47bb-0310-9956-ffa450edef68",1,1
43b808d15811a69eba2c204a681fa1a40d7eb305,"Cleanup the leaky abstraction of the DiscoveryAgent.  see:
https://issues.apache.org/activemq/browse/AMQ-1477


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@587927 13f79535-47bb-0310-9956-ffa450edef68",79,9
ceec57aa0d2e082c01777bafc55f007c8bbbc7e2,"Removed synchronizations on all the processXXX() methods to avoid getting into situations where deadlocks occur.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@588260 13f79535-47bb-0310-9956-ffa450edef68",19,19
6084b6061b6ff7107c59f2e5a93f48d5a4eada4e,"MarshallingSupport.unmarshalPrimitive is throwing ""Unknown primitive type: 0"" when nested map contains a null

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@588718 13f79535-47bb-0310-9956-ffa450edef68",0,3
3a4a360d3f2c83282fc5fad5c0bc8edc8a1a4165,"Avoid deleting datafiles that are in-use.. timing issue was making this possible

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@588725 13f79535-47bb-0310-9956-ffa450edef68",2,22
0e7162509d63c8038307440ebe5fbf3e1ba476ec,"fix bad cast

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@588731 13f79535-47bb-0310-9956-ffa450edef68",3,3
582f3401fa82a2907f555a33da1462c134eb3c02,"The caching of the prepared statement for updating the last ack was wrong.
Reported at http://www.nabble.com/Is-this-a-bug-in-DefaultJDBCAdapter.java--tf1890445s2354.html#a5170127


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@588767 13f79535-47bb-0310-9956-ffa450edef68",1,1
9352c9fcdc79367e50ee3931115b5fa72f6d82b0,"Test case for: https://issues.apache.org/activemq/browse/AMQ-1479

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@589048 13f79535-47bb-0310-9956-ffa450edef68",0,151
c8761c7e0f1545dae5daa570dfacd8093911b8b1,"Fix for https://issues.apache.org/activemq/browse/AMQ-1479

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@589314 13f79535-47bb-0310-9956-ffa450edef68",22,152
b2969d05a9af9cb64da439a0be69d25ec5ea2509,"tidy up comments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@589330 13f79535-47bb-0310-9956-ffa450edef68",5,1
26387143e84e89b8078f7b5507ccd5c071b3bf86,"updated properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@590623 13f79535-47bb-0310-9956-ffa450edef68",11,33
28296e689c09fe73948e022fb0aff694dc16eae1,"Fix for https://issues.apache.org/activemq/browse/AMQ-1485

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@591113 13f79535-47bb-0310-9956-ffa450edef68",51,236
30fe17834cdb3ae578738208e1927bc78ac30e9b,"Fix for https://issues.apache.org/activemq/browse/AMQ-1485

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@591142 13f79535-47bb-0310-9956-ffa450edef68",0,6
9a491bbc7667a70a7d75364fcd854b96b6a27352,"Fix for https://issues.apache.org/activemq/browse/AMQ-1485
Fix npe for above

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@591145 13f79535-47bb-0310-9956-ffa450edef68",1,1
b2544046c515c3cd5e329ab93a6e64bc47dcd36c,"Fix for https://issues.apache.org/activemq/browse/AMQ-1486

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@591148 13f79535-47bb-0310-9956-ffa450edef68",8,63
229ca6afd760dd57219ce75b1a51216a656da549,"Fix for https://issues.apache.org/activemq/browse/AMQ-1246

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@591160 13f79535-47bb-0310-9956-ffa450edef68",0,6
770642a8a1aa65009963ff84bda9ad5f7ee29c58,"Further enhancement to https://issues.apache.org/activemq/browse/AMQ-1246

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@591442 13f79535-47bb-0310-9956-ffa450edef68",42,80
3c46ae9e718506c6ab2467136a69a0f88b17bd87,"The conf directory should be relative to the ACTIVEMQ_BASE


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@592057 13f79535-47bb-0310-9956-ffa450edef68",2,2
9ecfbf98f50c1661078fbf44c42e1f0b5ee49115,"failover is no longer a vaild option on networkConnector


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@592061 13f79535-47bb-0310-9956-ffa450edef68",1,1
62890b3fbb6a84297c349ce2e683bfb030500139,"- Reduced verbosity of logging in TransportConnector so that exceptions should only be in DEBUG messages.
- Added more logging to SimpleDiscoveryAgent so that we can see what it's doing in regards to reconnect handling and
  enabled exponential backoff by default.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@592090 13f79535-47bb-0310-9956-ffa450edef68",4,11
ada47fbc50e8a324538517ba262490499cd05530,"- memory leak fix: TransportConnection would leak memory if an error occured while start()ing the connection.  Most visible when you create a network connector pointing at a remote broker that was down since this loops through creating TransportConnectors every few seconds.
- Deadlock fix VMTransport could dead lock if during start() an error occured and stop was recusively called.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@592114 13f79535-47bb-0310-9956-ffa450edef68",18,32
04a637916ee4d9869b6fcb482d21829a985559b0,"Added better temp destination support.  We now properly create temp destinations that the client can subscribe to

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@592531 13f79535-47bb-0310-9956-ffa450edef68",27,70
5c45b00b1c59d8e0ae5aba238b31e921fa739d19,"Update YourKit profiling options since we now require java 1.5

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@592818 13f79535-47bb-0310-9956-ffa450edef68",2,2
2edad74ca9150ee67b30b0b01a6ba6ef72f670a8,"The VMTransport now let's it's peer know when it's being stopped so that the Peer can give its' transport listener a peer disconnected exception.  Otherwise a VM transport client could disconnect without the server side knowing it disconnected and the server side would not terminate it's side of the connection.  This could be seen as a memory leak on when the static network config is setup and one of the static brokers is not up.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@593204 13f79535-47bb-0310-9956-ffa450edef68",3,18
5e3aa21375dd2bb3c6cb67b50cace9a2642e6346,"Scale back this test a little bit.  It was storing 1.6 GIG is message contents. Which took a long time to store and also 
will fail on machines that don't have the much free space.  If we want to run BIG tests like that they should go into a
system testing module.  Scaled it back so that only 160 Megs of data are generated by the test


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@593585 13f79535-47bb-0310-9956-ffa450edef68",1,1
88bdc562f141c2c53fa7b3d51b2884dae8dd452f,"Adding missing headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@594170 13f79535-47bb-0310-9956-ffa450edef68",2,81
1aab7d3597c1bf265adaa5f4e62b3b7aff5e8d62,"Adding missing headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@594172 13f79535-47bb-0310-9956-ffa450edef68",0,17
ba8b2487884e1a20f7894edd11223087d2438e3b,"Fix for https://issues.apache.org/activemq/browse/AMQ-1500

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@597581 13f79535-47bb-0310-9956-ffa450edef68",15,100
fd2c95e9bc816f708638daeefa86f20f3ae379b1,"Fix for https://issues.apache.org/activemq/browse/AMQ-1491

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@597582 13f79535-47bb-0310-9956-ffa450edef68",1,3
bbe26eddc2be4ba54c0d08c9cab1c24bfb4f3085,"Fix for https://issues.apache.org/activemq/browse/AMQ-1502

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@598330 13f79535-47bb-0310-9956-ffa450edef68",74,273
ca4c58b5644acebe8ad1ebbc97152a4dbb7aa177,"Camel should be optional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@598942 13f79535-47bb-0310-9956-ffa450edef68",0,1
987ad27449c525342c623a750b4b0a2afdc5c8d2,"removed System.out logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@599122 13f79535-47bb-0310-9956-ffa450edef68",4,1
9dd11cb71f02e7259c2e4a110c90dea69c70bb69,"Fix for https://issues.apache.org/activemq/browse/AMQ-1490

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@599129 13f79535-47bb-0310-9956-ffa450edef68",180,351
d59fd98daaac3119ea51bb0cc99071f7585ba36a,"updated so that we can use delete the db on start-up

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@599470 13f79535-47bb-0310-9956-ffa450edef68",8,8
27dff3538c88e2e0a164d65c97f3c9894a1d22af,"Glen Mazza pointed out a little typo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@599493 13f79535-47bb-0310-9956-ffa450edef68",1,1
d83969f6a8d9db4f0b9d3514e8808fb59b3f79aa,"Allow a blocked thread to unwind if it's connection is getting terminated.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@599835 13f79535-47bb-0310-9956-ffa450edef68",2,10
1ba35323650b403d403523927ef628d83f0fcf23,"handle the inactivity actions in an async thread so that the schedular thread does not get blocked.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@599993 13f79535-47bb-0310-9956-ffa450edef68",10,24
2913fb8adade091e4ada8576f17efb1a726976ac,"Using wrong class to initialize the log

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@600671 13f79535-47bb-0310-9956-ffa450edef68",1,1
f4720004671efe9cae4f8610b64b55099733f6d2,"Changes to address memory usage for large transactions for:
https://issues.apache.org/activemq/browse/AMQ-1490

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@600891 13f79535-47bb-0310-9956-ffa450edef68",166,218
ddff5e5c1688c76f58fe683db487ef0d549c305e,"Fix for https://issues.apache.org/activemq/browse/AMQ-1512

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@601011 13f79535-47bb-0310-9956-ffa450edef68",2,0
5628b3e4ba955d5a6165899290bee61fe60feb9e,"Added synchronization to prevent concurrent modification 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@602260 13f79535-47bb-0310-9956-ffa450edef68",4,4
8c541377bdba9baaf06779e0d8095727a7628f1a,"Fix for excessive memory usage for durable consumers - 
see https://issues.apache.org/activemq/browse/AMQ-1490

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@602440 13f79535-47bb-0310-9956-ffa450edef68",14,14
29849639120020bd63b0cc510e3a5025cb33b0b7,"If you have a multi-threaded client which share 1 connection to the broker it is possible you may have seen errors like:

2007-12-05 14:14:52,606 [VMTransport] ERROR - org.apache.activemq.broker.TransportConnection.Service - Async error occurred: java.lang.IllegalStateException: Cannot lookup a connection that had not been registered: ID:bubba-38184-1196882086290-2:1
java.lang.IllegalStateException: Cannot lookup a connection that had not been registered: ID:bubba-38184-1196882086290-2:1
at org.apache.activemq.broker.SingleTransportConnectionStateRegister.lookupConnectionState(SingleTransportConnectionStateRegister.java:113)
at org.apache.activemq.broker.TransportConnection.lookupConnectionState(TransportConnection.java:1313)
at org.apache.activemq.broker.TransportConnection.processRemoveConsumer(TransportConnection.java:538)
at org.apache.activemq.command.RemoveInfo.visit(RemoveInfo.java:64)
at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:281)
at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:178)
at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:100)
at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:67)
at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:202)
at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:118)
at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:42)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
at java.lang.Thread.run(Thread.java:619)


root cause is that the client side has multiple threads calling close() on consumer/session and the connection objects. If the timing of those concurrent calls was just right, it is possible for the client to send the connection close message followed by a session or consumer close message which is invalid and would result in IllegalStateException reported by the broker.

- Simplified the ActiveMQConnection and TransportConnection shutdown so that this does does not happen.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@602529 13f79535-47bb-0310-9956-ffa450edef68",93,91
6f0dcac6775440f9937cbcad96157ba89f1105db,"Added a little more debug logging to the InactivityMonitor because I suspect that
the schedular might not be triggering the read and write checks at the right time. 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@602553 13f79535-47bb-0310-9956-ffa450edef68",0,12
27c87d20f31037be1c0740ecc4a902927254a940,"Applied patch in AMQ-1515 Thx David.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@602565 13f79535-47bb-0310-9956-ffa450edef68",255,7
a5a6a2a5d1b5e85822f2bd793c26e909ca8bab56,"Added more synchronization

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603348 13f79535-47bb-0310-9956-ffa450edef68",1,1
1c4ef90ff3ee1e42873df25e0e318fa8d2d0e83c,"Fix for https://issues.apache.org/activemq/browse/AMQ-1507

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603762 13f79535-47bb-0310-9956-ffa450edef68",17,191
92bbce1d6fa6bc3d470fd12133f0303042eb729e,"Fix for https://issues.apache.org/activemq/browse/AMQ-1507

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603772 13f79535-47bb-0310-9956-ffa450edef68",1,0
a3b4c5a3580217c248b47539e125e3fa70adf276,"Fix for https://issues.apache.org/activemq/browse/AMQ-1507

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603863 13f79535-47bb-0310-9956-ffa450edef68",3,5
cea2f930c31ca2dc88ef7aa29ee6765e8a95758f,"crap - left a Thread.dumpStack() method in the class - removing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603869 13f79535-47bb-0310-9956-ffa450edef68",1,0
388a5c4356fbff41b481d9ca37b350b500c6249b,"crap - left a Thread.dumpStack() method in the class - removing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603873 13f79535-47bb-0310-9956-ffa450edef68",1,0
3099953b726b9b6722fbf4ac6958e8a859ac6571,"If can't recover message id from the store - change error message
to debug. The problem occurs because the message has already been
dispatched

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603881 13f79535-47bb-0310-9956-ffa450edef68",1,3
d4d9ba88b9bdccf9d05ff0b1a6f32a4724ddfaa0,"Add warning message if not enough space to complete a transaction

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603884 13f79535-47bb-0310-9956-ffa450edef68",0,10
0ac3f165dcadc709b858571ccc5c43401369ae23,"changed unlock() method to use remove() instead of clearProperty
as this doesn't work on some platforms

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603927 13f79535-47bb-0310-9956-ffa450edef68",3,7
225d2bf055179e271cc5b2186bf8bde5873af560,"try and ensure that the brokers shutdown cleanly for the 
ReliableReconnectTest - as it can hang

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@603952 13f79535-47bb-0310-9956-ffa450edef68",1,12
628842f69a47d1bbf02e70dd0405e28ed649efb3,"Fix for https://issues.apache.org/activemq/browse/AMQ-1518
take minimum threads to task factory to 0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@604689 13f79535-47bb-0310-9956-ffa450edef68",1,1
5582cc1751125f7c3aaaae417a10cf0021a19d37,"update performance tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@604691 13f79535-47bb-0310-9956-ffa450edef68",27,216
a32832f4cb4e523880de73c350352e7a9f106ecc,"Fix for https://issues.apache.org/activemq/browse/AMQ-1521

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@604700 13f79535-47bb-0310-9956-ffa450edef68",2,6
3318a9f0e39bab31508a07718ebccb1ffa44a04c,"ConnectionClosed exceptions being thrown in a regular connection close
removed the isClosing() check before sending async

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@605518 13f79535-47bb-0310-9956-ffa450edef68",1,1
8228663f6d5c31d0793473ac04bc05a11f346af8,"close socket in a separate thread and only await stopLatch 
for 2 seconds - as it close could be called by InactivityMonitor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@605671 13f79535-47bb-0310-9956-ffa450edef68",3,32
de144401093acbee6e7b8a6d20048cc62af85161,"Fix for https://issues.apache.org/activemq/browse/AMQ-1525

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@605698 13f79535-47bb-0310-9956-ffa450edef68",39,104
1d7b88431a9d8949291446558b9913794cc51556,"Fix for https://issues.apache.org/activemq/browse/AMQ-1528

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@605940 13f79535-47bb-0310-9956-ffa450edef68",9,9
462921addf57be084bec4c626884b61e0d71b30c,"Fix for https://issues.apache.org/activemq/browse/AMQ-1524

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@605943 13f79535-47bb-0310-9956-ffa450edef68",1,1
471ea330511a0bd86bb944de36b862be624138e3,"Applied Dejan's patch on AMQ-1272 with some small tweaks.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@605944 13f79535-47bb-0310-9956-ffa450edef68",60,163
01215e240dcfa71e868719900fac4f863bf72ba0,"Updated version number now that 5.0.0 is out the door

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@605972 13f79535-47bb-0310-9956-ffa450edef68",26,26
9f94b6c509e082914537dd2897588f4c5240e474,"Fix for https://issues.apache.org/activemq/browse/AMQ-1528

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@606022 13f79535-47bb-0310-9956-ffa450edef68",0,1
34378e8ec146b0861f3308809a926116b9e1c35a,"Only wait 1 second for connections to stop. When killing a stale 
connection - if stop doesn't complete - it hangs the broker.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@606241 13f79535-47bb-0310-9956-ffa450edef68",1,1
8179df80f1e821fb8e44f794df6ac1bf7cd46723,"don't wait for ever for worker to stop

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@606260 13f79535-47bb-0310-9956-ffa450edef68",1,1
069a5676f1687730192fa31b5e9bcb19c1563ab9,"multiple paths try to re-start the broker with vm:// trapnsport -
changed URI to tcp://

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@606682 13f79535-47bb-0310-9956-ffa450edef68",4,13
ea0cd012b199f4a5054873d746bbf20454ff0021,"fix for http://issues.apache.org/activemq/browse/AMQ-1157

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@607037 13f79535-47bb-0310-9956-ffa450edef68",1,3
2db7df72d69582e399b2a997027d909babf9b2de,"Reduce contention around Queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@607038 13f79535-47bb-0310-9956-ffa450edef68",442,488
2a538388fc77bac424aed58549f3d3f926b94fc3,"Adding missing resource file.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@607074 13f79535-47bb-0310-9956-ffa450edef68",0,63
c493b87f0ad1fbad8593fbf6abaa2fa94184b786,"This test could get stuck - now only wait 2 seconds for a message 
and use Memory Message Store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@607186 13f79535-47bb-0310-9956-ffa450edef68",3,17
409902c3942f725ce62855fee93fb7a3524d33f9,"Tweaking for Queue performance and concurrency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@607317 13f79535-47bb-0310-9956-ffa450edef68",55,92
a0b3e3211ee1b32a725c9d86b45c53858a2bee99,"Fix for https://issues.apache.org/activemq/browse/AMQ-1533

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@608034 13f79535-47bb-0310-9956-ffa450edef68",10,12
7ace9345877b5b639f475f0c45ceba318a6d42eb,"Update to the Java Service Wrapper

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@608064 13f79535-47bb-0310-9956-ffa450edef68",4,11
e745e0d54857be9e7996e77e0b16137f2ea9631c,"added an example of how to specify the maximum number of active JDBC connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@608084 13f79535-47bb-0310-9956-ffa450edef68",0,2
082bbf0f06867546f8b738971bc72b92a88c8b76,"Add some duplex property for network connector view

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@608356 13f79535-47bb-0310-9956-ffa450edef68",0,12
9899dff93da37b089177f46166e83928eec742dd,"nake inflight message count a little more explicit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@608414 13f79535-47bb-0310-9956-ffa450edef68",0,11
0640cb703ab6d9015d1f0d0ad866fd0707a67abe,"Added basic load test for queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@608902 13f79535-47bb-0310-9956-ffa450edef68",0,598
1a2e58359559c86cbc60a841c40806f9ce9d5c04,"activemq-all was missing the commons-logging required dependency.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@608958 13f79535-47bb-0310-9956-ffa450edef68",4,6
43d58b57b7b2ab0a1aacb38c027d01146f44ccea,"Fix for http://issues.apache.org/activemq/browse/AMQ-1519
Start up the embeded broker in an async thread so that it does not block the AppServer startup if a slave broker is started.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@609016 13f79535-47bb-0310-9956-ffa450edef68",8,32
3d10accb4687cce4ba2960f09d69726b7cfe6b2a,"fixes for load testing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@609606 13f79535-47bb-0310-9956-ffa450edef68",197,157
3163d48eb16ac141bd88acda17a582f7167750c6,"applied patch for https://issues.apache.org/activemq/browse/AMQ-1542

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@610432 13f79535-47bb-0310-9956-ffa450edef68",0,1
b39430ab17560224d4a1beefc721f1d9f56e5439,"Upgrade to xbean 3.3-SNAPSHOT to pull in the fix for:
http://issues.apache.org/jira/browse/XBEAN-101
PropertyPlaceholderConfigurer can not be used to resolve values assigned to xbean properties that have a custom PropertyEditor



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@610502 13f79535-47bb-0310-9956-ffa450edef68",1,151
e7245768b36202e8a416dc30bf22ab35428a5056,"Fixing the build.  Backing down the xbean version until the qdox parser problem is resolved.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@611918 13f79535-47bb-0310-9956-ffa450edef68",1,5
5f4db41d2da5df90f3f21097b6b80b0941dad050,"set correct consumer count on consumer advisories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612459 13f79535-47bb-0310-9956-ffa450edef68",16,46
634da7a88edb17528039a7ce1f83012a8891877b,"Add producers to DestinationStatistics

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612542 13f79535-47bb-0310-9956-ffa450edef68",5,125
2b5608f761583cfa9fd7f6cb9286488b01046ab1,"Applying patch at https://issues.apache.org/activemq/browse/AMQ-943

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612544 13f79535-47bb-0310-9956-ffa450edef68",17,451
4c978f17bbaacfcadf9ab3962026fa0151aea341,"Applying patch: https://issues.apache.org/activemq/browse/AMQ-1493 Thx Dejan.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612548 13f79535-47bb-0310-9956-ffa450edef68",6,6
c4d8d86715b8c736026a35f1e9c957b1989d9ae4,"Applying https://issues.apache.org/activemq/browse/AMQ-1361

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612661 13f79535-47bb-0310-9956-ffa450edef68",71,1275
10eae9d6e7a0b48043d4d81bfd6985ab8146c237,"fixed the schema location

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612823 13f79535-47bb-0310-9956-ffa450edef68",1,1
5361df13dc6da19748988d18d860b0c7576f6862,"added a little helper factory bean for https://issues.apache.org/activemq/browse/AMQ-1552 to allow easy failover configuration without explicit URI magic

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612824 13f79535-47bb-0310-9956-ffa450edef68",0,264
a28ccae9fb86aa1a7b316fbeb7f9e6658f9a8f7b,"added a test case and fix for AMQ-775 along with a useful base class for testing ActiveMQ using Camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612828 13f79535-47bb-0310-9956-ffa450edef68",12,237
671ed4916ec2cb4af2c5bb175680afb3bd15abe4,"resources for the sharedFileMaster tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@612910 13f79535-47bb-0310-9956-ffa450edef68",0,57
8d11f07a96fe4e2a0a338e68c9785438813d53b6,"Fix for https://issues.apache.org/activemq/browse/AMQ-1553

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613230 13f79535-47bb-0310-9956-ffa450edef68",240,211
8f190f188b0b8c1d05603323922c7a6ee45c0c3d,"increase the amount of time to receive messages - to try prevent intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613244 13f79535-47bb-0310-9956-ffa450edef68",1,1
caf7a7c7c2d1f3491b3650bb1ea73ea999db2bfb,"Fix for https://issues.apache.org/activemq/browse/AMQ-1556

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613829 13f79535-47bb-0310-9956-ffa450edef68",100,114
83c3dca9e50e216cce5cc3af7c040195b9ff81f5,"Fix for https://issues.apache.org/activemq/browse/AMQ-1510

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613830 13f79535-47bb-0310-9956-ffa450edef68",25,255
1f2804a76a9ed02b68fd7b2392baf4efd0d34fe2,"Fix for https://issues.apache.org/activemq/browse/AMQ-1559

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613832 13f79535-47bb-0310-9956-ffa450edef68",5,10
01cef910dbde1e8fe2fa977f982d7d1aa407a895,"Fix for https://issues.apache.org/activemq/browse/AMQ-1560

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613874 13f79535-47bb-0310-9956-ffa450edef68",1,1
b16d55f79af6a95a96a23d636667f8d156c1b48d,"Lowered the logging level of empty messages returned. For background see : http://www.nabble.com/HTTP-%3A-Received-null-command-tp14997476s2354p14997476.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613889 13f79535-47bb-0310-9956-ffa450edef68",1,1
17e22cff6f283df3dd27ac2415d56a39a7545603,"Fix for https://issues.apache.org/activemq/browse/AMQ-1475

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@613899 13f79535-47bb-0310-9956-ffa450edef68",1,1
23cda2d6bb1b442d4ac1a68182ddf233075f2677,"Fix for https://issues.apache.org/activemq/browse/AMQ-1562

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@614206 13f79535-47bb-0310-9956-ffa450edef68",139,209
55810b3155dd3488635626b96eec3b3157fd3c78,"resolution for https://issues.apache.org/activemq/browse/AMQ-1566

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@614645 13f79535-47bb-0310-9956-ffa450edef68",43,75
cce756605f962fc45a3401635c18114c478398de,"use task runner to dispatch messages - improve concurrency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@615287 13f79535-47bb-0310-9956-ffa450edef68",12,14
b8674d40061d8809cf550fc18fd1695663392555,"disable optimized dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@615288 13f79535-47bb-0310-9956-ffa450edef68",1,1
e16bcf2f48e18a546cea2bf5f71cade77f44c3cb,"turn cache off by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@615297 13f79535-47bb-0310-9956-ffa450edef68",5,4
3249682bdadcbbd14832a42f45b749886804e70f,"disable caching of messages for the Queue Cursor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@615341 13f79535-47bb-0310-9956-ffa450edef68",8,9
e210657db22c84c7702bafe520f2de4a1c381d96,"Fix for https://issues.apache.org/activemq/browse/AMQ-1572

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@616506 13f79535-47bb-0310-9956-ffa450edef68",9,65
418823a7e1ef46d2ce26c94eeb616cd7d0ca57a8,"Further enhancement for https://issues.apache.org/activemq/browse/AMQ-1572

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@616733 13f79535-47bb-0310-9956-ffa450edef68",123,161
a55149cad020c064b0be0eb4f6f78008acff9408,"Further enhancement for https://issues.apache.org/activemq/browse/AMQ-1572

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@616735 13f79535-47bb-0310-9956-ffa450edef68",1,1
5f83e62d661fe99def0774cbc37cf876a3658cd9,git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@616811 13f79535-47bb-0310-9956-ffa450edef68,0,53
3ac0537e3e25b8b30541f0fbc97ea5c69cc5af81,"added isDisposed to Transport interface

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@617015 13f79535-47bb-0310-9956-ffa450edef68",10,118
ef0e1bac6eef10d1f906be5d36a90f7a3c18ddbf,"Adding a ReadOnlyAsyncDataManager so that you can access a set of data files in a read only way.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618082 13f79535-47bb-0310-9956-ffa450edef68",28,219
0c1279009cac32c26f0ea74c5d2b7aa7f27eccbc,"remove unused imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618612 13f79535-47bb-0310-9956-ffa450edef68",2,0
c24574c801accb0b3a87a47ea89c369a61221b60,"don't set memory limit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618615 13f79535-47bb-0310-9956-ffa450edef68",4,4
c99f05529f02f6ee4038ca612155aef4b6f73227,"Updated the performance tests


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618617 13f79535-47bb-0310-9956-ffa450edef68",7,29
ad3799cbae79432f739e36cf5443055a48f2621d,"removed test waiting for space

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618619 13f79535-47bb-0310-9956-ffa450edef68",1,1
4188ed0b9a32223b2160390b9a00011854225bc5,"increase the length of the wait for messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618620 13f79535-47bb-0310-9956-ffa450edef68",2,2
071b4b109e115594afb4a73e55e63d8a6145e184,"refactored cursors to improve re-use

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618621 13f79535-47bb-0310-9956-ffa450edef68",392,349
d0f3d4dce918e7995fd937d279ee1ae69c72890b,"Make maximum page size for queues configurable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618654 13f79535-47bb-0310-9956-ffa450edef68",4,32
c128634fa638ef814a8ee69ac5fb810cc8057387,"copy message before resend

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618655 13f79535-47bb-0310-9956-ffa450edef68",8,9
ecc87ea6723fbb97e0851083d3d841ad24db559c,"add isConnected() flag to a Transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618656 13f79535-47bb-0310-9956-ffa450edef68",13,52
f81d0d59d35003e872030b8b9bf9a5209017a157,"lock dispatching (again) whilst adding a consumer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618689 13f79535-47bb-0310-9956-ffa450edef68",82,85
fdd977aab8bf4f37701448e45e9f77f0d37a32d2,"return a lock for the store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618774 13f79535-47bb-0310-9956-ffa450edef68",1,8
65beee6895213d36e0d78d2eee98ae6a0df5fd07,"comment out send first then consume


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618817 13f79535-47bb-0310-9956-ffa450edef68",3,3
149428b5bca1861d285335a4aefb0a9d92e9f7e6,"Reduce contention on the AMQ Store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@618981 13f79535-47bb-0310-9956-ffa450edef68",218,386
527bd15a5a73ddab34e0604cd221777decf65578,"- Clients do not shutdown due to non-daemon threads hanging around.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619004 13f79535-47bb-0310-9956-ffa450edef68",7,26
77f6790005ef595e9f568d74ce79c99e31bc48f7,"Use a larger send batch by default on the sample

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619005 13f79535-47bb-0310-9956-ffa450edef68",1,1
cada61f3ca5452f6b30b232e8ca5224bfe8084c9,"Use a larger send batch by default on the sample

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619078 13f79535-47bb-0310-9956-ffa450edef68",1,1
6c52d289851c10de642677601e37a890ca08472d,"Fix for:
https://issues.apache.org/activemq/browse/AMQ-1116
https://issues.apache.org/activemq/browse/AMQ-1575
https://issues.apache.org/activemq/browse/AMQ-1577
https://issues.apache.org/activemq/browse/AMQ-1581

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619336 13f79535-47bb-0310-9956-ffa450edef68",5,68
1a6cbfa651382286e622c4c9f9c68a4fd55cfffd,"fix for https://issues.apache.org/activemq/browse/AMQ-1446

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619347 13f79535-47bb-0310-9956-ffa450edef68",0,7
6d0c552c8a5e7d09d8e49a4f245364dd38606eff,"cursor fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619387 13f79535-47bb-0310-9956-ffa450edef68",56,99
ac0a88f44d9f3d774507b814e6277292bf17e5ba,"slave deletes all messages on startup now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619388 13f79535-47bb-0310-9956-ffa450edef68",1,1
6f66aa0eeaf280eeb837cbd85786b3233d940638,"can't determine order messages will arrive in for separate queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619390 13f79535-47bb-0310-9956-ffa450edef68",2,2
52ca2de3f02c263aa763798df7285cd0c01bf515,"remove shutdown hook 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619391 13f79535-47bb-0310-9956-ffa450edef68",1,1
939a3160f3d23d7e67a11815590223ab738f1315,"Handle the OverlappingFileLockException that could occur.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619511 13f79535-47bb-0310-9956-ffa450edef68",1,7
24fea9368c385b6850daa344006d7ba5a9da7313,"iterate() now returns false after every run to prevent spinning

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619652 13f79535-47bb-0310-9956-ffa450edef68",5,2
5460b7bb47724cb3fe1816eb6f5f87e97e113dbb,"remove patch comment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@619789 13f79535-47bb-0310-9956-ffa450edef68",6,0
f94406aae6fe2a652d1fb9e3b965f68f370df040,"calculate message size even if  the minimumMessageSize == 0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@620500 13f79535-47bb-0310-9956-ffa450edef68",1,1
be6376373fb01134b26be5a293f5ea490b546a2e,"Utility class for messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@620738 13f79535-47bb-0310-9956-ffa450edef68",0,42
da46fffc54b8d18619744ce92e55e9b9b9f8566d,"removed unused property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@620760 13f79535-47bb-0310-9956-ffa450edef68",3,0
bbbe0ba4a248cbfd75d5d7a98117911236a95a76,"applied patch from https://issues.apache.org/activemq/browse/AMQ-1513

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@627823 13f79535-47bb-0310-9956-ffa450edef68",1,32
7882eb7968800e14a017e903349e7dbd41dfb050,"Fix some timing issues with test cases


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628663 13f79535-47bb-0310-9956-ffa450edef68",37,39
8250a3c4b27f720a2e8621650a77b295c2db8214,"Fix some timing issues with test cases

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628664 13f79535-47bb-0310-9956-ffa450edef68",1,1
edd35d4b132dc166614213318a7937bb6cc3bd01,"Added a TaksRunner that always executes iterate - even if its already running

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628665 13f79535-47bb-0310-9956-ffa450edef68",0,86
d4382e483bfaa5fa31a731aba9056347849545ea,"Change Queue dispatch model to reduce contention for lots of 
consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628667 13f79535-47bb-0310-9956-ffa450edef68",284,468
2747573f6648ad4c1de2543244c260b75e4e343b,"Fix for https://issues.apache.org/activemq/browse/AMQ-1583

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628708 13f79535-47bb-0310-9956-ffa450edef68",1,1
213c3ae379d1a4445def44f441590153f369dc61,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1584

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628710 13f79535-47bb-0310-9956-ffa450edef68",3,25
91a05423157c1834780db6b0e60f2064aa7327bb,"Fix for https://issues.apache.org/activemq/browse/AMQ-1506

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628711 13f79535-47bb-0310-9956-ffa450edef68",1,1
4a8ade0fae3e38f5c45e4c1c2fbc71afeddabede,"Fix typo: https://issues.apache.org/activemq/browse/AMQ-1565
Added explicit version for maven-antrun-plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628764 13f79535-47bb-0310-9956-ffa450edef68",16,21
900c9af498f62d44918dc844875e15b5b295f688,"When recovering durable subscriptions - ensure they are recovered only once

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628778 13f79535-47bb-0310-9956-ffa450edef68",2,3
40950bc4b8007279a354b66f74a9b43784d5d17e,"https://issues.apache.org/activemq/browse/AMQ-1580
- Check for 0 length buffer when receiving byte messages
- Don't send an empty byte message if there is no data to flush
- Added test case from AMQQ-1580

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@628988 13f79535-47bb-0310-9956-ffa450edef68",12,101
8768a04e63b80645011763faa103c9ac7e803d6d,"doDispatch():
only apply message to least loaded if target subscription not 
already found

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629007 13f79535-47bb-0310-9956-ffa450edef68",7,7
13af1e36fbb11263afa93588e59f4b106ebe20bf,"- Fix for https://issues.apache.org/activemq/browse/AMQ-1576 (behavior is that if a jms property is null, it will not be converted, but will still be added to the default list of properties)
- Fix a spelling typo


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629060 13f79535-47bb-0310-9956-ffa450edef68",48,49
4e3e8c4add44a467081acd86457c327697fbb48b,"updated properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629405 13f79535-47bb-0310-9956-ffa450edef68",0,6
bca91bb068926562d49ed145823f705e887d4475,"check for null byte passed as parameter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629623 13f79535-47bb-0310-9956-ffa450edef68",8,10
e0bdc012c1fa9c50a15c72fdb82ddd9fcdcfa6a6,"Fix for https://issues.apache.org/activemq/browse/AMQ-1591

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629631 13f79535-47bb-0310-9956-ffa450edef68",1,9
34c530c39b0b90d4fcaf50bc169ece5a9ee6680f,"removed unused imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629636 13f79535-47bb-0310-9956-ffa450edef68",1,0
60c260582d681370fa443fc10520f125dda38b73,"Fix for https://issues.apache.org/activemq/browse/AMQ-1591

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629639 13f79535-47bb-0310-9956-ffa450edef68",2,2
2a153b085fce82a1cac802d96ab75fd756ac69fc,"Fix for https://issues.apache.org/activemq/browse/AMQ-1560

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629713 13f79535-47bb-0310-9956-ffa450edef68",143,552
204f6d83857df7b5c7e1f85b1c62fcd4b12f2c4f,"have backup off by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629725 13f79535-47bb-0310-9956-ffa450edef68",1,1
b141d21dce773c81ab277560cdb98beadfdc100a,"Gaurd against too many read checks happening back to back.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@629859 13f79535-47bb-0310-9956-ffa450edef68",7,21
3d33c0e51a2f6e5e7c8ab4eaa92b2d305852b0dd,"Fixing bug with qdox.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@630050 13f79535-47bb-0310-9956-ffa450edef68",1,5
b34f7302313bf91a2828173d0a9bf6a2c18c2d0b,"expose some methods to make it easier to test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@630136 13f79535-47bb-0310-9956-ffa450edef68",4,3
230255a47902e94a2a8cf20f2962615eb3630322,"https://issues.apache.org/activemq/browse/AMQ-1595


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@630253 13f79535-47bb-0310-9956-ffa450edef68",14,14
16b400934873f49a32afd46b30fb15358c09a328,"added additional logging around ClassNotFoundException

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631227 13f79535-47bb-0310-9956-ffa450edef68",1,4
cd24f8099f3a824985f14ab221beb9156bc57607,"Introduced AbstractTempRegion - to cater for temp destination 
usage on  failover

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631237 13f79535-47bb-0310-9956-ffa450edef68",16,177
33724ec1c3234a65b48582bf399dd406be244255,"removed tmp destination tests - the check is done client side now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631240 13f79535-47bb-0310-9956-ffa450edef68",42,1
25b6812daaae09572c85cbd99cf527bc278e27d8,"Added network and fault tolerant flags to ConnectionContext

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631241 13f79535-47bb-0310-9956-ffa450edef68",0,24
e225ba622c30fa190a006aef499ef372033d194f,"optionally replay messages on the fault tolerant transport


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631244 13f79535-47bb-0310-9956-ffa450edef68",14,85
e4049817363942662a6f129d61464970673d9a05,"zap old code that has moved to actievmq-web

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631508 13f79535-47bb-0310-9956-ffa450edef68",535,0
5075fb9deaf4a1d6ad2122e84dad491aecb51c89,"added a test case showing how to set a property using a Processor http://www.nabble.com/setting-JMSXGroupId-property-from-within-a-processor-tp15706825s22882p15706825.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631509 13f79535-47bb-0310-9956-ffa450edef68",1,179
00893abe277e3123bc94123365883f5e68730ca2,"recycle hash pages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631537 13f79535-47bb-0310-9956-ffa450edef68",7,16
a9120b1b12bea3fcf6602ff9f95c2ca4ae3e9299,"Adding a test does a load test across multiple network connections.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631658 13f79535-47bb-0310-9956-ffa450edef68",0,305
b01374e05f2f1265bb49cfa40c94848c74a40d85,"Added better weighted sleeps to make sure everything is going before we start sampling.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631662 13f79535-47bb-0310-9956-ffa450edef68",2,9
e60828c077b4cc54630614433eb625544d0f1a50,"Better qos options on the producer of this test.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631665 13f79535-47bb-0310-9956-ffa450edef68",11,32
bf20d7662298094375b7d216669205448027c164,"https://issues.apache.org/activemq/browse/AMQ-1598
Remove extraneous Thread.dumpStack call

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631848 13f79535-47bb-0310-9956-ffa450edef68",1,0
da6c2d61f1966eb9d1e09c03b2c5c3b9b6abef4a,"Changing logging to log stacktraces to debug only

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631864 13f79535-47bb-0310-9956-ffa450edef68",3,6
a6e227dcdc2b65c9a01f6cefd860ce49660b3036,"Tweak the logging a bit. Didn't like the idea of different log messages depending on log level.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631866 13f79535-47bb-0310-9956-ffa450edef68",5,2
dd35ef43e5994c939e5130aae812b8ab7382d678,"Upgraded jettison to 1.0
https://issues.apache.org/activemq/browse/AMQ-1597

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631871 13f79535-47bb-0310-9956-ffa450edef68",1,1
a36426d202c4164611f670d911d0d992f761c259,"keep alive should get a response

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@631965 13f79535-47bb-0310-9956-ffa450edef68",12,26
571a253df70789fc4ce8e34b97432192a243f747,"added toString()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632046 13f79535-47bb-0310-9956-ffa450edef68",0,4
e31ca805461ae1cfa0a1d987b19a34b3a3ebcfe9,"added size to toString() method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632047 13f79535-47bb-0310-9956-ffa450edef68",1,1
03ecdb00ee1cc8268fa8b45926edda433b299a97,"changed free list implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632050 13f79535-47bb-0310-9956-ffa450edef68",37,11
014f82a1e018ffbd598c36dac4b10df1a0e9203d,"remove println() - oops

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632051 13f79535-47bb-0310-9956-ffa450edef68",2,0
710db267a91233af8bffaa3ce9d1ee78b9f37c41,"Move back to using DEfaultThreadPools for reconnect tasks - as 
for very bad connections, DedicatedTaskRunner could get swamped with
reconnect tasks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632269 13f79535-47bb-0310-9956-ffa450edef68",3,3
c0b00b2d28b147655fdc0b0651a1553610812989,"set track messages off by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632333 13f79535-47bb-0310-9956-ffa450edef68",1,1
13829eff1dbcda6962f65a570815db129f82bc4b,"The Producer MemoryLimit can lead to network deadlock when spooling is disabled.
So we now disable using it when sooling is used on a queue.

see:
https://issues.apache.org/activemq/browse/AMQ-1606



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632455 13f79535-47bb-0310-9956-ffa450edef68",40,70
32dc290eb7ea4ecacf308e7f5c7888f71fdc0b7b,"reset defaults

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632560 13f79535-47bb-0310-9956-ffa450edef68",3,3
767b548715e9de5015277708388e9e3562c377dc,"fix for inaccurate page calculation in bin overflow

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632651 13f79535-47bb-0310-9956-ffa450edef68",9,9
c427689dad37c674328233e61d3f231b662cd9ff,"make splitting consumers/producers memory limit optional and off
by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632666 13f79535-47bb-0310-9956-ffa450edef68",7,45
d8b407bb63d10d31d6cf91b29ed71d3627c4a7a5,"Added copy file method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632961 13f79535-47bb-0310-9956-ffa450edef68",0,23
18e1a6bfc1e2463be2eca17a3b3622ab78395fd3,"HashTest expanded to load/unload/load indexes through testing


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632962 13f79535-47bb-0310-9956-ffa450edef68",1,7
b67f61df9868777dc3f7083fce6d94cb0d39fc55,"Don't use default container name for loader test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632963 13f79535-47bb-0310-9956-ffa450edef68",1,1
e3764561119ed9fcbc8e3f322aa08459621862e8,"Compress HashIndex on startup - only way to ensure the index
pages are loaded in correct order without changing the wire format

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@632964 13f79535-47bb-0310-9956-ffa450edef68",45,96
3d18d5990422d8e92eb1e71cd3348f6131b8456c,"Protect the messagesWaitingForSpace variable against concurrent modification.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633210 13f79535-47bb-0310-9956-ffa450edef68",3,6
1c8cfd9cfe7caa151e3f88a36e0f9bd8f411c350,"The testWildcardConsume has 1 consumer subscribe to 2 destiantions and made an assumption 
that messages would delivered in the order published to the 2 different destinations.  This is not correct
as the messages could queue up and get dispatched at different times.  Updated the code so that this assumption
is no longer relied on.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633554 13f79535-47bb-0310-9956-ffa450edef68",5,6
c84e58a9482f8ef0c8930d40f448dc3a8a109c6b,"Reduce contention by using an Atomic Reference.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633570 13f79535-47bb-0310-9956-ffa450edef68",10,7
747b2ddc4a67b219ca9d2b6b26879f8fbbaaab19,"Fixing edge case that does not normally occur.  When marshalling a null object and size prefixing is disabled, we
were still prefixing the size of the data.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633571 13f79535-47bb-0310-9956-ffa450edef68",1,3
42fc31b4af2622cb963decfaddc4ee44c4794984,"added a load testing example using the latest camel dataset feature http://cwiki.apache.org/CAMEL/dataset.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633580 13f79535-47bb-0310-9956-ffa450edef68",0,299
ab839ffc0643de00a57da1bcb8becf5ff1f43cfa,"made the load test a bit bigger :)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633585 13f79535-47bb-0310-9956-ffa450edef68",4,5
a9b841af61afb84936475b1eaddd7b5eeb285620,"The AsyncDataManager now supports doing a callback notification for when a write 
has been secured to disk.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633603 13f79535-47bb-0310-9956-ffa450edef68",7,113
26aeb46493f6c621b481d3888bb3d4994055ebca,"Added non persistent queue network test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633799 13f79535-47bb-0310-9956-ffa450edef68",2,52
3b0afd6b71c1889fc61f61f738ca4de976536556,"Added NonCachedMessageContext

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633800 13f79535-47bb-0310-9956-ffa450edef68",27,85
f6fd249d8c448ba2cf825538c5d8d327cb96471b,"remove unused import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633806 13f79535-47bb-0310-9956-ffa450edef68",3,0
e7316df001ab769a375a6ed9dfaa74ec54c418d6,"synchronize around the messagesWaitingForSpace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633808 13f79535-47bb-0310-9956-ffa450edef68",3,5
c1e560e7ef57a5d0337f7aaaa53447a664c69a37,"Added some property accessors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633903 13f79535-47bb-0310-9956-ffa450edef68",1,22
cd54a162f6581cb966cdab988ac967dc57dad431,"Define specific region classes for TempQueue and TempTopic

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@633976 13f79535-47bb-0310-9956-ffa450edef68",194,266
f6efc5660d4efc29dc7cb69f090e48dbc8ac74eb,"added support for http://issues.apache.org/activemq/browse/AMQ-1199 so that its easy to browse the available queues & topics in a broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634277 13f79535-47bb-0310-9956-ffa450edef68",0,450
5e897d6c384623061a757470af4978fb201e11a4,"updated the test case for http://issues.apache.org/activemq/browse/AMQ-1199 to make it a better test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634281 13f79535-47bb-0310-9956-ffa450edef68",11,25
fb0e1594994c8228560fb07e9905731526799279,"added a helper class for auto-exposing ActiveMQ Queues into the CamelContext

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634377 13f79535-47bb-0310-9956-ffa450edef68",0,146
c0b74f056290b5517cb1a0c8a1d8016245274287,"Fix for: https://issues.apache.org/activemq/browse/AMQ-1613
Avoid deadlocking with the thread calling oneway() when we are cleaning up the connection due to an Inactivity error.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634411 13f79535-47bb-0310-9956-ffa450edef68",25,30
d56371fd69fca5a44bf8f7baaecb6426ca638058,"fix current modification of linked list

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634415 13f79535-47bb-0310-9956-ffa450edef68",11,11
4ae43a36b5ea991ec0032087228304f31e3b6a5a,"reduce contention around stats on connection - thx for spotting this Hiram!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634420 13f79535-47bb-0310-9956-ffa450edef68",2,2
9cc2d3776e4a52972a77d6ae4873b6aac6275202,"open up to more Configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634421 13f79535-47bb-0310-9956-ffa450edef68",2,7
f4ca65010897d49a419252216039cf8d2c8ebd49,"Fix concurrent modification of pagedInMessages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634472 13f79535-47bb-0310-9956-ffa450edef68",1,6
cf55702288d10188de0312ac388ca5233ded984e,"resolve concurrent modification

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634487 13f79535-47bb-0310-9956-ffa450edef68",7,19
88fbb05af59bfd59dc6c558b9d5e4c7c2831580c,"Add foundation for monitoring split brokers from a clients view point

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634488 13f79535-47bb-0310-9956-ffa450edef68",21,169
bb763f5f7a6734892ec6414c940894d423192abd,"dump an index

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634490 13f79535-47bb-0310-9956-ffa450edef68",2,22
4c481ec6a9c0bf21514f70afc9a1e35ea89de7ab,"Added a ReentrantReadWriteLock to guard against a service call executing while a connection is being shutdown.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634505 13f79535-47bb-0310-9956-ffa450edef68",37,61
3f9d6e2ef873c817a37ae551dc7a35d3c6788c1d,"re-introduce optimize dispatch for queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634588 13f79535-47bb-0310-9956-ffa450edef68",20,37
1a01d137317fd1d2e7ce202034ac3a5eed11b389,"Detect clients fail over - that haven't removed themselves from
a brokee

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634589 13f79535-47bb-0310-9956-ffa450edef68",5,19
26eedea5fbaa8f4efd372526ae5179f909f20eba,"added support to be able to auto-expose ActiveMQ Queues into a CamelContext so that they are browsable by any Camel based tooling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634686 13f79535-47bb-0310-9956-ffa450edef68",39,181
c803f531e3a871fc0ce41d981819a15e04c44c17,"Ignore invalid commands to the AdvisoryConsumer- can happen due
to the use of wildcards across a network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634775 13f79535-47bb-0310-9956-ffa450edef68",3,4
5e747b070ddadd4e77f1f8962a54a115c6c04ef8,"Improvements to removing stale connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@634797 13f79535-47bb-0310-9956-ffa450edef68",39,40
c42c5ff976925ef279bc61d3fb61d51953d47704,"Fix problem in message state tracker that will result on OME

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635565 13f79535-47bb-0310-9956-ffa450edef68",2,4
98b49239180a86957cc2eea6253d72a602075730,"Simple Request/Reply test using temp queues over a network  - with 
a failure on every send

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635681 13f79535-47bb-0310-9956-ffa450edef68",0,184
044c07d9a5a32511d006a38edae1e91cd033dd8e,"Added a lazy dispatch option for queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635682 13f79535-47bb-0310-9956-ffa450edef68",55,146
29cfdedb12ff3d47a6587f5e8926813bbec0add1,"take out System println messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635688 13f79535-47bb-0310-9956-ffa450edef68",5,1
7ee534ff268c043bf116dbf9dc6d95fc7073a624,"monitor connection splits

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635747 13f79535-47bb-0310-9956-ffa450edef68",2,2
8f1505ff5550972e65311ab871a024fc451d872e,"tidy up imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635753 13f79535-47bb-0310-9956-ffa450edef68",5,0
0c45ad577814ea645e2910e7f750d1a1f4cce718,"exclude NetworkFailoverTest 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635755 13f79535-47bb-0310-9956-ffa450edef68",0,1
512b0c7e679a19a149b7e7ac81ac980c8753ec3e,"Don't use FilePendingMessageCursor if persitence is off

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635932 13f79535-47bb-0310-9956-ffa450edef68",18,15
75d43c027f053d2dbfdf8878e0d24212c198e39c,"This test is very taxing.. if you didn't have a good machine it could produce false negatives.. lowering requirements a bit to reduce false negatives.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@635971 13f79535-47bb-0310-9956-ffa450edef68",4,4
67d38fafd1c0bede6c475756b51cbea3772e555d,"Fix for the failing QueueMasterSlaveTestUsingSharedFileTest on windows.  The lock on the AsyncDataManager was not being retried.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636037 13f79535-47bb-0310-9956-ffa450edef68",23,55
4fcacf7772205fc36d9bbb55413aed615dd2be5c,"A client should connect to the same broker for it's sending and receiving so that the broker does the forwarding

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636064 13f79535-47bb-0310-9956-ffa450edef68",1,1
7d70fec53a2a0756c37cf4ae82a1bdc0541418a2,"make lazy dispatch the default for queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636067 13f79535-47bb-0310-9956-ffa450edef68",4,2
2185cdb6e0fd3de5a55e78d180e5f32b7e41f002,"Fix supplied by Pete Schwamb for corrupted DiskIndexLinkedList

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636078 13f79535-47bb-0310-9956-ffa450edef68",1,1
c6b88f1ecc46d14381ae9e667121738f700f7a51,"Made the ReconnectTest a little more robust.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636106 13f79535-47bb-0310-9956-ffa450edef68",21,43
a9ccf5623d547389c2864baa4ef2505d7ada3b84,"check for null message in MessageDispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636281 13f79535-47bb-0310-9956-ffa450edef68",1,1
39744a83d63a0201d04805f12a446ff5d5b4d20e,"added the broker name and details to the home page and window title

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636298 13f79535-47bb-0310-9956-ffa450edef68",1,28
95fcceb00ed6d6b2e8bdf3152682545f3cfd0d77,"added missing jars caused by upgrade to spring 2.5.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636330 13f79535-47bb-0310-9956-ffa450edef68",4,26
84792bafedf96807e30d537de4542935358b4f29,"If pageIn is forced - don't do lazyDispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636411 13f79535-47bb-0310-9956-ffa450edef68",2,1
f67415d8799a540dc7d1bc9a52862b4b9f2a5a60,"don't wait for ever when stopping the connection on a blocked write

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636419 13f79535-47bb-0310-9956-ffa450edef68",2,7
58cf4008360ede8b03032bbd3a0c4c72f7d4ea93,"Check for old network Subscriptions as well as connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636420 13f79535-47bb-0310-9956-ffa450edef68",75,133
22565e4176967ae998a49ff4958e877f33b443aa,"don't throw an exception if removing an invalid subscription -
it could happen from the ConnectionSplitBroker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636422 13f79535-47bb-0310-9956-ffa450edef68",10,10
712254d5d2cdf63e43f15df2da344358882ff60b,"support a list of ConsumerId's from the network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636424 13f79535-47bb-0310-9956-ffa450edef68",0,39
cb654705695c0877a934f7953f351e7a6e217342,"use a separate mutex for building backups

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636425 13f79535-47bb-0310-9956-ffa450edef68",21,24
f9cc04e5dbbc247954408b952524a21aa35d50c9,"Add network consumer id to a DemandSubscription

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636426 13f79535-47bb-0310-9956-ffa450edef68",1,3
8fd41894ca7161852df6efc3931ad95ee4ebd6d1,"Add network consumer id to a DemandSubscription

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636428 13f79535-47bb-0310-9956-ffa450edef68",4,11
290ce2a6bf9bcaec82d214bdad73ecb8414c5649,"ensure network connections use async dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636454 13f79535-47bb-0310-9956-ffa450edef68",1,1
93ccb9ca3b968d41d7f5b53296379e6e79a42388,"try and allow for zero pretech consumers with lazy dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636507 13f79535-47bb-0310-9956-ffa450edef68",2,8
10965641172b49c9027197264c4f0547740cdc31,"Allow the region broker implemenation to get changed by subclasses of BrokerService.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636609 13f79535-47bb-0310-9956-ffa450edef68",16,23
a785cb75dde26e098e9a27e99efaae734270bbfa,"expose internal maps to help debugging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636720 13f79535-47bb-0310-9956-ffa450edef68",0,16
e4621e3aa71b6fabb67dad158e488946859dfea5,"Added properties for caching of temp destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636722 13f79535-47bb-0310-9956-ffa450edef68",0,19
c451951148fe380030bc2089bd5f2613a64e4382,"Added properties for caching of temp destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636724 13f79535-47bb-0310-9956-ffa450edef68",39,58
5288e0d2e717f94fa5132a40448750533147eba3,"remove unused imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636732 13f79535-47bb-0310-9956-ffa450edef68",1,0
4a136864f1a4d75ccf1b253653cfa4d4e96bf6d0,"remove unused method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636733 13f79535-47bb-0310-9956-ffa450edef68",23,1
5fd3229c0bfba2d530928fe8edbb6fec6c12cabb,"default back to straight through for network vm transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636796 13f79535-47bb-0310-9956-ffa450edef68",1,1
320f80263ebfa49ceb5136f7dce228bb0ca5d9ff,"too many advisories flying about


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636868 13f79535-47bb-0310-9956-ffa450edef68",2,1
ba3e913daf379995d5afa0c964835fb2037ae0e5,"tidied up detection of stale subscriptions across a network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636897 13f79535-47bb-0310-9956-ffa450edef68",149,32
5dc188eb32ff61cca06d0837a3d7d894b3f75a4b,"monitor connection splits is now on by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@636930 13f79535-47bb-0310-9956-ffa450edef68",16,18
c57bad87116f18ba98bbea061111462d6b2d406c,"AMQ-1618 Fix check for 'endpoint factory won't let us create any endpoints at all'


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637004 13f79535-47bb-0310-9956-ffa450edef68",2,3
bbd2e47dbd630855dd5ee2f782a956ef46262d6b,"tidied up synchronization

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637028 13f79535-47bb-0310-9956-ffa450edef68",49,110
ceb7e1a86cd917d316c2973508c888fd2c21eac5,"Don't check connection splits for temporary destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637046 13f79535-47bb-0310-9956-ffa450edef68",21,25
8d28bbfdab0ecde2a69519fbcd7054e1b55730d2,"AMQ-1618 Refine thread safety of pool access operations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637218 13f79535-47bb-0310-9956-ffa450edef68",80,98
1987cfa2347cba9299eaed98a1e6b39c9ab7f45b,"Only unlock a service lock if we managed to lock it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637454 13f79535-47bb-0310-9956-ffa450edef68",2,5
b32ff4dd5ce8ee3fab764cf290d27bd57c9213ed,"Ensure we detect Connection splits for any type of network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637609 13f79535-47bb-0310-9956-ffa450edef68",25,31
0ff0ee3766f3fa10ea57c57fe51e656b10d20c79,"use defaults for VMTransport in network connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637877 13f79535-47bb-0310-9956-ffa450edef68",1,0
372f69aba9c7f9cf7ea25dbc19865c48c632583c,"tightened synchronization around dispatchQueue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637878 13f79535-47bb-0310-9956-ffa450edef68",16,25
5e03394423e1399788704badd0e2eb72c08478c7,"send shutdown to transports asynchronously - as they may be blocked

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637879 13f79535-47bb-0310-9956-ffa450edef68",6,34
4032a01c17bf1ea733979361b000f889f692e5eb,"Interrupt the writing thread on failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637881 13f79535-47bb-0310-9956-ffa450edef68",6,11
70511a6929f616a4aaacd8d27a2759c8fcf0dafa,"don't want errors from old transport after its failed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637883 13f79535-47bb-0310-9956-ffa450edef68",0,7
4bce5c810ab071c19a90d522dac109ff73e45a7d,"Don't timeout trying to aquire the service write lock.  Timing out can cause to improper shutdown.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637962 13f79535-47bb-0310-9956-ffa450edef68",12,2
cdd2108dd1c83985c0a5f161594ee09ea48e16ce,"Just making it a little more thread safe.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@637965 13f79535-47bb-0310-9956-ffa450edef68",3,7
859397c18bf1cc8d3fb4caec9b8e76c6ffb17ee1,"Use ThreadPool for starting remote services

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638233 13f79535-47bb-0310-9956-ffa450edef68",6,5
ec15e1c05acb3b59cf59c36ab41e3838f06cfcf2,"Use ThreadPool for starting local services

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638234 13f79535-47bb-0310-9956-ffa450edef68",3,2
44e6f7d0cd45f7fa4ba1f93ec67d21a146207b33,"Use ThreadPool for stopping services

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638235 13f79535-47bb-0310-9956-ffa450edef68",5,4
e41be74339c49749727db15ec751324869fc6951,"Use ThreadPool for stopping services

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638238 13f79535-47bb-0310-9956-ffa450edef68",5,18
3957eb0f6d087c67fc02a0e3b293d4c7fc579cb6,"removed unused executor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638246 13f79535-47bb-0310-9956-ffa450edef68",14,0
e58dfee8cc4da16bc59549a25cc9ecda72aaf4ac,"Disable by default the status detector - InactivityMonitor does the same thing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638260 13f79535-47bb-0310-9956-ffa450edef68",1,1
eccb3373031f11b8fed1864656fa8e42141ed429,"Don't send the ShutdownInfo when stopping the transport.  This should make it faster to shutdown a failed connection.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638358 13f79535-47bb-0310-9956-ffa450edef68",17,9
3c4d09d7492ff9a66195454aa7bf791be223bb38,"Don't use port 6001 since that conflicts with X servers on windows.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638359 13f79535-47bb-0310-9956-ffa450edef68",4,4
dc4f2993cc1bf6d9a852a9b3ee1d30a2a99286a4,"change reference count boundaries around messages - so they
are around acks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638385 13f79535-47bb-0310-9956-ffa450edef68",71,3
6b33749b17235649cf555ed4b7d8c1041f02b896,"access to the writeThread was not safe.. Plus interrupting another thread is not recommended anyways.
also fail new oneway() operations once inactivity is detected.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638596 13f79535-47bb-0310-9956-ffa450edef68",18,16
8de8d0b37ea994c06c8aad3dc1b50520cb7bf322,"opps had my logic backwards..


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638603 13f79535-47bb-0310-9956-ffa450edef68",1,1
dd57e4075897d85bda8d109aef0a23e0e32e2222,"synchronize oneway()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638814 13f79535-47bb-0310-9956-ffa450edef68",15,18
2f9fdea41f0959dd1a3c4ea62902c5c3d61b2926,"changed some defaults

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638844 13f79535-47bb-0310-9956-ffa450edef68",2,2
38d433a34a317da9715b4e13cc77932f89bac201,"Fix NPE


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638870 13f79535-47bb-0310-9956-ffa450edef68",1,1
1656e1dd5282d929aff5d4a440d2998fdb8e9f01,"Avoid generating additional exception after the first one reported.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638886 13f79535-47bb-0310-9956-ffa450edef68",8,14
c18b583020cdf97b545586ead7c3ccdcb57523f3,"Don't timeout a stop since that can lead to a failover connection not being able to reconnect correctly.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638891 13f79535-47bb-0310-9956-ffa450edef68",2,2
f55923619d34be7402bab9d3a9ad50b41d8efcc3,"Added separately configurable initial delay for timeout tasks on InactivityMonitor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638910 13f79535-47bb-0310-9956-ffa450edef68",30,71
aa2c8965eb51c411e8db0b98cab07aef4ff4ce26,"use compareAndSet() in onException

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638922 13f79535-47bb-0310-9956-ffa450edef68",1,1
5269519536a436fadf7c9950625dd8acb755488d,"Do the inital recovery dispatch in the iterate() thread so that the addSubscription() operation on the Queue executes quickly.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638924 13f79535-47bb-0310-9956-ffa450edef68",55,138
2f1822bf2ce4f73fbed2179475da0173ef420791,"Fix for inactivity exceptions not getting generated due to previous change.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638942 13f79535-47bb-0310-9956-ffa450edef68",26,13
31a87ac778c81f56f3fed6ca5df7a9339cf9995c,"allow blocked connections to unblock so we can get in and stop them.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@638969 13f79535-47bb-0310-9956-ffa450edef68",7,10
ff7033fa148a1009de856ffec88758ca2108f0fb,"set default max page size to 100

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639030 13f79535-47bb-0310-9956-ffa450edef68",2,2
5d485843b673c2ff4c7962db218b7924b6a19ce9,"If a connection is close() make sure we error out any outstanding requests it may be doing so that it can properly shutdown.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639111 13f79535-47bb-0310-9956-ffa450edef68",7,28
b3931192fc8e88342226d7b659a29eb7757fbf8f,"added a soak test for a separate local broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639282 13f79535-47bb-0310-9956-ffa450edef68",2,88
c9c11074a8b278fdf3930dba6db9a0bcecea69b3,"Fix queue reference counting.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639315 13f79535-47bb-0310-9956-ffa450edef68",7,5
198dd34a9ea209a6993fe86e3cc1abd8d839ea4c,"Stop the to connection first to avoid hanging on error.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639332 13f79535-47bb-0310-9956-ffa450edef68",1,1
01ab56f7d07d52e7936253b7f9e59ace97340d28,"Better memory usage reference counting for the persistent message case.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639388 13f79535-47bb-0310-9956-ffa450edef68",1,1
f4971bf2dcc66be39beec48b98c470c2490a0f24,"Avoid local consumer starvation.  We were not properly keeping the list sorted.  



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639422 13f79535-47bb-0310-9956-ffa450edef68",8,2
47183aeeaa2f5d5c3097571443501c653e49fcd4,"set new expiration time

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639499 13f79535-47bb-0310-9956-ffa450edef68",1,9
0302ffded77773a37423930a596a15b7b9051be4,"avoid deadlock on stop()


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639531 13f79535-47bb-0310-9956-ffa450edef68",24,23
299a98d48f4468a4bc2bf3914d52899e2724e821,"removing a bad reference increment



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639532 13f79535-47bb-0310-9956-ffa450edef68",1,0
9e13dc67fa6a80f65669576b51a4c3c1b3ba184e,"Disable lazy dispatch.  Was causing queue browser tests to fail.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639539 13f79535-47bb-0310-9956-ffa450edef68",2,2
f6856a893c5ad11940ccdf4050f93ad5980784b5,"Improve OSGi manifest attributes wrt xbean-spring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639592 13f79535-47bb-0310-9956-ffa450edef68",0,6
0a4c8064e4b452b159a4686376dadf7fcae62dae,git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@639667 13f79535-47bb-0310-9956-ffa450edef68,2,11
c04d8c548d0f0cd1fe4b25b3d6aaf5b68b25ec20,"Better failover error handling and now we pass on the max initial inactivity timeout to the timeout used by the intial wire format negociation.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@640641 13f79535-47bb-0310-9956-ffa450edef68",28,26
f9585fd6abb9532bac6365275af1e392a8dbf32f,"It's possible the prefered wireformat could be null


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@640684 13f79535-47bb-0310-9956-ffa450edef68",1,3
ae7de6c236e80cc6f00e512174d2be27e81d9ea9,"In the queue case, when a consumer was closed it was not properly re-delivering messages to other available consumers.  This was causing message to look like they got dropped.  

 - When we shut a queue sub down we now get it's pending+dispatched list and re-dispatch that to the other available subscriptions.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@640890 13f79535-47bb-0310-9956-ffa450edef68",22,60
54280bcfec94336485d85df5261b34565207ebc8,"Added central repo to try fix issue with ibiblio and the build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@640898 13f79535-47bb-0310-9956-ffa450edef68",0,5
b02c06fb31df198c72d78caf457343c0ac633f31,"Decrement the message reference when the messages are removed from the vm pending cursor.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641027 13f79535-47bb-0310-9956-ffa450edef68",1,4
401937a115504940bac69ad42adaae4e8269f9be,"Added full hamcrest dependency for testing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641364 13f79535-47bb-0310-9956-ffa450edef68",0,12
0b6cd58fb7ebdf419c97ab5365177161036f7df9,"fixed some failing tests - with much better tests that test headers move across camel routing steps and that we can invoke a request/reply explicitly using JMS headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641380 13f79535-47bb-0310-9956-ffa450edef68",13,158
a9ba5957481fe92b10908304d3c8a99998f253d1,"When messages expire take them out of the paged in list so that we can dispatch more messages to other consumers.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641525 13f79535-47bb-0310-9956-ffa450edef68",9,34
cdfb3c069161431d0c4e2aeafd2fb5c260e37128,"increased the sleep to ensure test case works

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641545 13f79535-47bb-0310-9956-ffa450edef68",1,1
3cbee72a9c0bb551d8c2a96717dc972e1b052b7f,"added test case and patch that shows adding producers & sending messages didn't trigger advisories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641548 13f79535-47bb-0310-9956-ffa450edef68",4,44
e35c115e03606aa6b130c3288f46285542c6ef46,"added a little test program showing how to browse ActiveMQ queues using Camel BrowsableEndpoints http://activemq.apache.org/camel/browsableendpoint.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641756 13f79535-47bb-0310-9956-ffa450edef68",0,114
14b8957713b05974caaf527bceb5de534871a256,"Shutdown all connections opened in the testcase so that the broker shutdown between cases.  Fixes failures that happened ocasionally


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641890 13f79535-47bb-0310-9956-ffa450edef68",8,25
b5df4babc0ae9acc76507dec77f93866e0539140,"Fixed the JmsTempDestinationTest test.  Async send was causing the temp destination to get recreated after the temp connection was closed.
Fixed - Was sending duplicate temp destination created advisories.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@641938 13f79535-47bb-0310-9956-ffa450edef68",10,14
76ac7588e82902d585fd511e7ee4956167ce45a1,"- Fixing out of order dispatch.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@642067 13f79535-47bb-0310-9956-ffa450edef68",6,8
53c9bab824fea8368d179e75ea898e2789aef1a6,"added a fix for http://issues.apache.org/activemq/browse/AMQ-1636 to avoid creating unnecessary connections when sending messages from Camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@642166 13f79535-47bb-0310-9956-ffa450edef68",4,84
8e98b13c87a3bd75a996f5baa709d293909f2bdd,"Fixing DLQ tests.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643108 13f79535-47bb-0310-9956-ffa450edef68",1,1
c20b10bed86fc058b21825a0d52416c2b9ced14e,"This method override seems like it's causing out of order dispatch in the JmsTempDestinationTest disabling for now until we can research this further.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643148 13f79535-47bb-0310-9956-ffa450edef68",1,1
431478a8f5710bb30527bb3041eca2d44a8f2c58,"do best effort to drain the queues.. and error should not interrupt the connection and broker shutdown.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643205 13f79535-47bb-0310-9956-ffa450edef68",8,11
3eb6aed9613ee55d6f37c6f253bfd8fe6ae3f6ca,"If a transport error occurs, there is no point in trying to cleanup with the broker since transport has failed.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643206 13f79535-47bb-0310-9956-ffa450edef68",7,0
2a328ed27cd5f19b0c96aeda7176a6aa146ddf6a,"When pulling a message, iterate the destinations first to make sure that it has pushed all available messages to 
the sub.  This should fix the ZeroPrefetchTest that was intermitently failing on slower machines.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643390 13f79535-47bb-0310-9956-ffa450edef68",65,83
a818270040ebb1b12cd1dfa1865d371666c78520,"Making the MultiBrokersMultiClientsTest less timing dependent.  Using advisories to know when the subscriptions have been setup so 
that we can start the publishing at the right time.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643407 13f79535-47bb-0310-9956-ffa450edef68",1,41
80722e4c9d3eabf6621a0d93815e1137fad6cff1,"fix for failing test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643439 13f79535-47bb-0310-9956-ffa450edef68",5,33
53756f3c196bc51bdcf4ae694d61e50bdd8c45f8,"fixed failing camel tests; made the CamelEndpointLoader dependent on the EnhancedConnection interface so it works with a naked ActiveMQConnection or a PooledConnection. Also changed the defaults to use a PooledConnectionFactory by default when using the ActiveMQ camel component

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643458 13f79535-47bb-0310-9956-ffa450edef68",19,68
bcacddfaad7b1a44bc7654e4f390f096c04c0b08,"Adding a little more delay so it works with slower machines.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643460 13f79535-47bb-0310-9956-ffa450edef68",4,4
6f851c8cce568b95f5ec0d47b928ad61994bcd60,"Wait for the queue consumers to connect before sending the messages.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643461 13f79535-47bb-0310-9956-ffa450edef68",4,7
00fb444810bc3ecb47911045c0556414cd777152,"- The ack to the message store was being sent after the transaction commit.  Not good.  Fixed so that the ack gets sent to the message store
  as it comes in.  This fixes teh failing jpa tests.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643529 13f79535-47bb-0310-9956-ffa450edef68",55,114
6146a73673ad48d22c92dd626ec6a48e44177a97,"reverting this change.. did not intend to commit it with the last commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643534 13f79535-47bb-0310-9956-ffa450edef68",77,27
c92b11bc5487c271265070fa2a573fb321505a2a,"If the discovery agent fails.. log the error so that folks using a custom discovery agent can find out that there was an error in the discovery agent bits.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643905 13f79535-47bb-0310-9956-ffa450edef68",0,1
11e742f003d432bce3a3a7a647c7a5b4802225d2,"Add some info logging so you can check to see if the discovery agent is generating duplicate onServiceAdd events

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643908 13f79535-47bb-0310-9956-ffa450edef68",1,5
23612459c2509bd60699b8971945bf36de245e8b,"Use root context patch when running jetty:run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643936 13f79535-47bb-0310-9956-ffa450edef68",0,5
0b33ad6074553cf94340cae313823dab3a3160e6,"Upgrade to latest commons-pool 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643937 13f79535-47bb-0310-9956-ffa450edef68",1,1
0aea7828c72a10eabab1c75ef3041ded055a4a82,"added a better load testing example

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@643939 13f79535-47bb-0310-9956-ffa450edef68",5,26
d35f83bcf50bbd49d1be143825758cf84ddc45ad,"removed unnecessary import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@644349 13f79535-47bb-0310-9956-ffa450edef68",1,0
ce1d85d1ee11c669a5f08dcbc4f8514f11cee981,"Do better reference count management of persistent messages when they are stored in a Memory store.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@644447 13f79535-47bb-0310-9956-ffa450edef68",8,23
b1cbd4176e1eea579575ee4153fc48c4b88df3bd,"added another load test which uses concurrent consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@644706 13f79535-47bb-0310-9956-ffa450edef68",0,95
bcbaeebf24d64b563addf4e300f51fcf059006aa,"added another test to show we can invoke JMS MessageListener instances

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@644836 13f79535-47bb-0310-9956-ffa450edef68",0,59
9d7bd247adbf5f4ca64dfce9ef45c2bc851b8e10,"Updating readme to include ECN info.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@644867 13f79535-47bb-0310-9956-ffa450edef68",16,82
39100564daa1cfcb3ccafcdef260455b0b8b473b,"Applying patch: https://issues.apache.org/activemq/browse/AMQ-1567  Thanks Dejan!


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645574 13f79535-47bb-0310-9956-ffa450edef68",217,731
dead5743f59d2341ffd46391041da845d06aa4fd,"Applied patch https://issues.apache.org/activemq/browse/AMQ-1587


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645580 13f79535-47bb-0310-9956-ffa450edef68",178,412
f66e9413a0d0cbfb8687436f70f0a8ee12faaa66,"Applying patch at https://issues.apache.org/activemq/browse/AMQ-1624 thanks Marco!


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645592 13f79535-47bb-0310-9956-ffa450edef68",1,16
1c057a5d0a451e4f784d20a0395c447c878896b8,"Fix for AMQ-1381: makes client certs work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645599 13f79535-47bb-0310-9956-ffa450edef68",1,1
836ca817ef59dae0bc787aefe05ae43908bcdb33,"Fix for AMQ-1616: we should not be throwing an exception if close() is called twice.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645601 13f79535-47bb-0310-9956-ffa450edef68",2,0
7f0583dd2c21612acce7ad60d013c2b06a6640e3,"Updated to support multiple destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645881 13f79535-47bb-0310-9956-ffa450edef68",75,199
f45ef8d319b0b689d4492463a0a1679afbe33eb2,"Merging in release changes that djencks has been doing to the 4.1 branch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645959 13f79535-47bb-0310-9956-ffa450edef68",212,65
1ad15ccac2334d4bbd02cb927d8a125f59c4668c,"Merged in rev 644519 from 4.1 branch.. porting djencks release changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645980 13f79535-47bb-0310-9956-ffa450edef68",6,243
af27811a75e394e6beaaeb96fe5e3a7ce99b7905,"Merged in the rest of djencks's release changes from the 4.1 branch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645991 13f79535-47bb-0310-9956-ffa450edef68",6311,8203
62fb85e6b9a18cd853022e10098fd6d07c9ad34a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1646

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@645999 13f79535-47bb-0310-9956-ffa450edef68",8,8
981cc9d9497cc35b971cc114cd0f8c0ed27e2aa6,"Making build work.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646001 13f79535-47bb-0310-9956-ffa450edef68",0,231
b59a865a8abe06bda017f64845a918b00323e51d,"Converted the activemq-all module to use the shade plugin the build the uber jar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646030 13f79535-47bb-0310-9956-ffa450edef68",29,38
dd2d911bc76e3b048681fb2c4a7eb2306ee9b5ef,"Included the jta stuff in the distro.. 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646053 13f79535-47bb-0310-9956-ffa450edef68",0,9
f49b62d01535446289e74680f1c7eeed37d55349,"Use the released camel 1.3.0


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646137 13f79535-47bb-0310-9956-ffa450edef68",1,1
83dd5d405791bf41148ab1887cb63aa5949c6ff9,"Updated svn:ignores


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646145 13f79535-47bb-0310-9956-ffa450edef68",0,0
3f98639235a042b2f0c0da920554ad38b02f7e3e,"updates for https://issues.apache.org/activemq/browse/AMQ-1645

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646205 13f79535-47bb-0310-9956-ffa450edef68",4,9
60ba9519143d88be99860ebf02d0491bc7106cc8,"Fix for https://issues.apache.org/activemq/browse/AMQ-1254

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646219 13f79535-47bb-0310-9956-ffa450edef68",37,34
f1b6362dedeb6f55ae344478d1666598a8b1bfee,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1511

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646245 13f79535-47bb-0310-9956-ffa450edef68",27,35
3eb06105d35901b7bc5daefb99cf9d4cd57ddc3d,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1631

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646248 13f79535-47bb-0310-9956-ffa450edef68",1,3
ed4d6f66cbc4694bf1c3a449cc8517d805eb5bae,"test for loading temp destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646251 13f79535-47bb-0310-9956-ffa450edef68",0,72
5660ebc8f22e62da08546f337916a925c60b1800,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1647

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646254 13f79535-47bb-0310-9956-ffa450edef68",9,109
5c7374bfaeeb5ad67d30599001af044087773386,"Fix for https://issues.apache.org/activemq/browse/AMQ-1578

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646258 13f79535-47bb-0310-9956-ffa450edef68",1,12
4ba485340298e4641b5353fe835046635d77e732,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1629

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646268 13f79535-47bb-0310-9956-ffa450edef68",0,14
c338d3e0e5212e0d324ec115063b1a8bfc6f6e03,"Patch applied for https://issues.apache.org/activemq/browse/AMQ-1607

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646286 13f79535-47bb-0310-9956-ffa450edef68",0,9
d77d82e33d65e6482e5ec481291748578a63e001,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1620

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646299 13f79535-47bb-0310-9956-ffa450edef68",3,7
d11480f42c5352f1a59cd2db294fcad56a515f78,"Fix for https://issues.apache.org/activemq/browse/AMQ-1650

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646332 13f79535-47bb-0310-9956-ffa450edef68",2,2
f65484408ee0303bfa7c715302ca512a8f80645c,"Applied patch AMQ-1635.  Thanks Trevor.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646333 13f79535-47bb-0310-9956-ffa450edef68",142,2
508128e3e64aeb0c09339172aabb8dbd3434980c,"updated to the latest/greatest jetty & sl4j along with patching the web console so it works again :)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646334 13f79535-47bb-0310-9956-ffa450edef68",42,83
4ac45fb3624d8cff9fe485484396934886ddf51b,"applied patch for https://issues.apache.org/activemq/browse/AMQ-1013 with thanks!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646339 13f79535-47bb-0310-9956-ffa450edef68",1,1
456c1b157b55d57ce325af6e559ed3cb72d5a312,"Applied patch from https://issues.apache.org/activemq/browse/AMQ-1640

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646340 13f79535-47bb-0310-9956-ffa450edef68",0,150
cec77fd12a05d9f20688cc61ebca80c38406d512,"Fix for https://issues.apache.org/activemq/browse/AMQ-1451

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646354 13f79535-47bb-0310-9956-ffa450edef68",3,4
60bcc521a74a8d4104ea9e4f010d6ff67758cde1,"patch applied for http://issues.apache.org/activemq/browse/AMQ-1315 with thanks - also refactored the QueueBrowseServlet to use the WebClient

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646357 13f79535-47bb-0310-9956-ffa450edef68",87,45
3ee5854e9042102c39d4c612ae20bfdaac02dfe9,"Fix for https://issues.apache.org/activemq/browse/AMQ-1487

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646363 13f79535-47bb-0310-9956-ffa450edef68",1,1
4acbd5900af4850b6b0f30e79f5f6bac29fa3dea,"Fix for https://issues.apache.org/activemq/browse/AMQ-1456

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646395 13f79535-47bb-0310-9956-ffa450edef68",0,43
50bc597fa8a90e109168b14933866d1736b776b0,"Fix for https://issues.apache.org/activemq/browse/AMQ-1651

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646400 13f79535-47bb-0310-9956-ffa450edef68",1,1
6b6cdaee344b3dae577b627aaa109655d7a72a28,"Fix for https://issues.apache.org/activemq/browse/AMQ-1488

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646401 13f79535-47bb-0310-9956-ffa450edef68",8,18
8bf9c17dd9ee51eaed6a9ef3c6affe2c7bd718bc,"Throw an exception if advisory messages are disabled when creating networks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646409 13f79535-47bb-0310-9956-ffa450edef68",0,3
aba1195cc5bb7f78a8cf896c8dcdec4369b0a3a4,"Fix for https://issues.apache.org/activemq/browse/AMQ-1623

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646422 13f79535-47bb-0310-9956-ffa450edef68",1,29
114a923779c6297c78f515b20d66e5b60f209b35,"Updated to support sendTimeouts - see https://issues.apache.org/activemq/browse/AMQ-1517

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646437 13f79535-47bb-0310-9956-ffa450edef68",15,69
510bf9b5da84e14a333c497a65b59e3ca71e7e4a,"Merged in release chagnes from 4.1... generating the run.jar as seperate module now.  And started using a
common assembly configuration for bits that are the same on both windows and unix



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646460 13f79535-47bb-0310-9956-ffa450edef68",387,293
b4c3a30b9e061868630ba19b14d88c61cd1ac44f,"Fix for https://issues.apache.org/activemq/browse/AMQ-1103

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646477 13f79535-47bb-0310-9956-ffa450edef68",0,3
d38b4f1e576f8e2940e4974dc5461792ff7c8b8d,"Better


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646531 13f79535-47bb-0310-9956-ffa450edef68",4,4
b2fd5d64560b06436fa72a689400d53d3a1e5ef4,"Fix getDestinations()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646564 13f79535-47bb-0310-9956-ffa450edef68",2,2
85ebf3616ebdf99bb60ebb573ee950c11f94b622,"updated for topics too

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646664 13f79535-47bb-0310-9956-ffa450edef68",5,42
97a646c5a888c72aca8d4eea19ae6c1d01234acb,"Correct test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646673 13f79535-47bb-0310-9956-ffa450edef68",51,7
acf453b46a7fcb03a59af99142eec8a9a7ee6be1,"Applied patch from https://issues.apache.org/activemq/browse/AMQ-1345

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646789 13f79535-47bb-0310-9956-ffa450edef68",2,0
520a2ded04cb1fcea242c760c94e5647579bce1a,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1465

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646803 13f79535-47bb-0310-9956-ffa450edef68",17,40
334c00a6a66871bb2ac24d341f7ee816d5420454,"Use the release version of activeio

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646841 13f79535-47bb-0310-9956-ffa450edef68",2,2
0e5dda068ca9345f556a01ebc0f800017ee1ba77,"move back to acquire lock before opening initializing index managers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646877 13f79535-47bb-0310-9956-ffa450edef68",2,7
dfcf776e5d357953b95081385676b41a42ac8431,"Fix for https://issues.apache.org/activemq/browse/AMQ-1656

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646880 13f79535-47bb-0310-9956-ffa450edef68",4,43
be0446fd2a5f680293c8b7f184767fad579b6a1c,"Make sure we close the lock file even if we failed to lock it.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646886 13f79535-47bb-0310-9956-ffa450edef68",3,4
507ef42e593397c5295a46fa99ca6b9d0a4e3806,"AMQ-1489 add comment on possible workaround

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646930 13f79535-47bb-0310-9956-ffa450edef68",0,5
1da24aafe167bbc8f2cc61c8db059e70e766f05c,"AMQ-1659 Fix want/needClientAuth code and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646936 13f79535-47bb-0310-9956-ffa450edef68",23,32
00c9e01ba40fd273d34394b12f768a60e7ad2bd4,"Small test to ensure Temp destinations are cleared from the destinationMap

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647172 13f79535-47bb-0310-9956-ffa450edef68",0,43
ac4caaf3f6c84e268c50c33d4b75e51fb8cade09,"Merged in djencks release changes from 4.1 branch


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647224 13f79535-47bb-0310-9956-ffa450edef68",10,10
eff53c2ebb48b82f3bfdc33ccd71f6a73eccddc5,"Resolved snapshot dependencies. 



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647247 13f79535-47bb-0310-9956-ffa450edef68",24,1
36865efd8ba2fb7c842a5e9d8bb183e6b86c2136,"added target to ignore list


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647248 13f79535-47bb-0310-9956-ffa450edef68",0,0
a4212eab6f3e4340401f7b07a840959e0c241864,"Fixing up build to be able to release


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647252 13f79535-47bb-0310-9956-ffa450edef68",2,2
42bd3c82e2e83e456e1ed9695d984bfd6dadfb3e,"[maven-release-plugin] prepare release activemq-5.1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647267 13f79535-47bb-0310-9956-ffa450edef68",562,210
0fb77544a3a7c38c62c5c0f5edb5697528b740a3,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647269 13f79535-47bb-0310-9956-ffa450edef68",27,27
ee9e607dea2aa6e99b3c17f83fc454e4c6e45414,"making the staging config a little more consistent with the site config


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647817 13f79535-47bb-0310-9956-ffa450edef68",2,2
5805fe34cf64c221beeebb43fe6a06ea1b5ce639,"the version variable is not changed by the release plugin so sue pom.version instead

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647840 13f79535-47bb-0310-9956-ffa450edef68",1,1
15b5d84ce022cbbc5c47a5ee12099bf02dc13107,"reanmed the version pom variable to activemq-version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647857 13f79535-47bb-0310-9956-ffa450edef68",26,25
5d84ead9abc3d51f65a09aff355f8f518e1e85d1,"spring cleaning

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647861 13f79535-47bb-0310-9956-ffa450edef68",8,2
bff39c565b3f0613427ce235b0533aa7b82669c4,"Test case for https://issues.apache.org/activemq/browse/AMQ-1255

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647862 13f79535-47bb-0310-9956-ffa450edef68",0,111
931ed7673d00bf890131ed284f9ce8f81b50af93,"Fix for:
https://issues.apache.org/activemq/browse/AMQ-1255


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647872 13f79535-47bb-0310-9956-ffa450edef68",45,68
08393aa269f52e346048e611cb74d5602c566768,"Added test case to trunk showing that AMQ-1438 is no longer an issue on the trunk.  



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647882 13f79535-47bb-0310-9956-ffa450edef68",0,21
45bd335a7f43719b7d0d2306bcff06358fd09a7e,"Removing the licenses and organization elements since they are provided in the parent pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647900 13f79535-47bb-0310-9956-ffa450edef68",13,0
474dc137b238b2ae818a1eec050cb096528e7e7e,"Fixing up some missing license headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647915 13f79535-47bb-0310-9956-ffa450edef68",1,289
a0a3d638b31fd7345bab801ef45063c7f1851f2c,"Fixing up some missing license headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647916 13f79535-47bb-0310-9956-ffa450edef68",2,28
86e8f3dfaf47822c873e712cda65f630125e5d45,"[maven-release-plugin] prepare release activemq-5.1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647948 13f79535-47bb-0310-9956-ffa450edef68",28,28
ffdc4176f350890e9e7983e2878137b62de3b0a3,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@647951 13f79535-47bb-0310-9956-ffa450edef68",27,27
ed91722787c2f3d353db66e86a7a8f5c0ab3b1a9,"removed synchronization around readLocation() - after verifying
its only required on  https://issues.apache.org/activemq/browse/AMQ-1650

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648117 13f79535-47bb-0310-9956-ffa450edef68",1,1
2d5c942bb2925359fbde0552daa4c543fe6c805a,"adding the CDDL


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648249 13f79535-47bb-0310-9956-ffa450edef68",0,185
ce7495ec1e613fe878ecef7f539ca0f004484269,"Avoid the ugly  'Async exception with no exception listener' message from showing up in the output when shutting down the broker.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648250 13f79535-47bb-0310-9956-ffa450edef68",2,11
552ca7b453b179b5427e3bed4d78eeb756fd9fa5,"[maven-release-plugin] prepare release activemq-5.1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648265 13f79535-47bb-0310-9956-ffa450edef68",27,27
7008fc3988a394f1cba921083e27763328aa4de3,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648267 13f79535-47bb-0310-9956-ffa450edef68",28,28
607d4f95629e4fc955802e57b1ca1901b42b7ad0,"No need to SHIFT.. shifting actually messes up the command line on options like --option=value as it split at the '=' character.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648378 13f79535-47bb-0310-9956-ffa450edef68",19,2
fd19ef6a7acf7660804311935de122cfcabda251,"setting the eol style


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648404 13f79535-47bb-0310-9956-ffa450edef68",149,149
ad69a959790f566c27fdd088b195d77aa4cbe5f9,"extra synchronization

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648708 13f79535-47bb-0310-9956-ffa450edef68",6,6
8733d172ae5eeb0ce7b3d3b961901588d717d332,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-765

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648727 13f79535-47bb-0310-9956-ffa450edef68",629,620
c3d3eab863e3462fb86c7ad2d7cd44e18416d10a,"upgrade to xbean 3.3


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648836 13f79535-47bb-0310-9956-ffa450edef68",2,6
5afe81ae4c40032b10185e818ce2f84f6de5bce1,"tidied imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648884 13f79535-47bb-0310-9956-ffa450edef68",2,0
9034af7cf40820c73634c654b0400c33edb3d7d3,"Fix for https://issues.apache.org/activemq/browse/AMQ-1669

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@648887 13f79535-47bb-0310-9956-ffa450edef68",3,3
09d7d5a9e11bf8a8346570b3b020dc8043a52cfe,"Apply patch from https://issues.apache.org/activemq/browse/AMQ-1665

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649187 13f79535-47bb-0310-9956-ffa450edef68",6,132
481ce1ca96426471298f94ae3cf7c402ee77d42a,"make sure we delete the db before running a test


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649189 13f79535-47bb-0310-9956-ffa450edef68",1,2
18aa1596a23204ee633ace18b63e8d2323c389b1,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1666

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649191 13f79535-47bb-0310-9956-ffa450edef68",0,1
6707ac60ccf85e51f33cb4f614ce72cec5930ba2,"Apply patch from https://issues.apache.org/activemq/browse/AMQ-1664

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649192 13f79535-47bb-0310-9956-ffa450edef68",0,744
5d99c99ab72fb500d66e07fe346dfd64ce7460ac,"Fix for https://issues.apache.org/activemq/browse/AMQ-1670 you should now able able to add transports before configuring the reset of 
the broker properties.  Also slightly changed the TransportFactory interface so that you are not forced to supply a brokerId to bind
a transport.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649211 13f79535-47bb-0310-9956-ffa450edef68",123,117
622df542359b2e0b33d6ef428c971e4ac82720a8,"Missed this file with my last commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649216 13f79535-47bb-0310-9956-ffa450edef68",1,1
f02b352aaaab79c95115f517a17134abb7406cae,"Disabling the xbean mapping from the build and including it's current generated stuff in the soruce.. it was producing invalid xsds

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649231 13f79535-47bb-0310-9956-ffa450edef68",0,10027
9e3bb2fbaa366c14937863933fe4deb2476a4280,"Fixing up the xsd

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649243 13f79535-47bb-0310-9956-ffa450edef68",12,12
efef86d392a9ab321251b5d3da3f64b51698e79f,"Fixed the problems with the xsd and updated the distributed activemq.xml files so that they validate against it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649273 13f79535-47bb-0310-9956-ffa450edef68",194,198
e413887ee0aaa7c9e317387206bdc887f76cad2d,"Fixing build.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649527 13f79535-47bb-0310-9956-ffa450edef68",3,3
4a5454c39bd1790bbec745d73f604066d8e45b00,"Make the default config a little more consistent.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649544 13f79535-47bb-0310-9956-ffa450edef68",2,2
ce9255979b0e7c13ed325afc0354a5e39040d5d8,"update percentUsage correctly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649551 13f79535-47bb-0310-9956-ffa450edef68",3,3
c275d4c3ac06dc2dfbf9213d787c8ae2d10e5fed,"AMQ-1673: Namespace updated.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649568 13f79535-47bb-0310-9956-ffa450edef68",110,110
61c8093258a2af830f3222d6d87857845a1d9501,"AMQ-1673



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649569 13f79535-47bb-0310-9956-ffa450edef68",4,3
4c125db790147f29aca713719ffe9736ed8338b1,"Addin xbean mapping for new namespace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649577 13f79535-47bb-0310-9956-ffa450edef68",0,248
0326ab7d449d55550edb0f15c56fca029526a45f,"loosen synchronization around parameter setting - to reduce contention

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649579 13f79535-47bb-0310-9956-ffa450edef68",15,15
19c9bc5a2fd62edfa8d5c6ce50f2416ff7646b9c,"adding lic headers


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649580 13f79535-47bb-0310-9956-ffa450edef68",0,32
618380f66eb98814864c9367243a010d6d44be13,"Updating the xsd location..


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649594 13f79535-47bb-0310-9956-ffa450edef68",11,9
27b5885338435dc10bace31aeab184ba86969359,"Add lic headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649602 13f79535-47bb-0310-9956-ffa450edef68",0,32
b544fc0817e99ee2e13b63c8f72b1dda36d2132e,"Add back setBrokerName()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649617 13f79535-47bb-0310-9956-ffa450edef68",0,8
7fed5d871f2fdf68fe71e3bc1a20c47f16d2dacf,"Added some additional comments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649623 13f79535-47bb-0310-9956-ffa450edef68",0,7
54a93378acfcd949d723b74a22f19fb080974e4f,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1674

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649643 13f79535-47bb-0310-9956-ffa450edef68",2,1
c382b5048d6780bb0a2642ad9fdadc840b933a90,"Bad logic was not propagating the transport exception up.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649658 13f79535-47bb-0310-9956-ffa450edef68",3,3
0c8afd13fb97ed540f75ad0acec6c4c75094b7b7,"Fixing test case that broke


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649663 13f79535-47bb-0310-9956-ffa450edef68",1,1
e4ee0b24409fe64e2eb3d7273ffcb49d95ddd036,"When sending directly, do it outside the valve lock to avoid a deadlock

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649708 13f79535-47bb-0310-9956-ffa450edef68",5,10
4a6699e33b9e61ade31931c81a685ca12c72cc89,"tidied imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@649713 13f79535-47bb-0310-9956-ffa450edef68",4,0
16f2d753e8f96c35910971c5994c9f84778f63ba,"Fix for https://issues.apache.org/activemq/browse/AMQ-1672

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650143 13f79535-47bb-0310-9956-ffa450edef68",82,113
35635f925d75a78552a8e05fe3f6d0751d565952,"Fix for https://issues.apache.org/activemq/browse/AMQ-1667

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650386 13f79535-47bb-0310-9956-ffa450edef68",18,5
ad2465ace8212deccb34f5b47cd0fb7ebfa3debc,"removed unused import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650387 13f79535-47bb-0310-9956-ffa450edef68",3,0
464402cd0e319f030595a1d206864d22d1f1d183,"Applied patch from https://issues.apache.org/activemq/browse/AMQ-1200

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650392 13f79535-47bb-0310-9956-ffa450edef68",16,93
62aba75153724928bb27fd1515cd9d8e905dc58c,"Fixing osgi export


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650578 13f79535-47bb-0310-9956-ffa450edef68",1,1
ad25a169dd451af8d21fa16fd7a15c7547efd80b,"[maven-release-plugin] prepare release activemq-5.1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650586 13f79535-47bb-0310-9956-ffa450edef68",28,28
4f0c10539522c2d8059a435b9a0681940eedc775,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650588 13f79535-47bb-0310-9956-ffa450edef68",27,27
6aa07facebb5dbdfdfb9f8638b3a1daf88ab32e1,"Fix the build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650626 13f79535-47bb-0310-9956-ffa450edef68",1,1
18f97733267bc32ec18b5038ca618363daf2f4c2,"Fixes for https://issues.apache.org/activemq/browse/AMQ-1678


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650763 13f79535-47bb-0310-9956-ffa450edef68",36,39
620b657216d73490b00d3fa2dfb69ce7edbb11d7,"Fix for https://issues.apache.org/activemq/browse/AMQ-1654

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650766 13f79535-47bb-0310-9956-ffa450edef68",17,29
80a978807f150e24f0f8031bc0f0c2c0451debd6,"Disable the command agent by default for now cause it tends to spew out errors when the broker is shutdown.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650859 13f79535-47bb-0310-9956-ffa450edef68",1,3
349d7e1e81c601cf1942c9aa7f4181c6d0cafc09,"Fixing ver for next release attempt

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650863 13f79535-47bb-0310-9956-ffa450edef68",1,1
ad089f5e469b35a5f67656083394ef1eeb7290c3,"[maven-release-plugin] prepare release activemq-5.1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650871 13f79535-47bb-0310-9956-ffa450edef68",28,28
147021394ab4996cfc059136121c85a65fef690e,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650873 13f79535-47bb-0310-9956-ffa450edef68",27,27
e9b1cd52829ef05306a95bf8154646b264fb34e3,"Fixing up pom after the release


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650893 13f79535-47bb-0310-9956-ffa450edef68",1,1
cbb290c0b39fa5d56aab74c0a2245f157875212c,"updated some defaults

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650930 13f79535-47bb-0310-9956-ffa450edef68",15,12
347f8eca1bc691326f80e456910e3c29cd0248b6,"synchronize the asyncWrite method. To avoid the following reported stack trace:

Running org.apache.activemq.broker.region.cursors.CursorDurableTest
Exception in thread ""Persistence Adaptor Task"" java.lang.NullPointerException
        at org.apache.activemq.store.amq.AMQMessageStore$4.execute(AMQMessageStore.java:381)
        at org.apache.activemq.util.TransactionTemplate.run(TransactionTemplate.java:44)
        at org.apache.activemq.store.amq.AMQMessageStore.doAsyncWrite(AMQMessageStore.java:374)
        at org.apache.activemq.store.amq.AMQMessageStore.asyncWrite(AMQMessageStore.java:341)
        at org.apache.activemq.store.amq.AMQMessageStore$1.iterate(AMQMessageStore.java:95)
        at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)
        at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)
        at java.lang.Thread.run(Thread.java:595)
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 303.672 sec <<< FAILURE!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@650956 13f79535-47bb-0310-9956-ffa450edef68",1,1
d3ebc9cd212b4048e4875ccbcd08bef29d414463,"Fix for https://issues.apache.org/activemq/browse/AMQ-1683

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651242 13f79535-47bb-0310-9956-ffa450edef68",47,81
cd1b1d661dd5676ea5be18fa8d8f9ae63b5ed558,"AMQ-1685 Made the activemq-admin scripts identical to the activemq ones except the start arg is not passed along.  This should make them behave the same way.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651288 13f79535-47bb-0310-9956-ffa450edef68",35,50
4e6a637896054c29c92d443b370796f82c62bb78,"using SHIFT hacnges the way args are passed on so just use %* instead


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651289 13f79535-47bb-0310-9956-ffa450edef68",31,2
44e0eaf1f4de3e020cb07ae20317f8bd8ea3c65f,"Fix for http://issues.apache.org/activemq/browse/AMQ-1681
 - Avoid logging object leak when temp destination are created and destroyed.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651300 13f79535-47bb-0310-9956-ffa450edef68",21,19
d8be50b617914487f3f84eeae2201ad684f1a7a4,"Applied patch from AMQ-1686 thanks Gary

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651316 13f79535-47bb-0310-9956-ffa450edef68",15,74
e54a1261d53b078345852354bfed983c8abd0985,"Fix for https://issues.apache.org/activemq/browse/AMQ-1098
Use of https transport throws ClassCastException


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651320 13f79535-47bb-0310-9956-ffa450edef68",1,35
803abe48a43f79c594e398f9b41e9457811275a9,"Apply patch for http://issues.apache.org/activemq/browse/AMQ-1690

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651618 13f79535-47bb-0310-9956-ffa450edef68",5,5
8bf2d78cb2e6eb9b544ab2c9b104e8ce681b1483,"start consumers/producers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651619 13f79535-47bb-0310-9956-ffa450edef68",12,8
be47d0b39220bf7fcf75dc5dd1557a33ba34655f,"applying a modified version of that patch attached to https://issues.apache.org/activemq/browse/AMQ-1689
 - This reduces the the number of disk syncs that the broker does on some workloads which increases performance
 - Fixed and issue where the last write to disk migh get lost on broker shutdown.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651637 13f79535-47bb-0310-9956-ffa450edef68",32,551
d5634894f57a306c2e83ffbe8ca4ef48b9f40149,"Fixing source ver problems

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651663 13f79535-47bb-0310-9956-ffa450edef68",2,2
e57b6462619166d849348220ec155969ac120c75,"Don't test in the full profile

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@651666 13f79535-47bb-0310-9956-ffa450edef68",0,8
c65a66fe3e7fe82db0b29f0b679cef6bc0765dde,"AMQ-1677. Spring dependencies.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652107 13f79535-47bb-0310-9956-ffa450edef68",57,32
aa62069349e7a38fb0f07d935c9130c099f6a958,"Fix for AMQ-1696

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652111 13f79535-47bb-0310-9956-ffa450edef68",4,20
22c63e65c782b9a95f1ed35e38f7b767fedcfdca,"Fix for AMQ-1691 and AMQ-1694

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652121 13f79535-47bb-0310-9956-ffa450edef68",0,677
29b07eae4987faa73c62e7f467c6a76935e628e4,"make naming convention more consistent so it shows processor platform

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652123 13f79535-47bb-0310-9956-ffa450edef68",0,0
453d2a25f5efc8cd3e9981653d1376b4ad2fbb9d,"Fix for AMQ-1691 and AMQ-1694

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652159 13f79535-47bb-0310-9956-ffa450edef68",3,3
c4aae53139eac94affc7f13fbbda628dbb8012ca,"Fix typos in tests.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652181 13f79535-47bb-0310-9956-ffa450edef68",5,5
9341f1644234ef233d6762a91b7a298c361ec619,"Fix for https://issues.apache.org/activemq/browse/AMQ-1701

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652300 13f79535-47bb-0310-9956-ffa450edef68",2,2
b35bc797ecef9232235031478b13c72fb5345c24,"Fix for https://issues.apache.org/activemq/browse/AMQ-1702

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652302 13f79535-47bb-0310-9956-ffa450edef68",5,14
7a238556e38924e679e3fa25dbc7857b040e056a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1698

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652303 13f79535-47bb-0310-9956-ffa450edef68",2,2
a61e5bce1761f7f36eccaecce878e275186e0fac,"Fix for https://issues.apache.org/activemq/browse/AMQ-1509

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652305 13f79535-47bb-0310-9956-ffa450edef68",4,1
101a3e453aa299d257ceea18c405e41cc1e29585,"Removed timing dependent asserts in test that could cause intermittent failures.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652368 13f79535-47bb-0310-9956-ffa450edef68",12,9
87dee22068a77bf4ae82965e1749338423e800ca,"Make the test work on AIX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652392 13f79535-47bb-0310-9956-ffa450edef68",1,2
a3fb0301f923adbd7a526463f88aa0abf823e165,"Fixing test - it has some bad timing assumptions.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652413 13f79535-47bb-0310-9956-ffa450edef68",24,6
824831420429f814491cd198f56e00506dec0bff,"Fix for https://issues.apache.org/activemq/browse/AMQ-1542

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652437 13f79535-47bb-0310-9956-ffa450edef68",5,9
5a27904d1d3279667254f4c51cd52489d29e2bc4,"Fix for https://issues.apache.org/activemq/browse/AMQ-1705

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652438 13f79535-47bb-0310-9956-ffa450edef68",2,7
290f51a1eb3ad92b8d3413f07a7f27856d05980a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1699

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652440 13f79535-47bb-0310-9956-ffa450edef68",0,1
7f073eb532dffca6a3ab82376df1f754eaaad1dc,"[maven-release-plugin] prepare release activemq-5.1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652510 13f79535-47bb-0310-9956-ffa450edef68",28,28
faaccf3391d0d8a18285aa48e20527e746ce292a,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652512 13f79535-47bb-0310-9956-ffa450edef68",27,27
935ab765aca7d625bebf1981435a1da5f1622f28,"fix build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652549 13f79535-47bb-0310-9956-ffa450edef68",1,1
4512f27fdd16bd04a75a4b0a73d788246169b440,"Fix threading issue which was causing a memory leak. Basically the writes were getting added to the in flight map
after they were enqueued to get written and in that time span they could be been processed and the remove() would occur before the add witch caused the leak.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652562 13f79535-47bb-0310-9956-ffa450edef68",3,4
54eb93e124c970733a08606a1e7c0bdc72f3145f,"Fix for AMQ-1707

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652598 13f79535-47bb-0310-9956-ffa450edef68",114,131
1f1be5215f47755d3b080bee9bcc8b6e0ba19a77,"Including addtional spring bits in the assembly needed to get the default activemq configuration to boot up.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652601 13f79535-47bb-0310-9956-ffa450edef68",2,31
4e1c52bb277523de3263548a041f12e0bd34e0e0,"[maven-release-plugin] prepare release activemq-5.1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652611 13f79535-47bb-0310-9956-ffa450edef68",28,28
2dc9fa98a8f2a59fbc388ba02e188802b704bb5b,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652613 13f79535-47bb-0310-9956-ffa450edef68",27,27
ac4d7504e10050ab3fd8731be9017ff0e982b532,"fixing up version after release attempt

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652616 13f79535-47bb-0310-9956-ffa450edef68",1,1
2532f5c4f102e74117ac03171a44f957d4301895,"Switched to 1.4-SNAPSHOT of camel to fix SetHeaderTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@652820 13f79535-47bb-0310-9956-ffa450edef68",4,3
2eefd150f07d59df467b32b7e50892774fcb763b,"added refactor to make it easier to create endpoint instances from a spring.xml with minimal constructors for https://issues.apache.org/activemq/browse/CAMEL-505

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@655516 13f79535-47bb-0310-9956-ffa450edef68",1,6
56b6d3174add0cea9d3bb2548b950a74b027de4a,"putting test-jars in the test scope.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@655610 13f79535-47bb-0310-9956-ffa450edef68",0,2
b4f65bafaca8e8013c417355a3c470ed2f997ee7,"Fix for https://issues.apache.org/activemq/browse/AMQ-1720
added the ability to get a callback when the broker is shutdown.  Also added an option to System.exit when the broker is shutdown.




git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@655639 13f79535-47bb-0310-9956-ffa450edef68",12,109
2e137fb125c1f34f75d4dd2b094f2158e2c32b47,"Apply patch for http://issues.apache.org/activemq/browse/AMQ-1714

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@655805 13f79535-47bb-0310-9956-ffa450edef68",36,351
139a220ee73b201517c2212d8e7a7ead48526fb1,"fix for AMQ-1724

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656319 13f79535-47bb-0310-9956-ffa450edef68",6,544
43b0a34cdc14a9a5d5c9188624631487c12f040c,"Fix for https://issues.apache.org/activemq/browse/AMQ-1728


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656343 13f79535-47bb-0310-9956-ffa450edef68",1,1
c2a5b54c6d752ec47922eb35075b8d12c23b6cb4,"Grow the HashIndex bins as required

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656378 13f79535-47bb-0310-9956-ffa450edef68",4,149
f12c10080569fed80f2dbe8e771e719e7a355b14,"Add an optional initial delay for the consumer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656379 13f79535-47bb-0310-9956-ffa450edef68",3,30
15709c56733b84286745c767b732f5515af79ea6,"Expose load factor for HashIndex in Kaha

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656574 13f79535-47bb-0310-9956-ffa450edef68",31,74
a4b71575135925bf831ec0927c6710300191683d,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1727

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656582 13f79535-47bb-0310-9956-ffa450edef68",1,1
2aa661d724572f70ba91fc76c7af7c1ed836552b,"Fix for http://issues.apache.org/activemq/browse/AMQ-1709

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656601 13f79535-47bb-0310-9956-ffa450edef68",2,2
0ad7681545bb5e954805e21602e2a209bded7da8,"Adding the ssl context to the old config too



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656648 13f79535-47bb-0310-9956-ffa450edef68",0,2
049ce286c74a8049e35e6c8393eeaba28c5db7e7,"Fix for http://issues.apache.org/activemq/browse/AMQ-1542


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656679 13f79535-47bb-0310-9956-ffa450edef68",0,1
8b33c1c640b9132c7269c377d355221180444da0,"Fix for http://issues.apache.org/activemq/browse/AMQ-1661

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656688 13f79535-47bb-0310-9956-ffa450edef68",4,3
6dc8cd034b212b314261779c93b473e7d58e9073,"The test-jars are not compile time dependencies.. Fixing this avoids the test classes getting included in the activemq-all jar.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656697 13f79535-47bb-0310-9956-ffa450edef68",2,0
2076f452e72d7d4b9be6992ead61f2383896c24e,"Fix for https://issues.apache.org/activemq/browse/AMQ-1732

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@656980 13f79535-47bb-0310-9956-ffa450edef68",4,17
b609bdb95b23e658b2704425f0f6319db56ac962,"AMQ-1733: Add an option to allow the xbean broker to destroy the spring application context when the broker is stopped

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@657059 13f79535-47bb-0310-9956-ffa450edef68",0,31
cdd4efabaf38c7727e42ae7e2127633d4dd1b13c,"patch for https://issues.apache.org/activemq/browse/AMQ-1661

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@657147 13f79535-47bb-0310-9956-ffa450edef68",3,21
4ddb3e3f6c3f15229ae75058a84cc461f452b901,"tidy up for https://issues.apache.org/activemq/browse/AMQ-1732

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@657155 13f79535-47bb-0310-9956-ffa450edef68",9,18
412923da516054b9571a1c4bb670e34d2faa397d,"Fix for https://issues.apache.org/activemq/browse/AMQ-1736

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@657193 13f79535-47bb-0310-9956-ffa450edef68",6,9
ca36136639d22eb78d478f99212c8af14fd6d8b0,"For https://issues.apache.org/activemq/browse/AMQ-1736

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@657734 13f79535-47bb-0310-9956-ffa450edef68",11,8
ab3b155ff6591d75ec577c0ad0c6d28e9890c6e4,"more for https://issues.apache.org/activemq/browse/AMQ-1736


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@657817 13f79535-47bb-0310-9956-ffa450edef68",3,179
b9797bc618f127503bc530dde44a4d54b367ced5,"making the journal broker aware so that it can pass on the broker service config to the long term persistence
adapter if it is also broker aware.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@657904 13f79535-47bb-0310-9956-ffa450edef68",1,10
90c8ded77131dd848eac5290e966962fbe5c30ed,"Fix for https://issues.apache.org/activemq/browse/AMQ-1717

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658127 13f79535-47bb-0310-9956-ffa450edef68",0,10
d8b5d5c4cd6b695b6e28e56fe18909c3a12a865e,"Fix for https://issues.apache.org/activemq/browse/AMQ-1735

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658154 13f79535-47bb-0310-9956-ffa450edef68",8,52
926ce535e5639dcb3c054349450397868f9e2c85,"added userName/password properties for easier configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658266 13f79535-47bb-0310-9956-ffa450edef68",0,8
ff46232797ee38d248c64e69a5122d3ae68e3703,"Fix for: https://issues.apache.org/activemq/browse/AMQ-1738
Messages stuck in a queue don't get dispatch (happens when consumers close out)


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658370 13f79535-47bb-0310-9956-ffa450edef68",0,5
b6167482e5923cba15b93418a82ff50c578f54f3,"add support for username/password properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658393 13f79535-47bb-0310-9956-ffa450edef68",0,56
157d630da493adae1d488cfba3dca568e91fd3fc,"Make socket close async optional - for 
https://issues.apache.org/activemq/browse/AMQ-1739

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658637 13f79535-47bb-0310-9956-ffa450edef68",14,141
cf03717eb7e02a2b7b00a2599dedb43b24e48d94,"use ActiveMQConnectionFactory.DEFAULT_BROKER_BIND_URL

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658692 13f79535-47bb-0310-9956-ffa450edef68",1,1
5a368cacd690a271fe869a7e31c5500c8c0c500b,"remove shutdownInput() call in doStop()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658700 13f79535-47bb-0310-9956-ffa450edef68",2,0
b135f8abad849297ed8103eb62921722227f55b2,"When jencks shuts down an endpoint, it rolls back the last action done on it.. Was causing weird errors to show 
up on the broker cause the message had already been commited.  We now handle an RA commit followed by a rollback for
this case (basicaly we ignore the rollback).



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658724 13f79535-47bb-0310-9956-ffa450edef68",0,4
349466b36490c2b334cce900e0ed5bc8a9dc2e7b,"Fix issues where the message's regionDestination was not matching up with the actual region destination it was being deliver from

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658776 13f79535-47bb-0310-9956-ffa450edef68",2,2
edb21db5ec0264c203c01d5380fcd0d2ebc2b32d,"Opps fixing last commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@658817 13f79535-47bb-0310-9956-ffa450edef68",2,2
0446404c4746362be3f59dbfd94156a0db1c2edc,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1742

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@659082 13f79535-47bb-0310-9956-ffa450edef68",19,127
cdc2fd3d6d99dca3d1547a116205bdadc20f11ac,"Fix for:
https://issues.apache.org/activemq/browse/AMQ-1704
https://issues.apache.org/activemq/browse/AMQ-1679
https://issues.apache.org/activemq/browse/AMQ-609

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@659203 13f79535-47bb-0310-9956-ffa450edef68",377,1182
87403404d25d028437b21f7033b7dd28aa1a9c25,"removed unused import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@659204 13f79535-47bb-0310-9956-ffa450edef68",2,0
1f9e67f2b78ce4abd9ea55f94bc34693cae75286,"set the memoryUsageHighWaterMark to 70 by default


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@659527 13f79535-47bb-0310-9956-ffa450edef68",3,1
041b1b8ad5c8d40c375000e0f3d67b6220269127,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1747

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@660517 13f79535-47bb-0310-9956-ffa450edef68",0,34
8ab5f452168af185f5f31dd3ab49f37d3a3ceb55,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1748

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@660555 13f79535-47bb-0310-9956-ffa450edef68",135,255
7d87837e08fbcfa59833e3042c7db31402423207,"Added test case provided by Gary for http://issues.apache.org/activemq/browse/AMQ-1749
And changed the way SSL is setup so that it passes that test case.  Keep the SslContext in 
a ThreadLocal that is passed around to avoid setting it on a static field wich would
get mixed up between brokers.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@660591 13f79535-47bb-0310-9956-ffa450edef68",71,329
92604947a57558b080962d1b3581cc4bfc506a35,"Fix for https://issues.apache.org/activemq/browse/AMQ-1752

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@660906 13f79535-47bb-0310-9956-ffa450edef68",27,62
ec80f286d270eb11c840507de0cd9e5f77c63f1d,"Fixed camel test the broker when the CamelTemplate moved packages.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@660960 13f79535-47bb-0310-9956-ffa450edef68",7,8
4ee029ef4e708090eeaaa7d63ac14d1bc274fcc9,"Fix for https://issues.apache.org/activemq/browse/AMQ-1541

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@660977 13f79535-47bb-0310-9956-ffa450edef68",35,72
a2033b38177d86af077b97579f3fb869088a8bd3,"Made the discovery based tests use dynacmic groups so that if multiple builds of ActiveMQ are being run in the same network, they don't conflict with each other.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661094 13f79535-47bb-0310-9956-ffa450edef68",564,539
b3ee59d7a106105ac3aff62a72921f9f740b7999,"Reverting recent chagnes to openwire v3 marshallers that snuck in with my last commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661104 13f79535-47bb-0310-9956-ffa450edef68",489,534
4dde3239ffc54f726e5f8b2fe01fa6fd50126f0a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1755


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661224 13f79535-47bb-0310-9956-ffa450edef68",11,220
0f1ef01d1be02d36cd5b5cec820a88c244990955,"Fix for https://issues.apache.org/activemq/browse/AMQ-1748

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661295 13f79535-47bb-0310-9956-ffa450edef68",255,138
8573072a6f777c43b3b09a2afbb6c0d1348bc392,"Fixed PublishOnTopicConsumerMessageUsingActivemqXMLTest case that started failing due to the recently added chagne to the journal persistence adapter which did a:
 this.usageManager.getMemoryUsage().addUsageListener(this); on start.  Basically we now don't start the persistence layer until the broker is started (was happening
when the broker was created).



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661402 13f79535-47bb-0310-9956-ffa450edef68",7,10
b6dc8eeba7279468da49a5779bbb477bec5c0f41,"Fixing test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661432 13f79535-47bb-0310-9956-ffa450edef68",1,1
fd184fb79a9fde8ce6b0e55d62d855750a1daab0,"Provide better error messages when directories cannot be created.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661435 13f79535-47bb-0310-9956-ffa450edef68",24,39
2b3b7f565c3da51e020faa0e50fc31750504dcaa,"Fixed the TopicClusterTest test case.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661438 13f79535-47bb-0310-9956-ffa450edef68",2,3
1973ca8f3edf83ca356496f5c4f197a1d7e1be05,"Fix the failing QueueMasterSlaveTestUsingSharedFileTest test.. due to chang in startup order of the persistence adapter.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661439 13f79535-47bb-0310-9956-ffa450edef68",13,16
6cc18cac5a2e0cf5d13ca4d58a1586a0eb89fc64,"Putting back setting the broker service on transport factories that implement BrokerServiceAware.  Removing that had broken the StompTest.
It's a little dirty cause it can cause issues if 2 brokers are created in 1 jvm.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661466 13f79535-47bb-0310-9956-ffa450edef68",0,4
db4f602e8ce2fa85242e2737354252de882bc803,"Further tidying up for https://issues.apache.org/activemq/browse/AMQ-1704

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661661 13f79535-47bb-0310-9956-ffa450edef68",19,32
4ecc89eca04546bcbdb1fdd72110fdf7c7c2b6a6,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1758

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661663 13f79535-47bb-0310-9956-ffa450edef68",10,10
76207f168e9fd9ba938904a9c00635cf255c32a2,"Fix broken test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661683 13f79535-47bb-0310-9956-ffa450edef68",0,1
0d55a80a433eaf822cbd7dabcab1eb98be4e20b0,"remove unused import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661684 13f79535-47bb-0310-9956-ffa450edef68",4,0
47ea0980f07ba1e902cb8c6effe4b82689f3a402,"Fixed test.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@661719 13f79535-47bb-0310-9956-ffa450edef68",2,3
2ccbdefc69237aba29da954ab8c981b3a0b39e7e,"Fix for https://issues.apache.org/activemq/browse/AMQ-1766

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663032 13f79535-47bb-0310-9956-ffa450edef68",7,28
5cd2921c4e7272b925c02cb2082198a1e6c462f7,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1761

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663048 13f79535-47bb-0310-9956-ffa450edef68",4,32
21568866ad40369d8e1848899bd4f01e7a6c1125,"Fix for https://issues.apache.org/activemq/browse/AMQ-1756

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663052 13f79535-47bb-0310-9956-ffa450edef68",1,1
0acf54586f1a1da34ab97bee94858f2c0c444984,"Fix for https://issues.apache.org/activemq/browse/AMQ-1760

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663059 13f79535-47bb-0310-9956-ffa450edef68",12,109
3224ff8a0a238a2fd4d4e64c23146dafaa24bce2,"make sure that the task runner is the first thing setup since other startup bits might want to do an async send.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663178 13f79535-47bb-0310-9956-ffa450edef68",2,1
55409bdea045058ca79d9a26813644bad46cf067,"Fix for https://issues.apache.org/activemq/browse/AMQ-1772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663604 13f79535-47bb-0310-9956-ffa450edef68",0,5
3103fa99697900457cd186c0d0f73ccc55f62047,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1770

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663639 13f79535-47bb-0310-9956-ffa450edef68",0,1
c5e1eae2e36f86f9eb6f773c0628880543a1a261,"Fix for https://issues.apache.org/activemq/browse/AMQ-1773

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663642 13f79535-47bb-0310-9956-ffa450edef68",1,1
aee5d25e415a3b1a2615551fa4ad254b00b634fd,"Fix for https://issues.apache.org/activemq/browse/AMQ-1774

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663644 13f79535-47bb-0310-9956-ffa450edef68",0,1
f7fa2bc58da06a71d314490f462e17de96e6e14d,"Fix for https://issues.apache.org/activemq/browse/AMQ-1771

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663680 13f79535-47bb-0310-9956-ffa450edef68",1,18
e40e2ac67ac82276b53f1dc288c549055b801f29,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1768

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663689 13f79535-47bb-0310-9956-ffa450edef68",13,24
60d4d48fbf3f10a478c13f7433783934194d659b,"Further change for https://issues.apache.org/activemq/browse/AMQ-1771

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663691 13f79535-47bb-0310-9956-ffa450edef68",5,6
efecce6f6ead11b78c1be6aa1567f5886125f495,"Fix for https://issues.apache.org/activemq/browse/AMQ-1712

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@663980 13f79535-47bb-0310-9956-ffa450edef68",3,7
944145b19196da884fb2b28ed5d998e920261117,"patch for https://issues.apache.org/activemq/browse/AMQ-1779

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@664079 13f79535-47bb-0310-9956-ffa450edef68",1,1
58e5b9acce165102bb57aa17e9e92fcb61198158,"patch for https://issues.apache.org/activemq/browse/AMQ-1779

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@664082 13f79535-47bb-0310-9956-ffa450edef68",98,159
32364744ee314814ed2c5de55fc9d9f6765bf240,"Fix for https://issues.apache.org/activemq/browse/AMQ-1788

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666607 13f79535-47bb-0310-9956-ffa450edef68",1,6
4b27e761c732bb545df6fd4c62a64970ac5fbe1e,"Fix for https://issues.apache.org/activemq/browse/AMQ-1790

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666617 13f79535-47bb-0310-9956-ffa450edef68",2,8
6453ebbd1243ee5a536317a10643acbc7896235c,"Don't setup an SssContext by default, so that system properties can be used to configure the ssl settings.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666646 13f79535-47bb-0310-9956-ffa450edef68",1,1
e897b8968d936399d5b95fb7bf36db9ffafd4e9f,"Use the new SslContext config element to configure ssl instead of the system properties.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666655 13f79535-47bb-0310-9956-ffa450edef68",12,4
1dc4b25c82bf860cffcff7936f3723926eed2c06,"camel backward compt was restored.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666657 13f79535-47bb-0310-9956-ffa450edef68",4,4
1e7776ebd2c02537c98b905b3d87163cac5a7c31,"Fixing the ssl context config


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666658 13f79535-47bb-0310-9956-ffa450edef68",1,1
9d12bdd73c3079b09a6bec728eaeb53521d5c77e,"ActiveMQ was not starting up cause the jaxb api was not getting included in the final distro.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666673 13f79535-47bb-0310-9956-ffa450edef68",3,3
0dec0b6b0c20a1c26057f15bec86e6ac96421cf4,"Add the jmx user name / password authentication and the ability to use the local mbean server instead of a remote one

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666793 13f79535-47bb-0310-9956-ffa450edef68",192,203
6db9a37d2f103a35c14e595bf27d00c83af5ef1d,"Fix for https://issues.apache.org/activemq/browse/AMQ-1777

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666887 13f79535-47bb-0310-9956-ffa450edef68",29,12
4a052d20b123227a347ba3538a0a8955e4c73f36,"Fix for https://issues.apache.org/activemq/browse/AMQ-1771


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@666893 13f79535-47bb-0310-9956-ffa450edef68",5,11
6f69f1914a9bbc0ed0135ca1fb2f8736d7106182,"Patch applied for https://issues.apache.org/activemq/browse/AMQ-1795

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@667105 13f79535-47bb-0310-9956-ffa450edef68",364,716
996e1eb2c079ad1cd5e0468d5dfd56baf8de7569,"change stdout

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@667122 13f79535-47bb-0310-9956-ffa450edef68",1,1
35706757e21ee5682172f610a7cbbc193087945e,"remove System.err.println

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@667123 13f79535-47bb-0310-9956-ffa450edef68",1,0
2e4c688cdc6d2889ab2f63f16151e2c0560213c1,"Fix for https://issues.apache.org/activemq/browse/AMQ-1797

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@667752 13f79535-47bb-0310-9956-ffa450edef68",7,10
086db1b4c62e1ed5433b257fc098a354a5719226,"Fix for https://issues.apache.org/activemq/browse/AMQ-1797

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@667756 13f79535-47bb-0310-9956-ffa450edef68",4,2
54417748830c84bf2a4d6eae6bb3ea0e2265f7ee,"Fix for https://issues.apache.org/activemq/browse/AMQ-1799

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@668061 13f79535-47bb-0310-9956-ffa450edef68",3,6
0d8586903a689041c3a4b94b64df07ae0115e834,"Fix for https://issues.apache.org/activemq/browse/AMQ-1796

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@668146 13f79535-47bb-0310-9956-ffa450edef68",58,110
702e2a0170e12ebf9e5b65418ac1ac7cc49c22ce,"AMQ-1801: Extract camel component in its own module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@668217 13f79535-47bb-0310-9956-ffa450edef68",21,218
2e57fb5fd9eca644a00604e3d0441cb82261478a,"AMQ-1802: extract activemq pool in its own module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@668559 13f79535-47bb-0310-9956-ffa450edef68",87,699
604ebd14eb7a61ffe1016fc7a4ca7407fc26bd41,"Add camel-pool dependency on activemq-camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@668635 13f79535-47bb-0310-9956-ffa450edef68",0,5
b52624e66bd10f36cd4502077f7e281bbafbca44,"Apply patch from https://issues.apache.org/activemq/browse/AMQ-1808

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669263 13f79535-47bb-0310-9956-ffa450edef68",12,20
8d4001ad0be6bc8c26af4ea5ad5557b2f36212a4,"Further patch for https://issues.apache.org/activemq/browse/AMQ-1795

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669265 13f79535-47bb-0310-9956-ffa450edef68",2,3
73edcbc2e9e2cd46f61bfadd057cd650b1129e4e,"Fix for https://issues.apache.org/activemq/browse/AMQ-1811

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669491 13f79535-47bb-0310-9956-ffa450edef68",2,5
6dc8e1d6fad0074a893adad1b1e1ef0eb9085a8e,"Apply fix for https://issues.apache.org/activemq/browse/AMQ-1810

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669510 13f79535-47bb-0310-9956-ffa450edef68",2,20
e38da226ef41e31d363102c744c351b540098856,"apply fix for https://issues.apache.org/activemq/browse/AMQ-1810

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669511 13f79535-47bb-0310-9956-ffa450edef68",0,7
1555260c6c8109cdc0a36a09e69019ffcaaed579,"apply fix for https://issues.apache.org/activemq/browse/AMQ-1810

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669512 13f79535-47bb-0310-9956-ffa450edef68",28,40
1acfd0d6074f037b6ecf85fe2840ca58902c503b,"Fix for https://issues.apache.org/activemq/browse/AMQ-1805

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669519 13f79535-47bb-0310-9956-ffa450edef68",0,2
4bbfe2e9a8278aedf9b71ca1f4ac4f37bdc65385,"Fix for https://issues.apache.org/activemq/browse/AMQ-1812

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669545 13f79535-47bb-0310-9956-ffa450edef68",0,1826
d8a0ca2fedae4384abc47ffc8fc309d4b862ce32,"Fix for https://issues.apache.org/activemq/browse/AMQ-1804

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669555 13f79535-47bb-0310-9956-ffa450edef68",0,1
99372e1189f716db8a818148fc5aa7ca5dba9374,"Fix for https://issues.apache.org/activemq/browse/AMQ-1804

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669558 13f79535-47bb-0310-9956-ffa450edef68",3,2
f7303237ad2424c104730d7940ddd022aa283ec2,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1244

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669733 13f79535-47bb-0310-9956-ffa450edef68",1,20
445dc449c2acd3b2353f3ac1ff3b7638428f3ac4,"Fix for https://issues.apache.org/activemq/browse/AMQ-1809

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669740 13f79535-47bb-0310-9956-ffa450edef68",1,1
a918194d80631cc3ab63df842da664a8416f76b2,"Fix for https://issues.apache.org/activemq/browse/AMQ-1814

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669879 13f79535-47bb-0310-9956-ffa450edef68",43,187
c49cb00200efb85bce68190542ed0c2d4147c542,"exclude MissingDataFileTest for now


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669951 13f79535-47bb-0310-9956-ffa450edef68",0,1
6eeb2699dc6f28a6a4e19a303cd6085494a2f934,"Fix for https://issues.apache.org/activemq/browse/AMQ-1816

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@669973 13f79535-47bb-0310-9956-ffa450edef68",1,1
db2451cfd97954080225ce2b1cb6c4bd4096defe,"Possible fix for AMQ-1819.. Hopefully sending the broker info async will break the deadlock.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@670045 13f79535-47bb-0310-9956-ffa450edef68",1,1
bdbced30d8ca6b948450c0fae971d9279b5bd23a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1834

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@673143 13f79535-47bb-0310-9956-ffa450edef68",0,1
3f4d4a5f7a4301ae41d91a123bbef3e3e9683cb4,"Fix for https://issues.apache.org/activemq/browse/AMQ-1585

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@673157 13f79535-47bb-0310-9956-ffa450edef68",6,14
4118d02a95f383f8fc9ddbfb74023ddec54638ef,"patch for https://issues.apache.org/activemq/browse/AMQ-1585

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@673433 13f79535-47bb-0310-9956-ffa450edef68",7,23
d0a4d3625d170414051f735c858bdf0317871579,"fix for https://issues.apache.org/activemq/browse/AMQ-1840

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@674438 13f79535-47bb-0310-9956-ffa450edef68",1,1
d74a8cf2e9843560aa1c119d7fa68e12f999957c,"Applied patch from https://issues.apache.org/activemq/browse/AMQ-1839

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@674607 13f79535-47bb-0310-9956-ffa450edef68",0,4
f0ae093a12407551e9e936649f9e530409572e66,"Add activemq-console module back in the build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@674815 13f79535-47bb-0310-9956-ffa450edef68",0,1
f9b668b05ba1be525804ae043ff3eacc4ab0435e,"added initial spike of using Protocol Buffer as the wire format for https://issues.apache.org/activemq/browse/AMQ-1843

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@674837 13f79535-47bb-0310-9956-ffa450edef68",0,6263
276826d80c8d17d310d3e32eedbb9c38a54f4a8c,"minor tweak trying to get PB to actually work :)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@674841 13f79535-47bb-0310-9956-ffa450edef68",9,3
cb4cc106ec7279e70e319c4ce913ed95e0e08be3,"fixed test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@674845 13f79535-47bb-0310-9956-ffa450edef68",0,73
983f6908895e1926592bce83c09353684c1efb21,"added a like for like comparision of OpenWire versus PB (see Performance2Test)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@674866 13f79535-47bb-0310-9956-ffa450edef68",29,292
c3a0b2edfcf1ccb03d1dd71022e1800a162c962c,"optimised the use of Protocol Buffer to avoid creating unnecessary byte[] for each message which seems to make things much faster

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675094 13f79535-47bb-0310-9956-ffa450edef68",268,290
f1e3a14e83dd4f221476d10e0ee87f20c1828fd7,"minor refactor in test cases which now demostrate a bug in PB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675098 13f79535-47bb-0310-9956-ffa450edef68",74,91
6dc44747b49002e37e8459cd6de8a14c9e3c39c5,"Fix for https://issues.apache.org/activemq/browse/AMQ-1796

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675104 13f79535-47bb-0310-9956-ffa450edef68",2,2
730aef4d1e95df2571f33ce8692749958c4f47d2,"make local and remote info final

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675260 13f79535-47bb-0310-9956-ffa450edef68",18,4
f4012c50984a4726d562aaa270105a37c41d842c,"patch from https://issues.apache.org/activemq/browse/AMQ-1848

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675314 13f79535-47bb-0310-9956-ffa450edef68",7,205
e233801bb38a360b2a473846b75168a95a599270,"Apply fix for https://issues.apache.org/activemq/browse/AMQ-1852

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675463 13f79535-47bb-0310-9956-ffa450edef68",1,6
9c12a0c9b8f806843c1175e9b63505c66c582c87,"Fix for https://issues.apache.org/activemq/browse/AMQ-1848


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675484 13f79535-47bb-0310-9956-ffa450edef68",6,11
8a6b0f1cf1433a4ac934f8e4ddd449cf0da53fc5,"Complete patch for https://issues.apache.org/activemq/browse/AMQ-1585

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@675990 13f79535-47bb-0310-9956-ffa450edef68",2,2
4de4bc65f848bdfa45c8b191c4fc6baca9eae93c,"Fix for https://issues.apache.org/activemq/browse/AMQ-1856

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@676636 13f79535-47bb-0310-9956-ffa450edef68",3,7
8ee94b802ceeab586d1fba2d1e01d826925b8df6,"remove System.err.println()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@676893 13f79535-47bb-0310-9956-ffa450edef68",2,0
35e33eab070c70e137efddef068de602e5aa0425,"Added spring-aop so the broker boots up correctly due to recent camel dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@676927 13f79535-47bb-0310-9956-ffa450edef68",9,21
36f5ec703e6e9a3a9d15565cee845a8ff6211c6a,"Adding a benchmark tool to measure the performance of the kaha indexes.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@677716 13f79535-47bb-0310-9956-ffa450edef68",0,270
50c16c7672a7c863b9f3815384f7dc83fda0520e,"Exclude activemq-protocol-buffer until rotobuf-java becomes available


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@677956 13f79535-47bb-0310-9956-ffa450edef68",1,1
e027f8ff292b1a2d6c8d3d65c084b8d395dd820b,"Test case for AMQ-1866


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@678830 13f79535-47bb-0310-9956-ffa450edef68",0,213
2a77d4ceab2b8aab9b6b982f59744a84075c71b6,"Updated test case to show that it fails with even the default prefetch size.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@678865 13f79535-47bb-0310-9956-ffa450edef68",22,21
b11cee9bb670108e7befa35b2892f85a5433878c,"AMQ-1869: Upgrade to camel 1.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@679422 13f79535-47bb-0310-9956-ffa450edef68",1,1
ec35afa9ea750b3c338553167565074a8ac99ecd,"Make activemq-ra an OSGi bundle

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@679448 13f79535-47bb-0310-9956-ffa450edef68",0,10
08e01e7fb4a98e25421019096da462a5b65eba94,"Updating testcase.. this new version fails very fast now.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@679849 13f79535-47bb-0310-9956-ffa450edef68",51,59
7614fe25b742e25c0d579a692a9b6a39547064dc,"Fix for https://issues.apache.org/activemq/browse/AMQ-1866

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@680161 13f79535-47bb-0310-9956-ffa450edef68",1,5
dc03bad9f49a93055829a45027339c46a3524ac6,"Fix for https://issues.apache.org/activemq/browse/AMQ-1872

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@680465 13f79535-47bb-0310-9956-ffa450edef68",6,3
ecfae00e3c876d9d621c6c0ea0bc0942eb9cf903,"AMQ-1464


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@681078 13f79535-47bb-0310-9956-ffa450edef68",6,6
3a77300e06062843d97f3f8a324a2b359bd56421,"Notify the listener after the destination collections are updated; as a listener might look at the collections :) 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@681153 13f79535-47bb-0310-9956-ffa450edef68",4,3
b11c28615eb7a9f7c21ff58f80fa9adbe43c194b,"Ensure ordered access to the group and add expiration to state in 
the GroupMap

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@683259 13f79535-47bb-0310-9956-ffa450edef68",434,1358
9e1dad4cc2b67a543790b490ad33c90e7b64d642,"more refinements for Group

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@684047 13f79535-47bb-0310-9956-ffa450edef68",1293,2372
368cb6653ea342232792cf231e9e20c447b84175,"group moving from trunk to the sandbox

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685630 13f79535-47bb-0310-9956-ffa450edef68",972,0
17034f2b04c15ad9d92666515f946421c1a27f67,"group moving from trunk to the sandbox

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685632 13f79535-47bb-0310-9956-ffa450edef68",2857,0
e2cafdaf08c069843bb6a421e6c2db7f6f4b4e16,"Fix for https://issues.apache.org/activemq/browse/AMQ-1866

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685806 13f79535-47bb-0310-9956-ffa450edef68",49,82
46b01cc8622be54afae9b9637d9ed21f910c6bd0,"Applied patch for  https://issues.apache.org/activemq/browse/AMQ-1860

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685808 13f79535-47bb-0310-9956-ffa450edef68",0,32
0cf384549ca8d57a501e447d56f9a3113b12c4dd,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1858

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685832 13f79535-47bb-0310-9956-ffa450edef68",2,10
84dfaabc85adac78f25ada81d09c4ca422a91f3c,"added explicit dependency on activemq-pool for now until we maybe move activemq-camel to use spring's pool classes to minimse dependencies

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685910 13f79535-47bb-0310-9956-ffa450edef68",5,6
529e5c2231d781d237f93ad2a1ddd4bd1f4e21b2,"Fix for https://issues.apache.org/activemq/browse/AMQ-1886

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685966 13f79535-47bb-0310-9956-ffa450edef68",21,37
f405a7e80ddda5fef0b282aa09783ca45da10605,"Applied patch https://issues.apache.org/activemq/browse/AMQ-1878

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685971 13f79535-47bb-0310-9956-ffa450edef68",16,6
5a81bbb3759f52aa60735c1a9cfd327164c09407,"fix for AMQ-1885, allow jdbc slave broker to out live a db outage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@685988 13f79535-47bb-0310-9956-ffa450edef68",13,141
293a6983eb84e632bbd391a72c4152af5f329f60,"Fixing a Usage leak in broker when subscribing to a topic using selector: AMQ-1889


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@686217 13f79535-47bb-0310-9956-ffa450edef68",1,3
c8bd57cdc7a2bea5f0b4334a52aa2aa9a42ce7e0,"Fix for https://issues.apache.org/activemq/browse/AMQ-1878

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@686236 13f79535-47bb-0310-9956-ffa450edef68",20,33
15fb25d653a86a97429d75495385886e7f5b5a15,"Fix for https://issues.apache.org/activemq/browse/AMQ-1878

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@686257 13f79535-47bb-0310-9956-ffa450edef68",1,9
479f5e1713282f652f9eb7d9fe5a34edad058c9d,"Fix for MySQL DB tables should be INNODB based for proper tx support: https://issues.apache.org/activemq/browse/AMQ-1891


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@686264 13f79535-47bb-0310-9956-ffa450edef68",0,9
313530a39683cdcd5acfbd397ddb07ac784a1929,"updated to compile with changes to MemoryTransactionStore constructor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@686677 13f79535-47bb-0310-9956-ffa450edef68",1,1
a0ac983ea3924ec6b432c93debf7166324c00172,"added the transaction API into the uberjar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687029 13f79535-47bb-0310-9956-ffa450edef68",0,1
02b9774dfca665f0ae04511985245acbb2c13baa,"fixed up the protocol buffers test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687030 13f79535-47bb-0310-9956-ffa450edef68",4,4
1d9a6c1cc843faeac2420a5cbb4171bab07c1cc1,"switched to the latest/greatest spring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687031 13f79535-47bb-0310-9956-ffa450edef68",4,1
0a997b7eaebff2c36b5c8c1c8aa0cadc9b3ce566,"added a local broker load test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687033 13f79535-47bb-0310-9956-ffa450edef68",2,161
52e15a48a174aeb15f6c96c33ae5ddd539640293,"added some new MBean helper methods

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687034 13f79535-47bb-0310-9956-ffa450edef68",0,45
947659cd522f03b532fca796cd699ca8d1e33a66,"added some helper mbean methods so that you can ask for the consumers on a DestinationViewMBean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687043 13f79535-47bb-0310-9956-ffa450edef68",22,89
43880af18accb86d05489b41dcc2e57866d60d64,"add waitForStart option to vm url, fix AMQ-1895

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687280 13f79535-47bb-0310-9956-ffa450edef68",6,106
67d64862f8db4ad4e784a8d7fae50db79e2ffabc,"fix for https://issues.apache.org/activemq/browse/AMQ-1901

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687287 13f79535-47bb-0310-9956-ffa450edef68",3,84
fc58b6f6a5c46805c0bad4144be1f799b8274ba4,"Added support for JMSDeliveryMode header being set generically

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687332 13f79535-47bb-0310-9956-ffa450edef68",0,15
3c32abd791fa8e6c962c391c8c9fd3726f18d8fb,"fix for AMQ-1902 introduced by fix for AMQ-1866

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687677 13f79535-47bb-0310-9956-ffa450edef68",22,57
3dd6575ac89f2a8416ddd419cc878bf4a20d6b04,"added a fix for AMQ-1904 to expose the user properties as TabularData so JMX tools can browse all of the information in a message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687861 13f79535-47bb-0310-9956-ffa450edef68",15,296
a6553354714965741a66df3f1be72d18d2f085bb,"further enhancement for AMQ-1904 to add helper method to extract the Map of all user properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687864 13f79535-47bb-0310-9956-ffa450edef68",0,29
9cd9a00dc308a5d60278ef7ab09bc3a47bf70594,"improved test to also add JMSDeliveryMode test for AMQ-1904

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@687954 13f79535-47bb-0310-9956-ffa450edef68",12,15
a634647560401bc10c84e56c664480a4925f6cf6,"fixed bad use of null for AMQ-1904

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@688014 13f79535-47bb-0310-9956-ffa450edef68",1,9
46812e240df9377d13438089ca7b152c6c32d4e0,"minor whitespace/reorg/comment improvement

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@688062 13f79535-47bb-0310-9956-ffa450edef68",4,12
dd64c8bc8e4260c16141bfc0fa30f940a799c11e,"added support for OriginalDestination support in JMX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@688115 13f79535-47bb-0310-9956-ffa450edef68",0,3
323bb2309e815224d76350f04667ab2789a5278d,"added patch for AMQ-1908

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@688118 13f79535-47bb-0310-9956-ffa450edef68",1,21
8813f2b65818aa7c5238d43f9fe078bae713ec02,"added a handy constant for the default DLQ name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@689022 13f79535-47bb-0310-9956-ffa450edef68",1,3
6cd70823cc6f038978c5225c530e84b9f6b277b1,"added a test case for AMQ-1909

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@689023 13f79535-47bb-0310-9956-ffa450edef68",4,154
557ee247a1fc30481f4a1e440a2923b11e6833fc,"fix group reference for perf and memtest maven plugins - now in group org.apache.activemq.tooling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@689033 13f79535-47bb-0310-9956-ffa450edef68",3,3
6a5c5eb2963fe2dee57e85ed60146c57de4a84a7,"Added camel-jetty to the ActiveMQ distro

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@689542 13f79535-47bb-0310-9956-ffa450edef68",0,5
d0b0e4aa6c0d2a2c8c050016421895c9d3ad2105,"Added jetty-client optional jar too

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@689543 13f79535-47bb-0310-9956-ffa450edef68",0,1
b9c25144ffac253912366a9bc503c2d51ba42f9d,"Added jetty-client optional jar too

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@689545 13f79535-47bb-0310-9956-ffa450edef68",0,5
261157cdd611ba98d3e886919dd16771229665d9,"Fix compile issue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@689547 13f79535-47bb-0310-9956-ffa450edef68",1,1
ba16efde647f2389ebc61fcfb11454d9baa4802c,"fix AMQ-1917

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@690144 13f79535-47bb-0310-9956-ffa450edef68",30,236
c2f71284baa25f9065985ac33669a2714d581270,"fix AMQ-1911

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@690155 13f79535-47bb-0310-9956-ffa450edef68",2,52
ec3d9adae5e60593511cb5adb74b71c0ae1ce3a7,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1838

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@690645 13f79535-47bb-0310-9956-ffa450edef68",0,11
1bd6be8a8e933c69ac5125ac3349825e38e174bb,"AMQ-1923: the defaut value for the maximumActive property on the PooledConnectionFactoryBean is 0, making it unusable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691030 13f79535-47bb-0310-9956-ffa450edef68",2,2
47cfa5590bfe5f1015e48ea300c4a8ed9a86e340,"Fix for https://issues.apache.org/activemq/browse/AMQ-1909
and https://issues.apache.org/activemq/browse/AMQ-1914


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691114 13f79535-47bb-0310-9956-ffa450edef68",114,203
f5703497dd61ca4ebb48bdb6e3b9658f28c4bfeb,"Fix for https://issues.apache.org/activemq/browse/AMQ-1919

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691124 13f79535-47bb-0310-9956-ffa450edef68",0,3
b7038c0f21d16a0bde2b86549662f8ed8a99a418,"updated patch for https://issues.apache.org/activemq/browse/AMQ-1860

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691129 13f79535-47bb-0310-9956-ffa450edef68",2,2
932ddd2318b883e07208a4047e1e80d2718b1352,"Fix for https://issues.apache.org/activemq/browse/AMQ-1915

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691130 13f79535-47bb-0310-9956-ffa450edef68",0,1
2624decb4e4be58c0e75b1187d74cdf28210543d,"applied patch for https://issues.apache.org/activemq/browse/AMQ-1887

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691131 13f79535-47bb-0310-9956-ffa450edef68",4,8
d14e4aee1c204de5ea726fa632aeee5823ca44a7,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-596

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691206 13f79535-47bb-0310-9956-ffa450edef68",8,71
e8a74514dadde32742d3bf95fff5369ecaf91a5e,"reset redivery counter on retryMessage() - and speed it up a little -
for https://issues.apache.org/activemq/browse/AMQ-1909

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691214 13f79535-47bb-0310-9956-ffa450edef68",1,17
02c68921767ceee78dbf26c6d7e3041d08892990,"fix broken unit test after fix for  AMQ-1919

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691601 13f79535-47bb-0310-9956-ffa450edef68",1,1
1e73d70d83235c8bf9119625f28c4b5ba017b546,"fix broken unit test after fix for  AMQ-1919

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691604 13f79535-47bb-0310-9956-ffa450edef68",2,2
874e935abbf2a278f489a16fe32006a0b01a78e5,"fix last of broken unit test after fix for AMQ-1919

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691619 13f79535-47bb-0310-9956-ffa450edef68",5,5
d261ffd9e9dafc9bedc77e32b68d1412f24179b9,"fix for https://issues.apache.org/activemq/browse/AMQ-1926 with test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691621 13f79535-47bb-0310-9956-ffa450edef68",18,201
c2fbfa9f2ae40303b6decd95fbc1457188cf0cdc,"adendum to https://issues.apache.org/activemq/browse/AMQ-1926

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691665 13f79535-47bb-0310-9956-ffa450edef68",0,1
fc97af145612ebe7b15a7e2713ddc994728aa817,"further adendum to https://issues.apache.org/activemq/browse/AMQ-1926

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691692 13f79535-47bb-0310-9956-ffa450edef68",1,1
72808d5c3a7452678b121def2b84b3ab70fe9690,"fix https://issues.apache.org/activemq/browse/AMQ-1921 and renable MemoryPropertyTest which works fine with xbean 3.4

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691959 13f79535-47bb-0310-9956-ffa450edef68",5,1
ff2bc927dfeafd6118d7e91e03783aaa804b468d,"update javadoc url to javeee from j2ee

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@691995 13f79535-47bb-0310-9956-ffa450edef68",1,1
391077ee15b396bbc68dd0bb14a4c57a7337cc78,"Fix for https://issues.apache.org/activemq/browse/AMQ-1928

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692009 13f79535-47bb-0310-9956-ffa450edef68",4,91
3e2b3d25fe54034066d5a7bef3cdbd013a1f5232,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1833

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692134 13f79535-47bb-0310-9956-ffa450edef68",8,9
512ca88ba68b71c5f40118e165f4c2832a1f2313,"patch for https://issues.apache.org/activemq/browse/AMQ-1898

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692172 13f79535-47bb-0310-9956-ffa450edef68",1,4
c6c4e5e4d8b8d60ee14f321a59140bb1c0b94695,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1900

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692174 13f79535-47bb-0310-9956-ffa450edef68",1,3
eed43a8f055e5073ef01dfe8d342eeba5ab58b82,"Patch for https://issues.apache.org/activemq/browse/AMQ-1614

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692178 13f79535-47bb-0310-9956-ffa450edef68",0,99
4c92244758ca808223c7fd24b81e29bf0cf8aaa0,"Added patch for https://issues.apache.org/activemq/browse/AMQ-1890

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692181 13f79535-47bb-0310-9956-ffa450edef68",1,69
b1288f25de3553292114883418882f30af8e0e13,"Patch applied to https://issues.apache.org/activemq/browse/AMQ-1874

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692183 13f79535-47bb-0310-9956-ffa450edef68",17,32
8f55d404affc0e4ab556ae1937a1ff8d21cdb368,"Patch applied for https://issues.apache.org/activemq/browse/AMQ-1867

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692208 13f79535-47bb-0310-9956-ffa450edef68",8,8
a881781aaf6b755f039e6a1c76ae7ff7eaa2d2ba,"last adendum to https://issues.apache.org/activemq/browse/AMQ-1926

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692293 13f79535-47bb-0310-9956-ffa450edef68",1,1
78aac70bff3a5d5caedb938f8fd234be09a2468d,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-1489

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692340 13f79535-47bb-0310-9956-ffa450edef68",17,51
eaea51654d203145124f38bdee4a61f888f742a0,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1621

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692341 13f79535-47bb-0310-9956-ffa450edef68",2,7
4114a78b906a886f52cb2b125327df18311d0af5,"tidy help build.xml help text  AMQ-1513

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692387 13f79535-47bb-0310-9956-ffa450edef68",18,43
cf35460ebadd3a13e5eaf51f3c905735fe916f67,"allow release:prepare phase to find dependent projects with the next version in the local repo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692403 13f79535-47bb-0310-9956-ffa450edef68",0,1
dad506decbc27f54852efd52c19120f788a842d2,"Patch applied for https://issues.apache.org/activemq/browse/AMQ-1892

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692449 13f79535-47bb-0310-9956-ffa450edef68",0,271
b006b2533ba8b8b735118a4d78a8e5731192ac85,"fix for AMQ-1849 with test, also master slave pendingdispatch messages were being ignored, test shows this

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@692539 13f79535-47bb-0310-9956-ffa450edef68",3,79
4a7e0b35bdf6618e3a8f0d07838c9a23d3e4d221,"AMQ-1489 - reflect the new respect of host and port elements of multicast uri and use of group as query parameter in the tests that specify a group to ensure some test isolation; resolve unit test failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693051 13f79535-47bb-0310-9956-ffa450edef68",34,34
6f74b5e890740f2de9953b9ff8e63b288ef22e59,"[maven-release-plugin] prepare release activemq-parent-5.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693099 13f79535-47bb-0310-9956-ffa450edef68",30,30
db4ed3fb358a9fd2a6f683d4d3e7a2534a31c94c,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693101 13f79535-47bb-0310-9956-ffa450edef68",30,30
a38e372ef4da5bbbac686e761a0689d3f0bfcd0d,"AMQ-984, add isSlave jmx attribute to broker mbean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693414 13f79535-47bb-0310-9956-ffa450edef68",0,7
ba740dca5670c89b69791f8384854ce9c9522b3c,"corrected applying patch for https://issues.apache.org/activemq/browse/AMQ-1900

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693431 13f79535-47bb-0310-9956-ffa450edef68",1,1
19881e7799b8c8157683185d98650ca0ef38b333,"AMQ-1931 - expose lockAcquireSleepInterval on DefaultDatabaseLocker and JDBCPersistenceAdapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693449 13f79535-47bb-0310-9956-ffa450edef68",4,35
ab2d3a358a5c0af6bb3df59ff68675d25d021f79,"shade in -all fails with install, need to install manually

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693644 13f79535-47bb-0310-9956-ffa450edef68",1,0
cc90a50844a23a60aeddcde00480f765a9001572,"[maven-release-plugin] prepare release activemq-5.2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693649 13f79535-47bb-0310-9956-ffa450edef68",30,30
d3bebf209bd0577e2e178a0a505aa02cc92973ad,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693651 13f79535-47bb-0310-9956-ffa450edef68",29,29
8d03599be6f457d627ffce0cfcb9245575973dea,"Patch applied for https://issues.apache.org/activemq/browse/AMQ-1743

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693767 13f79535-47bb-0310-9956-ffa450edef68",2,2
9ce91fa62503f45af4828e528a3c799853cff3bc,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-1925

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@693915 13f79535-47bb-0310-9956-ffa450edef68",36,501
8de97c6a980897822ccace5dc039398aba0b4f09,"Changed activemq-version to 5.3-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@694201 13f79535-47bb-0310-9956-ffa450edef68",1,1
deb11f5ef8c07fb6d78cb58ebc7711b4e22c7c97,"remove reference to KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@694205 13f79535-47bb-0310-9956-ffa450edef68",8,3
9ed183df88fa3ad6a3974891ae16b380492defd8,"Cleaning System.err.println() calls (both active and commented ones)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@694265 13f79535-47bb-0310-9956-ffa450edef68",8,2
47130408a7cc4d616b565037069dec6d060dc3f7,"revert change to PrefetchSubscripton.isFull from fix to https://issues.apache.org/activemq/browse/AMQ-1925, updated test case to demonstrate failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@694679 13f79535-47bb-0310-9956-ffa450edef68",3,28
f2fc86405f68516fa1da6572bf25f60a1d7bbfe6,"Apply fix for https://issues.apache.org/activemq/browse/AMQ-1935

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@694781 13f79535-47bb-0310-9956-ffa450edef68",1,6
398b468b68dff3a0c285501ae4dba0088bc157f8,"Patch applied for https://issues.apache.org/activemq/browse/AMQ-1237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@695445 13f79535-47bb-0310-9956-ffa450edef68",7,43
1590da28a5b9245639e249c24c44bb28f1ae9c12,"AMQ-1938: The pooled connection factory FactoryBean does not implement DisposableBean, thus leaking connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@695754 13f79535-47bb-0310-9956-ffa450edef68",2,10
d453b8d390142e510f98d342247ef51bf0c02f62,"This fixes the recent errors the test cases have been seeing with transacted acks due to the new ack assertion bits added.
We now take the mesage out of the dispatch list when the ack is received, but we put it back on a rollback.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@696370 13f79535-47bb-0310-9956-ffa450edef68",8,14
a2101b7b05da2f36f23844853b4b13259ed60590,"Fixing the JMSConsumerTest case. 



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@696372 13f79535-47bb-0310-9956-ffa450edef68",1,5
bca3d9e9d9fcb7b90e3c52330710c00cec456e10,"Fix fir https://issues.apache.org/activemq/browse/AMQ-1945

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@696755 13f79535-47bb-0310-9956-ffa450edef68",1,5
553deac60a5155b4d678cf1699ed5a94398659c9,"Added licence

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@696757 13f79535-47bb-0310-9956-ffa450edef68",0,16
93439b285341a2888160dddbbb7517e870a7e9e2,"Don't set the first message id if it's not known. It gets calcuated on the server side.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@697850 13f79535-47bb-0310-9956-ffa450edef68",3,1
b6115cf660ed13a58b3a398529262f9c7f66d8bf,"Fix for https://issues.apache.org/activemq/browse/AMQ-1940

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@697921 13f79535-47bb-0310-9956-ffa450edef68",6,120
3c6805183d5f31422158d9e2bb7793c508de9500,"Fix for https://issues.apache.org/activemq/browse/AMQ-1946

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@697937 13f79535-47bb-0310-9956-ffa450edef68",32,60
4d0e57261cf613fb62e6cf45f6e47452abf84230,"Fix for https://issues.apache.org/activemq/browse/AMQ-1943

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@697953 13f79535-47bb-0310-9956-ffa450edef68",0,2
e2d743ea8a45701ad46daa6ff0a84f4a545eda44,"Fix for https://issues.apache.org/activemq/browse/AMQ-1947

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@697957 13f79535-47bb-0310-9956-ffa450edef68",13,7
3797622ed315e400496b231f2636ae3fab69cd37,"AMQ-1865 - Get camel load test working again.

I needed to increase the delay between produced messages
from the deafult 3 ms to 10ms. I think there are some
concurrency issues in Camel's dataset component.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@697964 13f79535-47bb-0310-9956-ffa450edef68",12,23
5af81189b162344d0121b37608170f81cd87d159,"removed mutexes - as they are handled at the transport level -
Fix for https://issues.apache.org/activemq/browse/AMQ-1818

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698103 13f79535-47bb-0310-9956-ffa450edef68",8,7
9fe716b99f7bc5a4a509753211e57b9e4ab40bb5,"adding test case for https://issues.apache.org/activemq/browse/AMQ-1949

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698175 13f79535-47bb-0310-9956-ffa450edef68",0,25
63b2c406a8ac6c88e7d19398a69ee5cc7adbba1c,"Fix for https://issues.apache.org/activemq/browse/AMQ-1947

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698573 13f79535-47bb-0310-9956-ffa450edef68",8,16
efdf8ce25a5e925935b99b9cb78eef5a52eb4524,"https://issues.apache.org/activemq/browse/AMQ-1951

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698595 13f79535-47bb-0310-9956-ffa450edef68",28,30
21b44e9b37446c4008095b1d03b2163e8a2fa45d,"Fix for https://issues.apache.org/activemq/browse/AMQ-1436

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698603 13f79535-47bb-0310-9956-ffa450edef68",2,3
fc338b7e0d2583b4ce74657078134a98004f021c,"Fix for the JMSConsumerTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698611 13f79535-47bb-0310-9956-ffa450edef68",0,1
c6e0a61d731245388b7dcdfb68a9a8c438e480cf,"Fix for https://issues.apache.org/activemq/browse/AMQ-1952

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698719 13f79535-47bb-0310-9956-ffa450edef68",1,0
ddd2fa687bfa976921349e919bbbbb266e988cb7,"Fix for https://issues.apache.org/activemq/browse/AMQ-1953

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@698800 13f79535-47bb-0310-9956-ffa450edef68",1,2
74c27e70beefe3b8b109cc2fb61c976b12bb5866,"patch for AMQ-1326 applied (with a few more code improvements)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@700405 13f79535-47bb-0310-9956-ffa450edef68",8,208
a3eb3277032c842ff39bb6f4e9b0a9e55f4a7915,"patch for AMQ-1326 applied (with a few more code improvements)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@700406 13f79535-47bb-0310-9956-ffa450edef68",1,6
4d6043aa94227b4b2604394e0c855c9869c211f4,"fix regression AMQ-1959

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@700746 13f79535-47bb-0310-9956-ffa450edef68",0,1
c48c23f47c9c0f93a215fea2bfa31110e21575c3,"AMQ-1950 - fix for slave hang with temp queue creation/deletion

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@700823 13f79535-47bb-0310-9956-ffa450edef68",4,4
8469d75f38843fa0fada0fff39d6a1de0c03877e,"fix DiscoveryTransportNoBrokerTest failure on slow host name resolution, reconnectAttempts is not relevant when the multicast address cannot be resolved, modified test to reflect this

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@700838 13f79535-47bb-0310-9956-ffa450edef68",9,11
6dbd5d19ccc7e1a45e689cff88e98b709cee943d,"fix AMQ-1962, reset or cursor as a result of empty subscription list was incorrectly setting store size to 0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@701072 13f79535-47bb-0310-9956-ffa450edef68",1,1
b22832e2d8dc03c82761d8b687f60e16826ff2b7,"fix AMQ-1956

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@701088 13f79535-47bb-0310-9956-ffa450edef68",1,1
5d9351846cf5e988821a3a82bd83cb906a976a33,"AMQ-1962 - ensure size is not calculated on stop after store has shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@701118 13f79535-47bb-0310-9956-ffa450edef68",3,7
1c42716ecb09e605638fdb6b2a61e3dac1830d80,"Fix for AMQ-1963

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@701333 13f79535-47bb-0310-9956-ffa450edef68",1,0
5ed74fd2111a2fa61684eeefd606011831ca236b,"improve robustness of MasterSlaveTempQueueMemoryTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@701345 13f79535-47bb-0310-9956-ffa450edef68",2,5
c89adb8411f16266c44241b7154bb28a21d83855,"fix for AMQ-1968

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@701381 13f79535-47bb-0310-9956-ffa450edef68",12,0
3332220a35eace25e6f942129c8c929a0490da7d,"fix AMQ-1967, server side transport options are now respected, it is possible to configure a broker connector url like tcp://localhost:61617?transport.reuseAddress=true etc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@701477 13f79535-47bb-0310-9956-ffa450edef68",7,56
44953e41acea19ec9edbcc38a1b4d5adaf0792d4,"fix for AMQ-1969

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@702149 13f79535-47bb-0310-9956-ffa450edef68",15,89
3fe7760e4a01cd1effc4b3c5e2546385c57cd2a8,"Applying AMQ-1957.. Thanks for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@702152 13f79535-47bb-0310-9956-ffa450edef68",390,68
f8071a34a4c871300fc8a7a6e16b2396685fc2c4,"AMQ-1967 - fix: SslTransportServerTest, check for null transportOptions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@702447 13f79535-47bb-0310-9956-ffa450edef68",1,3
0706a4ce7cba7bca2d482749fc9367d9bd0fb872,"added groups

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@702452 13f79535-47bb-0310-9956-ffa450edef68",9,4031
dd0d2329ac6dc23f8570336f2d8171787b83cf97,"[maven-release-plugin] prepare release activemq-5.2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@702519 13f79535-47bb-0310-9956-ffa450edef68",30,30
9fbba8d1f8a9e7f1b903889747f6a4607adf0069,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@702534 13f79535-47bb-0310-9956-ffa450edef68",30,30
2b2b3e8e0756dfec4d1b066a842e60e571d39017,"cumulative commit for issues AMQ-1955, AMQ-1453 and AMQ-1960

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@703161 13f79535-47bb-0310-9956-ffa450edef68",11,124
01e520a8279452e7efec3e39ee9d42a8b3609537,"Impl for https://issues.apache.org/activemq/browse/AMQ-1972


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@703172 13f79535-47bb-0310-9956-ffa450edef68",2,33
876118997bca86b1a78501c196572da86699535e,"revert/rework AMQ-1521, fix for AMQ-1973; new test case and SocketProxy that can be used to simulate network outage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@703447 13f79535-47bb-0310-9956-ffa450edef68",5,464
73b8f233b0a7ab2e4d0e6d2c790ecd45400e332d,"AMQ-1972

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@703482 13f79535-47bb-0310-9956-ffa450edef68",8,0
db0d5cd363f8c6081aabed7d5c54e18b2ffc0f63,"truncating queue names after 50 characters

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@703931 13f79535-47bb-0310-9956-ffa450edef68",1,1
d261412058aae5fa0f83f95b82c5252bd3aebaba,"Fix for https://issues.apache.org/activemq/browse/AMQ-1971

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@703975 13f79535-47bb-0310-9956-ffa450edef68",48,23
ac2d263e245353f7c7c1f0e1a8a7bf612f3f009e,"fix for AMQ-1960

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@704056 13f79535-47bb-0310-9956-ffa450edef68",1,3
ae1bb668d6b07034603958a3436ab0a678acf149,"fix AMQ-1970 - pagedInMessages in slave was being filled due to more than 200(pageSize) unacked messages and slave not modifying the inflight count which is used in the pageIn logic

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@704142 13f79535-47bb-0310-9956-ffa450edef68",10,63
117cf0209e310d78aafae8b3f7d0794bda0ffb29,"fix for AMQ-1978

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@704508 13f79535-47bb-0310-9956-ffa450edef68",0,8
d33adc961c9114756a40c0eb43f422ae5d901f03,"print message properties with with toString()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@704544 13f79535-47bb-0310-9956-ffa450edef68",0,8
6cd0ca9bd99068905ee17dec514bd9c9a24d5b2e,"Disabled the default use of last image recovery policy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@704550 13f79535-47bb-0310-9956-ffa450edef68",0,2
543bc84a88e414d1e2b1df261a8f2a5c115f36ba,"resolve AMQ-1977, some more choreography required in duplex case. Fix duplication of deleteAllMessageOnStartup which slows down JDBC test, add some more robustness to DuplexNetworkMBeanTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@704846 13f79535-47bb-0310-9956-ffa450edef68",13,21
8e06b20b0ae275164e0b9348362bbe4f10cba4e0,"fix for https://issues.apache.org/activemq/browse/AMQ-1980

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705147 13f79535-47bb-0310-9956-ffa450edef68",2,1
3a95fff234b12a45e8166cecaeccf9c01160fc91,"fix intermittent failure of org.apache.activemq.usecases.MultiBrokersMultiClientsUsingTcpTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705190 13f79535-47bb-0310-9956-ffa450edef68",4,3
bc7e759662564c1af87b8655d31711a2f3ad36c8,"test case for AMQ-1976, just remove the short circut return to try

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705259 13f79535-47bb-0310-9956-ffa450edef68",0,105
fdee6e81e2e0246de1bb6321fd137124d9afbbd3,"AMQ-1976, individual messages passing through a network bridge need an individual ack; for an individual ack, it is ok to have more than one message dispatched

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705281 13f79535-47bb-0310-9956-ffa450edef68",37,37
4842547a5be71de265aeea48e6b8e67b75c349a4,"fix for AMQ-1981

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705547 13f79535-47bb-0310-9956-ffa450edef68",9,50
d81ce2e2765d05c12f9d671ea04fb6e1cfa6e0c3,"resolve AMQ-1979, slave connection did not know about temp destinations so it would not delete on close, only on an explicit delete command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705592 13f79535-47bb-0310-9956-ffa450edef68",6,32
eabb5156ad39742b9996bbe2e81189e65589d944,"fix issue with test, checking for the presence of Mbeans before the rmi transport for the mbean server is fully active

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705636 13f79535-47bb-0310-9956-ffa450edef68",18,33
329e215a05f217baf9739b8659df67b1a25a5cb3,"ensure test won't hang if mbean server never comes alive, just in case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@705642 13f79535-47bb-0310-9956-ffa450edef68",1,1
c761823613136111f67429a2665df85a65cb5648,"fix AMQ-1982; modify fix for AMQ-1237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@706164 13f79535-47bb-0310-9956-ffa450edef68",2,2
1f01c94d2412788a09f41c148293e7daeb457c96,"fix for AMQ-1978

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@706299 13f79535-47bb-0310-9956-ffa450edef68",6,60
537b1b0284b7c5b4ff093b9c9b03e8b6791334db,"Fix for https://issues.apache.org/activemq/browse/AMQ-1965

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707059 13f79535-47bb-0310-9956-ffa450edef68",2,10
58b8d19a970c0cdba90fd6372739ae13b0891af6,"Fix for https://issues.apache.org/activemq/browse/AMQ-1964

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707064 13f79535-47bb-0310-9956-ffa450edef68",7,33
81f0cc0d0417b36c95d2776eda00926cbc55157b,"fix AMQ-1984 - hanging consumer receive after multiple consumer disconnect/reconnect

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707415 13f79535-47bb-0310-9956-ffa450edef68",20,21
fe50dd693f5168ce10bc8e245cdcbac9e98dd872,"remove a few stack traces from test stdout

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707429 13f79535-47bb-0310-9956-ffa450edef68",4,2
c96cdf04d25e3d83dcf2774d25df88655aaa2300,"resolve broken test resulting from AMQ-1919

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707582 13f79535-47bb-0310-9956-ffa450edef68",1,1
8b34eacc265d4ea4dd97db07a3b8aca77cef57fb,"remove extraneous printStacks from activemq-core test run console, stacks are now in the test log

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707590 13f79535-47bb-0310-9956-ffa450edef68",3,18
f3e603959a1c4d7d3d4107b5aa9da4c5a3887db3,"test case that verifies setting a listener from onMessage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707609 13f79535-47bb-0310-9956-ffa450edef68",0,151
1651992d10660944c0522f9d17d815594e4101e7,"more transactional and concurrent tests for master slave to try and reproduce AMQ-1983

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@707644 13f79535-47bb-0310-9956-ffa450edef68",25,101
03a6468d127b1afb280751539dc86c8d881cb0f4,"resolve AMQ-1983

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@708548 13f79535-47bb-0310-9956-ffa450edef68",1,1
65ff8f4b9b6bd849385d210f8ce2bd983d2a3345,"AMQ-1986 - Upgrade to Camel 1.5.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@709735 13f79535-47bb-0310-9956-ffa450edef68",9,26
46b5eb15fd2e3a6982f1847ca2efe2ff4f9ae113,"resolve AMQ-1191 - patch applied, thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@710048 13f79535-47bb-0310-9956-ffa450edef68",1,1
0d2172bc9b5d75e97b7b004c074221807326046a,"apply threadName filter feature patch for AMQ-1993

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@710061 13f79535-47bb-0310-9956-ffa450edef68",0,69
f561d6bb6769cc313870da600315e120a0b547e1,"apply patch for AMQ-1993, thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@710109 13f79535-47bb-0310-9956-ffa450edef68",5,183
c27db108fdef75bb39752309f05b17fe2b35d79a,"have master wait for slave to ensure slave is always present for duration of test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@711264 13f79535-47bb-0310-9956-ffa450edef68",4,20
5b47fe7a6c7cd1f4ab04ebd69532e52ec557cea4,"ensure master is always started before first connect attempt, ignore expected exception on shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@711284 13f79535-47bb-0310-9956-ffa450edef68",4,7
f8eed489fb90e418d00b28635963160415707c45,"addendum for AMQ-1993

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@711292 13f79535-47bb-0310-9956-ffa450edef68",1,1
7238f80d9b5318e9fa5e0e820372fc62ab76a07b,"resolve AMQ-1995

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@711617 13f79535-47bb-0310-9956-ffa450edef68",10,15
ec5904f0800a86da97c09dea52977e5b7ae3d953,"Use the version defined in the parent pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@711641 13f79535-47bb-0310-9956-ffa450edef68",1,0
fcab7488bc37d435cac98927c055c6ed04fcba77,"[maven-release-plugin] prepare release activemq-5.2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@711802 13f79535-47bb-0310-9956-ffa450edef68",30,30
c57afb6289634d8e14d4015a061d4ea2e70ec42d,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@711804 13f79535-47bb-0310-9956-ffa450edef68",29,29
92e143155b636dd2a6f6730fb5c65dbb8d1ec970,"a test variant to validate AMQ-1957

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@712117 13f79535-47bb-0310-9956-ffa450edef68",0,26
0bfb28a0bce4f81a8e91dd672d175e39d29113e4,"reapplying patch from AMQ-1957 with small ammendment for transactional behaviour, reverting changes that fixed broken tests as tests now pass

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@712189 13f79535-47bb-0310-9956-ffa450edef68",16,16
6d1f57b13776cd037b3f61c40b6cd86595479f5b,"test case and logging improvements relating to cyclic/multicast discovery network of size 3 and topic message duplication with nteworkTTL > 1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@718224 13f79535-47bb-0310-9956-ffa450edef68",29,270
e53668eb2379386d339b88aeca95430915797016,"resolve AMQ-2004

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@718403 13f79535-47bb-0310-9956-ffa450edef68",5,17
1ab2f59af7229fc87e065be2dc6c29da3ee62848,"fix for AMQ-2003

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@718590 13f79535-47bb-0310-9956-ffa450edef68",91,290
da98de0459e2978fb72499725bda0334412466f1,"fix for AMQ-2003

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@718592 13f79535-47bb-0310-9956-ffa450edef68",3,17
2ffb1a678206c50e694712db4538ae7d1180e1d4,"Making pom version property match pom artifact version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@718635 13f79535-47bb-0310-9956-ffa450edef68",1,1
2b2b35e757ee97d9d16b14246f5df3c8b0a8f12f,"resolve AMQ-2005, Scheduler is now referenced by its users such that it cannot be gc'ed during normal operation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@718931 13f79535-47bb-0310-9956-ffa450edef68",25,39
0fe1944bad01ecae8118c9a4e47941018e8c920b,"improve debug log information

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@719219 13f79535-47bb-0310-9956-ffa450edef68",1,1
7673448206d20fdd5d0eb94d195c8f4024d5c9d1,"resolve some dependency divergence among modules

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@719220 13f79535-47bb-0310-9956-ffa450edef68",4,1
00f0e7773f9a3c46482388018bd72549181d591f,"add key for 5.2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@719256 13f79535-47bb-0310-9956-ffa450edef68",1,39
456a2ba5cf570b4b6d61893c54bbb1b58b677405,"Moving the kahadb work from the sandbox into trunk now that 5.2 has been released.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@719665 13f79535-47bb-0310-9956-ffa450edef68",0,17022
a85ca4a1866955ce3fea4538976aa2ba6593366b,"Updated assembly so that kahadb is included and also added an example HA configuration which uses it.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@719763 13f79535-47bb-0310-9956-ffa450edef68",24,248
2996cf31e85d8aa51f7c74ccf500a2f01bf368ce,"- Switched to using camel case in the xml emlement names to make things consistent.
- Replaced the asyncReplication property in the ReplicationService with a minimumReplicas properties.  When set to 0, async replication will be in effect.
- Also removed the use of a map to track replication requests since at most, only 1 sync requrest is issued at a time.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@720234 13f79535-47bb-0310-9956-ffa450edef68",367,367
4d089f0083bad9fd727f7b8d92878e11e0fa9c9b,"Updated to use new config scheme


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@720239 13f79535-47bb-0310-9956-ffa450edef68",32,33
7530b1270c987422d58817d0ff5a8e8dbb93d3da,"AMQ-2013 - exclude xom dependency from xstream

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@720262 13f79535-47bb-0310-9956-ffa450edef68",0,8
91d83c9870de1b22f85c11a8bb0103955b0112bd,"Adding snapshot plugin repo since the activemq-protobuf plugin has not been released yet 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@720536 13f79535-47bb-0310-9956-ffa450edef68",0,8
85fd6327e67ae91ee7eac9bb0b4ba16f473a6c58,"reference jaxb-api ver from parent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@720823 13f79535-47bb-0310-9956-ffa450edef68",1,0
7c70973de32040d6a629951610c21a7e5e473b2b,"Fixing build.. breaks on java 1.6

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@721260 13f79535-47bb-0310-9956-ffa450edef68",3,2
e1f29b9024dd085b5e6762d24c2ca0013941530d,"fix for AMQ-2014

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@722093 13f79535-47bb-0310-9956-ffa450edef68",1,1
04bb24b05e3d26feedbe534dc75f05c681f13cf5,"Add activeBlaze replication cluster state manager

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@722615 13f79535-47bb-0310-9956-ffa450edef68",1,361
38cfc9b1645769358d7dc12ca433358c868dd2e7,"Fix for https://issues.apache.org/activemq/browse/AMQ-2015

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@722683 13f79535-47bb-0310-9956-ffa450edef68",19,21
e76909d357e7dd814d8ac6c59b782dc18250aa6e,"returning JSTL dependencies since deployment WAR to external containers needs them

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@722894 13f79535-47bb-0310-9956-ffa450edef68",1,11
d7f34d9a6f544549cbfa3b86fc9400a2f6d18223,"resolve AMQ-2020, we may want to push setBatch into the MessageStore inteface, see the use by the cursors when the cache is exhausted

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@722983 13f79535-47bb-0310-9956-ffa450edef68",19,378
0cf2cdc719de9031fca1bd161bed9cc921ea4d39,"Fix for https://issues.apache.org/activemq/browse/AMQ-2025

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@723614 13f79535-47bb-0310-9956-ffa450edef68",3,9
bd054dcdee3438bb70149ff89a73e0a8f513c71b,"fix for AMQ-2022

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@724687 13f79535-47bb-0310-9956-ffa450edef68",1,7
05602bb0b198cd3695e99eec79c5a559138b94d0,"nail down build-helper-maven-plugin version for reproducibility

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@725018 13f79535-47bb-0310-9956-ffa450edef68",0,5
9e6f62b7c2396f31279ac13811226cac35e87257,"AMQ-2029 set JMS* headers on non-amq messages, with a test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@725019 13f79535-47bb-0310-9956-ffa450edef68",14,32
577eae65fd9d1b6cfb5ffb8b22bbc2e261601d12,"AMQ-2028 fix thread safety problem in ActiveMQSessionExecutor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@725020 13f79535-47bb-0310-9956-ffa450edef68",15,14
301203e6254aae3f792ddd4bc0ffea904fab61f5,"resolve AMQ-2030, rev OpenWire version to 4 to accomadate additional field in ConsumerInfo that can hold array of networkConsumerIds that allows suppression of duplicate topic subscriptions in a cyclic network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@725323 13f79535-47bb-0310-9956-ffa450edef68",17,12088
4229aee737feb32590afc36f0361d840ce1cec2b,"fix AMQ-2032 - consumer.dispose was clearing delivered messages even if in a tx

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@725737 13f79535-47bb-0310-9956-ffa450edef68",14,115
7aec12eaca46697d6ac038968ce12139d8149c24,"fix for AMQ-1989 and a couple of improvements for Stomp Java client

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@726668 13f79535-47bb-0310-9956-ffa450edef68",5,27
50a98e3b0e078a5f8be03ef2e75ae0745a40e719,"fix - AMQ-2034 - have close in XA transaction deferred to synchronisation after completion, have rollback call beforeEnd to propagate acknowledgements; add a bunch of tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@726764 13f79535-47bb-0310-9956-ffa450edef68",10,364
739e1378a6384910d9bed92f1eda956f7df6ba53,"resolve AMQ-2006 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@726785 13f79535-47bb-0310-9956-ffa450edef68",37,72
d8bdf5b3e2a9cde6c7b2e572026b5dcfb30833e9,"fix for prefetch size issue reported in AMQ-1807

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@727017 13f79535-47bb-0310-9956-ffa450edef68",9,38
70f4eba372a5dafa6ed6398648c71246db456c52,"cobertura test coverage reports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@727352 13f79535-47bb-0310-9956-ffa450edef68",0,19
9a432f22f9e80c93eb905e90ef67331aed01b6c7,"resolve AMQ-2033 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@727353 13f79535-47bb-0310-9956-ffa450edef68",238,290
e6a560d96096535c3f6c30a18895606e6eedb670,"fix for AMQ 2036

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@727396 13f79535-47bb-0310-9956-ffa450edef68",4,4
14a98e7958e2293845d41f408b3fc8ec9e4621ac,"apply patch from AMQ-1098

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@728687 13f79535-47bb-0310-9956-ffa450edef68",0,4
27cbf7b691e8028e9f0927c1f68b754e342976c2,"fix for https://issues.apache.org/activemq/browse/AMQ-2038

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@728964 13f79535-47bb-0310-9956-ffa450edef68",1,22
99819f378f46b4531c11577870b36d47de59c705,"fix AMQ-2021 with test, seems to be the same issue in AMQ-2035

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729038 13f79535-47bb-0310-9956-ffa450edef68",4,260
185711e2f59f8d813d303d1a21a086b5791129cc,"minor javadoc and spelling fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729437 13f79535-47bb-0310-9956-ffa450edef68",29,25
bbdedeadf6c33bcbebe96e39e1380ed116fca3c5,"fix for https://issues.apache.org/activemq/browse/AMQ-2044

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729498 13f79535-47bb-0310-9956-ffa450edef68",7,9
dfdd8963add27cad854c5ea2a91d907ddac40401,"Fix for https://issues.apache.org/activemq/browse/AMQ-2043

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729703 13f79535-47bb-0310-9956-ffa450edef68",3,7
3b374365c193cd07940de22198f527810d1e043d,"Fix for https://issues.apache.org/activemq/browse/AMQ-1918

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729803 13f79535-47bb-0310-9956-ffa450edef68",143,160
e585aaec2fa644c7f1b36dbc0d47e11bbff1f059,"AMQ-2045 Add consistency checks to Valve and balance usage in VMTransport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729835 13f79535-47bb-0310-9956-ffa450edef68",4,18
fd84b78d5bd9d5132f7179f67adf2802f6dbf21b,"minor code cleanup - more final variables, generics, less unneeded initialization

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729836 13f79535-47bb-0310-9956-ffa450edef68",5,5
8242a3f58c8f7ecf3d24a7ebe69cb26bbd12888b,"fix for https://issues.apache.org/activemq/browse/AMQ-1494

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729844 13f79535-47bb-0310-9956-ffa450edef68",4,117
63e3f41af28db87f80bc68823d8a9b2e469ab408,"Fix for https://issues.apache.org/activemq/browse/AMQ-1842

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729939 13f79535-47bb-0310-9956-ffa450edef68",244,538
f42627054c902fd603d512b7776063ae5bedaa0a,"Fix for https://issues.apache.org/activemq/browse/AMQ-1842

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729940 13f79535-47bb-0310-9956-ffa450edef68",32,6
30f41b9811cb883bd2b251a216eb59f3431caf9d,"Fix for https://issues.apache.org/activemq/browse/AMQ-1842

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@729942 13f79535-47bb-0310-9956-ffa450edef68",3,3
90fd917a6717688ff6f14a227b30bad3cdfbc74e,"fix for https://issues.apache.org/activemq/browse/AMQ-2046

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@730071 13f79535-47bb-0310-9956-ffa450edef68",1,7
e08cc350e0dba5fa9c781869c93f183695dca10a,"AMQ-2049 Fix race condition on ConnectionInfo by copying.  Minor javaodc cleanup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@730226 13f79535-47bb-0310-9956-ffa450edef68",5,15
13d692ebde6732870e90f1b6ca95c21054e20e55,"AMQ-2052 Be careful about when to use a file-system-safened id

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@730596 13f79535-47bb-0310-9956-ffa450edef68",34,19
f27bd3c491de5c2ddd77515b30e9d097ec6f2490,"AMQ-2052 Throw an exception when references to non-existent messages are encountered

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@730598 13f79535-47bb-0310-9956-ffa450edef68",2,1
78c002f5686b5ab724f0943b199b4f9ebc45ea66,"AMQ-2052 more better fixes of where to make the name file system safe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@730614 13f79535-47bb-0310-9956-ffa450edef68",24,14
8a857bdc0111d879e47efe9d651559c89b3768c7,"AMQ-2052 another file name problem

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@730817 13f79535-47bb-0310-9956-ffa450edef68",3,4
4199c950986accb688f04608f4943885a8347a06,"improvement for https://issues.apache.org/activemq/browse/AMQ-1747 patch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@731529 13f79535-47bb-0310-9956-ffa450edef68",4,1
f62737be7caa75e179dee1f6b081632668dd06af,"Moving stuff around so that activemq-core can depend on kahadb instead of kahadb depending on activemq-core.  This step allows kahadb to be used as the default
store implementation if desired.  Will do that next.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@731704 13f79535-47bb-0310-9956-ffa450edef68",4352,110
2755be3d06e367d8397f693979577539099d1913,"fix for https://issues.apache.org/activemq/browse/AMQ-2055

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@731985 13f79535-47bb-0310-9956-ffa450edef68",6,0
4286731e0f20266a7d6afe53e8a45a470fdb0376,"fix comment explaining test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732171 13f79535-47bb-0310-9956-ffa450edef68",1,1
d8c14e075ffc54385c2a6817758e9afd100441ba,"make use of 'this' more consistent and fix a couple warnings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732175 13f79535-47bb-0310-9956-ffa450edef68",12,12
e2c83d6fb6355dcf65821268cd1843ff603dc5f9,"Remove some dangerous method calls from the constructor (that did nothing), make some fields final, remove duplicate start tracking, and finish generic conversion

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732182 13f79535-47bb-0310-9956-ffa450edef68",42,29
34acbdc154fc5dc6d484cbc075e8394843f97b96,"minor generics, import, and javadoc cleanup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732184 13f79535-47bb-0310-9956-ffa450edef68",5,7
07b6a38336a62913d42817a89cdc821a89419b7f,"AMQ-2053 introduce methods to remove (closed) message stores from possible caches in PersistenceAdapters

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732259 13f79535-47bb-0310-9956-ffa450edef68",5,159
238761262881afcf034a9f649625908cbad8b42b,"AMQ-2034 move delay-session-close-in-xa-tx code to plain session so it works in managed environments.  Also prevent duplicate synchronization registrations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732489 13f79535-47bb-0310-9956-ffa450edef68",22,27
e3eba854506e0454e0c8fc340dcdaf1707e49bbd,"fix for https://issues.apache.org/activemq/browse/AMQ-998

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732672 13f79535-47bb-0310-9956-ffa450edef68",3,79
589ec88a2b9a08d350a31c999d07b7590dc38c75,"added basic test coverage checks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732984 13f79535-47bb-0310-9956-ffa450edef68",0,14
3967b81cc7f506efee255288fdd4e2cc17078e31,"name and description for kaha db module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@732985 13f79535-47bb-0310-9956-ffa450edef68",0,2
4a1279639f8598cd90b1e32c32068c1822731550,"fix for https://issues.apache.org/activemq/browse/AMQ-2061

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@733761 13f79535-47bb-0310-9956-ffa450edef68",7,83
0b34f3c89f807fe4a76423df00c0a7cc528007ff,"resolve AMQ-2062 - add setExceptionListener to amq connection factory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@733803 13f79535-47bb-0310-9956-ffa450edef68",0,23
8b9e755035c0cd901da6083f48f53b9ad2f763e4,"resolve AMQ-2062 - add setExceptionListener to amq connection factory - 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@733811 13f79535-47bb-0310-9956-ffa450edef68",1,24
050436d72c40200af53c56e283eea1519b147e15,"Fixing rotate() method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@733849 13f79535-47bb-0310-9956-ffa450edef68",1,1
47e6d0482bbac2dc903c8da6f1328e1289f884ef,"Fixing 2 bugs and adding a nice to have toArrayList() method


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@733888 13f79535-47bb-0310-9956-ffa450edef68",3,16
f1d59cd2cd236dee5d78520a0c607ef289a9dfa9,"add test case to exercise producerFlowControl sendFailIfNoSpace with queue memory limit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734114 13f79535-47bb-0310-9956-ffa450edef68",17,146
4dc1fccfdba3d350ecd3e6e3d9996b379496b818,"excluding some tests that randomly fails and stops CI

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734129 13f79535-47bb-0310-9956-ffa450edef68",3,4
b5b6a0834d1e2c9bf430e2cd86412274e633dceb,"resolve https://issues.apache.org/activemq/browse/AMQ-2064 - persistence Adapter and temp store are now associated with the simple xbean system usage in the default activemq.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734194 13f79535-47bb-0310-9956-ffa450edef68",1,22
20006a030d823526c65b48a8f821162e6696e502,"apply patch from https://issues.apache.org/activemq/browse/AMQ-2054

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734256 13f79535-47bb-0310-9956-ffa450edef68",15,18
d89abe0322c3b5319c68547f317e31f496356351,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2044

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734364 13f79535-47bb-0310-9956-ffa450edef68",2,2
3a56070500b8d9d0e2fac0c33c699d4dd9116ba5,"resolve unit test failures from changes via: https://issues.apache.org/activemq/browse/AMQ-2034 - only use sync for close if in xa tx, this may need some rework for managed tck case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734393 13f79535-47bb-0310-9956-ffa450edef68",2,2
2d0fa5e415f942551ccc05b872600beb778a87a3,"resolve https://issues.apache.org/activemq/browse/AMQ-2051 - allow remove after remove failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734524 13f79535-47bb-0310-9956-ffa450edef68",1,168
e547cbdf4fa70f0e97920b78e8e40b011ef6034f,"fix for https://issues.apache.org/activemq/browse/AMQ-2047

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734766 13f79535-47bb-0310-9956-ffa450edef68",6,6
2deea18cc24e4f144f2ebf8d1365de9ea3ba382d,"applied patch from https://issues.apache.org/activemq/browse/AMQ-2068 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@734981 13f79535-47bb-0310-9956-ffa450edef68",0,11
1f00a395f895751cc8d50eccd335b004c0f77012,"AMQ-2078 extend transaction tests to xa in ra

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@735912 13f79535-47bb-0310-9956-ffa450edef68",48,301
76b7822cf27204648e8bcf6d5497a3f3758c77f5,"AMQ-2078 extend transaction tests to xa in ra -- missed the pom.xml mod

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@735913 13f79535-47bb-0310-9956-ffa450edef68",0,7
ab438f68c106afce61949371c577f4505870a693,"AMQ-2079 improve error messages in AMQConnection.createSession, and make ManagedConnectionProxy only supply consistent parameters

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@735914 13f79535-47bb-0310-9956-ffa450edef68",21,32
807f64591dcd4e0e496dc5795405812129d0d062,"Recovery dispatch refactoring as the part of the solution for the https://issues.apache.org/activemq/browse/AMQ-2016

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@736720 13f79535-47bb-0310-9956-ffa450edef68",22,32
a321204079f435deaf8d082fb3de95c5c792c7f2,"fix for http://issues.apache.org/activemq/browse/AMQ-2016

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@737017 13f79535-47bb-0310-9956-ffa450edef68",2,315
977393d9e74364c21260f00d2fe0e314c77f9afa,"fix for http://issues.apache.org/activemq/browse/AMQ-2082

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@737062 13f79535-47bb-0310-9956-ffa450edef68",4,166
26c25ebe6de919d75a245b97730aadf470adf766,"adding some message group tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@737685 13f79535-47bb-0310-9956-ffa450edef68",0,165
9dec1b18ba07a83f6d3d8f12f99710477f5e47ae,"test for https://issues.apache.org/activemq/browse/AMQ-2080 that shows use of reconnectDelay

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@737703 13f79535-47bb-0310-9956-ffa450edef68",0,24
eee37fbdb426e1499dac242eb5b40a4b00629fec,"ACTIVEMQ-2085 only create JMXConnectorServer if AMQ has created the mbean server

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@737951 13f79535-47bb-0310-9956-ffa450edef68",4,0
39dd6b914a6954bf8f7114e97831482fd616e8bb,"fix for https://issues.apache.org/activemq/browse/AMQ-2086

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@738052 13f79535-47bb-0310-9956-ffa450edef68",0,238
2bda17a6b0075ffbe397c6d3b62ebdc2810c1683,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2086 and a couple of improvements for network tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@738421 13f79535-47bb-0310-9956-ffa450edef68",10,15
43982afdfa2a43ff26a11f4982f5445ee21769cb,"apache licence headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@738423 13f79535-47bb-0310-9956-ffa450edef68",1,32
06da208e163f1fb6da2f4204bac57756b15b4b28,"test case for https://issues.apache.org/activemq/browse/AMQ-2087

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@738566 13f79535-47bb-0310-9956-ffa450edef68",0,99
eaafb4c838d46bda61333ff9a350238fe3e43e10,"variant test case for https://issues.apache.org/activemq/browse/AMQ-2087

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@738577 13f79535-47bb-0310-9956-ffa450edef68",21,122
f6ebeecc2affb36a1984079723c5cb2cd0c3181a,"fix for https://issues.apache.org/activemq/browse/AMQ-1807

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@738904 13f79535-47bb-0310-9956-ffa450edef68",27,132
42824ffc55a87dc4b8b440c25ad02a816b042a95,"Adding a handy getList() method to the LinkedNode impl

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@738946 13f79535-47bb-0310-9956-ffa450edef68",2,7
02ca463bf8898834da4b6bb6e5f8451d24278077,"disable a bunch of ra xa tests pending some investigation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739001 13f79535-47bb-0310-9956-ffa450edef68",1,9
3b08860f10a12b8753e24756cf66f4a8d66b270e,"resolve https://issues.apache.org/activemq/browse/AMQ-2087 - add a long attribute to RemoveInfo where the last delivered broker sequence id is passed back to the broker, prefetched messages with ids > than this value now don't get their redelivery count incremented, requires wireformat version increment and Destination api change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739008 13f79535-47bb-0310-9956-ffa450edef68",54,12148
3804d66f6f007d20c3372df72b8349033dafecb9,"resolve https://issues.apache.org/activemq/browse/AMQ-1730 - add some more tests and remove workaround for prefetch=0, relates to https://issues.apache.org/activemq/browse/AMQ-2087

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739249 13f79535-47bb-0310-9956-ffa450edef68",16,68
51f68fb11017845ca1e01c657f7b927a2ca359a9,"additional fix for http://issues.apache.org/activemq/browse/AMQ-2016

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739292 13f79535-47bb-0310-9956-ffa450edef68",9,12
519045b7aba99e86360b6c30a1c45dd04c145853,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2086; reverting changes since turning off persistence fails some tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739293 13f79535-47bb-0310-9956-ffa450edef68",2,2
564a9c2ca05c886c0e48e3d9a6b49f040b6173d2,"fix for https://issues.apache.org/activemq/browse/AMQ-1593

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739307 13f79535-47bb-0310-9956-ffa450edef68",16,42
59643ef23ecf1e0a59fbc4d798b84a8a4457d429,"fix for https://issues.apache.org/activemq/browse/AMQ-2092

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739950 13f79535-47bb-0310-9956-ffa450edef68",0,3
40465998ee66c025e726f5ce7ac8ecc3fac480ed,"resolve issue with broken ra tests, allow XA operation on non transacted session, check for transaction now is xa aware

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739961 13f79535-47bb-0310-9956-ffa450edef68",25,39
662aee8f211e5848ad400f6d52026e4a350acbc6,"a bit better error message for https://issues.apache.org/activemq/browse/AMQ-2092

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@739966 13f79535-47bb-0310-9956-ffa450edef68",1,1
c01e182cfd510e36496c902dbb385aa3821169ee,"Avoid NPE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@740087 13f79535-47bb-0310-9956-ffa450edef68",0,2
ba706d134d14653a015692f5a303fb03ae910dc5,"Added a handy little rotateTo method to be able to quickly rotate to a specific node.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@740329 13f79535-47bb-0310-9956-ffa450edef68",0,11
675afd696210db795532a09747244c56e2f0909f,"holder test to verify steady enqueue rate of store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@740339 13f79535-47bb-0310-9956-ffa450edef68",0,161
5e2eedcac04e26860a6303068fecea13de7e07ee,"Added a option to be able to test againt the new kahadb store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@740344 13f79535-47bb-0310-9956-ffa450edef68",16,25
1ab76f775d4cade018f16f970b93b5ee9d77ac8f,"AMQ-2091: Add a cache to the jms selector parser for speed improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@740375 13f79535-47bb-0310-9956-ffa450edef68",21,49
9a1f9c2fe3d4c0cc32887d942890da833a4ff093,"AMQ-2095: Make pooled sessions implement XASession for specific transaction management

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@740476 13f79535-47bb-0310-9956-ffa450edef68",41,55
37c2a955a2465df01749cf0d5da3ed19d55df3a1,"move setBatch to MessageStore interface to keep cursors store agnostic -  http://issues.apache.org/activemq/browse/AMQ-2020 - some store specific tests to follow

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@740765 13f79535-47bb-0310-9956-ffa450edef68",18,41
9bb46820b2bcfc279083ac84c42f793c882d9f0f,"store specific tests for setBatch http://issues.apache.org/activemq/browse/AMQ-2020

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741061 13f79535-47bb-0310-9956-ffa450edef68",2,271
c22cd6563b6956a164ff087d7a59ac33676b0071,"update simple enqueue rate verifier for kaha store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741096 13f79535-47bb-0310-9956-ffa450edef68",86,71
690b7bcbd1f8da6a277e1c54da956c2c3768cc12,"a couple of Stomp improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741109 13f79535-47bb-0310-9956-ffa450edef68",5,14
3c543a0cd0fafa74c39d472c6ed5c20457382e82,"pass asyncWrite flag to page file

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741136 13f79535-47bb-0310-9956-ffa450edef68",0,1
19c4316a1c042f2ae6f3c195f333fafd233e0e69,"Added the ability to customize thw write batch size in the PageFile.  
Added some diagnostic logging to see when store updates take too long and why.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741137 13f79535-47bb-0310-9956-ffa450edef68",1,28
c0594251e24a29d19677965c16b2dd8b27f4a1bf,"Bettter property names. 



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741169 13f79535-47bb-0310-9956-ffa450edef68",53,59
8262ef790381e8a68c01f1f66596a8ffbca3f67c,"Changed the cleanup algorithm used in the KahaDB..  It should now be much faster.
Fixed bug in the BTreeNode.visit() which was making us load most of the pages instead of letting us filter down to just a few.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741212 13f79535-47bb-0310-9956-ffa450edef68",46,69
f0af62f64d32fb2fd8acf6f95b05b8c4a2295783,"add a little more info to flush

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741293 13f79535-47bb-0310-9956-ffa450edef68",0,6
63709a9a886a104312a2733adf8af7c24593f198,"test for setBatch with KahaDB AMQ-2020

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741325 13f79535-47bb-0310-9956-ffa450edef68",0,45
180b0ec4ab44664c79388651e6e489b4171abc74,"- Implemented the setBatch API call in KahaDBStore.
- fixed bug: When a async thread was used for writing in KahaDBStore you could run in a Memory leak due to an unbound enqueue buffer type problem.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741327 13f79535-47bb-0310-9956-ffa450edef68",11,42
273933378b086ac48c7575686455ddeb8e1c454b,"Opps miss a couple of commits with that last change.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741329 13f79535-47bb-0310-9956-ffa450edef68",2,2
d89a3020411098e24c8f5018b0f5c01882a3d264,"Fixed StoreQueueCursorKahaDBNoDuplicateTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741334 13f79535-47bb-0310-9956-ffa450edef68",6,1
deea2d11a8b0b6a45e2b11dc43506c35d90e08ce,"expose relevant index attributes for configuration from kahadb

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741528 13f79535-47bb-0310-9956-ffa450edef68",12,47
51e82d59e71d098746027d7b61cddd1ee9e48fa8,"better synchronization of the metadata.lastUpdate var

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741597 13f79535-47bb-0310-9956-ffa450edef68",32,38
789ea7cab9b64cf348e54875ef08cf0f096a3fa5,"Making the removeDataFile a little smarter to avoid removing data files that are still being worked on

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741600 13f79535-47bb-0310-9956-ffa450edef68",4,6
ca801065730a89a040462247e972fa658adddcd5,"resolve unit test break, check for tx need to be overridden to take care of shared case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741646 13f79535-47bb-0310-9956-ffa450edef68",0,5
d761e80ae405ab1373439462bec6507418c0320f,"- added some handy generic visitors to the BTreeVisitor class.
- Updated the recovery process so it now rollsback changes applied to the index which did not get synced to the journal.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741659 13f79535-47bb-0310-9956-ffa450edef68",15,146
f73b622a600fbb8ea8c2f0f8b7e8443db6065841,"Change the way journal records are validated on recovery to be consistent.  We now use a checksum to provide better consistency.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741741 13f79535-47bb-0310-9956-ffa450edef68",511,260
b7c2b678bb37d6d315e22be2e53d0371835f6bf3,"Added a new TempKahaDBStore which is an optimized KahaDB based message for temporary messages.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@741769 13f79535-47bb-0310-9956-ffa450edef68",0,1371
657e6fa1dd1f4c3700e14a9fe46e9aa130e830fa,"add extra assert to consumer advisory test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742377 13f79535-47bb-0310-9956-ffa450edef68",0,7
4dda0d83536040814f3aa8b3aea99e2e4d3006af,"resolve npe if no mbeans found

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742443 13f79535-47bb-0310-9956-ffa450edef68",3,7
15065b71c7decf00c0ce9f6ceb8fa75cdc18e5c1,"fix for https://issues.apache.org/activemq/browse/AMQ-2088

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742458 13f79535-47bb-0310-9956-ffa450edef68",8,41
504bcf0596693070d9c1deb00a6ef2c6455ecf3d,"demote log error or async exception to warn, with sendFailIfNoSpace, logs gets spammed with expected error messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742603 13f79535-47bb-0310-9956-ffa450edef68",1,1
586ea12d1e11356751c197c95420b0bc06fbd947,"Fix for https://issues.apache.org/activemq/browse/AMQ-2100

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742876 13f79535-47bb-0310-9956-ffa450edef68",2,8
60d6c36ff2aeb23f3ca91f7b4cb135f665a776dd,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2088

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742888 13f79535-47bb-0310-9956-ffa450edef68",0,10
aed1b5c67cc96cee37853cf6067c9c8eadc159a1,"fix for https://issues.apache.org/activemq/browse/AMQ-2101

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742930 13f79535-47bb-0310-9956-ffa450edef68",1,0
cfb4234cee8d33d6309e75d8159865fe81d7d1cb,"fix up org.apache.activemq.network.MulticastNetworkTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@742941 13f79535-47bb-0310-9956-ffa450edef68",8,8
9a6074387637d18154dffb3017f7bf396aa7b237,"test for AMQ-2100

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@743027 13f79535-47bb-0310-9956-ffa450edef68",0,75
69e5f769b26be6dd1c3f170d91b79b08b5270349,"Fix for https://issues.apache.org/activemq/browse/AMQ-2103

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@743258 13f79535-47bb-0310-9956-ffa450edef68",1,3
b2148c5e7a809598b391f82c999334381367a231,"fix for https://issues.apache.org/activemq/browse/AMQ-2104

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@743320 13f79535-47bb-0310-9956-ffa450edef68",13,113
610d5272ec7b948afa4bbfaa2b011b8a2aa74ee6,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2103; some tests were failing because of this change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@743741 13f79535-47bb-0310-9956-ffa450edef68",2,1
a18a55f75ce2410c534a97a94f6b71c2ac40ce6b,"excluding kaha tests as they are failing occasionally

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@743743 13f79535-47bb-0310-9956-ffa450edef68",2,2
e16a63815f20681c4c0550dbf1dfa156d32c62ef,"The wireFormat option needs to get removed otherwise you'll get an error saying that it's unrecognized

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@743870 13f79535-47bb-0310-9956-ffa450edef68",1,1
34b125e18fff93fad1a00d025d53b8dd5e3379fc,"changing names of excluded kaha tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744042 13f79535-47bb-0310-9956-ffa450edef68",2,2
479acad417aa06a28d90abc0baf6a32f203d4f43,"fix for https://issues.apache.org/activemq/browse/AMQ-2096

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744082 13f79535-47bb-0310-9956-ffa450edef68",0,3
049b43cd17dc64aec5ffe9a7cfc8c5a17a9be7fd,"refactored failover uri test to support testing multiple values

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744112 13f79535-47bb-0310-9956-ffa450edef68",11,53
32d6841a13c1d0ed8723f965f9c51a0120fd3952,"A few more failover transport uri test combinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744870 13f79535-47bb-0310-9956-ffa450edef68",2,3
b0eb9731c01f7ce853063a9421708cc4b84bb977,"two consumers test for zero prefetch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744947 13f79535-47bb-0310-9956-ffa450edef68",0,19
b4aa979d909872bb7de528ef47555ba2ee754d51,"fix intermittent failure when sync close beats async ack

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744972 13f79535-47bb-0310-9956-ffa450edef68",0,3
9f8777d3a03806be5ce02494496418eeb93f921d,"resolve AMQ-2121, shared lock needs to be less contentious

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744975 13f79535-47bb-0310-9956-ffa450edef68",1,1
e48ff70d4b43b6b29a3c238b2aa835da89e1472c,"resolve AMQ-2111, only the network subscription that causes the initial subscription needs to be tracked as this is the one that will be propagated via an advisory to the rest of the network. The existing update was making a mod to a possibly inflight advisory message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@744983 13f79535-47bb-0310-9956-ffa450edef68",12,31
9ad6c089faf923cf92421cab51cd42f2f0a33d55,"fix for https://issues.apache.org/activemq/browse/AMQ-2120

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745031 13f79535-47bb-0310-9956-ffa450edef68",57,79
9216c18c73e3bf5d755dff963750f08106423b56,"little refactor of recovery dispatch as now only used for browser dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745456 13f79535-47bb-0310-9956-ffa450edef68",77,175
7f5e6667f4b2e281bd7a6011a8054775f2b4dbc3,"partial fix for AMQ-2075

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745480 13f79535-47bb-0310-9956-ffa450edef68",0,3
9e3e5ad4ccd5f9e818162c693f79eb45d6fba8da,"re AMQ-2076, see if a little more time will help

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745490 13f79535-47bb-0310-9956-ffa450edef68",5,6
8b0bb3373a6d9a5b36f91ce2e888c9ea452ed0f3,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2104 and https://issues.apache.org/activemq/browse/AMQ-1509

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745558 13f79535-47bb-0310-9956-ffa450edef68",13,70
76d9fccb2d6c2972217547a9e929af5e7fd31b0b,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2085

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745833 13f79535-47bb-0310-9956-ffa450edef68",2,5
f53e3927668f9a2a1d7a57daa158a7a9922222b2,"Upgrading Camel https://issues.apache.org/activemq/browse/AMQ-2124

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745895 13f79535-47bb-0310-9956-ffa450edef68",1,1
184761a119ae684a910bed41bc0f81bc2334fdb4,"tidy up redispatch logic a little more, resolve: AMQ-2128, deliver acks on dispose in auto_ack mode. also get some closure on: MQ-2075

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@745953 13f79535-47bb-0310-9956-ffa450edef68",37,112
ae2a3e21822ee756f3b0d78536d79f06bdf9bf21,"a little more time for slow networks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@746191 13f79535-47bb-0310-9956-ffa450edef68",2,2
e24a791f6ebdf27302822b795cf4619950a03374,"Fix for AMQ-2130 to upgrade to Camel 2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@746263 13f79535-47bb-0310-9956-ffa450edef68",47,49
5273aab54855faf0850db22c6f873211f41489f6,"First cut of AMQ-2131 adding the /camel web application to the ActiveMQ broker distro

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@746264 13f79535-47bb-0310-9956-ffa450edef68",4,22
f4aa952a098fa2b9f41d674a65f19f712b6cef30,"Initial cut of AMQ-2131 for using camel-web to interact with camel endpoints and routes while inside the AMQ broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@746279 13f79535-47bb-0310-9956-ffa450edef68",0,71
45c246cd6dabf30ecca751c5ebebab1694dd885d,"Added repository to download jersey et al for camel-web dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@746948 13f79535-47bb-0310-9956-ffa450edef68",0,9
e01a937d29a999eea332d96038552a5cf2130e2e,"Made topics also auto-expose themselves in Camel's context

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@747001 13f79535-47bb-0310-9956-ffa450edef68",0,32
2de531cb5209e0aa8ce46f18379619352583f6ba,"fix for https://issues.apache.org/activemq/browse/AMQ-2074

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@747030 13f79535-47bb-0310-9956-ffa450edef68",3,3
9d9d4cd69db3923233c2a3ff5d1a6bdf64416553,"apply patch from AMQ-2109, with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@747384 13f79535-47bb-0310-9956-ffa450edef68",9,167
0a5ae2b68eb1379bb9146afc22d0ff51f0dfc9f2,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2074

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@747391 13f79535-47bb-0310-9956-ffa450edef68",3,11
3cbe388595cefa937944c3d4efabd2ebcf729974,"changing a link from incubator to project site

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@747718 13f79535-47bb-0310-9956-ffa450edef68",1,1
8e6446ffcd2f811c16b14d8a4a6c2d5014cfdd39,"resolve AMQ-2123, deal with the topic dispatch case where a subscription arrives between store of message and dispatch of message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@747951 13f79535-47bb-0310-9956-ffa450edef68",9,119
f54713a7b36e7410702ab686ff02a8db262af527,"fix for https://issues.apache.org/activemq/browse/AMQ-1859

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@748204 13f79535-47bb-0310-9956-ffa450edef68",2,39
337962273d4abdcdbea743aee133be4f4c3e8d71,"typo fix for https://issues.apache.org/activemq/browse/AMQ-1859

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@748205 13f79535-47bb-0310-9956-ffa450edef68",1,1
d98ea376bac24163571279c6598072af4fc6ed8b,"resolve mem leak in kahadb - AMQ-2143

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@748218 13f79535-47bb-0310-9956-ffa450edef68",2,58
3266019825e3d0ec8c6f8d45cdf4c1b634dd525a,"resolve broker unit test testReceiveTwoThenCloseConnection(org.apache.activemq.ra.JmsXAQueueTransactionTest): ra test uses Auto ack mode but the xa tx has been cleaned up so amq just sees a close on auto ack so it delivers the ack. AMQ-2128  Keeping the tx around till after the close sorts this out. One question though, with the ack mode supposed to be ignored, does it makes sense for the RA to use a transacted ack mode when there is a transaction?

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@748258 13f79535-47bb-0310-9956-ffa450edef68",1,2
d458a5d17f8d35373e8f6eff8860c680f01d4cee,"fix org.apache.kahadb.journal.JournalTest.testBatchWriteCompleteAfterClose() after changes for AMQ-2143, the file and offset in a location are set after an enqueue to a write batch, so doing the inflight add just overwrote the same entry, -1:-1. Which fixed the leak but broke inflights, proper fix is to do the inflight addition in enqueue, just after the location details are known and with a lock on appender enqueue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@748475 13f79535-47bb-0310-9956-ffa450edef68",10,8
563ec4433a65590b2caab6b42658f3143c36ea74,"AMQ-2094 Apply patch to allow binding to specific IP address

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@749464 13f79535-47bb-0310-9956-ffa450edef68",5,2
212a7904a9fc1ce567ee7d05c80924602914c6fe,"fix AMQ-2102, apply patch from ying with test from dan, the test shows stack traces on console re slave out of sync, patch resolved this

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@750455 13f79535-47bb-0310-9956-ffa450edef68",4,485
b56cb8f3e2701af54cd5db5ad91adaccd8bfef85,"AMQ-2094. fix break of org.apache.activemq.transport.tcp.SslContextNBrokerServiceTest where localhost and host name resolve to different interfaces as now the broker just listens on one interface unless ip:0.0.0.0 is used. The connectorUri did nore reflect the socket

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@750532 13f79535-47bb-0310-9956-ffa450edef68",8,17
c7b48c4757c89a58bdf9097a8ca60c247a37deee,"little more info in exception

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@750537 13f79535-47bb-0310-9956-ffa450edef68",1,2
6d9163af397eaef25ea094213d22b3957c7ef261,"seems to hang on slow HP box, ensure it does not stop rest of the tests using autoFailSupport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@750885 13f79535-47bb-0310-9956-ffa450edef68",0,5
b514d3fb4b71621ea0cbc180ba0e64534d0d4621,"fix for https://issues.apache.org/activemq/browse/AMQ-1324

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@751656 13f79535-47bb-0310-9956-ffa450edef68",198,1250
f9d5449f47c2067dfe9606133d085ea5e0da734d,"resolve AMQ-2102|https://issues.apache.org/activemq/browse/AMQ-2102 - refactor message dispatch on slave to take account of subscription choice on the master, this ensures slave is in sync w.r.t outstanding acks. processDispatchNotification imoplemented by Queue type destinations which delegates to subscription after doing a dispatch, test demonstrates slve out of sync errors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@753214 13f79535-47bb-0310-9956-ffa450edef68",43,275
369b1b50fffb6f0646f801081ebe3130812cc356,"resolve AMQ-2150, thanks Bruce, patch applied

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@753218 13f79535-47bb-0310-9956-ffa450edef68",1,1
a91f59a201d6ad39d23135603d6166f2f1737b22,"resolve AMQ-2153|https://issues.apache.org/activemq/browse/AMQ-2153

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@753221 13f79535-47bb-0310-9956-ffa450edef68",1,1
2a58f4c3a2a0a27ac51b25273239008e05126607,"fix for https://issues.apache.org/activemq/browse/AMQ-2160

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@753222 13f79535-47bb-0310-9956-ffa450edef68",6,61
3b06e128f91542255e43d80eb2f1f10e32d03c65,"resolve: AMQ-2144|https://issues.apache.org/activemq/browse/AMQ-2144 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@753297 13f79535-47bb-0310-9956-ffa450edef68",4,115
95ff01053a1e91a96cd1bffdb81442be89ef3734,"Allow the negociation protocol to be used when not inserted as a transport filter.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@754959 13f79535-47bb-0310-9956-ffa450edef68",40,48
b41e1a7579591f954f99776860a69cd3d3b73b4a,"Making handly CONSTANT public


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@754962 13f79535-47bb-0310-9956-ffa450edef68",1,1
6e989edaa1df51c398a94e22912f04733de35831,"The useInactivityMonitor option can now be used to disable configuring a inactivity montior on the transport.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@754963 13f79535-47bb-0310-9956-ffa450edef68",1,10
7b16aec2c0edec1bff95245900e702811aa3a718,"apply patch from https://issues.apache.org/activemq/browse/AMQ-2154, with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@754973 13f79535-47bb-0310-9956-ffa450edef68",4,15
a1cccb9ed96a7736bb594dcd63d2eabc47c3b825,"adding java.net repository

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@755538 13f79535-47bb-0310-9956-ffa450edef68",0,9
08aecbee6e9754e696f3bdf64634263dc73cb5c5,"partial fix for AMQ2149|http://issues.apache.org/activemq/browse/AMQ-2149 , contention when usage limit reached can lead to out or order mesage dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@755715 13f79535-47bb-0310-9956-ffa450edef68",34,256
86ec0553c564dd31fc2007d9d1ab7acb05ae634b,"further tests for AMQ-2149

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@756469 13f79535-47bb-0310-9956-ffa450edef68",26,163
42d91a3b79c8331d1ed43e6b1fbb3a6345194f0f,"fix for https://issues.apache.org/activemq/browse/AMQ-2179; xpath selectors and boolean expressions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758184 13f79535-47bb-0310-9956-ffa450edef68",11,52
fb9a292be1330ea72b1d84b8fb0f28d891ed7b82,"share the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758200 13f79535-47bb-0310-9956-ffa450edef68",32,75
31c7e620c272d97bf3839f584e5deb133e5da23a,"add waitUntilStarted to broker service so it is possible to wait till recovery is complete

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758268 13f79535-47bb-0310-9956-ffa450edef68",1,19
65aef3660065244b797aa38bf2dbc1be59a68920,"getBody() does not throw exceptions any more, changed to 2.0 approach

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758293 13f79535-47bb-0310-9956-ffa450edef68",3,2
27ea85e15ac2d82746a05a6d7b74024da4546b4d,"just a minor improvement over the previous commit (758293)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758294 13f79535-47bb-0310-9956-ffa450edef68",2,1
132f662209f7e25a1d9c240fdddcf61e0ed1226c,"resolve AMQ-2149|https://issues.apache.org/activemq/browse/AMQ-2149 - isses with kaha reference store and duplicate messages, recovery of duplicaes and recovery with memory limits and session duplicate acks resulting in out of order message dispatch, more detail in the jira and test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758678 13f79535-47bb-0310-9956-ffa450edef68",56,270
84dbbc758b6eb308b993e9ede3c46cb4495fdffb,"patch applied with thanks: AMQ-2178|https://issues.apache.org/activemq/browse/AMQ-2178

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758721 13f79535-47bb-0310-9956-ffa450edef68",3,3
3d64397cbf2e47f703492d84d477aad9bf0665dd,"Added support for creating BTreeIndex objects with a default constructor.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758732 13f79535-47bb-0310-9956-ffa450edef68",6,23
681d149ffd12e1f5e3a0a4970a295638198a6105,"apply patch from AMQ-2168|https://issues.apache.org/activemq/browse/AMQ-2168 enhanced LoggingBrokerPlugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758777 13f79535-47bb-0310-9956-ffa450edef68",46,574
9a0de1ccaff60f1e7549dd61fd65a9649361d45f,"exercise the features of AMQ-2168|https://issues.apache.org/activemq/browse/AMQ-2168 enhanced LoggingBrokerPlugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758779 13f79535-47bb-0310-9956-ffa450edef68",2,2
d2e9236f30b8038ad7b042b187cca19e1a72b46a,"fix for https://issues.apache.org/activemq/browse/AMQ-2182;apache-camel test failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758789 13f79535-47bb-0310-9956-ffa450edef68",14,37
24dced675c343f44e44a4ea4a85690f189102e44,"add some redirection to the deprecated method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@758908 13f79535-47bb-0310-9956-ffa450edef68",1,3
b8964671463447faffbc86c873f6d38affbdd9cc,"make single ack id visible

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@759125 13f79535-47bb-0310-9956-ffa450edef68",4,6
69946d98059bf419449a886ca37629e007d79e49,"fix for https://issues.apache.org/activemq/browse/AMQ-2097 - missing jar dependency for activemq-xmpp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@760045 13f79535-47bb-0310-9956-ffa450edef68",0,1
c8e518b2dc3f1c8616f7499ff53d8d803bd12306,"fix duplicate detection of messages recovered when space limit is reached and fix cursor cache reenablement when free space becomes available, AMQ-2149

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@760075 13f79535-47bb-0310-9956-ffa450edef68",63,94
eab5a3a2e2f8310f6f71e10ba7ab80408ea999aa,"topic version of test case for AMQ-2149|https://issues.apache.org/activemq/browse/AMQ-2149 with associated fixes to suppress duplicates and out of order messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@760721 13f79535-47bb-0310-9956-ffa450edef68",44,60
cd174e7829728af81fe89ff35fdc53eb32cb9fda,"fix for https://issues.apache.org/activemq/browse/AMQ-2192 - Protobuf module fails to build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@760910 13f79535-47bb-0310-9956-ffa450edef68",5,5
f8ef7ff31f591b49b2aca490ed840d1380ea3d2f,"https://issues.apache.org/activemq/browse/AMQ-2195 - receive should throw an exception if the connection is lost

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@761301 13f79535-47bb-0310-9956-ffa450edef68",3,28
e45bb0690764746dc2f6ae66d3b55efa873b4592,"further tests and fixes related to failover, this time transactions and topics. prefetch and maxPageSize are relevant in the transacted. With redeliveries the prefetch needs to be less than half the transaction size and the maxPageSize needs to exceed the transaction span. more tests in AMQ-2149|https://issues.apache.org/activemq/browse/AMQ-2149 and some amendments to the fixes for that issue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@761597 13f79535-47bb-0310-9956-ffa450edef68",93,222
1f4757b9d18839a5e0c29bc4adcf5c266fe42cc8,"revert prefetch and maxPageSize to defaults to transaction tests, issue was negative inflight count due to duplicate acks, prefetch and max page size was a just a workaround that is not now needed AMQ-2149|https://issues.apache.org/activemq/browse/AMQ-2149

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@761610 13f79535-47bb-0310-9956-ffa450edef68",22,4
21cd3e69c61783a2a0b2ee3c0ae39f16c67fa8c8,"tidy up logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@762287 13f79535-47bb-0310-9956-ffa450edef68",4,4
9f548bb74aa9da57c0226e4eaa381f1efeff8a9e,"ensure duplicate acks are send immediatly and supppress outstanding delivery acks on transport resumption, AMQ-2149|https://issues.apache.org/activemq/browse/AMQ-2149

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@762464 13f79535-47bb-0310-9956-ffa450edef68",34,25
5511217fb154d106541766112cbf7619cd896376,"implement AMQ-2198|https://issues.apache.org/activemq/browse/AMQ-2198 add setSuppressDuplicateQueueSubscriptions option to Network configuration, when true, duplicate subs for the same consumer will be suppressed, relevant when networkTTL > 1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@762925 13f79535-47bb-0310-9956-ffa450edef68",24,110
5b8a88689127b239cc2e10531b8610296e1cf3f9,"tidy up logging for network connectors, make debug level usefull

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@762996 13f79535-47bb-0310-9956-ffa450edef68",22,34
966658fdadb5bca08acacaff23d910eb605a7c90,"resolve AMQ-2199|https://issues.apache.org/activemq/browse/AMQ-2199 add a latch for the event that initialises the localbrokerid and path

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@763565 13f79535-47bb-0310-9956-ffa450edef68",16,27
97ed8c028303d88fd4717f385c554e36616d5f3a,"fix for https://issues.apache.org/activemq/browse/AMQ-1622 - enqueue and dequeue in web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@763765 13f79535-47bb-0310-9956-ffa450edef68",4,4
bcbb1ec1dedbeae06e8e40acf9f747b22bba1fe6,"add verifier test for set/get exception listener on pooled connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@763947 13f79535-47bb-0310-9956-ffa450edef68",2,17
3da13732ec2d556ed1aa021a11b215ab0f3270b2,"some additional tests for AMQ-2198|https://issues.apache.org/activemq/browse/AMQ-2198, also additional logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@763983 13f79535-47bb-0310-9956-ffa450edef68",17,213
d185430ffeadeea3a188019184e5c80b3b2a8bf4,"Fix for https://issues.apache.org/activemq/browse/AMQ-2086 - duplex connector and excluded destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@763993 13f79535-47bb-0310-9956-ffa450edef68",59,251
8f80e3429276fee017ba171a74bd32aef6d0023a,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2086 - remove commons-lang dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@764377 13f79535-47bb-0310-9956-ffa450edef68",8,15
ff59a598cc9016e68471ff62a58a5538b9ba7507,"removing commons lang import statement

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@764403 13f79535-47bb-0310-9956-ffa450edef68",1,0
0c89959c59a332e495d74e2115584409456afe5b,"remove duplicate log info, AMQ-2198|https://issues.apache.org/activemq/browse/AMQ-2198

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@765133 13f79535-47bb-0310-9956-ffa450edef68",5,3
e6790674dc1352d09781ff6cca6207e4a7af2bd7,"fix for https://issues.apache.org/activemq/browse/AMQ-2209 - deleting queue does not remove messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@765141 13f79535-47bb-0310-9956-ffa450edef68",2,88
4441fa74424dc1b69234a1a8c3ae7bacdd35c2e6,"name unnamed timers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@765212 13f79535-47bb-0310-9956-ffa450edef68",4,2
7ae174f4f8cbdef55cf9eae1d6549a4f22fe7926,"adding apache snapshot repository for camel 2.0 snapshots

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@765544 13f79535-47bb-0310-9956-ffa450edef68",0,10
4e0609f5cbf47b004385774ab5d6fa12ad5568d5,"resolve AMQ-2210|https://issues.apache.org/activemq/browse/AMQ-2210, in hindsight, it does not make sense to wait for dispatch in anycase as the message will always get replayed at some stage. an un dispatched ack is expected in this case so it is correct to ignore it. Revert wait from AMQ-2149|https://issues.apache.org/activemq/browse/AMQ-2149

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@765921 13f79535-47bb-0310-9956-ffa450edef68",2,4
7a4d84a5b8ca5893474422986936c11d5daae50d,"fixing camel 2.0 test failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@765941 13f79535-47bb-0310-9956-ffa450edef68",1,1
a259babc346a73a0ad0fe7301875c22fccf0e0ec,"resolve AMQ-2212|https://issues.apache.org/activemq/browse/AMQ-2212 - fix resource resolving for RAR with weblogic - set the thread context class loader for the thread that starts the embedded broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@766053 13f79535-47bb-0310-9956-ffa450edef68",36,63
047030447d00fb4b2b5e82600749a3bda8421854,"give test some more time for slower machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@766639 13f79535-47bb-0310-9956-ffa450edef68",8,8
bdee5a2558fbeaf65fd5243d44e13b9b7baf80f4,"fix for https://issues.apache.org/activemq/browse/AMQ-2219 - message.jsp fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@767423 13f79535-47bb-0310-9956-ffa450edef68",1,1
6fc95f5ce8f2fd7ac5196e0f245974a27bb34cf9,"specifically add log4j.properties location, since surefire will ignore it if pertest fork mode is used

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@767849 13f79535-47bb-0310-9956-ffa450edef68",0,4
82d7182939d7ef9c59e36131782b7cc57811d2cf,"fix for https://issues.apache.org/activemq/browse/AMQ-2221 - improvments for timestamp plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@768219 13f79535-47bb-0310-9956-ffa450edef68",3,51
a49ba6c040f3ac07694cf7d8eb54a5c914c28494,"fix for https://issues.apache.org/activemq/browse/AMQ-2224 and additional fix for https://issues.apache.org/activemq/browse/AMQ-2221

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@768300 13f79535-47bb-0310-9956-ffa450edef68",26,179
75a8d9d623179cb1a67dc0088ef60197d5d5accc,"activemq protobuf moved to hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@768892 13f79535-47bb-0310-9956-ffa450edef68",1,1
be4d64b18c5d13c697f7d4e7ade39feb9d70a7dc,"Cleaning up activemq-optional module. Prepare for including all tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@769332 13f79535-47bb-0310-9956-ffa450edef68",11,53
d62860f98cdafb7032c8f70860654666bb6d31ac,"activemq-optional - http transport - fixing problem with JMX connection name conflicts

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@769379 13f79535-47bb-0310-9956-ffa450edef68",1,1
6999a02d703e67b4a462573ac5c76b2f5e1e80fd,"fix for https://issues.apache.org/activemq/browse/AMQ-1781 - ldap login module npe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@769838 13f79535-47bb-0310-9956-ffa450edef68",653,255
01e2aec7b59cf5def1c69a6c2208c7648b6956d2,"resolve https://issues.apache.org/activemq/browse/AMQ-2241 - ensure default session is created for a duplicate connection request

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@771718 13f79535-47bb-0310-9956-ffa450edef68",0,61
206df1bd5741424e3eadd4fcbb38411547a85379,"test case for https://issues.apache.org/activemq/browse/AMQ-2195

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@772931 13f79535-47bb-0310-9956-ffa450edef68",0,31
62e1abfb902ac48741481bd0d80783ecef9e79a4,"fix for https://issues.apache.org/activemq/browse/AMQ-2245 - broker restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@773569 13f79535-47bb-0310-9956-ffa450edef68",24,98
245771a14d81dda10a64a70406ea40cac7433f36,"test case for https://issues.apache.org/activemq/browse/AMQ-2233 with prefetch  workaround

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@773862 13f79535-47bb-0310-9956-ffa450edef68",0,135
4b4ce4aaf272792d0beba07b47e7aac6850e9228,"resolve https://issues.apache.org/activemq/browse/AMQ-2246

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@773985 13f79535-47bb-0310-9956-ffa450edef68",1,96
dd1b847ad73fc13f0f12e8fc0c5f278bcbafaeb6,"improve error reporting from classcast

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@773986 13f79535-47bb-0310-9956-ffa450edef68",1,6
09bae42a83c2c20867b0e7ac9c101837c5f06b5c,"partial fix for https://issues.apache.org/activemq/browse/AMQ-2238 - http transport improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@774421 13f79535-47bb-0310-9956-ffa450edef68",32,111
2407a7b4ec8293ff196bce2b3adccabce9c8b0ed,"improve failure reporting in assert

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@774431 13f79535-47bb-0310-9956-ffa450edef68",1,1
9383c6d697658f6ac7902e621124649b510b6bb3,"resolve alternative path to https://issues.apache.org/activemq/browse/AMQ-2241 via ra where connection is reused. state tracker was not notified when remove command is suppressed and simulated during transport outage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@774712 13f79535-47bb-0310-9956-ffa450edef68",0,103
91244607973cc5d4eccf9f3d1dd56c74d6b7635b,"fix intermittent failure of test, depended on two distinct calls to currentTimeMillis matching, needs a range check rather than equals

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@774731 13f79535-47bb-0310-9956-ffa450edef68",2,2
34ee8cc7dd893a7477ce78ffdc9356498223f14c,"rmoveing log4j surefire configuration as it clashes with CI tools. Should be uncommented manually

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@774738 13f79535-47bb-0310-9956-ffa450edef68",0,14
1421317bd2243f6f5bb638c209f1aaf2209baf99,"resolve https://issues.apache.org/activemq/browse/AMQ-2252 - deadlock with nio and optimizeDispatch and test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@774829 13f79535-47bb-0310-9956-ffa450edef68",1,52
5414e76a85ecd978a2130485065f8f6e304cdfbf,"allow access to selector manager instance so that number of nio channels per thread can be configured

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@775058 13f79535-47bb-0310-9956-ffa450edef68",1,1
558ff7802d797d2c63c9efa12f179de080d8910d,"additional test for https://issues.apache.org/activemq/browse/AMQ-2233, broker in 5.2, works on trunk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@775064 13f79535-47bb-0310-9956-ffa450edef68",0,134
634a52a4a2ec5301d09cb07ee23adea3b1973f2b,"resolve https://issues.apache.org/activemq/browse/AMQ-2253

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@775094 13f79535-47bb-0310-9956-ffa450edef68",1,3
7310949981a239ef89d0dc2e5e0c360f7e245017,"fix for https://issues.apache.org/activemq/browse/AMQ-2238 - http transport spring test and improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@775206 13f79535-47bb-0310-9956-ffa450edef68",4,151
bb153aeb12626d5e36144753643175c16263d17e,"reduce message to info when iteration takes > 100ms from warn

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@775990 13f79535-47bb-0310-9956-ffa450edef68",2,2
120d1d457a16286a45aa42cc17e7643531fbbcc6,"https://issues.apache.org/activemq/browse/AMQ-2257 - protobuf repository

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@776250 13f79535-47bb-0310-9956-ffa450edef68",3,3
f7cba2a28e198ae16073d32ec9f8fc2f7e0f2c4a,"allow configuring the wireformat maxInactivityDurationInitalDelay

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@776743 13f79535-47bb-0310-9956-ffa450edef68",0,26
8487e1a25d938ba214a76b85a03098638783cabf,"removing obsolete repositories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777003 13f79535-47bb-0310-9956-ffa450edef68",21,0
e22a37a70e65ceed6f807085cca24bc757e81c20,"Extended the Marshaller interface so that users can determin if uses fixed size records.  Kahadb should be able to make some optimizations 
on fixed sized objects.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777209 13f79535-47bb-0310-9956-ffa450edef68",132,160
c442ebcc7de1c7423c2b99d2146bdf6c3e6180a5,"Forgot this one in last commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777216 13f79535-47bb-0310-9956-ffa450edef68",0,40
461af7c9e158b2d8f1a1df27549060f894f09918,"fix for https://issues.apache.org/activemq/browse/AMQ-2262 - inflight message count

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777225 13f79535-47bb-0310-9956-ffa450edef68",1,146
b997d257d53979ccbfa61669c0c102251a37e1ac,"resolve https://issues.apache.org/activemq/browse/AMQ-2265, revert https://issues.apache.org/activemq/browse/AMQ-2262, inflight count stil needs work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777463 13f79535-47bb-0310-9956-ffa450edef68",5,94
9b801d19d0938a3a30ab892591e190c97993c54f,"help with https://issues.apache.org/activemq/browse/AMQ-2262 when messages are discarded broker side

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777527 13f79535-47bb-0310-9956-ffa450edef68",2,0
2a1ec7c99e6b949558d48826c9ca0f4c781ef548,"rolling back change committed in rev 777209

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777666 13f79535-47bb-0310-9956-ffa450edef68",41,4
a707594a8d1ff9aadea2f43ddc21f58fe6f05e05,"https://issues.apache.org/activemq/browse/AMQ-2262 and https://issues.apache.org/activemq/browse/AMQ-2265

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777716 13f79535-47bb-0310-9956-ffa450edef68",17,13
2b28443a05a542c5030d4fa6da785f7ff068fd9b,"Added test case for https://issues.apache.org/activemq/browse/AMQ-1936

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777803 13f79535-47bb-0310-9956-ffa450edef68",0,300
c02d2462b5915063e648725394122a71a56c3eb2,"INcrease Consumer Count

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777804 13f79535-47bb-0310-9956-ffa450edef68",1,1
9797077d6a7780f464878e6709391677deca4d9a,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2113

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777805 13f79535-47bb-0310-9956-ffa450edef68",0,26
a77e964b92c15e242d7556366174b23b2cfe5cef,"Fix for https://issues.apache.org/activemq/browse/AMQ-2134

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777806 13f79535-47bb-0310-9956-ffa450edef68",1,1
25b216548d9b4dff521aec98df36380d10941823,"Fix for https://issues.apache.org/activemq/browse/AMQ-1629

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@777821 13f79535-47bb-0310-9956-ffa450edef68",12,206
7135a68559373b390dfcb96895831ca689717784,"disable nio test pending investigation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@778124 13f79535-47bb-0310-9956-ffa450edef68",0,2
1a8fd95e6f34790cb5284d7862839502d766c5de,"expose accessor for internal ActiveMQSession so added value operations are accessible from the pooled session. resolve: https://issues.apache.org/activemq/browse/AMQ-2258

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@778413 13f79535-47bb-0310-9956-ffa450edef68",3,1
c2922ad1fcf85a72e69b294efeea3ed7720e2adb,"Added test case from Richard Yager for https://issues.apache.org/activemq/browse/AMQ-1918

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@778622 13f79535-47bb-0310-9956-ffa450edef68",11,380
684c901016378fa9196481828834880bfaabce79,"have failover transport use shared random generator so random can loadbalance in the same jvm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@778777 13f79535-47bb-0310-9956-ffa450edef68",3,79
1d5440a1cd6239b10312c612171cd004949b476c,"reopen https://issues.apache.org/activemq/browse/AMQ-1936 - excluded test case as it hangs on some linux machines ... needs to be ivestigated further

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@779556 13f79535-47bb-0310-9956-ffa450edef68",0,1
af13cfc1cecd684673e995eeb36147a2a45730b6,"reflecting camel-jms api changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@779587 13f79535-47bb-0310-9956-ffa450edef68",1,1
33e05c7f678f5a52e0de01b53cae021910e6d9f6,"change repository names

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@779650 13f79535-47bb-0310-9956-ffa450edef68",2,2
c43eda363becbfea7390810fc743656e4234b48e,"fix for https://issues.apache.org/activemq/browse/AMQ-2232 - jmx operations on secured broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@781022 13f79535-47bb-0310-9956-ffa450edef68",6,77
63baaf038a06018338444370e0301ae3fb955a65,"resolve: https://issues.apache.org/activemq/browse/AMQ-2277 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@781312 13f79535-47bb-0310-9956-ffa450edef68",9,104
32ff105a20aaf0a709592995832da8db923e2b28,"remove deprecated camel-swing dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@782029 13f79535-47bb-0310-9956-ffa450edef68",83,0
7b78c3648567a0cdb56dfcf85eac06d0bf885c58,"improve error message reporting

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@782030 13f79535-47bb-0310-9956-ffa450edef68",2,2
fee7f6a7101711e94328467bff2c9612844b7c87,"fix for https://issues.apache.org/activemq/browse/AMQ-2282 - ibm jdk test failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@782037 13f79535-47bb-0310-9956-ffa450edef68",18,42
34f00a6a03e662406a3fcf0d1ad07a2fe0bb5db2,"remove camel dependencies from core, now all in activemq-camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@782984 13f79535-47bb-0310-9956-ffa450edef68",22,8
88dfd77002417434eac8e12db586f0b31ea37782,"https://issues.apache.org/activemq/browse/AMQ-1324 - additional changes to make the console work nice in osgi environment and with remote brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@783025 13f79535-47bb-0310-9956-ffa450edef68",12,25
fbddf4f8683a0c246899b290ad9269c42367188d,"resolve https://issues.apache.org/activemq/browse/AMQ-2274 - add simple Boolean PropertyEditor implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@783281 13f79535-47bb-0310-9956-ffa450edef68",0,68
a88a513e3c91d65a311614ca84c9d2725d694bbe,"fix file lock usage in kahadb store, so shared file system master slave can work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@783364 13f79535-47bb-0310-9956-ffa450edef68",4,6
38b840a61f4e909f6196fd3cf36e884f586ded58,"resolve https://issues.apache.org/activemq/browse/AMQ-2285 - pull file locking outside setting opened state so that an open does not ocurr unless the lock is available, sorts out Npe on shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@783384 13f79535-47bb-0310-9956-ffa450edef68",22,19
f82530d93ba44499a7e1d2026e607b02eccf4799,"Added perf test for KahaDB and update XBeans for KahaDB Persistence Adapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@784062 13f79535-47bb-0310-9956-ffa450edef68",8,355
1e821c5d41043e2dfb88f984aedf12c509910a41,"updates xsd for KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@784348 13f79535-47bb-0310-9956-ffa450edef68",4,71
07822041b4a877f55d375f178618bb104fe95e51,"capture exception in log on slave start failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@784711 13f79535-47bb-0310-9956-ffa450edef68",1,1
78e7221d3eea4b776387ff68ad4f14b06cfad854,"fix for https://issues.apache.org/activemq/browse/AMQ-2291 - jdbc sequence changed to long

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@784862 13f79535-47bb-0310-9956-ffa450edef68",1,6
2cdb51bb748250762891554739ca2125c13122c6,"fix for https://issues.apache.org/activemq/browse/AMQ-2292 - ReadOnlyAsyncDataManager NPE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@785525 13f79535-47bb-0310-9956-ffa450edef68",0,36
2d42b629c55b25123be84134c00bbf7cc126ff51,"resolve: https://issues.apache.org/activemq/browse/AMQ-2169 - distribution version of webconsole-embedded spring mvc beans were out of date w.r.t their scope and hense were not getting cleaned up after a request as expected

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@785640 13f79535-47bb-0310-9956-ffa450edef68",8,8
9ebc508a5a1554fba8b05b0c7dd97227b4f47296,"https://issues.apache.org/activemq/browse/AMQ-2169 - remove duplication of spring mvc query beans

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@785691 13f79535-47bb-0310-9956-ffa450edef68",28,33
1ebc6eeb04117ab59a8ac42a6c45500029f1c733,"https://issues.apache.org/activemq/browse/AMQ-2290 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@786451 13f79535-47bb-0310-9956-ffa450edef68",1,1
9ed41e25e1b7d7ee85b4a05e6d92140e8b504354,"ACTIVEMQ-2297 update to nexus, apache 6 pom, etc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@786767 13f79535-47bb-0310-9956-ffa450edef68",349,183
de4b78397e672373c08f7d7234657bcef6fcbd47,"ACTIVEMQ-2297 further cleanup, remove tools-maven-plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@786867 13f79535-47bb-0310-9956-ffa450edef68",96,0
9670af1e0d766aaaadf07eba6fd4756a82c84118,"resolve https://issues.apache.org/activemq/browse/AMQ-2298 - respect priority when suppressing duplicate network subscriptions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@787855 13f79535-47bb-0310-9956-ffa450edef68",35,179
9a852b2a992b0e9c21f05df2be272fb42d738d32,"resolve a bunch of unit test failures that reference the file system by reverting change to surefire working directory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@787856 13f79535-47bb-0310-9956-ffa450edef68",1,0
e2778fbf7d81b10fa558deeb9ccf66d374de7f4f,"apply modified suggstion from https://issues.apache.org/activemq/browse/AMQ-1191 - executeQuery conditional on statement metadata which works when statement does not return a result set like with derby which is used in the unit tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@787990 13f79535-47bb-0310-9956-ffa450edef68",2,10
29e3702cfd51ef83c0a596cf206ae56a99d58a90,"test case for https://issues.apache.org/activemq/browse/AMQ-2303 - durable consumers recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788068 13f79535-47bb-0310-9956-ffa450edef68",2,132
3d77a2f90c1e6da41e394d052ef42064a3b673d0,"add reduced version of patch from: https://issues.apache.org/activemq/browse/AMQ-2158 - warn on exceeding 80% - leave rest at debug level

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788316 13f79535-47bb-0310-9956-ffa450edef68",1,4
74bcc2ec4adc8caecac2900363559e2e0a5116d3,"Apply patch for: https://issues.apache.org/activemq/browse/AMQ-2304


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788352 13f79535-47bb-0310-9956-ffa450edef68",4,41
a0b9aec6e95c566c22e04e8874f9729ec4490819,"test case for https://issues.apache.org/activemq/browse/AMQ-2305 - seems to work fine

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788429 13f79535-47bb-0310-9956-ffa450edef68",0,70
c1c7e10e945c1dd1bdfe8ba789e4488d3d66365d,"switching required maven version to 2.0.9

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788624 13f79535-47bb-0310-9956-ffa450edef68",1,1
b675bb045c7f9f7f7370b325ab2d5953619d1d47,"switching required maven version to 2.0.9

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788644 13f79535-47bb-0310-9956-ffa450edef68",1,1
531349030492b42f50ffd7e98085e8708bef56ec,"fix sync of getTx in transaction Store, could result in extra uncommited tx hanging about under high load

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788646 13f79535-47bb-0310-9956-ffa450edef68",8,88
3d6034b7ebe67ed7ad81edf3db2d1eeefd9ca45e,"resolve: https://issues.apache.org/activemq/browse/AMQ-2305 - think the correct fix is to have the masterBroker stop but not propagate the stop through the filter chain. if it does not stop then it will have a bunch of failures on sync with the slave. the issues is visible when a plugin is the next brokerfilter in the chain

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788757 13f79535-47bb-0310-9956-ffa450edef68",12,34
b36235f291d5871419772b62d92a14f2d1bb7a7a,"AMQ-2311.  Use camel-2.0-M2 dependency.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@788995 13f79535-47bb-0310-9956-ffa450edef68",1,1
a09c8108596a4c5266233b2231b0e6bd0d8b5a30,"fix for https://issues.apache.org/activemq/browse/AMQ-2310 - fileserver HttpURLConnection reference

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789258 13f79535-47bb-0310-9956-ffa450edef68",1,1
2e7d2195ccac6a58fb85f2087cc6e26b2c177211,"fix for https://issues.apache.org/activemq/browse/AMQ-2303 - durable subsciber recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789283 13f79535-47bb-0310-9956-ffa450edef68",17,20
753b21047a234f69ca56f2706b62a5c537d4138c,"apply patch for: https://issues.apache.org/activemq/browse/AMQ-2308 with thanks; apply fix for https://issues.apache.org/activemq/browse/AMQ-1993 to the client side

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789291 13f79535-47bb-0310-9956-ffa450edef68",22,13
7cf47287b8ec07ab77d3c09aec55e20be91d51c2,"Slight enhancements in logging for AMQ-2158

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789378 13f79535-47bb-0310-9956-ffa450edef68",2,3
d20da4460d914ff771a2de1e2e76a2182088c512,"temporary fix for durable consumer test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789626 13f79535-47bb-0310-9956-ffa450edef68",9,24
a740183da25c4dbf8fb614a124f74cefe9dad0ba,"remove check in inflight as it is not totally deterministic so this test randomly fails on some machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789691 13f79535-47bb-0310-9956-ffa450edef68",4,32
22422ac5de6f98804e7114b3ea75f0a5a2f36c63,"have the test wait for advisories for slower machines, resolve intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789810 13f79535-47bb-0310-9956-ffa450edef68",6,31
0f1907138b434d1bddacd37ecefe0b35eec085df,"Added a better exception and error message for exceeding the maximumConnections - AMQ-1928

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@789851 13f79535-47bb-0310-9956-ffa450edef68",28,54
b97dbff52ac698284cb1a232b8a94b711717522c,"basic test case for https://issues.apache.org/activemq/browse/AMQ-1763 - but does not show the problem atm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790087 13f79535-47bb-0310-9956-ffa450edef68",2,27
4ee34c96097e0eb3885df88e7e31752efc112664,"have default broker config use wildcard address to listen on all interfaces to maintain existing behaviour, localhost now means just localhost or loopback - up shot of https://issues.apache.org/activemq/browse/AMQ-2094

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790100 13f79535-47bb-0310-9956-ffa450edef68",4,4
101c35b8e88b4f591afc28caa86faad008e97bab,"final fix for https://issues.apache.org/activemq/browse/AMQ-2303 - durable subsciber recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790113 13f79535-47bb-0310-9956-ffa450edef68",6,46
7da1e6eb8055a220952aedb9bb6d268fedc40d83,"Adding a test for AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790199 13f79535-47bb-0310-9956-ffa450edef68",0,125
5a8d59d107657183d583c45f15d6e60b64bbd8de,"fixing test for https://issues.apache.org/activemq/browse/AMQ-2303 - 200 consumers is too much for some linux machines, too many open files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790521 13f79535-47bb-0310-9956-ffa450edef68",1,1
e5838398105f60bc7521784eacd81dc0762b92fd,"excluding the test for https://issues.apache.org/activemq/browse/AMQ-1112 until it's fixed, so we can have successful builds

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790526 13f79535-47bb-0310-9956-ffa450edef68",0,3
c6a485f90b5f3bc17002303b9dfaa6dc0bb127b9,"first cut of resolution to deterministic expiry https://issues.apache.org/activemq/browse/AMQ-1112 - default period is 30 seconds, destination policy entry allows it to be specified or turned off (0)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790880 13f79535-47bb-0310-9956-ffa450edef68",76,229
6a121b33eded87b3aacfef2feebdb4175b7eb31e,"test for no consumer and expiry - https://issues.apache.org/activemq/browse/AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790928 13f79535-47bb-0310-9956-ffa450edef68",0,146
00bb52bcdea83004cfacbdf2b21e9dc96cbdcc30,"validate shared file system master/slave with single shared brokerurl

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790929 13f79535-47bb-0310-9956-ffa450edef68",0,63
7ac1bb8baa5c36aff10f9d28e45c5aa66d373438,"enable a few more expiry tests - https://issues.apache.org/activemq/browse/AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@790957 13f79535-47bb-0310-9956-ffa450edef68",11,7
5807370a244257475c6531a18b7e8abfaf57d3f0,"swithcing to commons logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@791466 13f79535-47bb-0310-9956-ffa450edef68",4,5
5a0da57be8f4c6031c3bcdc33e025d2c6552e879,"Fix for https://issues.apache.org/activemq/browse/AMQ-2318

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@791549 13f79535-47bb-0310-9956-ffa450edef68",1,1
c688b78617ce1541efd13be214b29bc12fff1bb7,"remove broker topic version of this test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@791593 13f79535-47bb-0310-9956-ffa450edef68",5,0
8c70e4a78055dce69faef0bf718d36120666c1b7,"Added fix for https://issues.apache.org/activemq/browse/AMQ-1282

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@791708 13f79535-47bb-0310-9956-ffa450edef68",2,190
7a59d284dc6401b6b756edbfda1dc759c82cf5d4,"resolve https://issues.apache.org/activemq/browse/AMQ-1112 - fix issues with inflight count when messages expire on the consumer/client and on consumer close

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@791881 13f79535-47bb-0310-9956-ffa450edef68",77,219
2a6c87259c58f09ac3b58c3b4709f2c3351015ec,"disable ProxyConnectorTest pending resolution of https://issues.apache.org/activemq/browse/AMQ-2050

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792078 13f79535-47bb-0310-9956-ffa450edef68",0,3
bd1b10c207cfd250fe600a554420db8c5d6a68f6,"resolve https://issues.apache.org/activemq/browse/AMQ-2283. In suppressing asyncColos I found the need to suppress brodcast of query parameters by the multicast discovery agent as server side and client side options are not compatible. Added support to the DiscoveryTransport to apply query parameters to each uri that it discovers.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792127 13f79535-47bb-0310-9956-ffa450edef68",5,93
63f14732c7d95dc2d3d60793fc5afd47c58281c9,"patched test from: https://issues.apache.org/activemq/browse/AMQ-1763 - still cannot reproduce

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792220 13f79535-47bb-0310-9956-ffa450edef68",27,44
c19e93976cfcef5a0731a8c4be0bd2a672ffdbe0,"wait for broker start and jmx rmi endpoint for slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792533 13f79535-47bb-0310-9956-ffa450edef68",1,1
5c15b52e517abd744669cd90ed95ad1955b0daeb,"give reconnect randomness some more time to kick in

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792538 13f79535-47bb-0310-9956-ffa450edef68",1,1
a72f26f0df75749a6655a86f72b46a056964fcfd,"resolve https://issues.apache.org/activemq/browse/AMQ-2321

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792591 13f79535-47bb-0310-9956-ffa450edef68",1,5
dbe847e0dade437ba678299f62e899f61b95a3e9,"resolve https://issues.apache.org/activemq/browse/AMQ-2322 - test and correction

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792598 13f79535-47bb-0310-9956-ffa450edef68",21,116
d3649fc7091be2e2e52bc19c838a94a9ca137d6d,"fix for https://issues.apache.org/activemq/browse/AMQ-1804 - connection factory xbean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792884 13f79535-47bb-0310-9956-ffa450edef68",1,0
8c6e5dccea4bbd49e4f0c0608ece5d685eecaf8a,"allow stomp test to run nicely on slower boxes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@792911 13f79535-47bb-0310-9956-ffa450edef68",1,1
ca242f4a34020d7ccbe2f7c8fe295cdafa482fd1,"resolve some issue with duplicate expiry due to concurrent execution with expiry task and dispatch/acks etc. some more tests for stats included - https://issues.apache.org/activemq/browse/AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@793892 13f79535-47bb-0310-9956-ffa450edef68",95,193
11e407ea45ba17e6b9f6a2b897d00514a9ca41f6,"modifying the tests so we can verify that all proxy consumers are closed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@794240 13f79535-47bb-0310-9956-ffa450edef68",3,23
ed0b08bbd9d20aa2e2303f265887a0eddf9bec96,"resolve intermittent failure resulting from fix for https://issues.apache.org/activemq/browse/AMQ-2283 - match of url needs to take account of absent query parameters in broadcast address

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@794315 13f79535-47bb-0310-9956-ffa450edef68",1,1
e5584e6e7871a8a77b507c13f44a3c0dd07ef13a,"fix for https://issues.apache.org/activemq/browse/AMQ-2327 - close proxy consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@795069 13f79535-47bb-0310-9956-ffa450edef68",3,21
a1bd85e0bc6b92c8d8fa41767a6f4a2dc5485d20,"use non compencating schedualler and ensure DLQ copies message early - ensures accurate processing of expired messages - https://issues.apache.org/activemq/browse/AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@795270 13f79535-47bb-0310-9956-ffa450edef68",39,78
5e90f00e8d04eec611c23ca1c07b75936f7da5af,"defer task start till cursor is started - https://issues.apache.org/activemq/browse/AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@795733 13f79535-47bb-0310-9956-ffa450edef68",5,3
3f32e76ac6da0acdac64b2174a1a0e5b50da256f,"apply modified patch and test case to resolve: https://issues.apache.org/activemq/browse/AMQ-2216

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@795848 13f79535-47bb-0310-9956-ffa450edef68",3,124
f998d1b3dcb7b720bca16c65f0bbadbbfac7a6b3,"suppress info message on failure to send remove command as this will always fail on shutdown for a vm connection which is ugly for the default config. leave it at debug level

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@795914 13f79535-47bb-0310-9956-ffa450edef68",1,1
32acb34018346cc69ba384d9031dc0e83228eb1a,"test case for https://issues.apache.org/activemq/browse/AMQ-2183

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@796646 13f79535-47bb-0310-9956-ffa450edef68",0,146
7f8eb612cdd4197c59cc2f7d2ef70a0aecedbf42,"ensure a hang does not block full test run to determine if hang can be isolated

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@796673 13f79535-47bb-0310-9956-ffa450edef68",4,3
fb42a118359262595a0c043c1711817ef2f3193d,"resolve potential test hang if jdbc persistence adapter stop results in an exception, it should handle and log any exceptions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@796681 13f79535-47bb-0310-9956-ffa450edef68",7,17
5a0f76d0f21f3caef673dcbb2fd39e366bf1cf2b,"make test more tolerant to slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@796694 13f79535-47bb-0310-9956-ffa450edef68",2,2
c94279e12eb3303d9989b66478cf3880ac2ac838,"add some detail to the assertion to help diagnost intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@796733 13f79535-47bb-0310-9956-ffa450edef68",3,2
432dcfeecf35fde3407bee2b0569e04e70255686,"reenable test to verify https://issues.apache.org/activemq/browse/AMQ1936

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@796734 13f79535-47bb-0310-9956-ffa450edef68",1,0
f36aa55c4a4a5b604443b76603095c45861409af,"improve assert information to help diagnose intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@796983 13f79535-47bb-0310-9956-ffa450edef68",1,2
a039a0e99763d2018678c6fee0f37a49462bff33,"additional improvement for https://issues.apache.org/activemq/browse/AMQ-2238 - include commons-codec in lib/optional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@797007 13f79535-47bb-0310-9956-ffa450edef68",0,1
2350d8b764f03fc9a04e42dded258e70fa74f02e,"fix for https://issues.apache.org/activemq/browse/AMQ-2069 - thread deadlock in endpoint worker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@797052 13f79535-47bb-0310-9956-ffa450edef68",4,4
444412f0df2efa94a01487c223b1b0610ceb1627,"fix for https://issues.apache.org/activemq/browse/AMQ-1380 - upgrade to activeio 3.1.2 and remove backport dependencies

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@797359 13f79535-47bb-0310-9956-ffa450edef68",8,5
a8d3908586f058c2eadca1eb687907594ceb2df0,"resolve intermittent hang of JDBCQueueMasterSlaveTest - shutdown of the executor used to check the db lock during shutdown may cause the shutdown thread to interrupt and die before shutdown is complete. A wait for shutdown to complete can hang forever. Just cancelling the periodic tasks is sufficient

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@797685 13f79535-47bb-0310-9956-ffa450edef68",10,12
8274f09dd4c67c38da10479d5e5cd7f3010a7bac,"resolve https://issues.apache.org/activemq/browse/AMQ-1191 by introducing driver specific locker so that impl for sql_server can diverge from those of oracle etc. Thus the patch is applied to a transact sql specific impl - the impls are defined in a resoruce file in the same way as the adapters. The default locker now remains unchanged. Also updated to the latest stable jmock 2.5.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@798602 13f79535-47bb-0310-9956-ffa450edef68",332,367
66dd8cdae33aac0b363746f84f47baf4fcc82001,"Fix for https://issues.apache.org/activemq/browse/AMQ-2335

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@798785 13f79535-47bb-0310-9956-ffa450edef68",2,6
6f3c99991dbbace5b2a350478929256e51881d9c,"resolve https://issues.apache.org/activemq/browse/AMQ-2075 - async dispatch of brokerInfo could end up getting dispatched after messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@798842 13f79535-47bb-0310-9956-ffa450edef68",6,9
763e331318995fa6a05747939a98a7dc8aea22d5,"make test more tolerant to slower machines, resolve intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@798852 13f79535-47bb-0310-9956-ffa450edef68",6,12
a27709b086778d4eb8f46e3a55cd44981e6b3cb1,"make test more tolerant to slower machines, replace sleep with timed wait : https://issues.apache.org/activemq/browse/AMQ-1936

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@798859 13f79535-47bb-0310-9956-ffa450edef68",2,6
d5333d4e448eadcc92e6a43136419c2cc41e309f,"with warn level logging this becomes too verbose in production envs, reverting the warn level, info still available using debug level: https://issues.apache.org/activemq/browse/AMQ-2158

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@798931 13f79535-47bb-0310-9956-ffa450edef68",4,0
fc63a923393f9ed6b12be9850a03abda1527e4ca,"Fix for https://issues.apache.org/activemq/browse/AMQ-1846

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799090 13f79535-47bb-0310-9956-ffa450edef68",11,152
dbefbecf1a12b8233a4e39bc3f0d2cab131ef437,"attempt to prevent receive blocking in the event of messages present on slower machines or solaris

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799336 13f79535-47bb-0310-9956-ffa450edef68",2,2
d12c087a54a72225f09e38857f1a7d0022c80f7c,"give jetty more time when ssl is involved - hudson shows intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799376 13f79535-47bb-0310-9956-ffa450edef68",1,7
39d6f49b26e5e809ca8ebabfd51804c7166639e2,"Fix for https://issues.apache.org/activemq/browse/AMQ-1614

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799530 13f79535-47bb-0310-9956-ffa450edef68",0,8
e4b76014c684e3d3c89ea22b91adb8a93787945f,"make test resiliant to message expiry before enqueue that can ocurr under load/slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799538 13f79535-47bb-0310-9956-ffa450edef68",3,1
c20430459ac35167d7910956a5a711eebd56e1c3,"test still failing on solaris with slow disk, reducing log output and adding a thread dump if it fails to help diagnose: https://issues.apache.org/activemq/browse/AMQ-1936 - need to exclude a hung consumer case 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799560 13f79535-47bb-0310-9956-ffa450edef68",13,33
9caa5c8d4d8281539670e1c1b623173aa814fbe2,"more hardening for intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799631 13f79535-47bb-0310-9956-ffa450edef68",1,7
1ec71bdff17f6d11d50d77ff98db1c9a70e5d7b4,"Refactored ManagementContext to  improve encapsulation - so all registrations of MBeans happen in one place

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799706 13f79535-47bb-0310-9956-ffa450edef68",563,455
fbc5eb5eb0517c1e9b0f1ccbf0ef9f701dbd59a2,"Implemented:
 https://issues.apache.org/activemq/browse/AMQ-2338
 https://issues.apache.org/activemq/browse/AMQ-2337



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@799733 13f79535-47bb-0310-9956-ffa450edef68",43,319
86643153141192cbf147baf137c1e03e5629d804,"added dependency on commons-net

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800234 13f79535-47bb-0310-9956-ffa450edef68",0,7
b08ae5074325e48d5f4e5fb73d20d8f4916450b8,"Added patch for https://issues.apache.org/activemq/browse/AMQ-1744

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800235 13f79535-47bb-0310-9956-ffa450edef68",24,675
d779c4aecd9be0ad8ae7c896ff8a18b9a72eec46,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2339

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800274 13f79535-47bb-0310-9956-ffa450edef68",0,139
ac4545b40d1564645476cd2685da7e91f52907c9,"Refactored ManagementContext to  improve encapsulation - so all registrations of MBeans happen in one place

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800335 13f79535-47bb-0310-9956-ffa450edef68",0,5
93ccd9f17ecaf1ef72e4d431b2b9f9b297ba37b5,"Refactored ManagementContext to  improve encapsulation - so all registrations of MBeans happen in one place

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800337 13f79535-47bb-0310-9956-ffa450edef68",169,115
ced6909078435963f9e1a1e1be84281a1c48eb62,"fix for https://issues.apache.org/activemq/browse/AMQ-2330 - mbean descriptions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800339 13f79535-47bb-0310-9956-ffa450edef68",65,351
398f8ecbffae5d4e94aa51d08f6f72132721f2d0,"The property org.apache.activemq.UseDedicatedTaskRunner should ignore caps

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800380 13f79535-47bb-0310-9956-ffa450edef68",1,1
9110827ae58d730fe096dfd74e2920a7d0a58d63,"fix for https://issues.apache.org/activemq/browse/AMQ-2341 - web console improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800430 13f79535-47bb-0310-9956-ffa450edef68",42,1494
472782ad8f0d35009e3b69b8b238c70cf554fd30,"adding missing dependency java.util.Set

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800727 13f79535-47bb-0310-9956-ffa450edef68",0,1
538d07e5bb328d5c2084d5a7d25e23cb85bcfd40,"https://issues.apache.org/activemq/browse/AMQ-2343 - decouple sendFailIfNoSpace from producer flow control

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800738 13f79535-47bb-0310-9956-ffa450edef68",8,4
0479a4eddbfc5f1dc70773d7b575dd1e34c56152,"fixing deprecated methods usage and other compiling warnings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@800776 13f79535-47bb-0310-9956-ffa450edef68",190,72
dab69242d535bee4cf8da4cce6eea800767e37fc,"Fix for https://issues.apache.org/activemq/browse/AMQ-2328

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801075 13f79535-47bb-0310-9956-ffa450edef68",2,19
ea1082899ad341f890708273bd28e63eaa365d1a,"returning xstream factory bean (a bit modified), mistekanly deleted yesterday

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801197 13f79535-47bb-0310-9956-ffa450edef68",0,122
c6c91252e5bdd8c548be40c40e3200433809cd9b,"improved test case for for https://issues.apache.org/activemq/browse/AMQ-1807 - stomp dispatching

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801243 13f79535-47bb-0310-9956-ffa450edef68",1,1
200f06bbffc3e04753c2cad83b155b3fc71beeb5,"enable ftpblob test - pull in test dependency on apache ftpserver

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801312 13f79535-47bb-0310-9956-ffa450edef68",26,96
afd706f11d244c86548527e92c24b21565b61689,"insert that test dependency I just mentioned

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801314 13f79535-47bb-0310-9956-ffa450edef68",0,1
5a80d5a6c06bc980df6c59eae56577c0caab36a6,"added activemq-groups

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801514 13f79535-47bb-0310-9956-ffa450edef68",0,1
72a047f338ac469f848d3080ddf5d1f05ba2f8df,"tidied up a little

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801515 13f79535-47bb-0310-9956-ffa450edef68",242,133
8c4ded486ef9b887e0aed253811a22f5efaea69c,"fix blob tests to work with embedded ftp server

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801551 13f79535-47bb-0310-9956-ffa450edef68",23,120
e183a824d396fb61230995d947b978117eae7ffe,"apply patch from https://issues.apache.org/activemq/browse/AMQ-2348 - update to camel-2.0-M3 - with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801559 13f79535-47bb-0310-9956-ffa450edef68",11,14
52f48db0d919c95d7419642d2ae2c97b496b2355,"fix for https://issues.apache.org/activemq/browse/AMQ-1886 - jdbc adapter without journal + test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801612 13f79535-47bb-0310-9956-ffa450edef68",5,49
d604723d8ffe053aca376e1aa534cfddca4ed8e1,"applying patch for https://issues.apache.org/activemq/browse/AMQ-2275

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801647 13f79535-47bb-0310-9956-ffa450edef68",4,4
c866f88d232deeeae3756ae08c69db190212729a,"Added some helper methods so clients can use Advisories without needing to use too much ActiveMQ specifics (other than this class)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801779 13f79535-47bb-0310-9956-ffa450edef68",43,142
1a6279e1708f96393c1d6a04e88827380b33b5a9,"fix for https://issues.apache.org/activemq/browse/AMQ-2280 - stomp transactions and multiple destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801916 13f79535-47bb-0310-9956-ffa450edef68",15,46
6b283abdd0569f25397fa4856fb1fd59355b1d88,"resolve https://issues.apache.org/activemq/browse/AMQ-2350 - amq may not have exclusive access to the propertyEditorManager

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@801989 13f79535-47bb-0310-9956-ffa450edef68",10,12
687944284d5f72136f5ef1834a55df9698929654,"make keepAliveResponseRequired optional in the inactivity monitor - https://issues.apache.org/activemq/browse/AMQ-2351

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@802086 13f79535-47bb-0310-9956-ffa450edef68",5,11
1d4d0e46790835a7d050d3769a346ccb2583126d,"expose new options -  https://issues.apache.org/activemq/browse/AMQ-2338

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@802109 13f79535-47bb-0310-9956-ffa450edef68",0,33
880f3d68118d350949fc4b1da88493cea5e9e732,"file size limit should be a long

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@802709 13f79535-47bb-0310-9956-ffa450edef68",13,13
747a2383f414a91369a2d4855c57749faa7436f3,"reflect preferredSize change to long

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@802766 13f79535-47bb-0310-9956-ffa450edef68",1,1
c42d980db8dfac965dd9a68a29a5c0c5c2926e2a,"revert change of max file size to long as it will impact index size and 2gb is a reasonable max atm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@802781 13f79535-47bb-0310-9956-ffa450edef68",14,14
ae0e687ac05bfdbbc698dc5d21775f7f2ccca965,"fix ref to reflect maxFilelength an integer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@802783 13f79535-47bb-0310-9956-ffa450edef68",3,3
c0ba767a8855d18302eccf6990b43426436e145c,"https://issues.apache.org/activemq/browse/AMQ-1473 - adding example for log4j jms appender

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@803078 13f79535-47bb-0310-9956-ffa450edef68",0,126
bc72c54a65ec7bf038ae78679fb4f1c419984aad,"minor cosmetic cleanup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@803257 13f79535-47bb-0310-9956-ffa450edef68",10,8
d183e3a7c155bae7f38927989e3768c4ed6fdfcd,"fix for intermittent failure of org.apache.activegroups.GroupStateTest.testExpire test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@803465 13f79535-47bb-0310-9956-ffa450edef68",2,2
813d590c8c7cab3b4ce802989743bcb6647dc2dc,"http://issues.apache.org/activemq/browse/AMQ-1936 - waiting for 20 mins for all messages to arrive is not good in CI environments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@803554 13f79535-47bb-0310-9956-ffa450edef68",1,1
453860fb472a7d6e40867d9e3164738ee2aa74c7,"excluding GroupStateTest as it fails on Hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@803806 13f79535-47bb-0310-9956-ffa450edef68",0,31
a5ac040531d0bbfb9ade0b3f2a1b13229b0ccd8d,"improvement for https://issues.apache.org/activemq/browse/AMQ-1936 - improve vm transport stopping performances

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@803907 13f79535-47bb-0310-9956-ffa450edef68",6,7
dbcb7e41a9ff165fd47294b65b6e37cb53a69ac5,"allow journalMaxFileLength config to take xGb or ymb string notation and truncate to int to remain within limits of kahadb page

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@804124 13f79535-47bb-0310-9956-ffa450edef68",7,7
c2205356ff11cfa50eb19fdee81f2bec39d3f3c1,"https://issues.apache.org/activemq/browse/AMQ-1095 - improved test case configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@804137 13f79535-47bb-0310-9956-ffa450edef68",2,2
a15e6efabd94fd74fcdd28c3326f3096b9b7bbec,"https://issues.apache.org/activemq/browse/AMQ-1807 - aborting transaction test revisited + solution

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@804192 13f79535-47bb-0310-9956-ffa450edef68",0,10
b0f24f34d0311e54e22bd6492010a102197c3a7e,"additional fix for https://issues.apache.org/activemq/browse/AMQ-1807 - fixing test case and making it work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@804943 13f79535-47bb-0310-9956-ffa450edef68",64,25
068f85bce9d3510279702951ab80cf3048a2de5c,"fix for https://issues.apache.org/activemq/browse/AMQ-2357 - docbx plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@805327 13f79535-47bb-0310-9956-ffa450edef68",17,4
39e63c0051c1e296927c0f64c69b80dad15fc028,"apply parameters from discoveryURI to subsequent network connections so that options like inactivityTimeout can be configured on all discovered uris

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@805361 13f79535-47bb-0310-9956-ffa450edef68",20,177
0a95b7e309370c61f6a8960739acaeb6c0ab3837,"fix for https://issues.apache.org/activemq/browse/AMQ-2302 - enqueue/dequeue count for connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@805396 13f79535-47bb-0310-9956-ffa450edef68",101,0
76d3b4665cd2ea0da47f20693028eec92d35ddf0,"- Journal will now check the data files for data corruption if checkForCorruptionOnStartup option is enabled.
  - The corrupted journal records can be inspected via DataFile.getCorruptedBlocks()
- An OR and AND BTreeVisitor is now supported to support running more complex queries against the BTree



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@805550 13f79535-47bb-0310-9956-ffa450edef68",117,328
317c438825262e33f7c32a8b01f39f4bd77c0635,"Apply patch for http://issues.apache.org/activemq/browse/AMQ-1998

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@805873 13f79535-47bb-0310-9956-ffa450edef68",1,9
490dcf9bd2111180d5d7821d3cda4a68e8c3de75,"AMQ-2346 test demonstrating problem (set to not run)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@805881 13f79535-47bb-0310-9956-ffa450edef68",0,166
7d5131eacaf69d85e0f957c8754acdfb7bffdcfc,"fix for https://issues.apache.org/activemq/browse/AMQ-2360 - destination filters and destination types

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@806105 13f79535-47bb-0310-9956-ffa450edef68",4,54
ea440176408fd7ae3150c2af2c9b36f82fec2fdc,"fix for https://issues.apache.org/activemq/browse/AMQ-2359 - staticallyIncludedDestinations and duplicate messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@806107 13f79535-47bb-0310-9956-ffa450edef68",5,8
d295d21a13136ff11939af6fcd94473abd77c1e5,"https://issues.apache.org/activemq/browse/AMQ-2183 - minor test modification to prevent intermittent failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@806108 13f79535-47bb-0310-9956-ffa450edef68",2,2
7091405c191f0b6c0525ed46b9695a28885fe10f,"https://issues.apache.org/activemq/browse/AMQ-1744 - adding commons-net in the lib/optional distribution folder

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@806151 13f79535-47bb-0310-9956-ffa450edef68",0,1
30db300a1ab0cbf68d26936b3d0db378c83196d2,"add new policyEntry attributed to schema for : https://issues.apache.org/activemq/browse/AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@807969 13f79535-47bb-0310-9956-ffa450edef68",0,6
589f9241fe8cd8fa9027c8c344066bfe4b61acfc,"resolve fd leak in locking logic, cause slave to exhaust fds and fail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@808041 13f79535-47bb-0310-9956-ffa450edef68",1,3
868965997c3ce35a7bdf6a2d071127ac2fa8d706,"resolve https://issues.apache.org/activemq/browse/AMQ-2366 - new File needed on each lock attempt or master restart will see old lock history

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@808378 13f79535-47bb-0310-9956-ffa450edef68",7,17
5d42b72218baf56d1cdf63ea9fdd13457e98ab8b,"resolve https://issues.apache.org/activemq/browse/AMQ-1855 - effects multicast discovery also; disposed is now atomic and the bridge.stop() waits for shutdown info to be sent before closing the transport, this will alleviate the InvalidClientIDException. bridges are now only remembered after they start which alleviates the retry problem with a failed bridge remaining, added test that exercises the code but which does not demonstrate the behavour on a dual core

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@808890 13f79535-47bb-0310-9956-ffa450edef68",65,91
612437c155e9fa1c872334ce5a7d55fd60ec23e7,"Fix for https://issues.apache.org/activemq/browse/AMQ-2364

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@809395 13f79535-47bb-0310-9956-ffa450edef68",1,114
5221cd349dedefade7677a2dd7c4f4cfaec4a4b6,"add some trace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@809940 13f79535-47bb-0310-9956-ffa450edef68",0,3
34b123ebb62f1661bcbe26dacaf1a5f5bb6a94a6,"use a CopyOnWriteSet instead of a Map - to reduce memory footprint

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@810062 13f79535-47bb-0310-9956-ffa450edef68",15,25
a0426cbd5cbc18dc99772356266a26681f655b6d,"updated how retroactive tests get destination name - so will actually test the SubscriptionPolicy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@810417 13f79535-47bb-0310-9956-ffa450edef68",17,141
04d27a7d2d22dd0c8711c4e2bcffa610b12df50a,"fix for https://issues.apache.org/activemq/browse/AMQ-2275 - activemq-admin attaching to local process

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@810588 13f79535-47bb-0310-9956-ffa450edef68",8,76
26eb49f259a5f438824ebc46d3d3aa1c2f2b28c5,"update to camel 2.0.0 and spring 2.5.6 to match camel, https://issues.apache.org/activemq/browse/AMQ-2370

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@810644 13f79535-47bb-0310-9956-ffa450edef68",5,9
d88004fe5dd65b305765d4652b8b747c50b16b23,"resolve https://issues.apache.org/activemq/browse/AMQ-2346 - TransactionContext XA state needs to be static to be shared across XAResource views

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811003 13f79535-47bb-0310-9956-ffa450edef68",3,9
bf32e4f7da7283e1772fa98fd8889b34b064f66a,"giving this test a little more time as it may be exposing a threading issue with a blocked reconnect

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811017 13f79535-47bb-0310-9956-ffa450edef68",2,2
8f9ecf0aaa13b5caffcfbb8683700f6db8a9254e,"delete seems to be missing from one test that fails intermittently, adding it in

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811019 13f79535-47bb-0310-9956-ffa450edef68",1,4
87589d787f03abe3805de68ac9f0257d83180ffe,"AMQ-1972 - Fix for leaking connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811069 13f79535-47bb-0310-9956-ffa450edef68",21,41
1e7881f5cabc1bf7e850026277040f1e641a8e8b,"Fix for https://issues.apache.org/activemq/browse/AMQ-2374

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811262 13f79535-47bb-0310-9956-ffa450edef68",18,9
dd9c10dfde17afcef224208cd708214a6f5abbfc,"Disable flow control by default in the PolicyEntry - for https://issues.apache.org/activemq/browse/AMQ-2318

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811291 13f79535-47bb-0310-9956-ffa450edef68",1,1
db5cbc16ae08c9912aa26298fb27b56b6307a23d,"explicitly set flow control

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811341 13f79535-47bb-0310-9956-ffa450edef68",0,1
f0a6c69d70939b49e3c2b650a57adc6930d18219,"make camel webapp behave nicely in secured broker environment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811364 13f79535-47bb-0310-9956-ffa450edef68",18,33
b0e35706522f491bfccf56bed14195278607b97f,"resolve some timing issues that caused intermittent failure of the test for: https://issues.apache.org/activemq/browse/AMQ-1855 - also wait a little longer for a close to complete before restarting

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811371 13f79535-47bb-0310-9956-ffa450edef68",14,43
c4597840128288f8e2722ab0b6e2bc9ee12b3e85,"Fix for https://issues.apache.org/activemq/browse/AMQ-2356

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@811425 13f79535-47bb-0310-9956-ffa450edef68",56,225
5510065ef1ecc794dc546b68a258ba548a05a394,"https://issues.apache.org/activemq/browse/AMQ-1112 - optimizeDispatch makes this test hang, commented it out for the moment, but should be investigated further

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812038 13f79535-47bb-0310-9956-ffa450edef68",3,3
0cdda142d7b0f90041b81c13501dc1c4bb3ce727,"https://issues.apache.org/activemq/browse/AMQ-1112 - returning to the default wait timout

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812039 13f79535-47bb-0310-9956-ffa450edef68",1,1
26d147afe26c6559b0ac4d0922180faaf3f6a027,"remove dependence on host name resolution to resolve failure on some machines, https://issues.apache.org/activemq/browse/AMQ-1855

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812046 13f79535-47bb-0310-9956-ffa450edef68",10,27
9b305d669b6e648b3053c3dd4909f02005c6c067,"https://issues.apache.org/activemq/browse/AMQ-1894 - added scalabilty configuration and made initial commit of the patch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812128 13f79535-47bb-0310-9956-ffa450edef68",214,961
c1051c8ee1b56480fc78d850c2dc55344244523a,"Fix for https://issues.apache.org/activemq/browse/AMQ-2378

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812139 13f79535-47bb-0310-9956-ffa450edef68",0,68
8d9f47aa481698f62bfc75ce1fb96699c8e1f21e,"https://issues.apache.org/activemq/browse/AMQ-1112 - resolve issues with optimizedDispatch, no need for message expiry to respect optimizeDispatch - iterate can always use the task runner in the expiry case, similar to usage change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812214 13f79535-47bb-0310-9956-ffa450edef68",14,17
f7804bda6cbbd451d40eb0627af94f4b678819f5,"https://issues.apache.org/activemq/browse/AMQ-1112 - test both values of optimizedDispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812217 13f79535-47bb-0310-9956-ffa450edef68",2,6
a33f73e2026de6060199ab091b9b7ff369c50eb6,"remove System.err line

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812252 13f79535-47bb-0310-9956-ffa450edef68",1,0
2b0a194416b12550903fcee1cf8531edc8be8307,"make amq-2183 test auto fail as it hangs in hudson, add a thread dump to help diagnose

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812394 13f79535-47bb-0310-9956-ffa450edef68",13,21
f6199fe13620e110d16cab220a428d758bae0645,"https://issues.apache.org/activemq/browse/AMQ-1894 - tidying up configurations and inserting comments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812481 13f79535-47bb-0310-9956-ffa450edef68",83,253
876ddef5947351572b859e9010bc6f1bae0a7ec5,"added stomp temp destinations test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812512 13f79535-47bb-0310-9956-ffa450edef68",0,18
6fc3744c73594d8e768f7ea866fda3f797951c20,"Fix for https://issues.apache.org/activemq/browse/AMQ-2379

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812514 13f79535-47bb-0310-9956-ffa450edef68",25,493
390bb147efcf8a6684f1865154846b0e3386da76,"fix for https://issues.apache.org/activemq/browse/AMQ-1803

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812790 13f79535-47bb-0310-9956-ffa450edef68",2,6
e79239531e0aaca00fdde1aeeed0705f6f668be2,"remove host resolution dependency on test for: https://issues.apache.org/activemq/browse/AMQ-2379

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812859 13f79535-47bb-0310-9956-ffa450edef68",5,9
e1a2d7dc75a0b678aad2e4dee55fa46cdf03385e,"resolve potential npe in test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812872 13f79535-47bb-0310-9956-ffa450edef68",1,3
6c86745810097ce151caf181bcc33b96ce23d064,"Test case for https://issues.apache.org/activemq/browse/AMQ-1687

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812873 13f79535-47bb-0310-9956-ffa450edef68",0,108
f89bf4765f32d0778be73d74f5e3f96b90095f88,"https://issues.apache.org/activemq/browse/AMQ-1894 - throughput configuration and changed default kahadb properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812885 13f79535-47bb-0310-9956-ffa450edef68",2,76
487f2cca03458e8f03420bdbfb8f182ad6a8bc06,"Fix for https://issues.apache.org/activemq/browse/AMQ-910

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812932 13f79535-47bb-0310-9956-ffa450edef68",4,4
9cc98732e6ab3c8e175fe40e5de3b4ab5e49d4ff,"fix for https://issues.apache.org/activemq/browse/AMQ-910

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812941 13f79535-47bb-0310-9956-ffa450edef68",5,82
df8ae3821af15e9193f94833865732a0d8231745,"https://issues.apache.org/activemq/browse/AMQ-1894 - revert enableJournalDiskSyncs to true and specifically set it in throughput config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812943 13f79535-47bb-0310-9956-ffa450edef68",2,2
8d7e93204b39dcd810db4df4195f3b6cc17f4bea,"https://issues.apache.org/activemq/browse/AMQ-2368 - remove jmx, memory and ssl setup from activemq-admin scripts

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812950 13f79535-47bb-0310-9956-ffa450edef68",19,3
d9c60b1bf94dcd70911081b6820c402983652abc,"remove deprecated <package> directive

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@812982 13f79535-47bb-0310-9956-ffa450edef68",3,5
7127a2cc3e7cf2baae6bd9808be6f9751c92fd4c,"differenciate imported config fragments: update to https://issues.apache.org/activemq/browse/AMQ-1894

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813011 13f79535-47bb-0310-9956-ffa450edef68",8,8
c7c29e960a58dc44db7b0f30bd11a83d847249f5,"changing back maven 2.0.10 since hudson now supports it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813027 13f79535-47bb-0310-9956-ffa450edef68",1,1
eae5aa09d1237cd299f555ade4256d989be7497b,"Fix for https://issues.apache.org/activemq/browse/AMQ-2249

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813053 13f79535-47bb-0310-9956-ffa450edef68",0,10
a831a08abb4927de5e7b9b6e394836a6d68127ec,"backOffMultiplier now a double in RediliveryPolicy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813324 13f79535-47bb-0310-9956-ffa450edef68",1,1
aead3e0fc073b4370f105f94590494268bfa8098,"set flow control as a policy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813384 13f79535-47bb-0310-9956-ffa450edef68",0,1
98497b19303af231068904157034049ba5141137,"Fix for https://issues.apache.org/activemq/browse/AMQ-2071 and 
https://issues.apache.org/activemq/browse/AMQ-2070

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813422 13f79535-47bb-0310-9956-ffa450edef68",37,199
ce4c065f75dd2649bfba3e8a717c3bc6914edac0,"Fix for https://issues.apache.org/activemq/browse/AMQ-2071 and 
https://issues.apache.org/activemq/browse/AMQ-2070

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813424 13f79535-47bb-0310-9956-ffa450edef68",0,137
561cda1e45da7739dd2b566de5ce1e04907cab2a,"expose journal writeBatchSize

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813467 13f79535-47bb-0310-9956-ffa450edef68",8,16
356c39dcfc1673410b3a7b7d2055586be3279ab8,"expose journal writeBatchSize and tidy up xbean annotations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813469 13f79535-47bb-0310-9956-ffa450edef68",31,47
dfd525fd9616ff203b2c58e3a4c60f65a1150d68,"use int editor for int parameter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813471 13f79535-47bb-0310-9956-ffa450edef68",1,1
5c405cbfd8a9dce299c66a46ffbca1b00ba51f66,"resolve https://issues.apache.org/activemq/browse/AMQ-2342 - update to xbean 3.7-SNAPSHOT pending 3.6 release - auto generation of xsd is back - seems to work ok for broker definitions in spring contexts etc.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813525 13f79535-47bb-0310-9956-ffa450edef68",10718,127
d4133c4de88f5ad382bb8e736275997362f26a98,"https://issues.apache.org/activemq/browse/AMQ-2239 - stomp+nio transport implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813703 13f79535-47bb-0310-9956-ffa450edef68",0,450
673fee193d0933b28c4520dc5bdf7a88272ce925,"resolve https://issues.apache.org/activemq/browse/AMQ-2381 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813721 13f79535-47bb-0310-9956-ffa450edef68",21,39
0e8eadb8fb96e8382736a25e201bb9332a37ee89,"https://issues.apache.org/activemq/browse/AMQ-2386 - stomp+nio using selectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813722 13f79535-47bb-0310-9956-ffa450edef68",2,49
28443226b67529ed1cef132db8634cd73a981c58,"test case for: https://issues.apache.org/activemq/browse/AMQ-2383 - works on trunk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813734 13f79535-47bb-0310-9956-ffa450edef68",0,49
b7179731fff5afb15058ee083550f6304c1dd4e5,"Added some more information in the comments about how to use


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813764 13f79535-47bb-0310-9956-ffa450edef68",0,8
42282810a88c2a7ed1814f0bc13e922efcccaaaa,"Fix for https://issues.apache.org/activemq/browse/AMQ-2387

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813906 13f79535-47bb-0310-9956-ffa450edef68",165,192
e01acf44ca22208d0908eff1d0c641c974d1403e,"patch applied for https://issues.apache.org/activemq/browse/AMQ-2191

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813927 13f79535-47bb-0310-9956-ffa450edef68",6,34
e7c9d216600558bd097c9599c879ee8ef5328d87,"Apply patch from https://issues.apache.org/activemq/browse/AMQ-2002

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813962 13f79535-47bb-0310-9956-ffa450edef68",3,11
7eac1f71328fc12f82cd80d4acbe3852e43ad130,"Apply patch from https://issues.apache.org/activemq/browse/AMQ-2002

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813965 13f79535-47bb-0310-9956-ffa450edef68",0,153
7da608c411f3e4db9a33dae06967b6a218d480ad,"Fix for https://issues.apache.org/activemq/browse/AMQ-1813

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813980 13f79535-47bb-0310-9956-ffa450edef68",1,19
7167041ee66b3bfb2c052f6717277e85ebae92dc,"AMQ-2166 unregister session proxies when they are closed.  Patch (modified) from Mario Siegenthaler, slightly modified

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@813992 13f79535-47bb-0310-9956-ffa450edef68",33,51
5ab78c123482cb4448830572b0b2dbc69a5f02e6,"fix for https://issues.apache.org/activemq/browse/AMQ-1499 - oxm message transformer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814586 13f79535-47bb-0310-9956-ffa450edef68",30,777
f3b1ea9cfb9ddb3547782546627ad3696ec1ca39,"Fix for https://issues.apache.org/activemq/browse/AMQ-2391

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814627 13f79535-47bb-0310-9956-ffa450edef68",3,3
3720e847d147c04688467b9357daedc232c697ad,"Fix for https://issues.apache.org/activemq/browse/AMQ-2385

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814638 13f79535-47bb-0310-9956-ffa450edef68",2,11
31ecfae93453e5a35d72322bf2e2bb5adcdeac5e,"Fix for https://issues.apache.org/activemq/browse/AMQ-2385

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814639 13f79535-47bb-0310-9956-ffa450edef68",1,9
8ed158931258cf20966cd79386bad5eb336a3fbd,"ensure generated xsd is available to test phase

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814648 13f79535-47bb-0310-9956-ffa450edef68",24,3
039a15fc132cf65858cde803d7263aa65ac459a9,"allow embedded broker with kahaDB to exit without stop - make writer threads Daemon

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814649 13f79535-47bb-0310-9956-ffa450edef68",0,2
bdd989a975493d79a90623c2d06b5d6a5e40c0d3,"https://issues.apache.org/activemq/browse/AMQ-2390 - removing unused heavyweight dependencies from camel webapp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814696 13f79535-47bb-0310-9956-ffa450edef68",0,5
72b941603a2b1b3b9b014f34042461d1ec5ebb9e,"resolve some failures and ref to old config namespace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814757 13f79535-47bb-0310-9956-ffa450edef68",12,10
fd976da1b5a5d3a0f9f93a3ca6615f7fd567b442,"tidy info message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@814758 13f79535-47bb-0310-9956-ffa450edef68",1,1
03e6a7f9efc7a0cfe92b88ec5c58f00da654dac9,"https://issues.apache.org/activemq/browse/AMQ-2390 - trim down camel webapp size

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@815187 13f79535-47bb-0310-9956-ffa450edef68",6,10
a80e0619de108b9d1f15d27de57ee206c22256bc,"Tidied up fix for https://issues.apache.org/activemq/browse/AMQ-2071

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@815321 13f79535-47bb-0310-9956-ffa450edef68",1,1
c5c7cd68a000bb68adc1797ce7f85e946bff217b,"fix for https://issues.apache.org/activemq/browse/AMQ-2393

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@815359 13f79535-47bb-0310-9956-ffa450edef68",2,143
da6809ced39e304728aebeec3561fed644ec7568,"https://issues.apache.org/activemq/browse/AMQ-2393 - add repositories for jsr311-api

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@815661 13f79535-47bb-0310-9956-ffa450edef68",0,17
5f2abc13c801f257a389203b15365b0ef645348e,"resolve intermittent failure of test for https://issues.apache.org/activemq/browse/AMQ-1687 - wait for messages needs to wait for the outstanding count rather than just 10

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@815684 13f79535-47bb-0310-9956-ffa450edef68",4,3
7d4b446e6769a5ea47affaf6faa170fe3b5995ab,"fix some synchonization issues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@815788 13f79535-47bb-0310-9956-ffa450edef68",33,29
ada5de34382cb036a773a8a6a7a471fb1c83b486,"update to xbean 3.6 - resolve https://issues.apache.org/activemq/browse/AMQ-2342

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@815815 13f79535-47bb-0310-9956-ffa450edef68",9,1
7350bd1a3f243e7420670cf2985332592777faf9,"remove activemq-groups from the  5.3 build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816057 13f79535-47bb-0310-9956-ffa450edef68",1,0
32d547ecf2568fd1772b22d561f03bef1bddb27c,"switching to protobuf 1.0 - for the release purposes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816131 13f79535-47bb-0310-9956-ffa450edef68",2,2
0b9f0e34fdf121bb6098463232c4a76b6e054652,"removing apache-release profile, since we will use parent's one

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816142 13f79535-47bb-0310-9956-ffa450edef68",54,0
21f67b88e31f5355a0eaf4cbef257859d698faf4,"putting apache-release profile back

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816189 13f79535-47bb-0310-9956-ffa450edef68",0,54
05a2c0773ea7ddfe7d8516b2f050d47b0a85a0d5,"[maven-release-plugin] prepare release activemq-5.3.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816195 13f79535-47bb-0310-9956-ffa450edef68",31,31
7172be35bc5a83dd367937e69a425805988b8088,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816197 13f79535-47bb-0310-9956-ffa450edef68",30,30
a51019947cf412bf445870ed6aafd0448d40927f,"Update version so that trunk can continue to build fine

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816272 13f79535-47bb-0310-9956-ffa450edef68",3,3
96fab6d4c1f5a8b7ffbe5b2e1c86efbf2d1d290b,"Better logging configuration
 - We now have a config file for jul log messages
 - console logging format simplified and but expanded the logfile format so that it's easier to parse and does not truncate field values



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816278 13f79535-47bb-0310-9956-ffa450edef68",25,24
3a6e7cb988cc555f472b863c5695b19db583044d,"Forgot to add this file /w the last commit.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816279 13f79535-47bb-0310-9956-ffa450edef68",0,25
69f21b8ad6914aa69ac792274d6c16894c210b20,"removing derby from distribution

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816281 13f79535-47bb-0310-9956-ffa450edef68",1,4
8a214e3f6cfe5f427c02f0e34411277c1a18b8dd,"removing derby from release NOTICE file

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816288 13f79535-47bb-0310-9956-ffa450edef68",16,0
434e77692a4d881941e2af0c30535c3db175270a,"fix java.util.logging.config.file reference to jul logging.properties to disable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816293 13f79535-47bb-0310-9956-ffa450edef68",6,6
583d8490fab8e8e65104ad8f4affce2639112f15,"Adding missing license headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816298 13f79535-47bb-0310-9956-ffa450edef68",72,608
76381791e8c18abb98c2d203ba5b902dd73a8a38,"- refactored FactoryFinder so that it Implementation is pluggable.
- made an OSGi friendly strategy for it using a BundleActivator (needs testing)



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816444 13f79535-47bb-0310-9956-ffa450edef68",65,335
361bbebab9ce06e20d55927d125609ef577cc0c9,"AMQ-2398: org.apache.activemq.camel.component.ActiveMQConfiguration uses the TCCL to load some classes which usually don't work in OSGi

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@816509 13f79535-47bb-0310-9956-ffa450edef68",1,3
de9a2ddfa38108a00c783ce7525d4a92db08f797,"https://issues.apache.org/activemq/browse/AMQ-2398 - resolve compilation problem

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@817222 13f79535-47bb-0310-9956-ffa450edef68",2,1
ab600463365be3950a943e39a7c9415c5cf4c3ce,"https://issues.apache.org/activemq/browse/AMQ-2400 - producer flow control log messages for queues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@817625 13f79535-47bb-0310-9956-ffa450edef68",3,19
d021e5b6c73160d44ba9e43ed7bf295ea6f4d76f,"https://issues.apache.org/activemq/browse/AMQ-2400 - producer flow control log messages for topics

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@817639 13f79535-47bb-0310-9956-ffa450edef68",3,11
7dca53d69055948c42ba6b38913f3223d2bc83d3,"https://issues.apache.org/activemq/browse/AMQ-2400 - fixing tab spaces

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@817640 13f79535-47bb-0310-9956-ffa450edef68",18,18
db3a021384518569f3ff1b708524f94b6c2f6a1e,"https://issues.apache.org/activemq/browse/AMQ-2401 - fixes problem with low memory limits

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@817713 13f79535-47bb-0310-9956-ffa450edef68",2,2
4245c355dde40a506143944e0cbddcbbc00e5e50,"Changing memory limit flow control warning messages to be one time messages [http://issues.apache.org/activemq/browse/AMQ-2401]

This avoids performance penalty of constant logging since under normal circumstance producers will be going in and out of flow control frequently. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@817842 13f79535-47bb-0310-9956-ffa450edef68",9,20
09f156456f23e788dd731ddcef57f1da87ee0d98,"Now memory limits are being set properly for a Destination - have to update the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818013 13f79535-47bb-0310-9956-ffa450edef68",5,8
5efe421cdc5b1e955c964edbdf325e816d6473c0,"It's possible that an transport listener could generate a runtime exception while handling an exception.  Add a handler for it so that we DEBUG log the event instead of letting
it propagate up which eventally kills the run thread and causes a System.err stack dump.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818138 13f79535-47bb-0310-9956-ffa450edef68",1,6
785454a3669fc6d2207088847256abd2c792cc3b,"Fix for https://issues.apache.org/activemq/browse/AMQ-2403

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818147 13f79535-47bb-0310-9956-ffa450edef68",4,99
c9500f45ef42637e3fd6e99e01246a2c7d4614ed,"AMQ-2405: Adding more robust/graceful disk corruption recovery logic.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818155 13f79535-47bb-0310-9956-ffa450edef68",32,92
86c43805e33a7a010b8f3be8507f55e5c953d17a,"https://issues.apache.org/activemq/browse/AMQ-2368 - 'start' task should have the same funcionality as activemq script

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818159 13f79535-47bb-0310-9956-ffa450edef68",3,26
6e7c4a4da91177764a561263234c552e67dee7f2,"remove unused imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818176 13f79535-47bb-0310-9956-ffa450edef68",1,0
a0af3515201afcf635100fc1fee6b336e378e8be,"AMQ-2408 and AMQ-2407 
 - adding new tool to manually inspect/audit the amqPersistenceAdapter's journal files.
 - adding new HTTP based discovery agent



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818209 13f79535-47bb-0310-9956-ffa450edef68",2,1779
15c2c9660973eb02a99d42772d3d9b2752d2a184,"AMQ-2408 and AMQ-2407 
 - adding new tool to manually inspect/audit the amqPersistenceAdapter's journal files.
 - adding new HTTP based discovery agent



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818211 13f79535-47bb-0310-9956-ffa450edef68",6,26
35658c7c7b52e2151655cf3d8440750f947bf6d2,"MQ-2404 : Configurable KahaDBStore verbosity.. -Dorg.apache.activemq.store.kahadb.LOG_SLOW_ACCESS_TIME=300 system prop now supported.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818224 13f79535-47bb-0310-9956-ffa450edef68",4,8
7b2a13e4e08a43f189805fa42aba603f63380db9,"New test added in commit 818147 did not have any test methods.. Related to AMQ-2403
adding a noop test case so that way it does not fail the build.  Perhaps the real test methods are still under development?



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818262 13f79535-47bb-0310-9956-ffa450edef68",0,3
c8fb3c9ec8f62faa9cbd47030bc058cee04f1101,"updating xbean and protobuf references

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818450 13f79535-47bb-0310-9956-ffa450edef68",10,2
c437eb08ce17bab5bc622360428a8fd5ea2a5511,"remove noop test file

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818480 13f79535-47bb-0310-9956-ffa450edef68",27,0
ded63631fd984fea52ebdf411415c1fd4044db8a,"AMQ-2405: Better tests for the kahadb corruption handling.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818484 13f79535-47bb-0310-9956-ffa450edef68",1,72
ec821411aa0896cb616e0b07dc31bee54df3cb85,"AMQ-2401: Applying patch which makes the DUPS_OK on Queue case use the same ack strategy that is used by AUTO_ACK.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818487 13f79535-47bb-0310-9956-ffa450edef68",6,14
7f534db142bad99aa8564906e3a6703027a40f35,"Adding a modified version of the test case attached to AMQ2401.  This test would fail quickly before the patch in revision 818487 was applied.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818496 13f79535-47bb-0310-9956-ffa450edef68",0,245
ed3c23fce70fbe55b3e79a9aa0c2241b184b0c4c,"Adding repo needed to get the josl dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818502 13f79535-47bb-0310-9956-ffa450edef68",0,17
b4037073982e34e385cd6c38bf3ab490826faa6c,"amended number of messages sent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818510 13f79535-47bb-0310-9956-ffa450edef68",1,1
68d34fd5a0e718eff8af239b8e0f2a84701ed809,"adding commons net as optional osgi dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818513 13f79535-47bb-0310-9956-ffa450edef68",0,1
a43311770fb8681f4b5794df5e3cec5ea0be90a4,"adding commons net as optional osgi dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818516 13f79535-47bb-0310-9956-ffa450edef68",1,1
1c34b2adc922c2b78221ed4b7ef15490ae86f1f0,"Fixing JMSConsumerTest failure: Test case made an invalid assumption.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818609 13f79535-47bb-0310-9956-ffa450edef68",2,3
651dbd4f82fcc1f90bffb1d876b7b94944131a98,"Fixing osgi meta data


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818635 13f79535-47bb-0310-9956-ffa450edef68",0,1
960e65df6560a2fc1e9276e5cedf335817590073,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-2413

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818762 13f79535-47bb-0310-9956-ffa450edef68",4,307
680ebe017b45954453cbf169e26fac572578fb20,"makes test pass on slower machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818812 13f79535-47bb-0310-9956-ffa450edef68",1,1
80ac49db9772745955e00aede956ad3c7bddf270,"AMQ-2416: Provide xbean xml elements for the JDBC adapter classes to support the simpler XML configuration syntax


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818888 13f79535-47bb-0310-9956-ffa450edef68",0,9
5d2f52f0d63f9c58f10dfbb3656880e0c9023cb7,"AMQ-2414: Support mysql cluster configurations



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818905 13f79535-47bb-0310-9956-ffa450edef68",5,30
ba477931a7ee6d430e0d597a45f83ceffc5282dc,"AMQ-2415: Move the activemq-jpa-store module into the sandbox


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818914 13f79535-47bb-0310-9956-ffa450edef68",2558,0
d948c179da726129cd950c114293110105178135,"Was part of AMQ-2414: reduce verbosity of expection traces in the console.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818923 13f79535-47bb-0310-9956-ffa450edef68",4,6
9f6efd4b1f2594cd2b41d2c297173c88025b372f,"AMQ-2414: Fixing the failing create tables problem on MySQL cluster.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818936 13f79535-47bb-0310-9956-ffa450edef68",1,1
41b7acb0ba28e5d5c984afaec4e6dde845974ed7,"added synchronization around remove()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818955 13f79535-47bb-0310-9956-ffa450edef68",2,2
7290d95b884244766c329085a0b70633847bd857,"AMQ-2420 AMQ-2423 AMQ-2422 AMQ-2419 AMQ-2425 AMQ-2424

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@818985 13f79535-47bb-0310-9956-ffa450edef68",19843,0
87cdbbe9615f133f1baa859ed278860e0755697b,"Apply fix for: https://issues.apache.org/activemq/browse/AMQ-2426

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@819035 13f79535-47bb-0310-9956-ffa450edef68",14,14
74148299dc95dc97600d58a997e121b859ce7fc6,"https://issues.apache.org/activemq/browse/AMQ-2413 - prevent test failures on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@819493 13f79535-47bb-0310-9956-ffa450edef68",0,1
db5ca6e5f821d26c7ca1332d64f7ccd40c47cf19,"https://issues.apache.org/activemq/browse/AMQ-2400 - default config modifications

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@819520 13f79535-47bb-0310-9956-ffa450edef68",19,32
32e11e182e5fe1426c050d4726fc330e5dc7ed6e,"adding vm cursor for queues as well (in throuhput config), missed it during previous changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@819651 13f79535-47bb-0310-9956-ffa450edef68",1,5
2e6443ba2bf3ca4926a51063f0c36f46ffb3ac35,"https://issues.apache.org/activemq/browse/AMQ-1886 - preventing problems with spring transactions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@819998 13f79535-47bb-0310-9956-ffa450edef68",2,2
282f145f0818256319113d06a4f8e2f0ec8eae12,"reverting rev 818936 re: issue AMQ-2414

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820010 13f79535-47bb-0310-9956-ffa450edef68",1,1
af10622e7a719962d531f62599f8233ac03c8085,"Still working on AMQ-2414.. hopefullly this resolves the auto creation of MySQL Cluster tables.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820031 13f79535-47bb-0310-9956-ffa450edef68",1,23
3f84ef2906722d4ec8398802abdafa8e888aafbe,"https://issues.apache.org/activemq/browse/AMQ-2432 - felix bundle plugin and osgi metadata

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820221 13f79535-47bb-0310-9956-ffa450edef68",1,3
20972bfdaf9e9602fa6f3b799118ce7ee1bff0b6,"https://issues.apache.org/activemq/browse/AMQ-1886 - another test, but issue cannot be reproduced with embeded derby

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820268 13f79535-47bb-0310-9956-ffa450edef68",0,632
f3f27ff179f86d345e547a67ad89112dec05fb83,"couple of modifications to config files - jdbc and throughput

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820288 13f79535-47bb-0310-9956-ffa450edef68",2,2
828e9d0368b85cc23e6c4de103877ccc2505121a,"Fix for https://issues.apache.org/activemq/browse/AMQ-2433, incorrect pending queue vmCursor configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820367 13f79535-47bb-0310-9956-ffa450edef68",3,3
b89f0d466981ac656517ad97e612e70ff95e915c,"adding vm cursor example in default config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820563 13f79535-47bb-0310-9956-ffa450edef68",1,11
a24133e1e3c334ee092c1367cf51fdf31a459cd5,"AMQ-2435: NullPointer Exception Occurs when using producer flow control

 When producer window based flow control kicks in now, we copy the context since it will be
 changed while the message send request is waiting for space on the queue.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820713 13f79535-47bb-0310-9956-ffa450edef68",3,45
915a91150aae18e09fe86cb7629353a96c631c05,"Reverting pom change that snuck in with my previous commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820714 13f79535-47bb-0310-9956-ffa450edef68",2,2
aa9ff75d45475b0739bcc689273fcab2d36baa2c,"AMQ-2313: Upgrade ApacheDS dependency to 1.5.5 -  fixes issue wiht jaas LDAP tests on AIX/IBM jdk



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820764 13f79535-47bb-0310-9956-ffa450edef68",9,4
94708a284dac59bcf386a8c304dec2e323b2b11e,"https://issues.apache.org/activemq/browse/AMQ-2436 - jdbc sync under high load

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@820955 13f79535-47bb-0310-9956-ffa450edef68",1,3
bdd9e2a8cd8573e87840fa05986430414919104c,"AMQ-2439: KahaDB + Network of Brokers + Restart = Duplicate Messages that cannot be removed from the data store


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@821090 13f79535-47bb-0310-9956-ffa450edef68",6,37
1d5bcaf2743d66bc6a99384239d95bb35c7334e6,"AMQ-2439: Unit test for the kahadb message store


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@821103 13f79535-47bb-0310-9956-ffa450edef68",0,132
4e1d383555749a7e2ec399d40425bc697f385fd0,"https://issues.apache.org/activemq/browse/AMQ-2437 - jdbc recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@821106 13f79535-47bb-0310-9956-ffa450edef68",15,41
bfed2c0e00ac10bd1fab5c9c10ee0bdcd505dc07,"AMQ-2439: Adding test cases for JDBC too.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@821115 13f79535-47bb-0310-9956-ffa450edef68",7,65
869401136eeab748c7daa3982c8f7744111a246b,"https://issues.apache.org/activemq/browse/AMQ-2442 - stomp and xmpp tests on ibm jdk 6

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@822231 13f79535-47bb-0310-9956-ffa450edef68",11,19
dd957fae8cbe1a13b4fed2449d32a5c69969a545,"https://issues.apache.org/activemq/browse/AMQ-2441 - timestampbroker fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@822295 13f79535-47bb-0310-9956-ffa450edef68",6,19
27183f8cc83a99abcb29000504f1c0e6ada56eb3,"https://issues.apache.org/activemq/browse/AMQ-2443 - sendAdvisoryIfNoConsumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@822797 13f79535-47bb-0310-9956-ffa450edef68",2,45
8e59e249051b96f6f5204b3c261621550205023d,"resolve duplicate message issue from: https://issues.apache.org/activemq/browse/AMQ-2439

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@822811 13f79535-47bb-0310-9956-ffa450edef68",42,147
a85e3cc49ce272e1363bea01d9d67480e289fe99,"update links in to version 5 variants as exsiting links ref ver 4.x info

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@823143 13f79535-47bb-0310-9956-ffa450edef68",3,3
a84bbc1de88a399a080c22d7959b200f3a69cd75,"using javadoc 2.5 plugin, with some extra options, since 2.6 doesn't work well with site plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@824790 13f79535-47bb-0310-9956-ffa450edef68",6,5
43bd686a2c651fea3f1db4ad2cd164140f26554e,"resolve https://issues.apache.org/activemq/browse/AMQ-2448 - failed network bridge being incorrectly recorded in a list (and leaked), issue introduced by https://issues.apache.org/activemq/browse/AMQ-2298 now resolved by reusing exsiting correctly managed list of bridges

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@824807 13f79535-47bb-0310-9956-ffa450edef68",19,24
f866f770e3385667ac919f6764b05a439584d421,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2449

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@825008 13f79535-47bb-0310-9956-ffa450edef68",31,216
a015154bd8dac7ee9de527ed9a00b3eb2ff756a8,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-2447

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@825009 13f79535-47bb-0310-9956-ffa450edef68",0,7
aef4ccfe8fd3fad5226b804446f674e1fad2c5e4,"fix race condition in test that validates dequeue count, thanks Al on irc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@825084 13f79535-47bb-0310-9956-ffa450edef68",2,8
d3ec081fc62524efc96183af0336e1209c604dc4,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2454

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@825457 13f79535-47bb-0310-9956-ffa450edef68",0,208
d50a3ca5cee64dc29fd0fac0d0f785665597e038,"exclude reference to spring 3.0.0.M3 via camel-web jersey dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@826645 13f79535-47bb-0310-9956-ffa450edef68",0,6
2c73c3df8cf0cb02188952c01503b1c0a4dc14c5,"resolve some timing issues with slow tests and potential jmx port clash

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@826700 13f79535-47bb-0310-9956-ffa450edef68",14,18
e7794fa4cec3cc795f9cd91b57e5e6a804955fb0,"improve error info to help with: https://issues.apache.org/activemq/browse/AMQ-2457

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@827916 13f79535-47bb-0310-9956-ffa450edef68",1,1
41ccbc50d481dab7de89e2034fcac4134944d951,"https://issues.apache.org/activemq/browse/AMQ-2352 - jmx system properties for web

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@828638 13f79535-47bb-0310-9956-ffa450edef68",2,2
592e18ea9be11cdd071e14873dc1331426ae3999,"Fix for https://issues.apache.org/activemq/browse/AMQ-2461

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@828645 13f79535-47bb-0310-9956-ffa450edef68",0,2
026c120094936a9a0fc179deac98951a74723b2d,"test for http://issues.apache.org/activemq/browse/AMQ-1873 - stomp toon many open files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@828954 13f79535-47bb-0310-9956-ffa450edef68",0,111
5eb274d08d038ae2ce10929f4562f390ab09a4d0,"resolve https://issues.apache.org/activemq/browse/AMQ-2314 - spooled non persistent messages for a topic sub remain after disconnect, pendin messages are now removed so that the temp store can be reclaimed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@828975 13f79535-47bb-0310-9956-ffa450edef68",9,194
5074fefc09df86ad14d550c125f82a025b121a22,"re-enable broker creation in the perf test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@829012 13f79535-47bb-0310-9956-ffa450edef68",3,3
e0ee61348e3fb78c8e72f655dcf8f2d7754fcd23,"https://issues.apache.org/activemq/browse/AMQ-2462 - new activemq-admin commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@829066 13f79535-47bb-0310-9956-ffa450edef68",1,1145
e384fb99ba6d5e17efb795fead1a6876ed9f4c68,"https://issues.apache.org/activemq/browse/AMQ-2462 - new activemq-admin commands - create command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@829073 13f79535-47bb-0310-9956-ffa450edef68",0,292
00e2f511c3bf3dcb643d6e8e3ecd3d4afdc666d2,"resolve https://issues.apache.org/activemq/browse/AMQ-2463 - new isolationlevel int property on JDBCPersistenceAdapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@829105 13f79535-47bb-0310-9956-ffa450edef68",5,27
c3881bf4f7e043f42175552d8eb0de3e699fd4d2,"https://issues.apache.org/activemq/browse/AMQ-2466 - josql osgi

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@830122 13f79535-47bb-0310-9956-ffa450edef68",0,1
d2a9f7dba21a36b2f4b67e2499077a6b5c2bdfb2,"first cut of resolution to https://issues.apache.org/activemq/browse/AMQ-2470 - put cleanup on a fixe rate schedual

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@831008 13f79535-47bb-0310-9956-ffa450edef68",1,1
89eecadd9da3934609e888f2b781e2602b8a9f9b,"resolve https://issues.apache.org/activemq/browse/AMQ-2468 - limit pagedInPendingDispatch to maxPageSize and bypass dispatch for jmx queue modifications like purge and remove matching messages so they are not limited by pending messages and can page through all messages. Resolve intermittent deadlock in AMQ2102Test. Note: sparse selectors may need to increase maxPageSize as ever increasing pagedInPendingDispatch was exceeding that limit in error

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@831258 13f79535-47bb-0310-9956-ffa450edef68",23,81
97d7c390dfbb8ba6eb4e2da2fff6a11866295388,"add variant that uses syncSend and verifies a ResourceAllocationException in the sending thread

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@831377 13f79535-47bb-0310-9956-ffa450edef68",0,45
763ef103d8508376e3f84576f57340d6d8c57dea,"apply patch for https://issues.apache.org/activemq/browse/AMQ-2472 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@831827 13f79535-47bb-0310-9956-ffa450edef68",5,3
4213e42514ed173113fac8445006834681fc05bf,"make networkbridge tests more resilient to time related issues on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@831876 13f79535-47bb-0310-9956-ffa450edef68",31,84
780e448cd40b872d90f46dec969055924c755d8e,"apply patch for https://issues.apache.org/activemq/browse/AMQ-2458 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@831888 13f79535-47bb-0310-9956-ffa450edef68",1,1
8e42528bb21e18a61d6f307adb7e1162e89b2fdc,"https://issues.apache.org/activemq/browse/AMQ-2474 - jaas certificate authentication plugin and network of brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@831942 13f79535-47bb-0310-9956-ffa450edef68",3,283
7f46be934a6bef0becf641fe26f31d57be570db2,"avoid java.util.concurrent.RejectedExecutionException on shutdown by bracketing executor usage with started flag

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@832401 13f79535-47bb-0310-9956-ffa450edef68",2,2
785532fdff9331be797ef292bc1898df5d344713,"provide repo ref for net.sf.josql dependency not yet in central

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@832454 13f79535-47bb-0310-9956-ffa450edef68",0,15
a455eef8eb687fa87bf6744ff9542ebdca00fa46,"https://issues.apache.org/activemq/browse/AMQ-2410 - web console sorting

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@832701 13f79535-47bb-0310-9956-ffa450edef68",1,6
9086693c6135e28de17b456e31231b351c7cccc3,"add some resilience to slow mbean registration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@832829 13f79535-47bb-0310-9956-ffa450edef68",25,49
652d551063f377940e80e7590cc2c65aaef23964,"adding durable topic expiration test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@833034 13f79535-47bb-0310-9956-ffa450edef68",0,26
46a7f9eeaba0ce82095fb06c083c72b6e69d9bd7,"resolve https://issues.apache.org/activemq/browse/AMQ-2478 - patch applied with thanks. test case works with the new kahaDB also, it is a little neater w.r.t exception handling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@833074 13f79535-47bb-0310-9956-ffa450edef68",2,11
f1fa8f911d8ad6a79197ab4beeb2fbe9abe57445,"soreuse addr on rmi connector and enable some debug logging to track down hudson jmx related intermittent failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@833376 13f79535-47bb-0310-9956-ffa450edef68",4,19
b3873fb3e45f1f74b77148bf64430ca0860a8266,"https://issues.apache.org/activemq/browse/AMQ-2306 - jmx for slave brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@833395 13f79535-47bb-0310-9956-ffa450edef68",6,27
814c49f058f315efd82a5e1bcfcdf509dadbb788,"resolve intermittent failure of DiscoveryNetworkReconnectTest due to network timing issues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@833435 13f79535-47bb-0310-9956-ffa450edef68",4,6
bf91745bf509cf6277f934a4c8be05032cdf6e03,"additional fix for https://issues.apache.org/activemq/browse/AMQ-2306 - jmx for slave brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@833441 13f79535-47bb-0310-9956-ffa450edef68",1,1
748e419b75074e11abc2707f5bd38a5c105932b6,"wait a little longer on slow machines where recovery can take a while

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@833497 13f79535-47bb-0310-9956-ffa450edef68",6,2
3536b1e66577d98dd0738aea7c674ea0fe134c03,"resolve https://issues.apache.org/activemq/browse/AMQ-2481 - no need to force a page in but sync between expiry from browse and from pageIn needed some tweaks, expired messages need to be removed from the cursor in the event of expiry from browse. Also resolve unit test failures from https://issues.apache.org/activemq/browse/AMQ-2481

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@834543 13f79535-47bb-0310-9956-ffa450edef68",54,181
fb7d8d82d67120dab9bb1e8146953e7b1273b109,"resolve hudson intermittent failure, jetty acceptor uses a thread pool such that it does not accept immediatly, a wait or yield is needed before connecting to ensure the listener is active, extending this wait to 1second from the .5 second and adding a yield just in case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@834830 13f79535-47bb-0310-9956-ffa450edef68",1,2
b1a9130149ca0f60b9abd8b4fc1cda468727b1d5,"http://issues.apache.org/activemq/browse/AMQ-2042 - shutdown if kahadb cannot access disk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@834922 13f79535-47bb-0310-9956-ffa450edef68",24,53
ce18ec8b0fca19c641e326159552a3b148d2816f,"resolve https://issues.apache.org/activemq/browse/AMQ-2487, patch applied, test added

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835325 13f79535-47bb-0310-9956-ffa450edef68",2,10
db65c4365bc6494f7e77d41892491917aa52eb04,"https://issues.apache.org/activemq/browse/AMQ-2486 - systemExitOnShutdown hangs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835339 13f79535-47bb-0310-9956-ffa450edef68",1,1
d34dcb483024df768aa35e564245e2b0a98e4b50,"http://issues.apache.org/activemq/browse/AMQ-2042 - fix for kaha persistence store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835373 13f79535-47bb-0310-9956-ffa450edef68",14,58
bf2077f48482029ca707fa26cc80cdfa69f70bd0,"http://issues.apache.org/activemq/browse/AMQ-2042 - fix for amq persistence store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835412 13f79535-47bb-0310-9956-ffa450edef68",1,19
414a6463ef40f7bb387075bd94327435499772a9,"Fix for http://issues.apache.org/activemq/browse/AMQ-2439: IllegalState issue.

Tightening synchronization in DemandForwardingBridge to avoid subscription clean up and ack processing race condition. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835715 13f79535-47bb-0310-9956-ffa450edef68",107,118
f528aa5b1d8689ca1aca053657437f2696e3a740,"https://issues.apache.org/activemq/browse/AMQ-2486 - systemExitOnShutdown hang

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835816 13f79535-47bb-0310-9956-ffa450edef68",7,16
6a4e25c737e95426b58ed3821ace1ccd7b5e3fd7,"http://issues.apache.org/activemq/browse/AMQ-2042 - additional fix for kahaDB store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835833 13f79535-47bb-0310-9956-ffa450edef68",3,14
c808bebd00064c6c1d2c702f10e249e6e2f99254,"resolve https://issues.apache.org/activemq/browse/AMQ-2483 and https://issues.apache.org/activemq/browse/AMQ-2028, keep track of outstanding wakeup requests in a queue with regular task runner avoids build up in determintic task runner. Exposed useDeterministicTaskRunner to validate some test that fail with the -DuseDedicatedTaskRunner=true system property. With broker.useDedicatedTask=false, Queues will use pooled executor for dispatch.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835874 13f79535-47bb-0310-9956-ffa450edef68",78,175
e8a641c6b7a4fe14f7dbc33134a2f833731b05ab,"http://issues.apache.org/activemq/browse/AMQ-2042 - adding configurable io exception handling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@835888 13f79535-47bb-0310-9956-ffa450edef68",57,122
11274e0b741b6b014f1fa87f40553c1aa228a9a8,"resolve https://issues.apache.org/activemq/browse/AMQ-2493 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@880696 13f79535-47bb-0310-9956-ffa450edef68",1,1
c63eb5cc231520582d027e0278bdfb7aef0d2432,"resolve https://issues.apache.org/activemq/browse/AMQ-2492 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@880699 13f79535-47bb-0310-9956-ffa450edef68",0,34
a19e27a9fc4c99a56066637b9d3ec143e2eca45d,"https://issues.apache.org/activemq/browse/AMQ-2042 - enable kahadb to recover from 'no space available'

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@880792 13f79535-47bb-0310-9956-ffa450edef68",60,88
f6cf0bafc27e194ac922aa2b6ce116112dea335a,"First draft of a test for AMQ-2324 and AMQ-2484

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@880838 13f79535-47bb-0310-9956-ffa450edef68",1,146
a15b39569be7f73bd9c0a7894dd466e1fcc07770,"Changes to the test for AMQ-2324 and AMQ-2484; trying to get it to pass consistently

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881174 13f79535-47bb-0310-9956-ffa450edef68",25,120
5cf4d83556831672aff36e3c06dd0b9cf9e81174,"https://issues.apache.org/activemq/browse/AMQ-2042 - kahadb cleaning up after io exception

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881221 13f79535-47bb-0310-9956-ffa450edef68",67,75
0dc6e0c622c1a49a5c9def37ca9a7bf53d132c3a,"https://issues.apache.org/activemq/browse/AMQ-2499 - don't show passwords in log files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881267 13f79535-47bb-0310-9956-ffa450edef68",11,52
a55efe952c89d15aede2c2bb30b4ab5f02afe667,"https://issues.apache.org/activemq/browse/AMQ-2499 - reverting previous commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881270 13f79535-47bb-0310-9956-ffa450edef68",52,11
1466d6cc3a66ee7da0152f4604aecd4a0f85ce59,"https://issues.apache.org/activemq/browse/AMQ-2499 - don't show passwords in log files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881274 13f79535-47bb-0310-9956-ffa450edef68",3,8
b4de4f5b09c1383e24321ba962b3758052b0a2ec,"https://issues.apache.org/activemq/browse/AMQ-2499 - minor improvement - case sensitivity

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881277 13f79535-47bb-0310-9956-ffa450edef68",1,1
07cb724669bbde642fddd723acad6f88b43bd3df,"Fix for https://issues.apache.org/activemq/browse/AMQ-2475

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881313 13f79535-47bb-0310-9956-ffa450edef68",8,344
7036dabdd86c8abffea09051f222b814b988e079,"bad commit - my bad - remove, remove remove :)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881322 13f79535-47bb-0310-9956-ffa450edef68",106,0
fa3bac92c6bc9657a54f928793dd0423a7684912,"resolve issue with jaxb jar downloads that result in - [INFO] Internal error in the plugin manager executing goal 'org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.1:generate': Unable to find the mojo 'org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.1:generate' in the plugin 'org.jvnet.jaxb2.maven2:maven-jaxb2-plugin'
com/sun/tools/xjc/ErrorReceiver - redirection seems to be the root cause as your local repo can end up with jar files contaning text which fails checksum. eg: cat /home/gtully/.m2/repository/com/sun/xml/bind/jaxb-xjc/2.0.2/jaxb-xjc-2.0.2.jar
<html><head>
<title>301 Moved Permanently</title>
</head><body>
<h1>Moved Permanently</h1>
<p>The document has moved <a href=http://download.java.net/maven/1/com.sun.xml.bind/jars/jaxb-xjc-2.0.2.jar>here</a>.</p>
<hr>
<address>Apache Server at maven-repository.dev.java.net Port 443</address>
</body></html>
. Adding the maven 1 legacy repo seems to do the trick for some reason.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881433 13f79535-47bb-0310-9956-ffa450edef68",4,12
d7b0408803c35aaf08eb3f8f6002d43ac2024523,"Get ActiveMQ building with Maven 3

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@881439 13f79535-47bb-0310-9956-ffa450edef68",17,1
9b260dc37ec90ff0e2da3e39432eab874ddcf78c,"resolve https://issues.apache.org/activemq/browse/AMQ-2487 - usage management of storecursor iterator was broken in that a browse would decrement the usage. memory management across move and retry operations is now correct. modified some tests to validate memory usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@882096 13f79535-47bb-0310-9956-ffa450edef68",15,37
04b3f8e49b13ac5e7a857794cc4268754a3611b8,"https://issues.apache.org/activemq/browse/AMQ-2042 - making amq store resilent to 'no space left'

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@882126 13f79535-47bb-0310-9956-ffa450edef68",7,41
86e7d511a8e64e80abe28a66595ca9487668008e,"resolve https://issues.apache.org/activemq/browse/AMQ-2502, add optional import of pool

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@882136 13f79535-47bb-0310-9956-ffa450edef68",0,1
0728ec9e757970daf18416d716b64ad079d9faca,"https://issues.apache.org/activemq/browse/AMQ-2042 - added handling of 'no disk space' in default handler

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@882144 13f79535-47bb-0310-9956-ffa450edef68",0,29
2a238f7c71313fae825a5cec2251c0bbdc5f6187,"some more resiliance to slow hardware for this test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@882510 13f79535-47bb-0310-9956-ffa450edef68",18,21
1695cff244e913c115d9a564037963f500a3bcbf,"PurgeTest- assert there are no messages in the queue, by trying to browse them

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@883327 13f79535-47bb-0310-9956-ffa450edef68",0,2
c26dd6a5e1c3e2f5c2a2a99f8ce46019d83d44a5,"Updated test for AMQ-2324 and AMQ-2484

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@883411 13f79535-47bb-0310-9956-ffa450edef68",110,352
d7a8bc89e898cb5809b6ee8a1bd169a1ab9f0528,"resolve compilation error, test still fails though

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@883450 13f79535-47bb-0310-9956-ffa450edef68",4,5
83df5cef5421aeb6db04c04377ed960c07e26f6c,"resolve https://issues.apache.org/activemq/browse/AMQ-2489 - duplicate delivery acks resulted in broker exceptions with client or inividual ack - delivery acks now only for unacked messages - down side is pending messages in broker remain on expiry awaiting ack from ackLaer that dependes on prefetch value - but this is reasonable and to be expected. they will be removed on close or subsequent acks in any event

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@883458 13f79535-47bb-0310-9956-ffa450edef68",5,250
48764becbdb72c94fd50601464f6e9e848490ed2,"Adding a blockedProducerWarningInterval attribute to destinations to control the rate at which warnings about blocked producers are generated (otherwise the warnings can flood the log). 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@884234 13f79535-47bb-0310-9956-ffa450edef68",630,720
8978ac0772a0dad67a45b0b5a1a77c115ec649c2,"Fix for AMQ-2511:  Inactivity monitor does not time out stale connections.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@884267 13f79535-47bb-0310-9956-ffa450edef68",35,127
13f9ec8555354b77de16ce2a6230525bc6e49f20,"https://issues.apache.org/activemq/browse/AMQ-2515 - Optimized Acknowledgements and interrupted transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@884633 13f79535-47bb-0310-9956-ffa450edef68",9,12
adb7fccda0ff16e0c8f5c935ac6cec2fefb0c0c8,"resolve https://issues.apache.org/activemq/browse/AMQ-2516 - broker send to dlq now uses broker security context so it will bypass the authentication plugin when configured

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@884778 13f79535-47bb-0310-9956-ffa450edef68",0,39
5f6f23e3c9283ded67ec239f8e879afb3d644494,"http://issues.apache.org/activemq/browse/AMQ-1498 - broker recovery missing subscriber

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@885488 13f79535-47bb-0310-9956-ffa450edef68",3,72
b59b8ab2964cbf2c717512c65243ac612d916d1c,"disable BrokerNetworkWithStuckMessagesTest as it currently fails, locally and in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@885711 13f79535-47bb-0310-9956-ffa450edef68",0,3
d49b6e5a0fdf44d2ac4cdf08f2827783acdea894,"https://issues.apache.org/activemq/browse/AMQ-2519 - duplicate messages and jdbc store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@885841 13f79535-47bb-0310-9956-ffa450edef68",16,27
8f8f9ac5291e3090a82bd5f8c51c82ffeae85d8d,"don't account for wait time in cleanup log message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@886136 13f79535-47bb-0310-9956-ffa450edef68",1,2
4caad1a058d58b6618093ba7d20081bc141c2b03,"investigating JDBCSpringTest intermittent failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@886751 13f79535-47bb-0310-9956-ffa450edef68",27,9
72b73f06cd8935aa6b1819f4dab88a5f49f230e3,"removing JDBCSpringTest as it is moved to sys tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@886833 13f79535-47bb-0310-9956-ffa450edef68",517,0
4969866569efd357e7d88b88f59e06638cc75a6c,"https://issues.apache.org/activemq/browse/AMQ-2513 - JMX bug - javax.management.InstanceNotFoundException

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888323 13f79535-47bb-0310-9956-ffa450edef68",1,1
df52a090639bb0830f27824e1fc3130d6d9f13a2,"https://issues.apache.org/activemq/browse/AMQ-2513 - adding test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888333 13f79535-47bb-0310-9956-ffa450edef68",0,104
c9ca34a27a5d268ec507d7e23110e775622743e8,"https://issues.apache.org/activemq/browse/AMQ-2525 - Prevent broker deadlock if jmxconnector start hangs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888367 13f79535-47bb-0310-9956-ffa450edef68",3,11
6e1ba4a93edb4b3b9157156e1ef929eb80dd284d,"https://issues.apache.org/activemq/browse/AMQ-2513 - adapting DiscoveryNetworkReconnectTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888426 13f79535-47bb-0310-9956-ffa450edef68",0,1
3d27c7afce15cae0b7d177e45157e423b0225c0f,"Added my key

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888493 13f79535-47bb-0310-9956-ffa450edef68",0,32
35d4ef5e0af3af97fba22c4927931834808e336e,"updating KEYS

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888749 13f79535-47bb-0310-9956-ffa450edef68",0,38
f1f4e2c9d9919167348f9ed1d27774f911e66f25,"add current limit to info flow control message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888846 13f79535-47bb-0310-9956-ffa450edef68",1,1
e80bf00b5b82384fd8c4817199a8be1f1c839735,"resolve https://issues.apache.org/activemq/browse/AMQ-2527 - add timeout to waitForSlave and make the following more reseliant to slow machines, VMTransportWaitForTest,MasterSlaveSlaveDieTest,SimpleNetworkTest,NetworkBrokerDetachTest,DuplexNetworkMBeanTest,MultiBrokersMultiClientsTest,AMQ2102Test - related to changes for https://issues.apache.org/activemq/browse/AMQ-1112

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@888974 13f79535-47bb-0310-9956-ffa450edef68",22,56
c3801c4bc49fba670ff310eb663c9e521d1a916b,"https://issues.apache.org/activemq/browse/AMQ-2519 - JDBC store and duplicate messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@889167 13f79535-47bb-0310-9956-ffa450edef68",20,67
0fdd03febd6cfbd9ada7196a38d5fc45800cb44b,"AMQ-2501 Modify import package ofApache Camel version in activemq-camel the pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@889298 13f79535-47bb-0310-9956-ffa450edef68",1,1
10dae9c659d363d820c29c5bd5378cc9fa043a25,"https://issues.apache.org/activemq/browse/AMQ-2529 - browse over network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@889677 13f79535-47bb-0310-9956-ffa450edef68",0,104
be01a5bd8085d507191d9453486f36ceecbff000,"https://issues.apache.org/activemq/browse/AMQ-2529 - browse ove network - cleaning the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@889710 13f79535-47bb-0310-9956-ffa450edef68",1,0
b9e51d6492c6e32d480f406d4440200bee828036,"resolve https://issues.apache.org/activemq/browse/AMQ-2473 - issue with jmstemplate were producers are closed before transaction commits which is fine save when failover ocurrs. the producers need to be replayed to allow tracked messages to be replayed. added the capability to track and relay transaction producers. Can be disabled if producers out live transactions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@891582 13f79535-47bb-0310-9956-ffa450edef68",9,230
1606c59b9ee435fd52318255391f05155e3e32dc,"test for replayed committed transaction on lost commit reply

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@891622 13f79535-47bb-0310-9956-ffa450edef68",5,81
3a1bdc624957273ddfde90cdefbfd681afa27c5c,"https://issues.apache.org/activemq/browse/AMQ-2539 - adding temp destinations and security

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@891786 13f79535-47bb-0310-9956-ffa450edef68",0,34
08d89ff881a6fcaa0b6f2a28a759045717b024ee,"trun off exponential backoff so that reconnect will happen before the timeout after restart, intermittent failure in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@892194 13f79535-47bb-0310-9956-ffa450edef68",4,3
c6de4d7e56b79cc0d567836bc26cb061f07c1d9d,"https://issues.apache.org/activemq/browse/AMQ-2508 - SecurityContext.isInOneOf()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@892220 13f79535-47bb-0310-9956-ffa450edef68",3,12
8732f70793786c250ff986eea78dd8a87fcb42c8,"first cut of audit recovery for https://issues.apache.org/activemq/browse/AMQ-2540 - test case reproduces. Little more tidy up needed such that the query is limited and such that the audit is recovered at the persistence adapter rather than at the store level - also related to https://issues.apache.org/activemq/browse/AMQ-2473

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@892242 13f79535-47bb-0310-9956-ffa450edef68",23,162
58e6532c7e3535a2d75d925a5ffc4805e040fb0c,"add commit replay test to assert dups suppressed for KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@892291 13f79535-47bb-0310-9956-ffa450edef68",12,30
5ffcaf40525d4ae00191ec891979ae6a6a101415,"https://issues.apache.org/activemq/browse/AMQ-2473 - fix find all message ids statement

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@892729 13f79535-47bb-0310-9956-ffa450edef68",5,6
ae840c4b0406ec3884439fcf6b6c8fe3f971b1d4,"https://issues.apache.org/activemq/browse/AMQ-2473 - improving jdbc audit recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@892759 13f79535-47bb-0310-9956-ffa450edef68",37,42
6cde61831e6f7dc3784059e396ff6495b5a84985,"adapting jdbc audit test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@892816 13f79535-47bb-0310-9956-ffa450edef68",1,4
5fb52355d6fe6f0cfb3589af16b8dcae3dda81f4,"last piece of https://issues.apache.org/activemq/browse/AMQ-2540 - fix order or audit recovery replay

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@893661 13f79535-47bb-0310-9956-ffa450edef68",2,8
57843ea8a9b11e3f8fc8e672a897f3200131e2f7,"AMQ-2550 Fixed the issue of org.osgi.framework import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@893834 13f79535-47bb-0310-9956-ffa450edef68",0,1
155495485e212a7b197ece890538ebbd69a95b6f,"https://issues.apache.org/activemq/browse/AMQ-2553 - browsing dlq over transacted session

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@894347 13f79535-47bb-0310-9956-ffa450edef68",3,70
97e0fccdae0c9e09f28d9c533f958383767975b2,"resolve https://issues.apache.org/activemq/browse/AMQ-2523 - have Usage use a shared executor with a limited pool of 10 threads and an unbounded queue. Fix potential dropped dispatch attempts when messages waiting for space fail due to memory again being full, can result is hung consumer. In this case, a new notification for not full needs to be registered. Added relevant test case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@895975 13f79535-47bb-0310-9956-ffa450edef68",56,196
6e5c9340c7c7adb53e3c07242ce3aea60e080138,"give jetty https more time to shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@896401 13f79535-47bb-0310-9956-ffa450edef68",1,1
0bc545b5d161fc9feccd19e7fde6cd5d5ffac28f,"resolve potential lost ack with failover and an in progress consumer transaction that results in an Unmatched ack exception - resolve: https://issues.apache.org/activemq/browse/AMQ-2560

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@897061 13f79535-47bb-0310-9956-ffa450edef68",53,307
3b7a29712911bc84f8658bfae8b4c09bfbf8570f,"moving StompLoadTest to systest subproject

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@897199 13f79535-47bb-0310-9956-ffa450edef68",109,0
5362623d568702b0a5eb99fc9a0652bb76718bc4,"moving StompLoadTest to sys tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@897203 13f79535-47bb-0310-9956-ffa450edef68",2,0
8141baacefe292ce9b3eebd1184a04bd0c5d085b,"https://issues.apache.org/activemq/browse/AMQ-2440 - adding initial activemq-stomp.xml configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@897262 13f79535-47bb-0310-9956-ffa450edef68",0,132
a9e7e940545964c90f0be1ec8c28de6ff1a8e198,"https://issues.apache.org/activemq/browse/AMQ-2440 - first shot at refactoring stomp+nio - handles load much better than previous solution, but seems to still leak threads - future improvements expected

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@897939 13f79535-47bb-0310-9956-ffa450edef68",9,61
62eb5cf5810c3f39b2f3f70d54c89863aa488d66,"reduce unmatched ack exceptions, tidy up prefetchExtension https://issues.apache.org/activemq/browse/AMQ-2560

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@897988 13f79535-47bb-0310-9956-ffa450edef68",22,18
9cf216cce13299c81ddc805306b0ffaf3b096214,"resolve intermittent ZeroPrefetchConsumerTest failure - prefetch excension decrement needs to be conditional on prefecth=0, relates to changes to prefetchExtension for https://issues.apache.org/activemq/browse/AMQ-2560

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898281 13f79535-47bb-0310-9956-ffa450edef68",0,6
f8cb8475ed2a3eaf1ff16f54a348c247c69a27c3,"expose the Journal property archiveDataLogs through KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898689 13f79535-47bb-0310-9956-ffa450edef68",6,40
98bb7bfd902ffb99eb77f998755bd9714a6024c5,"expose the Journal property directoryArchive through KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898693 13f79535-47bb-0310-9956-ffa450edef68",9,30
16e060bd7ef6ecb8ce92b9f461d1886a806a8f37,"have this test autofail on hang

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898716 13f79535-47bb-0310-9956-ffa450edef68",0,2
a593e35d8282152bee6d1f975e04c8d43a0082e5,"resolve intermittent failure of InactivityMonitorTest, test needed to pass negotiation to enable inactivity monitor with a version > 1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898730 13f79535-47bb-0310-9956-ffa450edef68",2,3
db6827346bc0f84cc152af04903a7df89418848d,"https://issues.apache.org/activemq/browse/AMQ-2440 - more stomp+nip (and just nio) transport improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898774 13f79535-47bb-0310-9956-ffa450edef68",14,17
80f7e388071f788b0a4883aca94459f02ffabf75,"resolve https://issues.apache.org/activemq/browse/AMQ-2566, inflight out of sync after delivery to dlq. Also tidy failover transaction test from: https://issues.apache.org/activemq/browse/AMQ-2560

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898797 13f79535-47bb-0310-9956-ffa450edef68",10,67
3ea1015a929ca4715ca0d79b074d727b94d1a062,"https://issues.apache.org/activemq/browse/AMQ-2488 - dynamic osgi import for activemq-core

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@898812 13f79535-47bb-0310-9956-ffa450edef68",0,3
a1a676647c5a1ccec17fa1b00a70979c5c73df51,"add a few more test variants for inflight: https://issues.apache.org/activemq/browse/AMQ-2566

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@899145 13f79535-47bb-0310-9956-ffa450edef68",17,63
e300b8768c881ab5ddef03a4d710e48176de1a5a,"Added test case for https://issues.apache.org/activemq/browse/AMQ-2561

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@899205 13f79535-47bb-0310-9956-ffa450edef68",0,83
d4794e2420f373c90a295791712ac225953ed0b4,"AMQ-2569 Updated the spring.schemas file in activemq-core with the released activemq-core version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@899542 13f79535-47bb-0310-9956-ffa450edef68",0,5
7ae2055c59bc455dc448d538a91613974bd639fb,"Added fix for https://issues.apache.org/activemq/browse/AMQ-451

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@899633 13f79535-47bb-0310-9956-ffa450edef68",19,1683
630184adfa669df839aa627ef4631453be2be35d,"test case for https://issues.apache.org/activemq/browse/AMQ-2568

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@899640 13f79535-47bb-0310-9956-ffa450edef68",0,284
1d166a73961ec4c6af4c5f9e158e1df11bddc402,"https://issues.apache.org/activemq/browse/AMQ-2570 - first iteration of activemq karaf features definition

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@899673 13f79535-47bb-0310-9956-ffa450edef68",0,112
6ea3a22beec09c861dfa26b56899c8bd60973ec0,"fix for: http://issues.apache.org/activemq/browse/AMQ-1882

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@900020 13f79535-47bb-0310-9956-ffa450edef68",17,19
7ceb4cbc432afeea89928a6333f1f215a351eee4,"resolve https://issues.apache.org/activemq/browse/AMQ-2572 - issue with unconsumed prefetched messages being ignored as duplicates - timing issue with consumer close and session dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@900318 13f79535-47bb-0310-9956-ffa450edef68",8,14
2ac5e7aa3ec16e3aa22822f289940aeaaea6520f,"prevent test failing on slower machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@900363 13f79535-47bb-0310-9956-ffa450edef68",2,7
27186c5ce265ba052e6ad45653bac574788cd9b6,"DiscoveryNetworkReconnectTest - prevent test failing on slower machines - more fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@900383 13f79535-47bb-0310-9956-ffa450edef68",1,1
2e98d400650eccbe87a4678c4127c0ee3a54b446,"added size() method to return amount of disk space the store occupies on disk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@900420 13f79535-47bb-0310-9956-ffa450edef68",0,11
27a6f1c6ab25644e561fb9e2f20cd07ff4211209,"added logging for Timestamp plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@900526 13f79535-47bb-0310-9956-ffa450edef68",4,23
e5d134d4c0519ae00e01a6a7d822610bb49b57db,"https://issues.apache.org/activemq/browse/AMQ-2570 - activemq karaf - features update

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@900850 13f79535-47bb-0310-9956-ffa450edef68",15,31
0a3c0e5300a706b8a504ade0fd997677208424a3,"https://issues.apache.org/activemq/browse/AMQ-2574 - stop osgi bundle on application context close

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901171 13f79535-47bb-0310-9956-ffa450edef68",1,25
ee55abb921e3050f3e9332ce82860fbf1ffca822,"Fix for https://issues.apache.org/activemq/browse/AMQ-2575

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901188 13f79535-47bb-0310-9956-ffa450edef68",106,1495
8de3bd29bfc0d916f60deb1de1992bb3d1d56c8b,"resolve https://issues.apache.org/activemq/browse/AMQ-2567

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901269 13f79535-47bb-0310-9956-ffa450edef68",15,171
862cd718ed353322dbaf5ac2c9a496137af56604,"resolve https://issues.apache.org/activemq/browse/AMQ-2573 - rollback of audit check needs to be synced with redispatch after failover transport resumption, otherwise some redispatched unconsumed messages can get auto-acked as duplicates in error

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901273 13f79535-47bb-0310-9956-ffa450edef68",54,352
affd91eda338db8cdf086165b375048afbf8d10d,"Improvement for https://issues.apache.org/activemq/browse/AMQ-2512

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901300 13f79535-47bb-0310-9956-ffa450edef68",19,284
36770e727dae2b979ff00b5d81ce54f677d0b3b1,"https://issues.apache.org/activemq/browse/AMQ-2574 - add repository for external spring dependencies

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901626 13f79535-47bb-0310-9956-ffa450edef68",0,8
a33d6684eb8913cd79403ed1b9d45912e9fc9318,"Adding a isEmpty() method to the btree indexes..  related to the fix created for AMQ-2512


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901763 13f79535-47bb-0310-9956-ffa450edef68",7,9
328474c23db3f6b7f1516ef6f2e8e9e22a984114,"https://issues.apache.org/activemq/browse/AMQ-2570 - finishing activemq feature and work started on activemq-web-console feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901789 13f79535-47bb-0310-9956-ffa450edef68",6,54
e166ae3937a60e2d5d576ff86db45f12c42a0308,"Added test case for http://issues.apache.org/activemq/browse/AMQ-2571

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901832 13f79535-47bb-0310-9956-ffa450edef68",0,109
a4384966453337d73f098ad5bb59b0fd11fd5d44,"fix for https://issues.apache.org/activemq/browse/AMQ-2548 don't close the ftp connection until the stream is closed.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901911 13f79535-47bb-0310-9956-ffa450edef68",98,114
dad4f492135d9ba89f1985f667b672b87032a62a,"Fixed failing test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@901928 13f79535-47bb-0310-9956-ffa450edef68",22,1
8af25fd2397a04ffcef52948df663e155439aeb7,"Fix for http://issues.apache.org/activemq/browse/AMQ-2530

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902009 13f79535-47bb-0310-9956-ffa450edef68",4,12
6efc268572326b6a6d9f2c2e62c77df27690c350,"resolve intermittent failure of org.apache.activemq.bugs.AMQ2149Test as a result of https://issues.apache.org/activemq/browse/AMQ-2573. An new command to indicate when recovery is complete on a sub is needed to gate dispatch on a recovered connection, can do this for 5.4. An outstanding ack transaction is now ignored but an outstand send transaction can still cause a potential hang till we introduce the new recovery complete command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902056 13f79535-47bb-0310-9956-ffa450edef68",1,208
96f262205369f4e6a6b487f908b4c9f3dc6bd671,"https://issues.apache.org/activemq/browse/AMQ-2570 - unsuccessful attempt to osgify the web console, karaf and amq spring versions clashes, saving this to try again when we upgrade spring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902134 13f79535-47bb-0310-9956-ffa450edef68",6,13
44a5a05ca45581d47c4369757b1bcabdb541d7c9,"https://issues.apache.org/activemq/browse/AMQ-2570 - finishing up karaf feature for web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902135 13f79535-47bb-0310-9956-ffa450edef68",5,4
d2791aee9082c50a6a21daecd1543a511e3a1c40,"https://issues.apache.org/activemq/browse/AMQ-2570 - excluding spring dependencies for spring osgi

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902728 13f79535-47bb-0310-9956-ffa450edef68",0,18
57b89277437a0e7088d90e92e5b758e23203a37c,"making ExpiredMessagesTest pass on very slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902816 13f79535-47bb-0310-9956-ffa450edef68",18,36
d0b5f954aaa15207ba6f682778fb4b5020421e3a,"https://issues.apache.org/activemq/browse/AMQ-2570 - adding activemq-karaf dependency to parent pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902850 13f79535-47bb-0310-9956-ffa450edef68",0,5
0f27c464b485261711c1afdc165a59853cf51e7a,"speed up tests - by deleting database directly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902907 13f79535-47bb-0310-9956-ffa450edef68",1,4
8d3ca9030317b384fc10c04b00d16bf4a6a4a9c4,"resolve: https://issues.apache.org/activemq/browse/AMQ-2579 - use ConsumerControl with destination to update prefetch once recovery is complete. restored consumers are pull only pending recovery completion on the client side. Update WireFormat version to 6 - fix for 5.4 due to wireformat update

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902908 13f79535-47bb-0310-9956-ffa450edef68",27,12241
f82df4585dbbf9d7697b62f6abd5f4a83352afa7,"make this autofail so we get a stack trace if it hangs in hudson again

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@902924 13f79535-47bb-0310-9956-ffa450edef68",0,5
a770a00373df4109cf9259e5f0a5f4e595e6830f,"DiscoveryNetworkReconnectTest - giving it even more time to reconnect to help stabilise on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903177 13f79535-47bb-0310-9956-ffa450edef68",2,2
b85b71e2979b009f47b2d2d500dd2e7c9f25094e,"instancenotfound exception wrapped in undeclaredthrowable by proxy, just ignore all for the wait period so slow machines can let it pass eventually

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903180 13f79535-47bb-0310-9956-ffa450edef68",1,1
def2a3491508070a15c1583ae5d1f0745b1a5043,"store can be null for a temp q, npe will hide out of sync error message, observed once in AMQ2102Test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903225 13f79535-47bb-0310-9956-ffa450edef68",3,6
4b49834ef6f4e2bcbfe52e7dcc68d7015107bda5,"hang on linux seems to point to the possibilit of more than one thread waiting on the enque mutex so this change to notifyAll should help

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903330 13f79535-47bb-0310-9956-ffa450edef68",2,2
8eeedce8090c0fb90c674b2069e667bdac7a1fe1,"dsiable shutdown hook as it causes autofail exit to hang which defeats the purpos - want a stack trace if it hangs again

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903344 13f79535-47bb-0310-9956-ffa450edef68",1,3
8b1e16de48dee75d979dd995bd0b823f66d662ac,"renamed to follow Test naming convention

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903487 13f79535-47bb-0310-9956-ffa450edef68",117,118
19bfd9d3b5e0777f50a570ccd14c5f3166c71a0e,"resolve hudson failure with DurableConsumerTest related to kahaDB under the FilePendingMessageCursor - fixes the cursor got duplicates error and improves the test now that there are no more duplicates. relates to https://issues.apache.org/activemq/browse/AMQ-2575

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903741 13f79535-47bb-0310-9956-ffa450edef68",7,13
0d9c588ed7df63812f0c5bf0a5c3dc6f119cd208,"resolve intermitent failure on loaded machines, consumer could complete before producer thread got to do any work at all

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@903758 13f79535-47bb-0310-9956-ffa450edef68",14,19
87cc36a35989896acce2bf315edb5a21cf7e6a35,"validate jetty availabilty via socket connect to take out the guess work on loaded machines - avoid connection refused intermittent failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904005 13f79535-47bb-0310-9956-ffa450edef68",13,29
83128fc45b65aff89ba78596a158a01960029742,"https://issues.apache.org/activemq/browse/AMQ-2507 - producer flow control timeout

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904160 13f79535-47bb-0310-9956-ffa450edef68",18,218
02d57284a48f0998af5e0fb6d7d822ba8b5775fc,"Fix for AMQ-2586 
Topics will now report a queue size of 0.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904243 13f79535-47bb-0310-9956-ffa450edef68",4,7
98a0f39b34ab5aaeee8df548052316359c342205,"ensure destination exists even if empty after recovery, intermittent failure in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904441 13f79535-47bb-0310-9956-ffa450edef68",0,1
6205a0f9c83df3d910dc7137f02bf1d01e286572,"push out the hang threshold for loaded/slow machines - intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904444 13f79535-47bb-0310-9956-ffa450edef68",9,3
ce17f58cb3cbc836fd71bd9d274fc4969d4d4bec,"wait for queues to drain, intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904450 13f79535-47bb-0310-9956-ffa450edef68",2,11
17cc428b21e3486ff56b526c52be74769173280a,"doubling the timeout for slow/loaded machines - intermittent failur hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904451 13f79535-47bb-0310-9956-ffa450edef68",1,1
fed9ac7955562ccae79740c9ec8e261b222254f3,"https://issues.apache.org/activemq/browse/AMQ-2507 - improving test, avoiding false positives

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904468 13f79535-47bb-0310-9956-ffa450edef68",3,5
5a03c37faf0f75a9835039cb8f403d18e2a853b6,"resolve timing issue with reconnect in failover transport that can stall reconnect logic - resulted in intermittent failure of AMQ2183Test. reorg of test make it reproducable when master is waiting for slave to connect and its disconnects ocurr async so they can clash with inprogress reconnects - resolve https://issues.apache.org/activemq/browse/AMQ-2588

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904568 13f79535-47bb-0310-9956-ffa450edef68",7,39
2f6522106532ed40178afc5d1e525affb7d50484,"give it a little more time after consumer created

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904584 13f79535-47bb-0310-9956-ffa450edef68",1,1
7a7ac1313b022910d02d08e831dbdd8016f86abf,"resolve https://issues.apache.org/activemq/browse/AMQ-2585 with thanks. modified version of test applied, min size override is only relevant on the broker as it is calculated on demand on the client

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904585 13f79535-47bb-0310-9956-ffa450edef68",1,83
7b700ee7a207d618e24f60de497b8cf7cd79ae89,"validate (wait for) mbean existance before returning an mbean view - get to the bottom of intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@904812 13f79535-47bb-0310-9956-ffa450edef68",3,16
a3607423c49f592a42426e788d0b052a36bf1887,"DurableConsumerTest - giving it more time to pass on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905235 13f79535-47bb-0310-9956-ffa450edef68",1,1
722258e19664b96e073410f0bd86f4abc75e3d84,"resolve: https://issues.apache.org/activemq/browse/AMQ-2589 - add null check

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905349 13f79535-47bb-0310-9956-ffa450edef68",1,3
62daac4b31fded111cf6eb6fd33b212418ce85ea,"resolve https://issues.apache.org/activemq/browse/AMQ-2590 - commit may throw a TransactionRolledBackException in the event that after a failover recovery, the same messages are not redispatched - the transaction cannot be fully recreated so it must rollback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905432 13f79535-47bb-0310-9956-ffa450edef68",24,193
59653a50f80751821d486d76748cf27829fe6b75,"remove dependency on jmx and revert to direct calls on destinations to get stats and view on counters - resolve intermittent failures on hudson with a bit of luck as jmx introduces lots of timing issues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905582 13f79535-47bb-0310-9956-ffa450edef68",78,66
c32820d87bbe3d8652fce1fdaaed83729f330ddf,"tidy up test case for https://issues.apache.org/activemq/browse/AMQ-2590

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905640 13f79535-47bb-0310-9956-ffa450edef68",20,30
4d0a8a5c7e0cd5dd152b46383d314917fdfa5e06,"https://issues.apache.org/activemq/browse/AMQ-2196

Add option to ignore the values in the remote WireFormatInfo in case the user wants control over the Brokers inactivity timeouts.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905769 13f79535-47bb-0310-9956-ffa450edef68",39,50
02cd1537c9537119254ea7d5f235c90aedff463d,"fix for http://issues.apache.org/activemq/browse/AMQ-1639

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905912 13f79535-47bb-0310-9956-ffa450edef68",0,2
204f91f9355130f8b6d6edd9d9d701e30cff5ea8,"Fix for https://issues.apache.org/activemq/browse/AMQ-2571

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905926 13f79535-47bb-0310-9956-ffa450edef68",146,246
9f2d289beebac8fade21f9dc8954380d940a44b1,"applied patch for https://issues.apache.org/activemq/browse/AMQ-2220

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905958 13f79535-47bb-0310-9956-ffa450edef68",4,15
164826a421ed0d3f0715082fa4ecea1bd8942cd0,"Fix for https://issues.apache.org/activemq/browse/AMQ-2231

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905967 13f79535-47bb-0310-9956-ffa450edef68",0,1
02fe43b8b69dbc3f731cbe422bce48aacffbba5f,"Applied patcg for https://issues.apache.org/activemq/browse/AMQ-2555

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905973 13f79535-47bb-0310-9956-ffa450edef68",5,9
c008426c7af08baf086d027c9a9fa2b2b1b7498f,"applied patch for https://issues.apache.org/activemq/browse/AMQ-1385

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@905978 13f79535-47bb-0310-9956-ffa450edef68",1,1
700f1e45dea9442f751b926db58fb127ec9bf9fb,"Further fix for https://issues.apache.org/activemq/browse/AMQ-2220

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906045 13f79535-47bb-0310-9956-ffa450edef68",3,2
568ab1ebe65c3f1100daae7c653262ad1dca4a0e,"Apply fix for https://issues.apache.org/activemq/browse/AMQ-1308

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906049 13f79535-47bb-0310-9956-ffa450edef68",16,29
5170a8bba3c40fe97b5e2f4f462b757b01630606,"https://issues.apache.org/activemq/browse/AMQ-2563 - jdbc memory leak

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906054 13f79535-47bb-0310-9956-ffa450edef68",28,227
caabb6cb3de9c937b471f874c3ddf422152d198d,"Fix for: https://issues.apache.org/activemq/browse/AMQ-2490

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906071 13f79535-47bb-0310-9956-ffa450edef68",145,177
5ebfbf038789421ecdc94af1b5c03441b0350afd,"Fix for: https://issues.apache.org/activemq/browse/AMQ-2254

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906088 13f79535-47bb-0310-9956-ffa450edef68",50,55
9ef09dfcab23f99ecbeaab05ed7ec793458f3d92,"upgraded to commons-pool 1.5.4

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906094 13f79535-47bb-0310-9956-ffa450edef68",1,1
24f73a53c12b71d6006b1b2a283c5f388ed15e20,"Fix for: https://issues.apache.org/activemq/browse/AMQ-1817

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906101 13f79535-47bb-0310-9956-ffa450edef68",0,54
3e022d82623b56dd7d069c97762dafcf608437f8,"Update the Receipts test with a delay to prevent occasional failures.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906270 13f79535-47bb-0310-9956-ffa450edef68",3,5
4bff78d3b42de8002785652f8cea44d66b92306e,"https://issues.apache.org/activemq/browse/AMQ-2490

Disable the user id tests for the SSL auth test case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906300 13f79535-47bb-0310-9956-ffa450edef68",11,16
1e8acfadb2b6a2866448e85e45a0b35c141d2c6d,"https://issues.apache.org/activemq/browse/AMQ-2490

Increase the receive timeout to fix errors on slow/loaded machines.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906301 13f79535-47bb-0310-9956-ffa450edef68",2,2
3253a421c1974d179a136819df4d31bf68bc085f,"https://issues.apache.org/activemq/browse/AMQ-2410 - fixing js errors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906416 13f79535-47bb-0310-9956-ffa450edef68",5,7
b836af84f064cfcf6d92dda16b534be13adadb72,"further evolution of resolution for https://issues.apache.org/activemq/browse/AMQ-2590 - indoubt transactions are now rolledback, pending transactions can wait for jms.consumerFailoverRedeliveryWaitPeriod for redeliveries before rolling back. If previously delivered messages are not replayed the transaction is rolledback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906450 13f79535-47bb-0310-9956-ffa450edef68",162,281
ab6bd79b267091b1fb11cb68a6f8c8509455379e,"get some more info out of this test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906457 13f79535-47bb-0310-9956-ffa450edef68",1,1
50dc8803459187d84625553514c622040991eecc,"https://issues.apache.org/activemq/browse/AMQ-2594 - reverting related https://issues.apache.org/activemq/browse/AMQ-2563 changes, as more refactoring is needed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906560 13f79535-47bb-0310-9956-ffa450edef68",11,6
b88edf25d919f6d420568980f1ddd8258a3f2e24,"https://issues.apache.org/activemq/browse/AMQ-2227

Apply patch for ignoring iml files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906643 13f79535-47bb-0310-9956-ffa450edef68",0,0
e561040c70603557ed31012648705b101a7b1067,"allow for transaction rolledback exception: https://issues.apache.org/activemq/browse/AMQ-2590

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906697 13f79535-47bb-0310-9956-ffa450edef68",1,7
a866d93b6f549ee210e2c05ab088b8d9d5c8f829,"tidy up and enable auto fail as this hangs in 5.3 for some reason. stack trace will help diagnose

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906861 13f79535-47bb-0310-9956-ffa450edef68",5,4
ecaacd852eff962dd9beee2df47db0f7f9e311d3,"DurableConsumerTest - give it even more time to complete on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@906983 13f79535-47bb-0310-9956-ffa450edef68",1,1
39d071798a3011a1d52cc26e94d7b9e1fa2e9537,"https://issues.apache.org/activemq/browse/AMQ-2590 - ensure beforeEnd is called once per transaction so ack on rollback is avoided, add more tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@907174 13f79535-47bb-0310-9956-ffa450edef68",54,262
c7c8e5367e9e7b75bc12eb11fcbf189655340ccb,"Added JMX support for JobScheduling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@907197 13f79535-47bb-0310-9956-ffa450edef68",61,855
17e0b00327a5cfb68f64585afdb5d15607435158,"support for scheduling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@907199 13f79535-47bb-0310-9956-ffa450edef68",15,109
8b0df4533344cdb6f3fb0b9947643a0e75b2d40f,"support for scheduling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@907208 13f79535-47bb-0310-9956-ffa450edef68",2,148
80b421dd459a5e1b132806d5177f3e9ef2a84fd2,"https://issues.apache.org/activemq/browse/AMQ-2594 - fixing test exclusion pattern

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@907595 13f79535-47bb-0310-9956-ffa450edef68",1,1
31ec5bafd87c58d814ef7b68afc8174e4e08fce1,"DurableConsumerTest - hopefully the last increase of wait time

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@907604 13f79535-47bb-0310-9956-ffa450edef68",1,1
7799ed795e3201424d27c36f3ba6d8c1267ad263,"resolve regression with jobscheduller mbean - mock test is a little particular w.r.t to expected registered mbeans

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@907618 13f79535-47bb-0310-9956-ffa450edef68",0,2
fde472195f219be13bb1326ce2e9f557c3ba557b,"resolve failure of JDBCStoreBrokerTest on slow machines, identified a sync issue with dispatch to queue browsers. Tidied up dispatch of queue browser to tie it to normal dispatch and avoid the timing/sync issue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908060 13f79535-47bb-0310-9956-ffa450edef68",43,99
348f62e8cc38f4afd788629e281fc58fce79daeb,"https://issues.apache.org/activemq/browse/AMQ-2352 JMX user / pass swapped fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908092 13f79535-47bb-0310-9956-ffa450edef68",72,72
a109a984425b2538885ecbc0d74b9f44eb02cfcf,"browser snapshot of paged in messages is only guaranteed to be > pageSize, test should assert that only

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908121 13f79535-47bb-0310-9956-ffa450edef68",1,6
e8a06c43bbe640569b7f2d641ccb934908112d2b,"https://issues.apache.org/activemq/browse/AMQ-2600 - jetty 7 initial commit - web console working, need more work on enabling other apps

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908136 13f79535-47bb-0310-9956-ffa450edef68",134,148
cd694f728cd0f768d9af020ee1e90648319ca869,"minor formatting and javadoc fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908154 13f79535-47bb-0310-9956-ffa450edef68",5,5
f585d881bcd5d9ce2e8ceccfaf27549ee0aecf51,"Typo in validation methods

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908155 13f79535-47bb-0310-9956-ffa450edef68",2,2
09fab742ff0aa2106f567717991a3b4c6b1390e1,"AMQ-2601 Make amq more blueprint-friendly, move away from spring lifecycle interfaces

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908182 13f79535-47bb-0310-9956-ffa450edef68",62,158
fa9f4ac9cce1f4199c12b532688561d9f42ab0bb,"AMQ-2601 make Activator class back into an activator, and use it in activemq-core

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908373 13f79535-47bb-0310-9956-ffa450edef68",15,26
5a7ceacce9a3ce55643895c26a9cc5e8c71e3cd1,"https://issues.apache.org/activemq/browse/AMQ-2600 - jetty 7 - some more fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908433 13f79535-47bb-0310-9956-ffa450edef68",6,10
25f476624f021213342c38e294c9cfa1e64464f9,"https://issues.apache.org/activemq/browse/AMQ-2600 - jetty7 - continuations api adaptations - web demo works now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908458 13f79535-47bb-0310-9956-ffa450edef68",5,5
47b09a2a8995280fdda93f5c106abd2189617113,"https://issues.apache.org/activemq/browse/AMQ-2600 - jetty 7 - fileserver app fixed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908476 13f79535-47bb-0310-9956-ffa450edef68",19,24
5dd95eaa09554ee7c8720ce179c9bc36f7c70bf7,"https://issues.apache.org/activemq/browse/AMQ-2600 - jetty 7 - testing/including camel web app and other small changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908492 13f79535-47bb-0310-9956-ffa450edef68",10,5
2b019ea6277fd5af0767a83d648f8cb6b0acdb7f,"https://issues.apache.org/activemq/browse/AMQ-2600 - visual improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908527 13f79535-47bb-0310-9956-ffa450edef68",65,310
0701d7d0e61906590d1a5685cef04df4f4815d16,"exercise all unicode for byte array stream write/readUTF to validate 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908618 13f79535-47bb-0310-9956-ffa450edef68",1,27
e3154c3cd66c2c71f9d54097ff3665f687c6561a,"Added cron support for scheduled delivery - this is further enhancements for 
https://issues.apache.org/activemq/browse/AMQ-451

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908867 13f79535-47bb-0310-9956-ffa450edef68",174,833
1a7fe702dca40805ea1aa6b56deddf147b20b2a3,"Added cron support for scheduled delivery - this is further enhancements for 
https://issues.apache.org/activemq/browse/AMQ-451

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908868 13f79535-47bb-0310-9956-ffa450edef68",0,8
57b16b1c31cdbc593677d7031f4b5a8abf91e5fd,"Added cron support for scheduled delivery - this is further enhancements for 
https://issues.apache.org/activemq/browse/AMQ-451

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908869 13f79535-47bb-0310-9956-ffa450edef68",18,39
3ce41d42c5a43f5a05b7d6943cb4dcb72e8a6a7f,"AMQ-2602: avoid activemq osgi bundles to import their own packages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908905 13f79535-47bb-0310-9956-ffa450edef68",9,9
b379cb69e59ed324071c8fd3c51006467eb7cb6a,"added display of delay field for a scheduled job

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908932 13f79535-47bb-0310-9956-ffa450edef68",0,2
b84da170048d69bc1001fcbf2a18310df81b1dea,"keep to java5 api

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@908949 13f79535-47bb-0310-9956-ffa450edef68",1,1
84c76a94a0474a84560709df53c37f0096a58ec3,"expose all brokers registered

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@909298 13f79535-47bb-0310-9956-ffa450edef68",1,5
799c033ead68e0795e294da00f6eae08facb0b33,"make the make counts a little larger

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@909773 13f79535-47bb-0310-9956-ffa450edef68",3,3
a65881cf4ec744847706225f140df48770fd147c,"Fix for https://issues.apache.org/activemq/browse/AMQ-2604

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@910163 13f79535-47bb-0310-9956-ffa450edef68",1,1
d3fb1aabce89f499ff5503e5092bc1799cd86ea8,"resolve https://issues.apache.org/activemq/browse/AMQ-2599 - tidy up exmple config to make it compliant with the schema - added simpe schema validation test and extended the broker start test, mvn test in assembly will now validate all the configs. added destroyApplicationContextOnStop to ensure jetty and other additions to the context are cleaned up when broker stops, allows mulitple brokers to rerun in the same jvm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@910238 13f79535-47bb-0310-9956-ffa450edef68",420,535
5bf2329ee73b92cdf8371f615b303b6703a582ff,"resolve https://issues.apache.org/activemq/browse/AMQ-2607

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@910315 13f79535-47bb-0310-9956-ffa450edef68",1,51
0567645ec68e7f5de5932610808dc5d33e188110,"resolve https://issues.apache.org/activemq/browse/AMQ-2608, fix applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@910637 13f79535-47bb-0310-9956-ffa450edef68",1,1
75a32e4ec7ed1020c57d3d8f3b476ab9f25ca0b3,"https://issues.apache.org/activemq/browse/AMQ-2611 - camel context and connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@910984 13f79535-47bb-0310-9956-ffa450edef68",4,190
af31f2dc002fa61a1553915eaa83d695198809da,"fix plist destroy, intermittent failure of src/test/java/org/apache/activemq/broker/region/QueuePurgeTest.java

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911055 13f79535-47bb-0310-9956-ffa450edef68",9,30
c75001c5a4b848e380a2d130e1b4551417a68f80,"updated some perf tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911076 13f79535-47bb-0310-9956-ffa450edef68",8,85
ceed0119071a879416d4336eb83d8a4385e80ba5,"https://issues.apache.org/activemq/browse/AMQ-2617 - refactor ProtocolConverter so we can reuse it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911413 13f79535-47bb-0310-9956-ffa450edef68",15,53
0771df3b725b055f4f475c44eaa80928b0f45d41,"https://issues.apache.org/activemq/browse/AMQ-2617 - initial ws transport implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911492 13f79535-47bb-0310-9956-ffa450edef68",0,364
5619cd01a2cf3062f241a0e784ee71cc32314e2b,"resolve https://issues.apache.org/activemq/browse/AMQ-2610 - org.apache.activemq.broker.region.cursors.PendingMessageCursor.next() now increments the reference count before returning a message reference. this allows control over references when browsing or peeking rather than moving/removing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911650 13f79535-47bb-0310-9956-ffa450edef68",57,260
fe93fd1174d6b3ce3dbfbd70322872f0136b4267,"https://issues.apache.org/activemq/browse/AMQ-2617 - adapting assembly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911784 13f79535-47bb-0310-9956-ffa450edef68",10,7
51f9dc6a9b2281e9f3e2f7d8a6730822e7b11e71,"dealing with timestamp in artifact names during snapshot deploy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911799 13f79535-47bb-0310-9956-ffa450edef68",0,6
d801f35d327e1a85c1fe174e8af7847c5e5ee157,"https://issues.apache.org/activemq/browse/AMQ-2510 - adding 'deploy' profile to be used to deploy sources and java docs from hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@911811 13f79535-47bb-0310-9956-ffa450edef68",1,33
baf9301a528799df4ebeb63fa6e15adcaec0e391,"speed up Durable Topic Subscribers somewhat

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@912087 13f79535-47bb-0310-9956-ffa450edef68",0,3
746253c8effac154c8846407d0fa14f69a0db166,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2412

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@912310 13f79535-47bb-0310-9956-ffa450edef68",414,519
1c26c9aba0c2184e922e2fc80bd604ed0a7244ba,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2455

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@912312 13f79535-47bb-0310-9956-ffa450edef68",5,21
b341d4334fa63e6ecc27c87390d64f2a55c4616b,"Validate that subscriptions are removed across a network of brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@912495 13f79535-47bb-0310-9956-ffa450edef68",0,188
eb51a69c1f476cfa2e00ac290acaf1d3a77df46e,"Fix for https://issues.apache.org/activemq/browse/AMQ-2533

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@912496 13f79535-47bb-0310-9956-ffa450edef68",9,13
ac0462acefe6809b88014ee85363222548d70ca0,"Fix for https://issues.apache.org/activemq/browse/AMQ-2616

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@912652 13f79535-47bb-0310-9956-ffa450edef68",15,477
9ffd8b06be0676af7f704ad5a1cefd76bac278c5,"work around processClass() issue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915009 13f79535-47bb-0310-9956-ffa450edef68",4,8
241af099f1f8af20d4044af7e785b879ec813f66,"removed topic test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915010 13f79535-47bb-0310-9956-ffa450edef68",28,1
d71eefc0bfcb382158e37e168f6b08b92fe5ed98,"separated initialisation from start() - to prevent unnecessary creation of temporary storage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915028 13f79535-47bb-0310-9956-ffa450edef68",42,59
fed39c3619825bd92990cf1aa7a4e85119e00a6e,"https://issues.apache.org/activemq/browse/AMQ-2613 - fix XSS security problem in web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915269 13f79535-47bb-0310-9956-ffa450edef68",26,32
f24edca19014272b87d665b4f1abddcbfa7eef4d,"resolve some issues with out of order remove from plist

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915281 13f79535-47bb-0310-9956-ffa450edef68",11,46
9dc43f3ffe85c9c56faee235a21f23bfceb865c8,"https://issues.apache.org/activemq/browse/AMQ-2613 - prevent CSRF attacks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915384 13f79535-47bb-0310-9956-ffa450edef68",16,58
aa9b5666ce993fa58dec39cfdd7b13bfe37e1fca,"https://issues.apache.org/activemq/browse/AMQ-2623 - upgrade woodstox

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915731 13f79535-47bb-0310-9956-ffa450edef68",110,9
a2af47bd1d3c6a6f0b6e6ce5424d1458a6d45030,"resolve https://issues.apache.org/activemq/browse/AMQ-2626 - ensure reference count is decremented on non evicted messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915770 13f79535-47bb-0310-9956-ffa450edef68",34,251
156a6095c4db400f380ed30cd1abf9232cf631f9,"variation on https://issues.apache.org/activemq/browse/AMQ-2626 - add vmcursor eviction test, shows similar issues also fix potential hang when connection is shutdown and producer is waiting for space in pending messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915809 13f79535-47bb-0310-9956-ffa450edef68",16,49
fded93ac2000d97f9b89eead386d4d70ea553a99,"resolve compilation errors with xmpp and java5

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@915990 13f79535-47bb-0310-9956-ffa450edef68",11,34
3e4fc0a6781e855eb8bacad6814b6f54bef2a817,"resolve https://issues.apache.org/activemq/browse/AMQ-2628 - add consumerId to message dicarded advisory to allow correlation with the dlq, change to the brokerservice advisory api

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@916255 13f79535-47bb-0310-9956-ffa450edef68",28,98
eac31e8417a75f9c17a4bfb9b7c5e025da984811,"https://issues.apache.org/activemq/browse/AMQ-2547 - upgrading trunk to spring 3.0.1.RELEASE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@916651 13f79535-47bb-0310-9956-ffa450edef68",2,5
662324caac2eb56e67ac65804aaf98232518cbdc,"Better selector synchonization to help resolve AMQ-2440

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@916762 13f79535-47bb-0310-9956-ffa450edef68",90,103
1f521da77e86ee42861e9bfee2a2daff37cb3272,"Updated the TransportConnector and TransportConnection to use a thread pool when initalizing and destroying connection to better support fast
connect and disconnect use cases.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@916780 13f79535-47bb-0310-9956-ffa450edef68",30,53
7f8c822a202905da7e034f3282536f247bfeb766,"resolve https://issues.apache.org/activemq/browse/AMQ-906 - have retries with autoack and runtime exception from onMessage 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@916936 13f79535-47bb-0310-9956-ffa450edef68",10,104
77116d41cc82bfcc968b0c6a03868005f18bff74,"resolve test failures, all test xml must now validae post https://issues.apache.org/activemq/browse/AMQ-2547 - upgrading trunk to spring 3.0.1.RELEASE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@916937 13f79535-47bb-0310-9956-ffa450edef68",345,695
a5e906011970c8f852b6d13385421e5225e1b81e,"camel 2.2.0 needed to ensure container is started from requestor with 3.0 https://issues.apache.org/activemq/browse/AMQ-2547 - upgrading trunk to spring 3.0.1.RELEASE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@917534 13f79535-47bb-0310-9956-ffa450edef68",1,6
71fcf59fe8badb82e6618fb925efeb01b550eb8f,"For journal jdbc config, revert to more explicit bean config as the journalJDBC xbean BeanFactory usage does not validate with spring 3.0 https://issues.apache.org/activemq/browse/AMQ-2547 - upgrading trunk to spring 3.0.1.RELEASE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@917556 13f79535-47bb-0310-9956-ffa450edef68",15,20
37b5d7beed5c3df12838dff40e3f753459e6ac51,"add activation dependency to allow xmpp tests to execute

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@917575 13f79535-47bb-0310-9956-ffa450edef68",1,6
50dadbb877a62b822057c8f44a8a865ceb3bd776,"fix intermittent failure with test, was forwarding to same destination which made it timing dependent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@917628 13f79535-47bb-0310-9956-ffa450edef68",1,8
1035ac3417d7245f4e9c321714315478aa08e158,"add spring-jms dependency to resolve cnf post https://issues.apache.org/activemq/browse/AMQ-2547 - upgrading trunk to spring 3.0.1.RELEASE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@917645 13f79535-47bb-0310-9956-ffa450edef68",0,5
f782fc0b4a0995be191e127d33a592ad3b752cf4,"makesure assertEquals() is comparing to long values

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@917969 13f79535-47bb-0310-9956-ffa450edef68",1,2
f33e2190d0c481b78171749091d3d044f139e85d,"resolve https://issues.apache.org/activemq/browse/AMQ-2630 - added test and restricted imlementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@918381 13f79535-47bb-0310-9956-ffa450edef68",0,57
f82dc25eae3cf892ce244c1c1babf0dc99a33d47,"resolve https://issues.apache.org/activemq/browse/AMQ-2635

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@918384 13f79535-47bb-0310-9956-ffa450edef68",1,45
a21226c2222767cbc8bd5bf7fe4f298848753fa4,"have more tests wait for the jetty listener - intermittent failures in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@918553 13f79535-47bb-0310-9956-ffa450edef68",27,52
7cefb7ae7380c970fef6381e51c94413e27bd212,"AMQ-2637 widen osgi import version ranges

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@919561 13f79535-47bb-0310-9956-ffa450edef68",17,5
24d47d289de6c42e2006dc0e564962e7b451e658,"AMQ-2638 use the apache 7 pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@919659 13f79535-47bb-0310-9956-ffa450edef68",31,1
cc18e703b2f955c20756fe6a8a3f69bbb544e9f6,"fix validation 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@919793 13f79535-47bb-0310-9956-ffa450edef68",2,4
f392884e31d9325fd90643b6d8e01668a58b70de,"Fix for https://issues.apache.org/activemq/browse/AMQ-2632

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@920306 13f79535-47bb-0310-9956-ffa450edef68",297,1017
192ea889ee30457c9ebc7e080c69b4b6c9769ad5,"close the selection on shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@920325 13f79535-47bb-0310-9956-ffa450edef68",1,1
3634d6474756ad4d7ba8ba02c2f90ab04b246c37,"check for release after processig io tasks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@920330 13f79535-47bb-0310-9956-ffa450edef68",2,7
54fa83da8b7a004a23f514bca89531d3d4dc6009,"Apply patch for https://issues.apache.org/activemq/browse/AMQ-2636

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@920395 13f79535-47bb-0310-9956-ffa450edef68",1,349
3cbe3f1f921ba6468de98eb008b3ec203be4e60b,"https://issues.apache.org/activemq/browse/AMQ-2440 - fixing bug on marking worker as non empty

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@920827 13f79535-47bb-0310-9956-ffa450edef68",14,12
83604eee1d5b37dafff2f8efd8e647bb0af03540,"https://issues.apache.org/activemq/browse/AMQ-2440 - limiting number of threads for the executor pool

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@920838 13f79535-47bb-0310-9956-ffa450edef68",1,1
7ee5cdd276cc358dd1ca1b0284ac0715943eebfd,"https://issues.apache.org/activemq/browse/AMQ-2440 - fine tuning

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@920881 13f79535-47bb-0310-9956-ffa450edef68",2,2
1f6f0c510777db3baf4fbc000b51dec3926fd46a,"https://issues.apache.org/activemq/browse/AMQ-2440 - add commons-management dependency needed for camel 2.2.0 web app

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@921291 13f79535-47bb-0310-9956-ffa450edef68",0,2
8eb28d51aa54f43a6d9b1909a308a37db8c921c9,"https://issues.apache.org/activemq/browse/AMQ-2393 - camel 2.0.0 fix is not needed anymore after upgrade to 2.2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@921354 13f79535-47bb-0310-9956-ffa450edef68",149,0
fef398ac30d0d75009735996489352beb3565c42,"https://issues.apache.org/activemq/browse/AMQ-2613 - spring filter mapping changes, breaks broker info on the / url

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@921414 13f79535-47bb-0310-9956-ffa450edef68",1,1
dc0f5b392beb22cbba9c944ba104a6d57db98bbe,"Add a cluster update filter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@921821 13f79535-47bb-0310-9956-ffa450edef68",64,105
909c1c3d18b6eab29ea4203ce6a54e5eadc2eca6,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2191

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@921822 13f79535-47bb-0310-9956-ffa450edef68",1,4
a1c427e0a3591fdbefe180bb7f6fff96e3433309,"Fix failing ReconnectTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@923272 13f79535-47bb-0310-9956-ffa450edef68",33,44
24a7626b065c646671d18e4bf150e3f16bca11c7,"https://issues.apache.org/activemq/browse/AMQ-2594 - jdbc and broker seq id - intial commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@923300 13f79535-47bb-0310-9956-ffa450edef68",33,454
8183ed5c9020353c9dcc18388d7332542372e583,"https://issues.apache.org/activemq/browse/AMQ-2594 - synchronizing transaction store commit and triggering afterCommit event

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@923694 13f79535-47bb-0310-9956-ffa450edef68",22,26
5cc101beae8e6acfa07bfc89b5ffe5dcdf5d4b0c,"https://issues.apache.org/activemq/browse/AMQ-2594 - including the test and adding some comments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@923706 13f79535-47bb-0310-9956-ffa450edef68",2,4
8329c53c21c8681fe9bb3c5be3bfd36fc47dc5e1,"https://issues.apache.org/activemq/browse/AMQ-2448 - activemq camel component causes thread leaks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924325 13f79535-47bb-0310-9956-ffa450edef68",7,2
be55d0a66180b9a3f73ca0e4e590f344e247079e,"added option to not update clients when broker removed from a cluster 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924349 13f79535-47bb-0310-9956-ffa450edef68",5,38
de04214bb58356b42619fd1edbcb6b9f52376b5e,"Fix for https://issues.apache.org/activemq/browse/AMQ-2645

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924350 13f79535-47bb-0310-9956-ffa450edef68",18,23
af65ba72421fe3a585c69070dfdabc398e628f84,"https://issues.apache.org/activemq/browse/AMQ-2654 - subscription info space character

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924353 13f79535-47bb-0310-9956-ffa450edef68",1,1
e75affa6603e3b079c82e422dd6cd22cf0b8d8d7,"Fix for https://issues.apache.org/activemq/browse/AMQ-2646

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924661 13f79535-47bb-0310-9956-ffa450edef68",16,51
229043b7d9e547409c93e9132f7b3748a1c3b869,"cleaning log4j.properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924709 13f79535-47bb-0310-9956-ffa450edef68",2,2
1cec28cf27c5191363b7c14d673388021abcb91f,"https://issues.apache.org/activemq/browse/AMQ-2594 - proper init of broker and store seq

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924752 13f79535-47bb-0310-9956-ffa450edef68",3,42
a84f524404007423c28c8697e1d0fa8ad0d8614d,"https://issues.apache.org/activemq/browse/AMQ-2448 - temp workaround for network connector leak

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924763 13f79535-47bb-0310-9956-ffa450edef68",7,2
d9145485593e8cc23327a7ad0c6692b4ca4369ce,"resolve https://issues.apache.org/activemq/browse/AMQ-2656 xa=true in the environment will ensure an XACOnnectionFactory is created

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@924972 13f79535-47bb-0310-9956-ffa450edef68",1,41
efd6bda979e5e0cc063b5d9ff701c8988b534ed4,"default updateClusterClients = false - to ensure JUnit tests pass - which rely on a defined failover:// list

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@925035 13f79535-47bb-0310-9956-ffa450edef68",1,1
cc40251451f90ffa34025ea8c947f60b67a572cd,"make sure scheduling works with transactions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@925221 13f79535-47bb-0310-9956-ffa450edef68",4,45
475eedc7a6abbfffba069974ef87d1bf233abd88,"Fix order in which scheduler is used in the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@925351 13f79535-47bb-0310-9956-ffa450edef68",5,5
dfeecb4519cea68d9c2638c481a24fb972cfa027,"Applied updated patch for https://issues.apache.org/activemq/browse/AMQ-2636

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@926152 13f79535-47bb-0310-9956-ffa450edef68",177,276
c9addfb50e85b1b438789ca4f3c066f1d4d47312,"remove Log messages from BrokerInfo to so JmsAppender works

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@926165 13f79535-47bb-0310-9956-ffa450edef68",5,2
eb7275d53a22ab743ce6a5ea28465070c9e5892e,"disabling surefire and cobertura reports as they make site building long and doesn't add too much value in era of hudson and sonar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@926616 13f79535-47bb-0310-9956-ffa450edef68",4,2
363a1cf599d7203d922d93950b77519013b16638,"resolve issue with roll over and cron parser, hudson builds in different TZ has repeated faiure on trunk, getNext may still need some work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@926646 13f79535-47bb-0310-9956-ffa450edef68",35,60
c8d775dcc3177047564eb93d30ec68df66ad4b12,"adapt site deploy url

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@926658 13f79535-47bb-0310-9956-ffa450edef68",1,1
e9f30febeccc1c3f6c24bffd8eaa1d91293d30dc,"make ObjectMessage.copy aware of setObjectMessageSerializationDefered so that copy on dispatch can operate on message dispatch fields but message serialization is still avoided - resolve: https://issues.apache.org/activemq/browse/AMQ-2622

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@927054 13f79535-47bb-0310-9956-ffa450edef68",2,147
ff006954d811ccaa84b8f94a77168aaaa7d73898,"add additional test class : https://issues.apache.org/activemq/browse/AMQ-2622

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@927066 13f79535-47bb-0310-9956-ffa450edef68",0,73
146970965a32ac9939663b575420c380792d9685,"https://issues.apache.org/activemq/browse/AMQ-2600 - resolve some classloading issues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@927108 13f79535-47bb-0310-9956-ffa450edef68",0,1
73338477add439372e59d9a232fb7a595ad7f0e7,"https://issues.apache.org/activemq/browse/AMQ-2669 - jmx slave attribute for shared filesystem (jdbc) MS configurations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@927324 13f79535-47bb-0310-9956-ffa450edef68",1,6
aef23f94f35c180fc4165d9335f0a579253bb3e8,"resolve https://issues.apache.org/activemq/browse/AMQ-2670 - apply patch with thanks. Now possible to integrate RAR XAResource with jboss via the jboss org.jboss.jms.server.recovery.MessagingXAResourceRecovery handler

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@927520 13f79535-47bb-0310-9956-ffa450edef68",0,65
55be01fb55a0dc2b316be5bdf09b250ca012f8bc,"https://issues.apache.org/activemq/browse/AMQ-2675 - topic.jsp post method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@927868 13f79535-47bb-0310-9956-ffa450edef68",1,1
99d51265ff1849c1446415044222f739ed65c36d,"http://issues.apache.org/activemq/browse/AMQ-2507 - use commons logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@929094 13f79535-47bb-0310-9956-ffa450edef68",5,5
2dd5b7737bfdcb6ab7e3763927735c8f4c063bfc,"resolve https://issues.apache.org/activemq/browse/AMQ-2670 - revert XA connection manager, using out of band recovery via JMS api is a workaround for jboss pending RAR based auto recovery or enlistment, comments in the jira with the relevant config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@929145 13f79535-47bb-0310-9956-ffa450edef68",65,6
45cb6a0c755727b38e2b09d68fd925502e06027a,"https://issues.apache.org/activemq/browse/AMQ-2448 - a bit better workaround

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@929179 13f79535-47bb-0310-9956-ffa450edef68",4,16
b94342f604e9a2fd22cda5747f573369017634bb,"https://issues.apache.org/activemq/browse/AMQ-2677 - starting connection in a pool

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@929488 13f79535-47bb-0310-9956-ffa450edef68",1,6
63b4de13e6a0b986f0592d953f744a42f5bccfea,"https://issues.apache.org/activemq/browse/AMQ-2105 - inital work on creating packages with unix-maven-plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@929601 13f79535-47bb-0310-9956-ffa450edef68",0,166
9822d58d04abe22f059b85b418478a4f80592322,"resolve https://issues.apache.org/activemq/browse/AMQ-2384 - not exactly the patch but allowing the introspector to work, which is more generic with some tests, thanks phil for the impetus on this

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@929618 13f79535-47bb-0310-9956-ffa450edef68",0,106
fd65b8201a7729e4c20fb16fcc53a1cee74777f0,"https://issues.apache.org/activemq/browse/AMQ-2681 - findMessageByIdStatement

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@929918 13f79535-47bb-0310-9956-ffa450edef68",3,7
c22ea7fab0f3b08fb515146a144047e730f33afc,"ACTIVEMQ-2384 remove hard dependency on spring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@930041 13f79535-47bb-0310-9956-ffa450edef68",10,31
4eafcccf6249f0936a4a83ddb3b4f078c07f70ce,"resolve https://issues.apache.org/activemq/browse/AMQ-2556 - resolve leaks with XA_RDONLY - prepare needs to cleanup the transaction state, both on the broker and on the client connection/session/failover state

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@930135 13f79535-47bb-0310-9956-ffa450edef68",14,170
03d355e97eff80e8e925420817190150e568a23f,"https://issues.apache.org/activemq/browse/AMQ-2448 - camel component config fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@930197 13f79535-47bb-0310-9956-ffa450edef68",2,2
d22e841db9b2c431a76e51a9710660fec5af7ebb,"https://issues.apache.org/activemq/browse/AMQ-2681 - typo fixed and generate jdbc statements class

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@930206 13f79535-47bb-0310-9956-ffa450edef68",8,75
3336a22ff9ac1175d3bd688ef3438f5bb5ec964c,"https://issues.apache.org/activemq/browse/AMQ-2681 - adding license header

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@930212 13f79535-47bb-0310-9956-ffa450edef68",0,16
684f5dfef14ac90f37754bc2e7f93bb3cfc4332d,"https://issues.apache.org/activemq/browse/AMQ-2684 - encoding for web sockets and stomp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@931047 13f79535-47bb-0310-9956-ffa450edef68",2,2
b53e4b545aa4a54e6fc65642cef1e64f103bf143,"https://issues.apache.org/activemq/browse/AMQ-2684 - encoding for web sockets and stomp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@931089 13f79535-47bb-0310-9956-ffa450edef68",1,6
ce8f83acf1112aa6f6773aa1010aa6ea569faf06,"https://issues.apache.org/activemq/browse/AMQ-2448 - adding test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@931216 13f79535-47bb-0310-9956-ffa450edef68",0,65
140f8e0322f3712df4a441a38595039ba2588f63,"updating web console embeded activemq.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@931516 13f79535-47bb-0310-9956-ffa450edef68",7,6
2895197d0dad246757d8d1d9eea181cbf0543ae9,"https://issues.apache.org/activemq/browse/AMQ-2613 - more web console sanitation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@931552 13f79535-47bb-0310-9956-ffa450edef68",40,43
b6eef83ef4ef883eccb6ddf7a99c06540418c9a8,"fixing Stomp example

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@932283 13f79535-47bb-0310-9956-ffa450edef68",4,0
05f82a9b6d74f4bc88517a78b934b781a2baa706,"resolve https://issues.apache.org/activemq/browse/AMQ-2691 - ensure suppressed durable subs are acked so that message can be removed and not recovered at a later date. Tidy up network bridge creation so that durables are supported by default and allow dynamicOnly to determine if durables are auto bridged. Avoid duplicate mbeans for durable subs on restart and allow active to reflect status of a sub

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@932342 13f79535-47bb-0310-9956-ffa450edef68",85,291
80a7ec59b4896fb23366485e929769fc9ab82982,"https://issues.apache.org/activemq/browse/AMQ-2448 - thread leak when network trying to connect to unavailable broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@932403 13f79535-47bb-0310-9956-ffa450edef68",23,18
10e57c9e05912097d9debd428ffc5629f53cdde6,"related to https://issues.apache.org/activemq/browse/AMQ-2687
was using the wrong file var when reading some values from the recovery log.  Net effect is that recovery log was always considered inconsistent.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@932537 13f79535-47bb-0310-9956-ffa450edef68",3,3
fc52e42636c1ac8376ab62c79e9fee9463a616b6,"AMQ2102Test improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@933190 13f79535-47bb-0310-9956-ffa450edef68",1,2
9e54516abae3e5c756defbbe90d494891b488486,"resolve https://issues.apache.org/activemq/browse/AMQ-2693 - loaded machine with slow thread creation can delay interruption processing past next dispatch which can be problematic. prefetch=1 will workaround

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@933240 13f79535-47bb-0310-9956-ffa450edef68",12,24
e037e069bd420d3fdef3df6f1b3af57badfbf1f0,"https://issues.apache.org/activemq/browse/AMQ-2448 - increasing failure margin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@933256 13f79535-47bb-0310-9956-ffa450edef68",2,2
b65407087f02c81d319a06bc1f0f199db7fbad28,"Update APL2 license description

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@933355 13f79535-47bb-0310-9956-ffa450edef68",203,15
a0d2282a418470c4256193f2085a0c3c46d2b67e,"resolve https://issues.apache.org/activemq/browse/AMQ-2668 - implement destination PolicyEntry storeUsageHighWaterMark to allow rough store usage split across destinations. an individual dest can use a 70% high watermark leaving the default 100% for a DLQ, so that it is not blocked on a store limit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@934352 13f79535-47bb-0310-9956-ffa450edef68",57,283
952d03685680d22168dffea03c69eccf69568eff,"https://issues.apache.org/activemq/browse/AMQ-2696 - last broker sequence id and durable subscribers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@934408 13f79535-47bb-0310-9956-ffa450edef68",33,77
fab6ba187d0302886eb463fe2dea9afa797c1988,"JmsSchedulerTest give it more time to handle slow machines and add some debugging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@934839 13f79535-47bb-0310-9956-ffa450edef68",2,22
db9533b6319fea445c2b447710c0370d82ecdf01,"NetworkBrokerDetachTest refactoring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@934871 13f79535-47bb-0310-9956-ffa450edef68",33,35
789789f06b8af1c1a9abd1631dcb8ebfafb0bceb,"https://issues.apache.org/activemq/browse/AMQ-2697 - policies for temp destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@934961 13f79535-47bb-0310-9956-ffa450edef68",6,285
358b522b8d016eecbd1208a77a6c0309167636ec,"Some improvements for org.apache.activemq.ra.JmsXARollback2CxTransactionTest test as it fails in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@935501 13f79535-47bb-0310-9956-ffa450edef68",4,6
1eb339f46d8d76eb5ef65e147d2711dd61ce5632,"resolve https://issues.apache.org/activemq/browse/AMQ-2698 - patch applied with thanks; -DparallelThreads=X now in example  producer and consumer tool

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@935507 13f79535-47bb-0310-9956-ffa450edef68",46,141
e7c4c48ab6c351daaceb356d8e3616e9a16e3ccf,"https://issues.apache.org/activemq/browse/AMQ-1377 - Ajax client refactoring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@935623 13f79535-47bb-0310-9956-ffa450edef68",1557,5946
bb0aed04254c2d18915e6023e53cdbd0d2125507,"GenerateJDBCStatements - eliminate compiler warnings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@935638 13f79535-47bb-0310-9956-ffa450edef68",2,2
76de7c05e60bb70222802d56eb081505f484059c,"https://issues.apache.org/activemq/browse/AMQ-2702 - introducing activemq-spring module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@935952 13f79535-47bb-0310-9956-ffa450edef68",22,131
6a73c40c187f80a21ddc61ccbf6d257003ba6fe3,"resolve https://issues.apache.org/activemq/browse/AMQ-2651 - modified patch applied with thanks, did not change the default as there are a bunch of tests and user applications that depend on the current default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@935954 13f79535-47bb-0310-9956-ffa450edef68",8,244
eb983f7c08d13c75aefb781e141ac6fd8dc9a23c,"resolve https://issues.apache.org/activemq/browse/AMQ-2704 - add message audit to topic sub so that a regular sub can behave like store backed subscriptions which already suppress duplicates. Dup ocurrs from ring network topology where there are two equal and valid routes for a message, see test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@936390 13f79535-47bb-0310-9956-ffa450edef68",15,189
956c3e0df2b858a659d47f14e9123aa9e5cf1859,"resolve hang in purge if message count stats are off and log a warning.. tidy up broker service waitForStarted logic which caused AMQ2102 test to block.. still issue with master/slave sync with AMQ2102

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@936798 13f79535-47bb-0310-9956-ffa450edef68",8,13
f8b0c22d0f8b7725b8a37d251408b2f24e4a03b2,"https://issues.apache.org/activemq/browse/AMQ-2323 - dupliactes with composite destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@936811 13f79535-47bb-0310-9956-ffa450edef68",7,39
9740fb21a6500eecb9a6170f157b5ac57575f0ea,"Apply fixECNBits patch for https://issues.apache.org/activemq/browse/AMQ-2636

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@937265 13f79535-47bb-0310-9956-ffa450edef68",7,29
95248352244ec92a59ba7d57e8181153dedcb73f,"Apply  patch for https://issues.apache.org/activemq/browse/AMQ-2636

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@937272 13f79535-47bb-0310-9956-ffa450edef68",4,16
f206410b3da9e690b815ee88090644f9b66510e7,"provide test that validates camel loopback redelivery alternative to blocking client side redelivery, resolve: https://issues.apache.org/activemq/browse/AMQ-2710

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@937289 13f79535-47bb-0310-9956-ffa450edef68",0,186
36cc71d07708dae289e337443d09dfa99c2abe42,"add some more detailed logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@937308 13f79535-47bb-0310-9956-ffa450edef68",3,3
093c901329478df1364d5a832f8a494bff8b3c5f,"https://issues.apache.org/activemq/browse/AMQ-2705 - broker version in jmx and web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@937334 13f79535-47bb-0310-9956-ffa450edef68",0,16
e0d7906605e4a21165c4518263a1bf9501afdb19,"moving a test to activemq-spring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@938343 13f79535-47bb-0310-9956-ffa450edef68",42,94
52808088659d594a22a7ce484a21aec902d168e6,"https://issues.apache.org/activemq/browse/AMQ-2183 - composite destinations and master/slave

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@938353 13f79535-47bb-0310-9956-ffa450edef68",1,46
6d5c4267fe32d49cdff44e729fa0f03665ca7e59,"https://issues.apache.org/activemq/browse/AMQ-2714 - custom 404 and exception pages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@938417 13f79535-47bb-0310-9956-ffa450edef68",0,308
4b6c80277a064402481aeff8c3224a6b7bf49b14,"https://issues.apache.org/activemq/browse/AMQ-2636 - adding missing diff serv names

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@938461 13f79535-47bb-0310-9956-ffa450edef68",1,10
80fd502dcd9e9b8bb1b5462b6894e9b7e4878352,"https://issues.apache.org/activemq/browse/AMQ-2323 - make test JMX independent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@938823 13f79535-47bb-0310-9956-ffa450edef68",16,11
c4d8bc47a0bb8a5de919611cd0d77bb285dcbb7a,"tidy up vm url handling, fix failover and ssl context: resolve https://issues.apache.org/activemq/browse/AMQ-2715 and add test for same, improve logging around network connector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@938998 13f79535-47bb-0310-9956-ffa450edef68",13,203
fe89b0264bed7081f189cb8f27abea3ba9ae8e8d,"validation test for https://issues.apache.org/activemq/browse/AMQ-2716, delete of reply queue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@939249 13f79535-47bb-0310-9956-ffa450edef68",0,12
3340371bddb153f8ec642f39c429d70899d11f77,"test case that validates network with virtual topics and broker restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@939318 13f79535-47bb-0310-9956-ffa450edef68",0,143
14f7c669ec4fe807cc955491c6256ad474bfa722,"add additional brokers to form a ring of 3

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@939327 13f79535-47bb-0310-9956-ffa450edef68",4,9
9b7ce0e490eb2a21056984f0139131851f53f61a,"add setDecreaseNetworkConsumerPriority and send another message to try and find problem, still good

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@939682 13f79535-47bb-0310-9956-ffa450edef68",8,10
a3344e61a9d947a94da85e6e40cc4d3159ae789a,"https://issues.apache.org/activemq/browse/AMQ-2719 - order of redelivered messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941174 13f79535-47bb-0310-9956-ffa450edef68",8,130
591e55ffcee6ccfb7cde69bd0ee9104e3eeffb32,"resolve https://issues.apache.org/activemq/browse/AMQ-2720 - ensure kahaDB getDestinations returns only durable topic destinations and add test case for duplicate messages in a network after restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941281 13f79535-47bb-0310-9956-ffa450edef68",14,97
2f3f48e7d4cb6aa4c8743e3792421f3f16705728,"https://issues.apache.org/activemq/browse/AMQ-1547 - this test should be in activemq-web-demo module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941656 13f79535-47bb-0310-9956-ffa450edef68",116,0
ce9f83ccfcdfd48cb102fb11c38bdc5fe4d8dae3,"https://issues.apache.org/activemq/browse/AMQ-1547 - selector for rest consumer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941664 13f79535-47bb-0310-9956-ffa450edef68",9,239
a05e84eea35be54b5c08e696cbedce5dc0d9a733,"https://issues.apache.org/activemq/browse/AMQ-1547 - support for configurable selector header name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941673 13f79535-47bb-0310-9956-ffa450edef68",7,14
6e1d530029c6e921943740f15a1dd69e43a2033c,"https://issues.apache.org/activemq/browse/AMQ-1547 - timeout parameter has been renamed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941679 13f79535-47bb-0310-9956-ffa450edef68",3,3
d6bd98f4c7d7889cc61477ea4ea5f648082e7f32,"test for pooled connection with inactive timouet on connection, close still works ok

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941692 13f79535-47bb-0310-9956-ffa450edef68",0,37
98904794786db2e4d98a2784c562e0fd0b3f97bf,"https://issues.apache.org/activemq/browse/AMQ-1547 - adding activemq-core test jar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941703 13f79535-47bb-0310-9956-ffa450edef68",0,6
79d303d8029dd4918baade1cab97668c1787c0ca,"some maven future proofing - resolve warn about pom property references

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@941712 13f79535-47bb-0310-9956-ffa450edef68",66,67
aa3110e26c0f773ca3abd5285a907768255b2a6f,"add simple test for localport uri notation in a connection factory: http://activemq.apache.org/how-do-i-define-a-local-address-and-local-port-for-tcp-or-ssl.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@942025 13f79535-47bb-0310-9956-ffa450edef68",0,14
4e8143711a8b4640485bb78f94c52b4f4b8bfa4f,"https://issues.apache.org/activemq/browse/AMQ-2706 - request-reply over network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@942131 13f79535-47bb-0310-9956-ffa450edef68",1,16
41c2a9c4698e98667d86b5ccb43d76b7b492d2d3,"add test for prosperity

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@942715 13f79535-47bb-0310-9956-ffa450edef68",0,109
5555f7c7e10ab15cd7b2031eb8c6bde9e3147c1d,"lock down surefire plugin version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943084 13f79535-47bb-0310-9956-ffa450edef68",0,4
4a2b796acc69b0e7e1701d4fdb2288326c2337a9,"fix assertion, thanks Darek

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943085 13f79535-47bb-0310-9956-ffa450edef68",1,1
0e1d63269d9d39852f6fdca02394a0783d33ed82,"make tests more resiliant to running on slower/loaded machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943091 13f79535-47bb-0310-9956-ffa450edef68",3,8
2b9c59c2833a7ea18de0d3e0586ba0d15de34166,"https://issues.apache.org/activemq/browse/AMQ-2728 - MessageServlet refactoring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943146 13f79535-47bb-0310-9956-ffa450edef68",79,144
21b81e180f831724f0969edbfdb03e76cb238551,"https://issues.apache.org/activemq/browse/AMQ-2728 - cleaning up MessageServlet

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943466 13f79535-47bb-0310-9956-ffa450edef68",0,1
c980168df5916d18df6e6fe555b94bbcdb307aae,"https://issues.apache.org/activemq/browse/AMQ-2728 - cleaning up MessageServlet

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943467 13f79535-47bb-0310-9956-ffa450edef68",156,15
c15b6d00467b872d07ad47d4e0c5e05df56ecc67,"add long code signing key to KEYS, cf ACTIVEMQ-2731

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943812 13f79535-47bb-0310-9956-ffa450edef68",0,61
c3a64a8eb30cf9368dba12ce3d02c72d39a9641c,"add little test to validate load balancing in a simple network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943856 13f79535-47bb-0310-9956-ffa450edef68",13,77
3a6a56c6337c94b1d5872234ceced0d4d370b801,"https://issues.apache.org/activemq/browse/AMQ-2729 - failover uri query parsing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943860 13f79535-47bb-0310-9956-ffa450edef68",1,2
429869d034890a14def5953c510ffd19b3858e00,"a trivial lrucache test to validate resize is not crazy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943861 13f79535-47bb-0310-9956-ffa450edef68",0,34
c909e965c731d96c91798aa81ace97dbba9e6f1d,"fix assertion on discarded count

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943877 13f79535-47bb-0310-9956-ffa450edef68",1,3
a34c80858e17ad8e2b627b33836514ad651a8c6f,"https://issues.apache.org/activemq/browse/AMQ-2732 - ftp blob permission denied

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943915 13f79535-47bb-0310-9956-ffa450edef68",0,106
3af93f18984053f67ea929a24ef4acb61dad3a51,"https://issues.apache.org/activemq/browse/AMQ-2732 - ftp blob permission denied

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943916 13f79535-47bb-0310-9956-ffa450edef68",140,39
41a1842d8c09a95d347b4c37d5abb3f23771a054,"https://issues.apache.org/activemq/browse/AMQ-2732 - more test refactorings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@943934 13f79535-47bb-0310-9956-ffa450edef68",79,2
dee584b99e25dff2eb855b517a7318d6f85c8249,"make keepAlive optional for inactivity monitor, useKeepAlive=false option, such that it can be used to abort slow consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@944163 13f79535-47bb-0310-9956-ffa450edef68",2,197
af159dd82b382baf04668ea78dbb22eeea972857,"https://issues.apache.org/activemq/browse/AMQ-2713 - delete blob message files from server

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@944167 13f79535-47bb-0310-9956-ffa450edef68",127,186
eb6fec879fc14a7fb9b45610eeeae3ab254713bf,"https://issues.apache.org/activemq/browse/AMQ-2667 - make fileserver jetty neutral

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@944278 13f79535-47bb-0310-9956-ffa450edef68",102,199
8b6a0c7237a61353b9947c43e7a52e8d82955738,"https://issues.apache.org/activemq/browse/AMQ-2667 - trimming down activemq-fileserver war

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@944325 13f79535-47bb-0310-9956-ffa450edef68",26,145
240619f0bb21ec6be84d05fc2f7e9d0056c0f8fe,"apply patch from https://issues.apache.org/activemq/browse/AMQ-2726 - with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945032 13f79535-47bb-0310-9956-ffa450edef68",3,3
7046dc7f248ac25475615e0023453ea2a9beb0f0,"https://issues.apache.org/activemq/browse/AMQ-2727 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945033 13f79535-47bb-0310-9956-ffa450edef68",0,10
ea843782b387e39aa363f5bb45607b61c99f588f,"added support for concurrent dispatch and store of persistent messages in KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945102 13f79535-47bb-0310-9956-ffa450edef68",180,674
0d05af661405f9f765182c7570ddf6a518870f6b,"https://issues.apache.org/activemq/browse/AMQ-2456 - JaasDualAuthentcationPlugin/Broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945227 13f79535-47bb-0310-9956-ffa450edef68",0,425
b09ed031aa9e1b3cf392337bc5403c67b7bc5936,"removeTopicTask fixed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945495 13f79535-47bb-0310-9956-ffa450edef68",1,1
54a00fe5fe9b134d9394077b924b222115710657,"removing static schedulers - so ActiveMQ will shutdown cleanly - see https://issues.apache.org/activemq/browse/AMQ-2568

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945524 13f79535-47bb-0310-9956-ffa450edef68",7,26
8cf566b4cadecf25d44d7c2840131ba09acf7cda,"assert that reconnecting durable sub on a remote broker works

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945594 13f79535-47bb-0310-9956-ffa450edef68",0,30
5405ec8c49d62a0b602b4b2b142e1d7b9ca14c61,"Explicitly set the PersistenceAdapterFactory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945600 13f79535-47bb-0310-9956-ffa450edef68",5,4
21891008c5c4dc22e862184bcd6cb578f7256b5f,"resolve https://issues.apache.org/activemq/browse/AMQ-2737 - have nio work with soWritetTimeout filter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945692 13f79535-47bb-0310-9956-ffa450edef68",46,117
3713a3bdeb734b1cd076b08177f44a450e2de43b,"resolve https://issues.apache.org/activemq/browse/AMQ-2737 - add the two new files, oops

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@945709 13f79535-47bb-0310-9956-ffa450edef68",0,182
50daa35a32851159bbd47ca08cc2517f3d166782,"resolve failure of org.apache.activemq.store.jdbc.JDBCStoreOrderTest - async ack when in a transaction and transaction store message store proxy missing async impl, belt and braces, fix async ack and add sync imple to proxy  - following async changes from http://svn.apache.org/viewvc?rev=945102&view=rev

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@946135 13f79535-47bb-0310-9956-ffa450edef68",2,26
1b6d397aab3c8cb4a010603ce55b87249950ef2d,"https://issues.apache.org/activemq/browse/AMQ-378 - add AbortSlowConsumerStrategy destination policy that will abort consumers that are repeatildy slow or slow for a defined period. Slowness is a product of the prefetch and message production rate.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@946138 13f79535-47bb-0310-9956-ffa450edef68",25,476
1a5ad284ed67d1742237c337072635f29aae5f9c,"fixes for https://issues.apache.org/activemq/browse/AMQ-2620 and
https://issues.apache.org/activemq/browse/AMQ-2568

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@946600 13f79535-47bb-0310-9956-ffa450edef68",232,524
cd6f4f56505539fdcbb9e091d8504e5dc347dfc7,"Fix null pointer exception in doStop()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@946681 13f79535-47bb-0310-9956-ffa450edef68",2,6
e2a383690cb03f45aada66239bfad613f1ef5f45,"added transacted topic test 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@946725 13f79535-47bb-0310-9956-ffa450edef68",8,55
4386e118a1d7cc15fc2cc489c204886b4b552a01,"remove deps on 1.6 constructor, no point making 1.6 a requirement for this little feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@946964 13f79535-47bb-0310-9956-ffa450edef68",2,6
10a976674edc472181635c5a68f5446067b6216b,"possibly resolve https://issues.apache.org/activemq/browse/AMQ-2564 - add test and fix issue with slave replication effecting response correlator when message is queued waiting for space, the id can get out of sync, causing a missed reply to the orignal producer, which would result in a hang

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@946974 13f79535-47bb-0310-9956-ffa450edef68",1,59
755345cb531c96de8e9c5e5fdd0e47dbc911329d,"https://issues.apache.org/activemq/browse/AMQ-2744 - web server authentication configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947019 13f79535-47bb-0310-9956-ffa450edef68",82,134
09642bbcfa2eb7afb667bff0975595aca094e047,"upgrade to activemq-protobuf-1.1-SNAPSHOT fixes one of the errors in the XARecoveryBrokerTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947439 13f79535-47bb-0310-9956-ffa450edef68",2,3
c92fe9992bb6da30615d7fb94a057077428226f2,"make perf test num producers configurable via command line to allow easy comparison, make test use transacted sends

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947638 13f79535-47bb-0310-9956-ffa450edef68",5,6
da0490b5012e93e9b4711430815aa301dadd2024,"Fix for failing case in XARecoveryBrokerTest related to https://issues.apache.org/activemq/browse/AMQ-2620 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947653 13f79535-47bb-0310-9956-ffa450edef68",2,5
e1389a6accadebc1094d02775b979feafe0d9b40,"allow journal write batching, resolve global transaction lock and journal lock, let writes accumulate on the datafileappender rather than at the store, also tie transaction completion and after commit processing together with a callback rather than with a global lock so that concurrent commits can batch their writes - rework of fix for https://issues.apache.org/activemq/browse/AMQ-2594

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947657 13f79535-47bb-0310-9956-ffa450edef68",57,101
35593638f5d45f7ba5a76d4431afe725563f633e,"resolve ConnectorXBeanConfigTest, broker service needs to null more impls at shutdown to allow restart to find new impls of scheudaler etc. consequence of fixes for https://issues.apache.org/activemq/browse/AMQ-2620  and
https://issues.apache.org/activemq/browse/AMQ-2568

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947671 13f79535-47bb-0310-9956-ffa450edef68",0,12
aace7c69370eacc2683f03f16aee2d81821acb89,"https://issues.apache.org/activemq/browse/AMQ-1464 - fanout regression

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947757 13f79535-47bb-0310-9956-ffa450edef68",5,102
87b1ab15fe7e9cbd3d2011084791856df69e9cce,"add in apache.snapshots repo for protobuf 1.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947960 13f79535-47bb-0310-9956-ffa450edef68",0,7
a4983690cb02fb2abcbe8ef28606528944524ca8,"add in apache.snapshots plugin repo for protobuf 1.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@947981 13f79535-47bb-0310-9956-ffa450edef68",0,8
33f4190343c1698796814bd8d5f9cd451402c605,"resolve regression in ThreeBrokerVirtualTopicNetworkTest - asnyc tasks need to use destination in key as id is not uniqueue with virtual topics. Also, on a failed cancle, we must wait for the write to compete so the ack/remove does not lag the write leaving an outstanding message. consequence of fixes for https://issues.apache.org/activemq/browse/AMQ-2620  and
https://issues.apache.org/activemq/browse/AMQ-2568

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@948209 13f79535-47bb-0310-9956-ffa450edef68",16,53
18adfefabef7fb6dc7dafcdf86cb59b54b7750a1,"resolve https://issues.apache.org/activemq/browse/AMQ-2751 - duplicate suppression over eager with listener, session.recover from a message listener when default delayed redelivery is in place

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@948463 13f79535-47bb-0310-9956-ffa450edef68",0,94
ae7df9fcaa2648432827a898ad7905730245b0f0,"help in diagnosis of https://issues.apache.org/activemq/browse/AMQ-2749 - provide log message when waiting for space to free up

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@948489 13f79535-47bb-0310-9956-ffa450edef68",1,6
b50ede668d067e09e51e340df4b7e12c12f8c807,"resolve https://issues.apache.org/activemq/browse/AMQ-2752 - allow timestamp broker plugin to optinally modify network messages, processNetworkMessages attribute

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@948858 13f79535-47bb-0310-9956-ffa450edef68",2,13
ecf068e23b1384d523e2e9e6724c38bf3bf107bb,"first cut at resolution to: https://issues.apache.org/activemq/browse/AMQ-2753 - add priority network consumer dispatch policy that will ignore duplicates such that there can be redundancy in the network with the addition of suppressDuplicateTopicSubscriptions attribute on a network bridge

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@948911 13f79535-47bb-0310-9956-ffa450edef68",13,175
72015ca681858a41a63f4734549e71afa2f8a9d9,"resolve https://issues.apache.org/activemq/browse/AMQ-2754 - fix issue with conduit sub removal

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@949742 13f79535-47bb-0310-9956-ffa450edef68",2,149
7f0ced9402713b4ee660167d0060d8f56461e148,"resolve regression in FailoverTransactionTest following change to fix resolve https://issues.apache.org/activemq/browse/AMQ-2751, fix needs to be conditional on delayed delivery otherwise it can effect async transacted redelivery on failover 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@949789 13f79535-47bb-0310-9956-ffa450edef68",1,4
32714018830bb49a7ae8a437cc21bddc7d92ab72,"resolve durable restart test regressions with kahaDB as default store, the next message sequence id could get out of sync for a durable sub when drained and reused, fix for https://issues.apache.org/activemq/browse/AMQ-2755

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@950171 13f79535-47bb-0310-9956-ffa450edef68",7,33
3c8df79ecaa8b1c22925be2dfe960da27b4b9c79,"add test to veriry loadbalance across network, effect of prefetch on vm client vs nework consumer, allowed prefetch to be configured via xml property (ie string in schema) for xml config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@950515 13f79535-47bb-0310-9956-ffa450edef68",0,375
651a5fecd1ec441af1b93186faa4e6730dd044c7,"include license text in new files, http://svn.apache.org/viewvc?rev=950515&view=rev

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@950519 13f79535-47bb-0310-9956-ffa450edef68",0,32
f0a446f3951d0c427a295a1b2419494cbc75fabb,"AMQ-2762: Support for blueprint as a custom namespace handler

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@950728 13f79535-47bb-0310-9956-ffa450edef68",21,149
99ef19a43d47c698ffd2ef2e8c6bff0334c53310,"https://issues.apache.org/activemq/browse/AMQ-2753 - additional test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@951067 13f79535-47bb-0310-9956-ffa450edef68",0,269
ea2e4f5ac276b802a08e8861c1692647f72313f9,"https://issues.apache.org/activemq/browse/AMQ-2744 - turn auth to false by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@951430 13f79535-47bb-0310-9956-ffa450edef68",1,1
9ae0d327696f6ae78b9190250899739902077288,"AMQ-2762: use xbean 3.7 for blueprint support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@951931 13f79535-47bb-0310-9956-ffa450edef68",1,1
121ecb5599f81d16ff3003886aaa0b5422f860e6,"https://issues.apache.org/activemq/browse/AMQ-2767 - proxyToLocalBroker <proxyConnector> property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@952642 13f79535-47bb-0310-9956-ffa450edef68",2,17
9fcf16eaabb197b5c91d916a621243d6d141e5ae,"https://issues.apache.org/activemq/browse/AMQ-2663 - keepDurableSubsActive=false reactivation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@952946 13f79535-47bb-0310-9956-ffa450edef68",1,90
bf61bebd798185f784f5f36b596d9d6b199dd362,"cleaning up AMQ2413Test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@952962 13f79535-47bb-0310-9956-ffa450edef68",5,0
9c47f6b38548d089fe05a63ed37d9ca81fc91376,"https://issues.apache.org/activemq/browse/AMQ-2665 - durable activation and predefined topics

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@952976 13f79535-47bb-0310-9956-ffa450edef68",0,117
bb17d6151665c040e5960598403168f7bf5669ec,"https://issues.apache.org/activemq/browse/AMQ-2665 - additional fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@953382 13f79535-47bb-0310-9956-ffa450edef68",2,2
2b6f36dbfd3bc2bd4f9e155d6528ac7346e95c6d,"first stab at resolving https://issues.apache.org/activemq/browse/AMQ-2695

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@953384 13f79535-47bb-0310-9956-ffa450edef68",4,166
e771b88479c70cd24ea489ef325b59da108572cd,"resolve: https://issues.apache.org/activemq/browse/AMQ-2772 - patch applied with thanks and new test case created to protect the change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@953696 13f79535-47bb-0310-9956-ffa450edef68",2,56
9444a7903e88c4a391daf190d0e4dc9fd57ee1ca,"https://issues.apache.org/activemq/browse/AMQ-2769 - durable sub unsubscribe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@953708 13f79535-47bb-0310-9956-ffa450edef68",2,114
6b18edc77133cafbf9297ec5e2991f09ccf1243b,"add test for https://issues.apache.org/activemq/browse/AMQ-2084 that works just fine

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@953739 13f79535-47bb-0310-9956-ffa450edef68",0,180
d96c1cb7a352d61d15b430b6a279ff70b8181351,"https://issues.apache.org/activemq/browse/AMQ-2695 - durable subs and selectors - fix for kahadb

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@954406 13f79535-47bb-0310-9956-ffa450edef68",9,61
bc2b677c4deb263c141e6faea778b44ab50648c3,"https://issues.apache.org/activemq/browse/AMQ-2695 - durable subs and selectors - test that verifies amq store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@954412 13f79535-47bb-0310-9956-ffa450edef68",2,31
027d2e71b691efc2f7bf7dc6832335affd8cf8b3,"resolve https://issues.apache.org/activemq/browse/AMQ-2779 - add selectorAware option to a virtual topic such that only message matching some exisitng subscription selector are propagated to a subscription queue, this allows dynamic selector usage withough the build up of unmatched messages on a destination

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@954540 13f79535-47bb-0310-9956-ffa450edef68",7,197
794e62fbaacb17ec9abff107ad49e28ac5df8187,"Fix for https://issues.apache.org/activemq/browse/AMQ-2777

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@954599 13f79535-47bb-0310-9956-ffa450edef68",3,35
dc6dc7e540f3b8f470bc804c257086be177c4f30,"updated performance tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@954604 13f79535-47bb-0310-9956-ffa450edef68",75,65
370d56e300baf17606af93a27f4a2fbb4c6c3335,"https://issues.apache.org/activemq/browse/AMQ-2770 - durable subscription mbean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@954893 13f79535-47bb-0310-9956-ffa450edef68",0,126
ad06a5f9c347ff2ddd87885c2f16f91637b471c3,"resolve https://issues.apache.org/activemq/browse/AMQ-2765 - rework fix for https://issues.apache.org/activemq/browse/AMQ-2772 - each consumer needs to indicate when interuption processing is complete. till there is a need to do other wise, the connection consumers (used by the RA managed connection) immediatly allow redelivery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@954972 13f79535-47bb-0310-9956-ffa450edef68",1,278
27262c84630dbfb48b7662dab68f34a277e5f7a5,"Transactions dispatch and commit to the store asynchronously, though the commit only returns to the producer when they both complete for KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955039 13f79535-47bb-0310-9956-ffa450edef68",331,1000
7a5abebea8e33e8b585a81b69755a6206bf963e3,"make concurrent store and dispatch with transactions optional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955149 13f79535-47bb-0310-9956-ffa450edef68",45,126
e70308804fc21a0b2bafb5667ee23c860e0e93b8,"clear down async tasks on stop

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955168 13f79535-47bb-0310-9956-ffa450edef68",0,9
774a9daa4d0fa21a455eeb7fb92fae25baf99075,"fixed incorrect broker URL

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955171 13f79535-47bb-0310-9956-ffa450edef68",3,3
37b7d9cfbd1480340eabe1926f5c337aad9dafe0,"remove JDK 1.6 specific calls

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955178 13f79535-47bb-0310-9956-ffa450edef68",2,2
47181b7b07689eee30fcc2413dff93a940dbe4ac,"Fix for https://issues.apache.org/activemq/browse/AMQ-2738

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955179 13f79535-47bb-0310-9956-ffa450edef68",3,32
ddf228227cf0eb8932595892beea5e5e872cc311,"Enable XBean property editors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955183 13f79535-47bb-0310-9956-ffa450edef68",5,7
1999d948bba5ceacc9360e0cab3c86595a04cb78,"handle Future correctly passed back from the store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955221 13f79535-47bb-0310-9956-ffa450edef68",3,2
f42c91f43db0f2a59d0bd7e924adc4ac9d042d03,"Fix for https://issues.apache.org/activemq/browse/AMQ-2475

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955504 13f79535-47bb-0310-9956-ffa450edef68",26,66
97032199728567b0ea70f33c0bfedd96e420b0ac,"https://issues.apache.org/activemq/browse/AMQ-2782 - test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955505 13f79535-47bb-0310-9956-ffa450edef68",0,180
ae5300b1904fdadbd7e5817f849f3fbc5df3a943,"https://issues.apache.org/activemq/browse/AMQ-2782 - removing temp destinations over the network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955621 13f79535-47bb-0310-9956-ffa450edef68",1,1
94261594d3ef6d5a9ab15becf6b42a6f80956a18,"https://issues.apache.org/activemq/browse/AMQ-2784 - change favicon

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955880 13f79535-47bb-0310-9956-ffa450edef68",0,0
e85dda9c64c27a3449da0c44b5314aa8be06cdc9,"have KahaDB lock work in vm, so master slave tests can work ok. preserver kaha behaiour in this regard as it makes testing simpler. fix npe on shutdown if start fails

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955973 13f79535-47bb-0310-9956-ffa450edef68",16,42
d55404445af782b2fbbba8d055b7d55c5b7e5d5c,"give it more time to build up writes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@955993 13f79535-47bb-0310-9956-ffa450edef68",1,1
b8c2d09220415efc90844853a9c8ebb31a560fa7,"https://issues.apache.org/activemq/browse/AMQ-2453 - activemq script improvement - initial commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@956005 13f79535-47bb-0310-9956-ffa450edef68",58,482
69e3b6c8c83d2bf0a06a0a7f0e3a8bd44cde907b,"Fix for https://issues.apache.org/activemq/browse/AMQ-2786

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@956481 13f79535-47bb-0310-9956-ffa450edef68",3,25
4dd5b5efb7ab731d75ef1115d48e2d729c2fbcc5,"resolve: https://issues.apache.org/activemq/browse/AMQ-2376 - add expiryTimeout such that pooled connections can have a determintic life span after which they expire. This allows the pool to be refreshed such that loadbalancing of failover reconnect can ocurr post recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@956541 13f79535-47bb-0310-9956-ffa450edef68",16,145
a8b0d399154bb3fe61de206ab77d6f9451c8c18a,"intermittent failures on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@956570 13f79535-47bb-0310-9956-ffa450edef68",0,3
d8440f8610f56d79555c43a40c16948fb56df1d9,"fixing contains method so that recovery is quicker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@956732 13f79535-47bb-0310-9956-ffa450edef68",1,1
9ae41192a9d2c39fcc82d8dfd101392be8698456,"Fix for AMQ-2757 - leaf nodes were not properly getting linked together in some cases.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@956741 13f79535-47bb-0310-9956-ffa450edef68",7,66
c14dc3a06fb4b25db3e69f232ea565a4ff161824,"Fix for https://issues.apache.org/activemq/browse/AMQ-2790

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@956918 13f79535-47bb-0310-9956-ffa450edef68",140,553
7ad152bac8bbdef1aa36f064683018701cf24e82,"Ensure executor constructed correctly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957005 13f79535-47bb-0310-9956-ffa450edef68",1,2
2aa2278fc27720fbc2209b3ba22fa63218c35836,"https://issues.apache.org/activemq/browse/AMQ-2793 - KahaDB default dir

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957154 13f79535-47bb-0310-9956-ffa450edef68",1,1
9f417a2e5a4f2b406c720ca96494464ac7369153,"https://issues.apache.org/activemq/browse/AMQ-2695 - additional fix for amq store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957181 13f79535-47bb-0310-9956-ffa450edef68",13,83
d53609ff08eb5108f273d1afc5801de9fa148cd6,"https://issues.apache.org/activemq/browse/AMQ-2695 - kahadb store directory location

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957194 13f79535-47bb-0310-9956-ffa450edef68",1,6
ac77a047c0e22177fd6f69ed3e16cd64b0ca37f7,"https://issues.apache.org/activemq/browse/AMQ-2695 - counter fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957210 13f79535-47bb-0310-9956-ffa450edef68",4,0
1f063e8557211e655c2eca8065623b157f590de5,"https://issues.apache.org/activemq/browse/AMQ-2790 - check connection to prevent NPEs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957213 13f79535-47bb-0310-9956-ffa450edef68",1,1
eeacd65a2b8df4eb6b2fa48b0687872cbe296128,"https://issues.apache.org/activemq/browse/AMQ-2081 - anonymous access

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957509 13f79535-47bb-0310-9956-ffa450edef68",13,265
00879cf6836ee20da9796d5475593889f370d661,"changes for https://issues.apache.org/activemq/browse/AMQ-2791

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957881 13f79535-47bb-0310-9956-ffa450edef68",273,637
fb591e7b895d4309a207abab154c0181a46ebdac,"fix intermittent failure in JDBCNegativeQueueTest, sync store add and cursor add such that cursor is always in order w.r.t the store. Hense, when the cursor cache is exhausted, resuming from the store is just fine. Without the sync, moving from cache to store can result in duplicate messages, out of order messages and on occasion missing messages. disabling the cache resolved all of the above but kills performance. Syncing the sore add and cursor add is the correct solution, but it has an impact on concurrent transaction completion for a destination, paralell completion across destinations can still continue, so there is still some batching potential

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957899 13f79535-47bb-0310-9956-ffa450edef68",72,94
39c536395a4f024f206610a38ab73de053c18688,"work around: javax.net.ssl.SSLHandshakeException: renegotiation is not allowed - http://java.sun.com/javase/javaseforbusiness/docs/TLSReadme.html for SslBrokerServiceTest with latest jdk security fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@957916 13f79535-47bb-0310-9956-ffa450edef68",0,5
ddb2c91c20179732a676d9e40ebc6eddfd000890,"transaction performance enhancements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958009 13f79535-47bb-0310-9956-ffa450edef68",38,61
9807ee3253200e8ed25407d95bf06ec13ee7be8a,"fix for: https://issues.apache.org/activemq/browse/AMQ-2098

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958103 13f79535-47bb-0310-9956-ffa450edef68",21,672
dd48ebea0058bc363c398d89e1d01d9fcf5ef3af,"Use KahaDB (as now the default store)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958329 13f79535-47bb-0310-9956-ffa450edef68",5,4
d1b5029dc6100d7996b19ced959b4ae12bfaa8c5,"Remove the need to check if the store is empty when checking to enable cache

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958330 13f79535-47bb-0310-9956-ffa450edef68",1,1
ff43b7a9aac929349b88bc30a8e53a5290590de7,"tidy up doc comment re pooling: resolve https://issues.apache.org/activemq/browse/AMQ-2806

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958921 13f79535-47bb-0310-9956-ffa450edef68",6,9
b73b8bc5b7989ef9e4677a762dc7b01f68d7c58a,"https://issues.apache.org/activemq/browse/AMQ-2728 - first stab at refactoring Ajax API to conform Jetty 7 continuations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958932 13f79535-47bb-0310-9956-ffa450edef68",59,204
8f3e831fcf1b6e34925ade8894f4d8073efa7661,"more input to doc comment re pooling: https://issues.apache.org/activemq/browse/AMQ-2806

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958961 13f79535-47bb-0310-9956-ffa450edef68",7,14
4a23f0d1c1ab0a772239b329a0092308ea9d367b,"even more input to doc comment re pooling: https://issues.apache.org/activemq/browse/AMQ-2806

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@958962 13f79535-47bb-0310-9956-ffa450edef68",2,2
149d4772df8d2eff7daad7593d8a0e819fe21308,"https://issues.apache.org/activemq/browse/AMQ-2453 - some improvements to unix start script

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@959043 13f79535-47bb-0310-9956-ffa450edef68",29,32
452ceae26e4ebe2982bf2a8d6f09918d5ca8bc58,"Name the BrokerService TaskRunner 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@959200 13f79535-47bb-0310-9956-ffa450edef68",1,1
a89118211467832067f62b7f6c03c0e8820fd6d0,"https://issues.apache.org/activemq/browse/AMQ-2453 - improve stop procedure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@959227 13f79535-47bb-0310-9956-ffa450edef68",7,15
d1e35e6c3acc4245def6987fe32955e904b1c27a,"add trivial boolean selector test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@959298 13f79535-47bb-0310-9956-ffa450edef68",0,1
0785e76eef0157d778078208c2feb2671e2f57f3,"improving features

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@959349 13f79535-47bb-0310-9956-ffa450edef68",0,1
f7c3c11cc4650deebb3c9e6538a926a19dc63537,"https://issues.apache.org/activemq/browse/AMQ-2570 - first stab at updating karaf features

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@959687 13f79535-47bb-0310-9956-ffa450edef68",22,31
554a01a42075ad03b4e60f885a2c831c8e0792a0,"https://issues.apache.org/activemq/browse/AMQ-2728 - fix getDestination() problem

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@959942 13f79535-47bb-0310-9956-ffa450edef68",1,3
76f842d37117f3227f62294b84bf55639e27d329,"improve async task concurrency, contention over indexMutex for transactions and taskMap, not per destination. Added some metrics enabled by system properties to help further diagnosis of journal usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960060 13f79535-47bb-0310-9956-ffa450edef68",45,106
2c9cbbdff38f16bb207ddaee9c5a5240cec1cb33,"https://issues.apache.org/activemq/browse/AMQ-2570 - osgifying web console war

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960095 13f79535-47bb-0310-9956-ffa450edef68",3,1
c14c7e791dc499af9d7e984b620c876506654564,"Fix for https://issues.apache.org/activemq/browse/AMQ-2807

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960296 13f79535-47bb-0310-9956-ffa450edef68",8,189
42ee51fe9abe67712921ddb6ec296b8551aed2b0,"Applied patch for https://issues.apache.org/activemq/browse/AMQ-2795

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960298 13f79535-47bb-0310-9956-ffa450edef68",1,283
6a5030b9f56d31519b4bfb102b0a74314a675cb4,"removed unnecessary synchronization around dispatch list

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960444 13f79535-47bb-0310-9956-ffa450edef68",15,13
412730b8994c275605dfbdb6dded2c7b4df4db2f,"https://issues.apache.org/activemq/browse/AMQ-2570 - use spring 3.0.x

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960485 13f79535-47bb-0310-9956-ffa450edef68",2,23
caea2f22f097c15fa62d32de5305d4124b08d4d7,"remove unnecessary started flag

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960590 13f79535-47bb-0310-9956-ffa450edef68",5,4
8d9ff0d25fa8602f109b63a7277440a57d920416,"https://issues.apache.org/activemq/browse/AMQ-2570 - osgifying web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960631 13f79535-47bb-0310-9956-ffa450edef68",2,9
95ba6efcebbece7104ea53dc5c99e1eb7b23029d,"updated doc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960632 13f79535-47bb-0310-9956-ffa450edef68",0,2
179bd54e22bc6ea4614b6bb460dc43c7251b6c87,"synchronization around creation of preparedTransactions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960645 13f79535-47bb-0310-9956-ffa450edef68",30,35
4160249750fc4a84da5f295059a3775a4f46fce8,"resolve https://issues.apache.org/activemq/browse/AMQ-2603 - update to org.apache.geronimo.specs:geronimo-j2ee-management_1.1_spec:1.0.1 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960857 13f79535-47bb-0310-9956-ffa450edef68",14,13
cc700dd84103d21d9f2a6e51d44b95041c6cc623,"reinstate this test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@960869 13f79535-47bb-0310-9956-ffa450edef68",2,10
28180b35bd13f70787652c26c4c274d9d175cb96,"Improve concurrency by using read/write locks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961245 13f79535-47bb-0310-9956-ffa450edef68",180,302
720ff40ac026c4700e3c2306e537d9c497206f4b,"fixed a potential hole around lock usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961272 13f79535-47bb-0310-9956-ffa450edef68",7,3
52a91db74099bfb87fb468d5cd2d711639870c8a,"https://issues.apache.org/activemq/browse/AMQ-2570 - more web console pom improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961381 13f79535-47bb-0310-9956-ffa450edef68",14,3
06b41bb7592d2bf3c4de995c0a71fcc5b974bd86,"https://issues.apache.org/activemq/browse/AMQ-2570 - more web console pom improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961470 13f79535-47bb-0310-9956-ffa450edef68",32,6
b47da808d7bf1ef479e482ed0c1db1c701386626,"Improve concurrency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961484 13f79535-47bb-0310-9956-ffa450edef68",29,112
89e538db7cc2762df4b2db9b2ca8e98b8cc132dc,"Only start Producer Flow Control thread when needed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961500 13f79535-47bb-0310-9956-ffa450edef68",10,7
e0f1872e692880931ca4bde085db9603cb1b269d,"https://issues.apache.org/activemq/browse/AMQ-2570 - karaf feature improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961622 13f79535-47bb-0310-9956-ffa450edef68",11,4
d1fa2baf404d0dbad19c8daf5e67d6d91178b301,"https://issues.apache.org/activemq/browse/AMQ-2815 - first stab at moving karaf commands to activemq

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961712 13f79535-47bb-0310-9956-ffa450edef68",26,909
aac39acbb227377f19e684874e1526081379c3a4,"AMQ-2570: make sure the log is delegated to the framework if possible when the web console is deployed in osgi

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961717 13f79535-47bb-0310-9956-ffa450edef68",1,19
7a7a876045902b16dcbe55ff8ab48132714ddb57,"https://issues.apache.org/activemq/browse/AMQ-2815 - updating default broker config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961752 13f79535-47bb-0310-9956-ffa450edef68",43,47
a6a6a708ff26c8ddba966107d2add4186e173ba4,"resolve https://issues.apache.org/activemq/browse/AMQ-2800, https://issues.apache.org/activemq/browse/AMQ-2542, https://issues.apache.org/activemq/browse/AMQ-2803 - implement duplicate checker in transport for a failover: reconnect, uses last seqid from store. iimplemented for kahaDB and JDBC

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@961783 13f79535-47bb-0310-9956-ffa450edef68",259,1007
40ae8b1d4c29d704c2b13eeff52c6d70b24ada70,"https://issues.apache.org/activemq/browse/AMQ-2815 - enabling creating blueprint configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962432 13f79535-47bb-0310-9956-ffa450edef68",1,140
5763561d60bc3e405a1b2612ba6eb23afb2f4b76,"resolve PerDestinationStoreLimitTest - have store size reflect stored messages rather than disk usage (so now it reports used rather than allocated disk soace excluding the index) such that 100MB messages gives store size ~100MB while disk utilisation may be bigger. getDiskSize still exsits to get totall allocated space on disk. This allows configured limits to be more accuratly enforced and fixes this test regression. Also calculation is accumulative rather than on demand so it much faster

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962468 13f79535-47bb-0310-9956-ffa450edef68",9,13
ebef6140470d680bd9644b29ab3fd6c52c954a0c,"start to nail down a config for specjms suite

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962493 13f79535-47bb-0310-9956-ffa450edef68",0,118
ee554acb09f4eff83fcec1aa3f6622b7015d27a1,"start with clean store each time

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962500 13f79535-47bb-0310-9956-ffa450edef68",2,1
681cf04da9914650bfbc7ec0622b02cbf9ddc9e5,"https://issues.apache.org/activemq/browse/AMQ-2817 - sanitize stomp headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962512 13f79535-47bb-0310-9956-ffa450edef68",3,43
958038e0ca3448a8297cd60c75cea6aae1653137,"remove duplicate sync, order is now down to the enqueueMutex only which is still consistent as it is only accessed from this place

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962516 13f79535-47bb-0310-9956-ffa450edef68",13,2
1b0f4ae79998352d5ef6b17e9d0e66c98d7cf7df,"ref the memory opts

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962517 13f79535-47bb-0310-9956-ffa450edef68",0,1
4ced774bcaf3fb6eec421ad28567a1b438b7c5dd,"https://issues.apache.org/activemq/browse/AMQ-2818 - jetty.realm not found

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962519 13f79535-47bb-0310-9956-ffa450edef68",6,6
48d0045460d5d9f9001166caf8cf38e5b1ec245a,"[activemq-karaf] use the new namespace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962568 13f79535-47bb-0310-9956-ffa450edef68",1,1
26430893ae73393901933aede1b680f285e7797b,"set name of temporary store to tmpDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@962620 13f79535-47bb-0310-9956-ffa450edef68",1,1
2705e3606fe3b4ac449119ad3c25ad6a5eeb1b57,"Fix for https://issues.apache.org/activemq/browse/AMQ-2821

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963095 13f79535-47bb-0310-9956-ffa450edef68",65,191
70314ea8a68cc6600730a659e58a4b01cfbdef75,"Fix for https://issues.apache.org/activemq/browse/AMQ-2821

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963096 13f79535-47bb-0310-9956-ffa450edef68",0,20
ea0ceacef07627abfde4f47d7ba9c0f44bf4de91,"Fix for https://issues.apache.org/activemq/browse/AMQ-2070

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963104 13f79535-47bb-0310-9956-ffa450edef68",1,1
cee683f84c087dd8239078aaadaa5477193a44f0,"Fix for https://issues.apache.org/activemq/browse/AMQ-2475

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963118 13f79535-47bb-0310-9956-ffa450edef68",1,2
67699f2a18c3dbc0ad7de05caef5da3ed842898d,"fix possible npe in karaf commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963240 13f79535-47bb-0310-9956-ffa450edef68",4,2
70971237bfeec4f0c194a9e72276908ecaf54194,"https://issues.apache.org/activemq/browse/AMQ-2453 - fixing classpath so we can run something like '/activemq console xbean:conf/activemq-stomp.xml'

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963264 13f79535-47bb-0310-9956-ffa450edef68",5,5
584d52c1f0a5f9ef418239f6d75ec0a1036eafd5,"https://issues.apache.org/activemq/browse/AMQ-2822 - stomp+nio and content-length

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963282 13f79535-47bb-0310-9956-ffa450edef68",52,151
b1d7a78c0a1ed6212b9cec274992f37d91b03d94,"further reduction in contention on inflight transacitons in kahaDB store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963674 13f79535-47bb-0310-9956-ffa450edef68",46,23
03349fecda8efde730b100ed338c0cfe2171d462,"https://issues.apache.org/activemq/browse/AMQ-2817 - prevent test from failing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963678 13f79535-47bb-0310-9956-ffa450edef68",0,3
7017d091134665b828446df8f6ef1c93200c9829,"https://issues.apache.org/activemq/browse/AMQ-2570 - make web console 404 and 500 pages use proper styling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963707 13f79535-47bb-0310-9956-ffa450edef68",20,387
73433372e9bacff78406c64b644c9b1202a0a2c0,"rework fix for https://issues.apache.org/activemq/browse/AMQ-1730 - better support for unordered message consumption when there are multiple short lived consumers, eg with spring mlc and concurrent consumers > 1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963894 13f79535-47bb-0310-9956-ffa450edef68",6,193
1f355142f40e1e61b02a7f44636881dd881e4ee6,"https://issues.apache.org/activemq/browse/AMQ-2570 - allow monitoring connections, scheduled messages, etc. for remote brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@963970 13f79535-47bb-0310-9956-ffa450edef68",12,39
54a152039391c15f13507f23630169b2784b8fa3,"add test that validates https://issues.apache.org/activemq/browse/AMQ-1893 is resolved on trunk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@964051 13f79535-47bb-0310-9956-ffa450edef68",0,196
3817ed9a975514012f28d46cf7c439d2a0931c64,"https://issues.apache.org/activemq/browse/AMQ-2825 - jettison 1.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@964087 13f79535-47bb-0310-9956-ffa450edef68",20,123
a7f916446484bc03a8c95c30b4453436a1be3696,"resolve NPE on stop when reconnect fails - resolve https://issues.apache.org/activemq/browse/AMQ-2811

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@964367 13f79535-47bb-0310-9956-ffa450edef68",1,3
f2517c01b87f667659b75f2ced1ab7bcb9e427c2,"resolve https://issues.apache.org/activemq/browse/AMQ-2832 - track ack file references to prevent cleanup of data files with acks for inuse message files, impl for kahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@964804 13f79535-47bb-0310-9956-ffa450edef68",13,255
145c80a298c71f20ae080b1feca715f153b89881,"https://issues.apache.org/activemq/browse/AMQ-2574 - removing runtime OSGi dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@964847 13f79535-47bb-0310-9956-ffa450edef68",62,90
d85895666a17b5e059548f20f787b0e507ae964b,"resolve https://issues.apache.org/activemq/browse/AMQ-2832 - impl for AMQ pa

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@964866 13f79535-47bb-0310-9956-ffa450edef68",16,128
607f1ef669eba566d61669d2f3458744a0b96e34,"resolve: https://issues.apache.org/activemq/browse/AMQ-2836 - copy message before logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@965517 13f79535-47bb-0310-9956-ffa450edef68",1,1
c6af867113dd3f967e7c4beeb3f024378e06baf1,"Patch applied for  https://issues.apache.org/activemq/browse/AMQ-2833

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@965542 13f79535-47bb-0310-9956-ffa450edef68",1,27
5ea053920f2edf28313daf5cd7ab514d1bdba380,"use larger max file length, less swapping of files

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@965565 13f79535-47bb-0310-9956-ffa450edef68",1,1
11705e70b4395c25f275ae448efc12b0fec8d501,"https://issues.apache.org/activemq/browse/AMQ-2702 - remove runtime spring dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@965820 13f79535-47bb-0310-9956-ffa450edef68",104,150
8ed8dd41c4250042589a90fc9506cca9c6205aa2,"https://issues.apache.org/activemq/browse/AMQ-2841 - log stomp protocol errors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@965897 13f79535-47bb-0310-9956-ffa450edef68",1,6
03f38ae402511f664c36b5415703f887739e921a,"https://issues.apache.org/activemq/browse/AMQ-2843 - add mechanism for stores to know whether to use prioritized recovery or not

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@966145 13f79535-47bb-0310-9956-ffa450edef68",0,164
c4425caa2f66a1d59703845b3316683542ed3429,"https://issues.apache.org/activemq/browse/AMQ-2789 and https://issues.apache.org/activemq/browse/AMQ-2843 - adds tests for cursors and stores and fixes a PrioritizedPendingList bug

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@966223 13f79535-47bb-0310-9956-ffa450edef68",5,113
12f019591369bb6f8f6c8eadf82339d3391c5af0,"https://issues.apache.org/activemq/browse/AMQ-2843 - first stab at adding priority for queues in JDBC store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@966291 13f79535-47bb-0310-9956-ffa450edef68",10,45
383d12ed0e1269161561e0050a6695610003bba2,"resolve: https://issues.apache.org/activemq/browse/AMQ-2741 - visibility of abort slow consumer policy in via jmx

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@966319 13f79535-47bb-0310-9956-ffa450edef68",94,538
40f921dab9b0d7b68dc4c7ac556a618eebffd2f8,"updated to Apache Camel 2.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@966510 13f79535-47bb-0310-9956-ffa450edef68",1,1
4f5e620d1ca8bbe382b428a065dd118b58c0e797,"https://issues.apache.org/activemq/browse/AMQ-2843 - first stab at supporting priority for durable subs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@966712 13f79535-47bb-0310-9956-ffa450edef68",50,116
2677c6bf0e77c192e016dcd1c6896c1349d39f54,"https://issues.apache.org/activemq/browse/AMQ-2843 - support database schema upgrades

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@967008 13f79535-47bb-0310-9956-ffa450edef68",3,5
21e641d496ed5196de1c23883c1525c3afd5389d,"fix issue with size of SimplePriorityMessageDispatchChannel, cause intermittent failure of FailoverConsumerUnconsumedTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@967052 13f79535-47bb-0310-9956-ffa450edef68",0,15
623da6ffab4638d3e6ca6eb53497703a093dd55f,"fix compilation error with 2.4, endpoints is a lur cache of endpoints so they will disappear in time, really needs a new component api - list available endpoints - 2.5 wabol

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@967122 13f79535-47bb-0310-9956-ffa450edef68",2,6
f206a1bd11dfe8265faacfdbbb74113894069d28,"resolve https://issues.apache.org/activemq/browse/AMQ-2580 - patch was good for AMQ store, fix needed for kahaDB and JDBC now done, test case was great, thanks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@967134 13f79535-47bb-0310-9956-ffa450edef68",369,533
5f400b3853aae9f5a581de99cc390a6bb330f47f,"prevent npe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@978813 13f79535-47bb-0310-9956-ffa450edef68",2,2
0004917cd8b39bced226032b7ba0d6bca30e64f6,"updated copy() method to copy directories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@979216 13f79535-47bb-0310-9956-ffa450edef68",0,68
9ecc679b3864dc37b3ec6be104ce2634d0ca033f,"resolve: https://issues.apache.org/activemq/browse/AMQ-2849 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@979277 13f79535-47bb-0310-9956-ffa450edef68",19,121
af5d8d154adfa117bd4bce9eab7a19ccb9b632a3,"resolve: https://issues.apache.org/activemq/browse/AMQ-2842 - patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@979324 13f79535-47bb-0310-9956-ffa450edef68",1,13
5e0e4248de994f655edc821ff56a59ab3dbcc304,"resolve https://issues.apache.org/activemq/browse/AMQ-2850, still needs a kahadb variant 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@979775 13f79535-47bb-0310-9956-ffa450edef68",1,7
cca20b81d7f1ae821a2b498a9db6e3d1f2e7315d,"fixed an issue for copying directories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@979977 13f79535-47bb-0310-9956-ffa450edef68",10,9
91ae1712f4c66c5f4f6cad4d6ceebc8680a13ceb,"added version 1 database for KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980002 13f79535-47bb-0310-9956-ffa450edef68",0,119
e8ff71d371622918b74fb23bf4341071817eac12,"added version 1 database for KahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980004 13f79535-47bb-0310-9956-ffa450edef68",0,0
43c231525783f5e716d1b6b1f00ac2c44e711db1,"version 1 kahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980007 13f79535-47bb-0310-9956-ffa450edef68",0,0
6b4509cdea61f78c2ecc013929c8c54da0f38341,"apply patch from https://issues.apache.org/activemq/browse/AMQ-2774

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980014 13f79535-47bb-0310-9956-ffa450edef68",30,695
4f32c6bcc13d7a4284157381536b228f6ec15e41,"regression with https://issues.apache.org/activemq/browse/AMQ-2849 - FanoutTransportFactory needed to remove used parameters from original rather than from copy... resolve hang in FanoutTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980025 13f79535-47bb-0310-9956-ffa450edef68",1,1
e6c4d7e81e913397d248c3212625d6a2b2f464d3,"resolve intermittent hudson failure with test, may not always produce dups so verify that case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980095 13f79535-47bb-0310-9956-ffa450edef68",1,5
589d634fe31fab7928f07de7a43c9f396d9de723,"ensure no broker is auto created

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980415 13f79535-47bb-0310-9956-ffa450edef68",1,1
cba046834ca7b203fe96971b2e6370378fd583b1,"changes for https://issues.apache.org/activemq/browse/AMQ-2789 - message priority

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980458 13f79535-47bb-0310-9956-ffa450edef68",99,486
969e7585f39d0c62a3d7aa5c0352ddc6d1ce06a4,"resolve issue with kahaDB based variant of AMQ2149Test - revert http://svn.apache.org/viewvc?rev=958330&view=rev 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@980462 13f79535-47bb-0310-9956-ffa450edef68",3,33
f5e8d90337b668a4afd2c6e1a083d16f9ca17f47,"upgrading to karaf 2.0.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@981445 13f79535-47bb-0310-9956-ffa450edef68",1,1
909f7763ff3037c74ab56fea65fcc9401fe60484,"features polishing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@981464 13f79535-47bb-0310-9956-ffa450edef68",3,1
7dcd1a968043d767d52f371c7037d9c810153712,"features polishing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@981465 13f79535-47bb-0310-9956-ffa450edef68",1,1
7ad733aa1680f952ff74985be831d5694647abaf,"Adding new key as old one expired

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@981832 13f79535-47bb-0310-9956-ffa450edef68",0,36
c1acb4030d12e6d653bc5bca385532fc00dc3ed9,"validate properties added to disvovered transports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@981840 13f79535-47bb-0310-9956-ffa450edef68",1,1
8c4bb36bbe31b01219305ce6649f961b791f7c02,"Speed tests up a bit. Bridge formation fails for a few tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982099 13f79535-47bb-0310-9956-ffa450edef68",42,27
6f7e3fc1d5be96ff0ba57b1f0fd45f2289242c37,"resolve failure if DestinationRemoveRestartTest - destinations were auto created in the store on resetbatch which ocurred on shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982180 13f79535-47bb-0310-9956-ffa450edef68",3,16
0af6b063e7bcbdee3541d023fa832cb934fad514,"revert http://fisheye6.atlassian.com/changelog/activemq/?cs=958009 - concurrent dispatch with transaction completion breaks when the cache is disabled, either through memory limit or through durable subs with existing messages in the store. cannot see the use case though as the transaction semantic is broken if a message can get dispatched but a commit can still fail. With dispatch ocurring postCommit like before, the option for kahaDB to do concurrent transaction dispatch is disabled

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982240 13f79535-47bb-0310-9956-ffa450edef68",33,4
6dffe4debefd29dfbe58c8d3bd64782bcaf25b1e,"https://issues.apache.org/activemq/browse/AMQ-2861 - composite destinations and cursor memory usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982317 13f79535-47bb-0310-9956-ffa450edef68",0,91
8cb9ef312f47f7e799316e633ae8d2550935cd85,"fix for JmsDurableTopicSlowReceiveTest - we must update cursor after iterating

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982511 13f79535-47bb-0310-9956-ffa450edef68",1,1
e1f6acf03873009c1da2287be64b83ffab078dc4,"upgrade geronimo annotation spec to 1.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982665 13f79535-47bb-0310-9956-ffa450edef68",7,7
6b81869fc6a73e25894f82840c03d557f5917642,"upgrade to geronimo annotation spec 1.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982677 13f79535-47bb-0310-9956-ffa450edef68",1,1
c23f9e6584e01b92460a06273f09a22f358453f3,"resolve: fix https://issues.apache.org/activemq/browse/AMQ-1847 - set initialRedeliveryDelay=0 to get non delayed first redelivery, use deliveryDelay to set the base for subsequent redelivery. existing users with an initialRedeliveryDelay set will now see it being respected.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982903 13f79535-47bb-0310-9956-ffa450edef68",17,153
74495451afed39130b56bb98df616a0693db6065,"revert  http://svn.apache.org/viewvc?rev=982099&view=rev - seems to make tests fail locally, now work ok - mvn clean test -Dtest=SimpleNetworkTest,ThreeBrokerQueueNetworkTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982912 13f79535-47bb-0310-9956-ffa450edef68",27,42
474a30d7ce6a6fdc8f2106a4d7e075d04169eecb,"reverting to annotation spec 1.0 and including activemq-ra in the feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982934 13f79535-47bb-0310-9956-ffa450edef68",10,12
01495a00e98315d8cbe7f2b4d952c4d15afdfab0,"fix failure of org.apache.activemq.store.kahadb.KahaDBMessagePriorityTest - getMessageCount left cursor at end of data, reset needed at the end

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982955 13f79535-47bb-0310-9956-ffa450edef68",0,1
05101de83928b3df2e61b6b6d3e67c3630943d6f,"resolve: https://issues.apache.org/activemq/browse/AMQ-2771 - it does not makes sense to have a hack for osx enabled by defaultm it is counter intuitive, can be enabled via transport option useLocalHost if needed in special cases

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982962 13f79535-47bb-0310-9956-ffa450edef68",2,2
b18255665f6b7b0e241d6f01019edcf5e1161c5c,"resolve: https://issues.apache.org/activemq/browse/AMQ-2125 - remove the error log, replace with warn as these are can ocurr on failover in normal usage, but are indicative of another consumer getting the message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@982990 13f79535-47bb-0310-9956-ffa450edef68",1,1
144a362aeebdd11a8144c704d3ee0414cbb70a84,"test case for https://issues.apache.org/activemq/browse/AMQ-2203 - start=false

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983027 13f79535-47bb-0310-9956-ffa450edef68",0,63
34dcc17aa3ea1643e99d37098a08c30e1eaf94ec,"test case for https://issues.apache.org/activemq/browse/AMQ-2203 - start=false

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983035 13f79535-47bb-0310-9956-ffa450edef68",0,17
ab2cd1133d45d70840c65efd7129e64196a763f4,"resolve https://issues.apache.org/activemq/browse/AMQ-2659 - allow XAConnection/Session to be used without an XA transaction, defaults to auto_ack mode. Can still be only used transactionally with an XA transaction

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983057 13f79535-47bb-0310-9956-ffa450edef68",12,59
bc6cfbfe1bb670e2693294217e3bb529233b46bd,"drop the dud name from the usage limit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983058 13f79535-47bb-0310-9956-ffa450edef68",1,1
05a2ffb9dc770d9751519fd9fc1769106dd95c02,"protobuf 1.1 is released, 1.1-SNAPSHOT no longer available

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983353 13f79535-47bb-0310-9956-ffa450edef68",1,1
24b42fcd8236f0fc62f69d3a34ee9eb86287b620,"https://issues.apache.org/activemq/browse/AMQ-2856 - removing osgi dep from assembly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983562 13f79535-47bb-0310-9956-ffa450edef68",9,0
7f7a95b457741170d1436cc06626be2265e1f8f6,"resolve: https://issues.apache.org/activemq/browse/AMQ-2840 - add test and apply patch with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983564 13f79535-47bb-0310-9956-ffa450edef68",5,18
670a9c4c569112a2aaa4d9734c477c4bdcbc8a1a,"resolve: https://issues.apache.org/activemq/browse/AMQ-2776 - apply variant of patch. also related to https://issues.apache.org/activemq/browse/AMQ-2771, avoid unnecessary local host name resolution

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983565 13f79535-47bb-0310-9956-ffa450edef68",3,3
7cab67bf1d0b90decbadbc733541cdae6ee20e05,"resolve: https://issues.apache.org/activemq/browse/AMQ-2226 - apply ordering/validation patch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983570 13f79535-47bb-0310-9956-ffa450edef68",10,10
7629eafd0a54f163b8092f43d2d83f9cd6ee3907,"resolve https://issues.apache.org/activemq/browse/AMQ-2119 - have transport errors log at info level rather than debug

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983584 13f79535-47bb-0310-9956-ffa450edef68",2,2
530ab0420b51b22f9a6c70b78ecb3068a76ffe00,"test showing npe remove issue in kahadb index

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983644 13f79535-47bb-0310-9956-ffa450edef68",0,39
d93ef2a919c61ba27dbb353f11dee8a333340465,"Fixes AMQ-2863 : KahaDB NPE can occur using random index removes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983672 13f79535-47bb-0310-9956-ffa450edef68",1,1
3796cf449771d5008f6e084799ced3d9f3ec0fed,"[maven-release-plugin] prepare release activemq-5.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983852 13f79535-47bb-0310-9956-ffa450edef68",32,32
45116abe3a930dc9f2f599a653d21227b836b1ec,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983854 13f79535-47bb-0310-9956-ffa450edef68",30,30
948e386fbdd598a88ff1845eb97b2b69792fceeb,"adding license header

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983886 13f79535-47bb-0310-9956-ffa450edef68",0,16
3f8cb551224d9759569d2d2954e2c49dee5146e9,"[maven-release-plugin] prepare release activemq-5.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983895 13f79535-47bb-0310-9956-ffa450edef68",30,30
ac652da52d252e6801a891c0e34bc5025d42c2f3,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983897 13f79535-47bb-0310-9956-ffa450edef68",31,31
4625a468a097d284575ddc478ab24caf861cb136,"validate if concurrentstore and dispatch topics causes an issue for message order with durable subs: https://issues.apache.org/activemq/browse/AMQ-2864 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983966 13f79535-47bb-0310-9956-ffa450edef68",2,2
604ec7cc9f1e1dd40be0aac1a59e5892d1b49249,"validate if concurrentstore and dispatch topics causes an issue for message order with durable subs, actually turn if off! : https://issues.apache.org/activemq/browse/AMQ-2864 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@983971 13f79535-47bb-0310-9956-ffa450edef68",1,1
261ccabf6592e36a0d0b2f9d3bb36334c9c03ba8,"adding license headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984049 13f79535-47bb-0310-9956-ffa450edef68",4,178
9e32de2812abb58772b752140d07d0a1513f0a48,"adding license headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984057 13f79535-47bb-0310-9956-ffa450edef68",0,112
ab28b31451f750fa6701dac83ae1e8387003a7e8,"adding license headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984091 13f79535-47bb-0310-9956-ffa450edef68",6,48
a72e6a88623a10daa508ae603a47bc5d74ec7a50,"adding license headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984094 13f79535-47bb-0310-9956-ffa450edef68",0,19
67887b419970df6fccdf3633bf77a14613aa8542,"updating user guide

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984099 13f79535-47bb-0310-9956-ffa450edef68",2,9
30d7a7d7d31cf2065fac74559071e9c626082d51,"[maven-release-plugin] prepare release activemq-5.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984124 13f79535-47bb-0310-9956-ffa450edef68",31,31
0fad136cc6e8e615bb03e311558622fa6dc2264e,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984126 13f79535-47bb-0310-9956-ffa450edef68",30,30
f30cd72f61a06749e24c465ca193aadc70a7b72c,"add purge task to activemq-admin help

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984409 13f79535-47bb-0310-9956-ffa450edef68",0,1
1f85f4b685baa49646d8bcc797e195816976ac6d,"typo in purge help desc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984416 13f79535-47bb-0310-9956-ffa450edef68",1,1
612b044169dcf29a25dbe64a860c1375d8c178eb,"fix for: https://issues.apache.org/activemq/browse/AMQ-2866

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984489 13f79535-47bb-0310-9956-ffa450edef68",2,2
89944c79885195235bbb0132e250185be57fa879,"https://issues.apache.org/activemq/browse/AMQ-2598 - applying parameters for composite urls in discovery agent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984738 13f79535-47bb-0310-9956-ffa450edef68",2,9
317bee8f6f3ce49fd52b45c26381419ae13ed2b1,"fix activemq-version ref post release

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984744 13f79535-47bb-0310-9956-ffa450edef68",1,1
784b93df4d369f8c90c2038dc440ee0f0b0f09d8,"https://issues.apache.org/activemq/browse/AMQ-2598 - URISupport.parseParameters() now supports composite urls

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@984826 13f79535-47bb-0310-9956-ffa450edef68",26,49
72278d5e0fb04baf5c4e6e7b04e8efd34bf53c10,"resolve https://issues.apache.org/activemq/browse/AMQ-2857 apply variant of patch to support mysql 5.5 -introduce typeStatement default to ENGING can be set to TYPE, thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985151 13f79535-47bb-0310-9956-ffa450edef68",3,12
e32c1ba9f8ffaea94885841eadd9ede44d080136,"https://issues.apache.org/activemq/browse/AMQ-2598 - additional fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985154 13f79535-47bb-0310-9956-ffa450edef68",1,19
46e2e6e3638479569368491cdf270353d5e1cc1d,"resolve https://issues.apache.org/activemq/browse/AMQ-2868 - make it bullit proof with a transaction completion sync that serializes updates to a cusror and store so that they are always in order

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985155 13f79535-47bb-0310-9956-ffa450edef68",8,32
b14fec37161f67e6fbf59405ed03333bbdc01e5b,"https://issues.apache.org/activemq/browse/AMQ-2869 - starting in a path with spaces

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985198 13f79535-47bb-0310-9956-ffa450edef68",2,2
52675ab3e7b9b5f6162d929f5aca0a6b986b672c,"resolve: https://issues.apache.org/activemq/browse/AMQ-2867, addition to https://issues.apache.org/activemq/browse/AMQ-2507 - if no response received and timeout > 0 a RequestTimedOutIOException is thrown on the client side

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985201 13f79535-47bb-0310-9956-ffa450edef68",9,85
61e47a23451dc974f46abbfe7816dd15c772e9fc,"upgrade release plugin to 2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985217 13f79535-47bb-0310-9956-ffa450edef68",0,1
d649a9184b44236e055f024be947e67cb455e10b,"rollbacking the previous RC

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985222 13f79535-47bb-0310-9956-ffa450edef68",28,28
d3fc97aba29b14781a2ed97a320b8d86582fe5fb,"[maven-release-plugin] prepare release activemq-5.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985237 13f79535-47bb-0310-9956-ffa450edef68",31,31
760f56875a9f243dece62a7a5827d33427e76069,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985239 13f79535-47bb-0310-9956-ffa450edef68",30,30
d3bb57d0bc846f4fd19a16ba4d96f055cba3a2ec,"[maven-release-plugin] rollback the release of activemq-5.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985250 13f79535-47bb-0310-9956-ffa450edef68",28,28
a440b6c6773520b67c6620be62e657c11ee4ce5a,"[maven-release-plugin] prepare release activemq-5.4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985384 13f79535-47bb-0310-9956-ffa450edef68",31,31
d2380c8e8a170d5372137ffaea341475d7f31787,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985386 13f79535-47bb-0310-9956-ffa450edef68",30,30
c9afcaebd5443055444c0e720623a0872ca6327e,"Added hadrian's key

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985679 13f79535-47bb-0310-9956-ffa450edef68",1,58
9353ea50e4980b249a123163aca29b6f48f80853,"remove dumpStack, system.err trace committed in error:  https://issues.apache.org/activemq/browse/AMQ-2376 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985871 13f79535-47bb-0310-9956-ffa450edef68",2,0
28d18651d9c5cf918e3bb0d3c30b39f158aad0c5,"fix up version ref post release process

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985873 13f79535-47bb-0310-9956-ffa450edef68",1,1
306f8a0774b7892ba1b572e1faea15847711b4ba,"resolve https://issues.apache.org/activemq/browse/AMQ-2870 - have durable sub ack an unmatched message straight away

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@985993 13f79535-47bb-0310-9956-ffa450edef68",7,224
4de6878919d760dbe7b97dbc45ff35caf77696b1,"resolve https://issues.apache.org/activemq/browse/AMQ-2870 - fix typo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@986073 13f79535-47bb-0310-9956-ffa450edef68",1,1
e7503f147fc33c83478603f03117c3bec3f72f29,"follow on from resolution to test case, disable concurrentStoreAndDispatchTopics by default as it can lead to the store and cursor getting out of order and when the cache is exhausted, messages can potentially be missed. https://issues.apache.org/activemq/browse/AMQ-2864

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@986264 13f79535-47bb-0310-9956-ffa450edef68",5,4
815c2f32bce321aeaa94f0d2a5a1fa0137814562,"resolve https://issues.apache.org/activemq/browse/AMQ-2584 for kahaDB, AMQ store still needs work, seems to be a different issue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@986651 13f79535-47bb-0310-9956-ffa450edef68",0,211
c5da5f829a362f9c493ad4c05ed58d1b6096a81d,"resolve https://issues.apache.org/activemq/browse/AMQ-2584 for AMQ store, if a write was outstanding when a second add arrives, the addition was ignored but the additonal file reference was not ignored leading to a dangling ref to a data file that prevented it being reclaimed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@986734 13f79535-47bb-0310-9956-ffa450edef68",2,5
5b8bcf784e56dc5d66dde946082b07d539d110ac,"fix regression - spec compliance with patch for https://issues.apache.org/activemq/browse/AMQ-2840, standard headers must be omitted from getPropopertyNames()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@987090 13f79535-47bb-0310-9956-ffa450edef68",3,3
c62b951c52bd349d3752fb4e78d7fef66aab93db,"resolve https://issues.apache.org/activemq/browse/AMQ-2872

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@987113 13f79535-47bb-0310-9956-ffa450edef68",1,50
cf3db575a53a02d6379766b20db2a7a299e088a4,"resolve https://issues.apache.org/activemq/browse/AMQ-2840 - Eugene's carefull reading of the sepc results in the JMSX props being returned in the enumeration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@987193 13f79535-47bb-0310-9956-ffa450edef68",2,7
e121ccc990fa6b13af4d3d297f1e78822113c5f1,"resolve https://issues.apache.org/activemq/browse/AMQ-2840 - revert to 5.3 behaviour for tck compliance, add new getAllPropertyNames method that returns all props, including JMS standard props and JMSX extnsion props

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@987443 13f79535-47bb-0310-9956-ffa450edef68",6,43
a27eab4e36e56caf7fe7e0ba65596fc5c9e4f25e,"resolve: https://issues.apache.org/activemq/browse/AMQ-2876 - ensure an acked message is not expired when processing the ack

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@988455 13f79535-47bb-0310-9956-ffa450edef68",5,58
966de0ce55bb2672b2665a894f75d03e25bd019c,"resolve: https://issues.apache.org/activemq/browse/AMQ-2877 - track messagepull commands in the failover state tracker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@988974 13f79535-47bb-0310-9956-ffa450edef68",9,184
550637b84c5b522d71a066a305019fa8e4f4f7b2,"add simple vm properties test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@990066 13f79535-47bb-0310-9956-ffa450edef68",0,19
fafaf7d6ea4d9678529f0e3999009aab3fc0b6ce,"follow up to fix for https://issues.apache.org/activemq/browse/AMQ-2877 - one test depended on the lack of pull replay to validate redeliver in a transaciton, re worked the test to make it work with this change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@990106 13f79535-47bb-0310-9956-ffa450edef68",16,26
ee4c8eeaba6edddadf2044c309155feb26abee89,"resolve https://issues.apache.org/activemq/browse/AMQ-2764 - add inactivity monitor to http transport, enabled by default with 30 second default idle timeout, configure via transport url params as there is no negeotion via wire format info over http. Now a duplex return connection can expire when there is no inactivity. Also processed shutdown so in the normal case a duplex connector can be disposed when the remote broker stops, the inactivity monitor deal with the abortive closure case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@990107 13f79535-47bb-0310-9956-ffa450edef68",42,461
c458bd1a1f42e73fbd2489bd259574f2d7558656,"record the destination of a dup in the warn message, helps diagnose

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@990158 13f79535-47bb-0310-9956-ffa450edef68",1,1
4afb2028a2bc6c1c06532e8e7d03df6254356e60,"https://issues.apache.org/activemq/browse/AMQ-2882 - copy jetty-realm.properties with create command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@990793 13f79535-47bb-0310-9956-ffa450edef68",0,1
f3c81eebb968c4c320f8585a1f74d1ad604d6abd,"https://issues.apache.org/activemq/browse/AMQ-2885 - upgrade aries

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@990825 13f79535-47bb-0310-9956-ffa450edef68",2,3
f8a601a85bf77c76be7d0e2ae5626e1ed0dbba46,"fix for: https://issues.apache.org/activemq/browse/AMQ-2883

readLength counter not reset after reading the content of the first BytesMessage.

Added new test that sends multiple BytesMessages to cover this case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@990827 13f79535-47bb-0310-9956-ffa450edef68",20,53
37b9cb82e19891c2fca379292210bfc974592518,"resolve https://issues.apache.org/activemq/browse/AMQ-2889 - fix setter type

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991102 13f79535-47bb-0310-9956-ffa450edef68",3,3
fdfc5efe5ab18d2a4a4fe402f1b3db8cc3ba1668,"https://issues.apache.org/activemq/browse/AMQ-2881 - activemq home and base properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991184 13f79535-47bb-0310-9956-ffa450edef68",8,14
9eb93f1d6d05d625e58883ade94d2a6344dbd893,"resolve https://issues.apache.org/activemq/browse/AMQ-2880  - rollback jms transaction, inflight ack on the event of a store transaction failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991218 13f79535-47bb-0310-9956-ffa450edef68",2,202
cf1e9fbddf72451d60e02d46c7a9ffd6e3c6e8aa,"https://issues.apache.org/activemq/browse/AMQ-2884 - shell stop when jmx is off

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991517 13f79535-47bb-0310-9956-ffa450edef68",3,31
17e87adb2edc1fd30b1cf3243d047a738270e921,"resolve: https://issues.apache.org/activemq/browse/AMQ-2892 - apply suggested fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991536 13f79535-47bb-0310-9956-ffa450edef68",3,3
28bc447954364fbe67e38a4c967ef5968c4d69ba,"https://issues.apache.org/activemq/browse/AMQ-2460 - encrypted passwords

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991934 13f79535-47bb-0310-9956-ffa450edef68",31,263
bea9f68d9a11483b6a280cbcf6026c1f7c050180,"AMQ-2896 - configure maven-eclipse-plugin so it doesn't try and get a 2.8-SNAPSHOT version that doesn't exist

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991936 13f79535-47bb-0310-9956-ffa450edef68",0,9
4641cc0ca9a89633336b314ef30da47f30adf341,"fix up broker-config.xml and add test to validate it, resolve: https://issues.apache.org/activemq/browse/AMQ-2895

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@991961 13f79535-47bb-0310-9956-ffa450edef68",6,73
db5ba04cd2c9c60a794ef356db3ff913ca98cb06,"https://issues.apache.org/activemq/browse/AMQ-2891 - add some progress info messages for cursor recovery, kicks in a 50000 messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@992241 13f79535-47bb-0310-9956-ffa450edef68",0,7
8ef1d794f70f286a0bc6a006073d9100d7ad4462,"https://issues.apache.org/activemq/browse/AMQ-2460 - improve encrypted passwords

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@992251 13f79535-47bb-0310-9956-ffa450edef68",51,70
97708f9f8efcd96f462cf8ea819bcd6ccc0b8051,"https://issues.apache.org/activemq/browse/AMQ-2460 - minor configuration tweak

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@992975 13f79535-47bb-0310-9956-ffa450edef68",1,13
20118f2604b8b212e35a1ea71c67ccaae4afabec,"https://issues.apache.org/activemq/browse/AMQ-2813 - BrokerService @PostConstruct

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@992984 13f79535-47bb-0310-9956-ffa450edef68",1,16
8d283c5d390d49f4c7e927d490fb07ccd4b0e555,"https://issues.apache.org/activemq/browse/AMQ-2203 - duplication of camel config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@993024 13f79535-47bb-0310-9956-ffa450edef68",36,11
3c39b5d40bf559050acf44ee870d70acf93e4bbb,"AMQ-2900 Updated the java doc of activemq-camel component

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@993191 13f79535-47bb-0310-9956-ffa450edef68",3,3
9fea8b7245878e2f3cf0d2f708199c3b6d571d73,"https://issues.apache.org/activemq/browse/AMQ-2898 - grep on solaris

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@993286 13f79535-47bb-0310-9956-ffa450edef68",1,1
444356b24f3885fe4c763defbe2bab7b6551a9f9,"https://issues.apache.org/activemq/browse/AMQ-2899 - whoami on solaris

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@993322 13f79535-47bb-0310-9956-ffa450edef68",1,6
4c4f0d18cefd3952e84e79bbf0c66b19c210c6e2,"resolve: https://issues.apache.org/activemq/browse/AMQ-2904 - fix issue with network connector failover recreating consumer in pull mode, add test. related to: https://issues.apache.org/activemq/browse/AMQ-2579

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@993382 13f79535-47bb-0310-9956-ffa450edef68",14,73
f772e5f8c7edb9b3d3fd895304bdf35ca251d103,"https://issues.apache.org/activemq/browse/AMQ-2827 - test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@994978 13f79535-47bb-0310-9956-ffa450edef68",0,27
0585bc10cdb5ced40fdbc63a74af976f55ccd431,"resolve https://issues.apache.org/activemq/browse/AMQ-2622 - additional test for the hybrid case of vm and non vm consuimers of deferred serilizable object messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@994990 13f79535-47bb-0310-9956-ffa450edef68",48,190
e8a4a32c8384ee6eaa528596afcf042ccb8c99d1,"https://issues.apache.org/activemq/browse/AMQ-2897 - start job scheduler on start

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995016 13f79535-47bb-0310-9956-ffa450edef68",2,39
a222b7b55499b1b5c57b663c9cc6506a3d39a8d3,"auto start of schedualler breaks two embedded brokers as they contest for the default store location

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995117 13f79535-47bb-0310-9956-ffa450edef68",2,2
e5896c022c6ebd56caf07804dabfb9275852db90,"resolve https://issues.apache.org/activemq/browse/AMQ-2880 - variant of patch applied with test case, added one and two phase variants, context needed to deal with failure as did xa transaction

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995119 13f79535-47bb-0310-9956-ffa450edef68",34,213
adb76e5eb17a1a55b3c2f6e52fbbce10258e56f7,"make default schedualler dir broker name dependent so there is no clash among embedded brokers - follow up to https://issues.apache.org/activemq/browse/AMQ-2897

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995154 13f79535-47bb-0310-9956-ffa450edef68",1,1
9f0c86cc6d347ada5c6678f4d877cb04a3af2300,"commit test case with policy maxPageSize workaround in place that demonstrates it works as expected - https://issues.apache.org/activemq/browse/AMQ-2217

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995381 13f79535-47bb-0310-9956-ffa450edef68",0,336
eedda6f2d1a3fa3e06793ca9e0d3a0891415f75a,"follow up on comment to https://issues.apache.org/activemq/browse/AMQ-2556 - ensure ended tx are removed in the event that prepare results in an exception

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995397 13f79535-47bb-0310-9956-ffa450edef68",0,13
c2b1d72be92bda4814bb3513f68a255360f61eb6,"https://issues.apache.org/activemq/browse/AMQ-2907 - solaris 10 smf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995699 13f79535-47bb-0310-9956-ffa450edef68",0,74
0cc5fd3652a9b59f5fafc46b25ebaddf86441435,"add missing class for:  https://issues.apache.org/activemq/browse/AMQ-2880 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@995786 13f79535-47bb-0310-9956-ffa450edef68",0,47
6672740da0a4c9c5d6b084614f390e5d0539ada4,"fix for: https://issues.apache.org/activemq/browse/AMQ-2915

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996646 13f79535-47bb-0310-9956-ffa450edef68",0,146
2381f4593f1a02bb4338ca2fa32953ae3a0df32e,"allow the resolution of org.apache.aries.blueprint:org.apache.aries.blueprint:pom:0.1-r964701, may be a better repo to pull from - https://issues.apache.org/activemq/browse/AMQ-2885

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996676 13f79535-47bb-0310-9956-ffa450edef68",0,14
e5201f64509e52e3b8c9181145b3b7f109a9cfe1,"0.2-incubating aries-blueprint is now in central, best to use that - https://issues.apache.org/activemq/browse/AMQ-2885

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996680 13f79535-47bb-0310-9956-ffa450edef68",15,1
39cfce287b545fa9642fd62dd8cac6ca6f2d9d18,"apply patch from https://issues.apache.org/activemq/browse/AMQ-2912

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996684 13f79535-47bb-0310-9956-ffa450edef68",1,1
7b0300414fbd5404bd0d8890cbb430bf1bcde683,"apply patch from : https://issues.apache.org/activemq/browse/AMQ-2913 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996685 13f79535-47bb-0310-9956-ffa450edef68",1,3
c92f5722b8bef66f2e6d31a669b0ffcc47907a18,"apply patch from: https://issues.apache.org/activemq/browse/AMQ-2914 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996686 13f79535-47bb-0310-9956-ffa450edef68",1,3
c9460a0231683d6208960074ec9e67fed02bd441,"include smx repo so aries 0.1-r964701 can be resolved, needed till karaf updates to 0.2-incubating - https://issues.apache.org/activemq/browse/AMQ-2885

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996692 13f79535-47bb-0310-9956-ffa450edef68",1,15
ff3edb4a81f34a49924d8f85af0811eae93d07e2,"https://issues.apache.org/activemq/browse/AMQ-1933 - unsubscribing REST consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996910 13f79535-47bb-0310-9956-ffa450edef68",0,22
3c734ce7b5263eeb0a8dce0645e066c9f92faea2,"https://issues.apache.org/activemq/browse/AMQ-1933 - unsubscribing REST consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996911 13f79535-47bb-0310-9956-ffa450edef68",1,52
f2816deb1c90ac45df4fa66ae4c7d6ef44ed4d6a,"fix hanging test that did not stop broker in shutdown, schedualler on startup shows it up: https://issues.apache.org/activemq/browse/AMQ-2897

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@996962 13f79535-47bb-0310-9956-ffa450edef68",0,1
487834164ce0452c8624b86571950f33531114d8,"resolve another hanging test, broker names need to be added to differenciat sehadualler stores: https://issues.apache.org/activemq/browse/AMQ-2897

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997225 13f79535-47bb-0310-9956-ffa450edef68",0,2
5bf3696c81dd8f2f542cf3dd9ed588c24f095df4,"resolve another hanging test, broker not stopped on teardown: https://issues.apache.org/activemq/browse/AMQ-2897

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997250 13f79535-47bb-0310-9956-ffa450edef68",0,1
a0b017611b60e18f158df6086cea4753e2dea5b5,"https://issues.apache.org/activemq/browse/AMQ-2919 - Deflater.end() should be called from ActiveMQBytesMessage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997290 13f79535-47bb-0310-9956-ffa450edef68",1,7
cb519da097cc8e520383b9c847fe84547426d71e,"test that did not stop broker in teardown, schedualler on startup shows it up: https://issues.apache.org/activemq/browse/AMQ-2897

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997412 13f79535-47bb-0310-9956-ffa450edef68",1,9
dc5ebcd51cb2debb16578180028f587aee1236e7,"speed up test, redelivery delay of 1sec for 200 messages * 6 * 3, should be 0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997645 13f79535-47bb-0310-9956-ffa450edef68",0,1
f0de24c8e3977e1894c82e8ddf5131ba82bdf3ff,"explicitly set redelivery policy to ensure no default 1 sec delay, speed up test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997647 13f79535-47bb-0310-9956-ffa450edef68",0,14
f9379664f702ea373d759647ee9cfb03843f7a36,"propagate the closeTimeout attribute to a new connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997719 13f79535-47bb-0310-9956-ffa450edef68",0,1
bc2a7f1ae0d65dc0103fb70a7d020ed393af2cb7,"https://issues.apache.org/activemq/browse/AMQ-2874 - ajax selectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997779 13f79535-47bb-0310-9956-ffa450edef68",67,1475
cf7a935b0695d208a4af9bd1e8ae876fad74c59c,"resolve https://issues.apache.org/activemq/browse/AMQ-2910 - fix and test, index on temp plist store  was not being protected

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@997849 13f79535-47bb-0310-9956-ffa450edef68",70,222
ba78db89a3d1c9a1d23a7efb1ae536e8cb257d1e,"test that did not stop broker in teardown, schedualer db lock on startup shows it: https://issues.apache.org/activemq/browse/AMQ-2897

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998015 13f79535-47bb-0310-9956-ffa450edef68",2,9
0cd916e2a29acf2f5c1d82039ae09a351bdbaade,"ensure no premature abort of connection due to check timeout imbalance: https://issues.apache.org/activemq/browse/AMQ-2764

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998172 13f79535-47bb-0310-9956-ffa450edef68",2,3
a3681275173959a87c534f7cdcbdb059c5664f02,"Update rat plugin configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998376 13f79535-47bb-0310-9956-ffa450edef68",4,17
1b3d4f805af8ea71abdd45fa7c744f056b033f99,"refined rat exclusions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998388 13f79535-47bb-0310-9956-ffa450edef68",36,102
19e8203299fcc2e8cf33346e5446a39778410e86,"refined rat exclusions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998389 13f79535-47bb-0310-9956-ffa450edef68",0,1
037b306ca6849ccb6c40230bb220a29a2188582b,"[maven-release-plugin] prepare release activemq-5.4.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998391 13f79535-47bb-0310-9956-ffa450edef68",31,31
4802804da3004e3d4396453f26daa6802d2262e3,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998393 13f79535-47bb-0310-9956-ffa450edef68",30,30
9aced62c4c1171e718791b4743d7ef0200a2fab8,"update activemq-version post release

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998398 13f79535-47bb-0310-9956-ffa450edef68",1,1
f7abc1fd1ee21f1f7160343d83053adcb2b45d87,"https://issues.apache.org/activemq/browse/AMQ-2925 - PooledConnection.getConnection()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@998963 13f79535-47bb-0310-9956-ffa450edef68",1,1
acb8164bc619ebcc2007b7094d5d926b1dafc197,"https://issues.apache.org/activemq/browse/AMQ-2927 - test case in the making

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@999814 13f79535-47bb-0310-9956-ffa450edef68",0,86
9041c3fc784d10b0eed88cdfc3cd045b6f1ffe6f,"https://issues.apache.org/activemq/browse/AMQ-2927 - test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@999816 13f79535-47bb-0310-9956-ffa450edef68",16,63
996b7a53a3247d92c07619736a90fbc6d8d20ec7,"https://issues.apache.org/activemq/browse/AMQ-2927 - support for configuring custom broker id

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@999924 13f79535-47bb-0310-9956-ffa450edef68",4,15
0ff144f7f47edc9149c8dd2dbf7448b42193a402,"fix for: https://issues.apache.org/activemq/browse/AMQ-2942

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1000617 13f79535-47bb-0310-9956-ffa450edef68",2,17
54bce47a81a85062c43c55f9c35a43e43963534c,"fix for: https://issues.apache.org/activemq/browse/AMQ-2932


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1000651 13f79535-47bb-0310-9956-ffa450edef68",8,14
f2733a26eca8ffca54f0c614868fcd261fb5cd48,"https://issues.apache.org/activemq/browse/AMQ-2938 - jasypt for karaf feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1000891 13f79535-47bb-0310-9956-ffa450edef68",2,4
d28be4dfb4e64ecd85158d3f129261fd6b8b0130,"https://issues.apache.org/activemq/browse/AMQ-2885 - upgrading aries and karaf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1001699 13f79535-47bb-0310-9956-ffa450edef68",17,3
c0daffa3818dc2c45a59b7fb899232de99e1c60f,"https://issues.apache.org/activemq/browse/AMQ-2950 - xa transaction rollback on connection close

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1002604 13f79535-47bb-0310-9956-ffa450edef68",1,36
227ed96df0228df001385768a94ec846390c8956,"https://issues.apache.org/activemq/browse/AMQ-2952 - message groups with small prefetch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1003096 13f79535-47bb-0310-9956-ffa450edef68",67,284
5f490541f4d18db0f0e329d021953859fa61c26a,"Fixing a race between the session being closed and the call to commit in the async handler that caused some exceptions occasionally in the test run.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1003908 13f79535-47bb-0310-9956-ffa450edef68",8,8
667f26a1553b85c1510bf4c99723811f7b75b09b,"fix for: https://issues.apache.org/activemq/browse/AMQ-2941

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1004411 13f79535-47bb-0310-9956-ffa450edef68",28,576
c94b4075e93219820241762cc4da6d379fda9a94,"resolve issue with page file recovery replaying write buffer at wrong offest, also have schedualler flush writes on new store creation, issue visible with unclean shutdown - https://issues.apache.org/activemq/browse/AMQ-2935

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1004600 13f79535-47bb-0310-9956-ffa450edef68",3,3
04b26906285364f2702b5707bdc479edcef52046,"add limit to the log message on temp store full

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1004603 13f79535-47bb-0310-9956-ffa450edef68",1,3
72b857230358580616a7dc118bf5b4639e387dcc,"spring message listener container tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1004616 13f79535-47bb-0310-9956-ffa450edef68",0,193
06d6e08f48d735f2772ef8703f39da1852a336ab,"https://issues.apache.org/activemq/browse/AMQ-2954 - test scheduling after restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1004640 13f79535-47bb-0310-9956-ffa450edef68",0,6
90c597eda66012a5ecd978fd9c1af28ff79fe347,"https://issues.apache.org/activemq/browse/AMQ-2764 - additional patch that makes transport options persist conntecotr restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005033 13f79535-47bb-0310-9956-ffa450edef68",1,2
c4911bda043fa76d4051a58f600be9652130fedf,"resolve https://issues.apache.org/activemq/browse/AMQ-2902 - ensure there is no exception on graceful close of vm transport, also have stack trace for transport exceptions at debug level, just toString at info level, test included, thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005094 13f79535-47bb-0310-9956-ffa450edef68",3,118
fb6c2da31d2da4b05a7cd403e3674c5bf97e2af4,"resolve failing test in hudson, dangling broker prevents restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005409 13f79535-47bb-0310-9956-ffa450edef68",1,1
8e70e010a03062d24953591230dd337dde415db2,"resolve: https://issues.apache.org/activemq/browse/AMQ-2966 - related to fix for: https://issues.apache.org/activemq/browse/AMQ-2103, test via camel component - simple forwarder using vm transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005773 13f79535-47bb-0310-9956-ffa450edef68",2,163
8e83b7f1238e622ae0a8adaa0144897e67d56335,"https://issues.apache.org/activemq/browse/AMQ-2950 - additional fix to support parallel transactions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005794 13f79535-47bb-0310-9956-ffa450edef68",7,284
dd68c61e65f24b7dc498b36e34960a4bc46ded4b,"resolve https://issues.apache.org/activemq/browse/AMQ-2736, logic issue in code that keeps data files with acks around pending message file gc. thanks jgenender - test case to follow

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005806 13f79535-47bb-0310-9956-ffa450edef68",1,2
92b3ae2cd067fc32b73ec0fc4b1436754532d2c4,"disable schedualler by default: resolve: https://issues.apache.org/activemq/browse/AMQ-2967, https://issues.apache.org/activemq/browse/AMQ-2959

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005858 13f79535-47bb-0310-9956-ffa450edef68",1,3
b625db24628e99b4c2d85b460a293223b97e1be7,"revert test mod from  https://issues.apache.org/activemq/browse/AMQ-2103 - resolution to:  https://issues.apache.org/activemq/browse/AMQ-2966

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1005871 13f79535-47bb-0310-9956-ffa450edef68",1,1
0d47fea17c841080968963692aa3f2f6f7a9b0c0,"improvement on the composite queue spring listener test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1021328 13f79535-47bb-0310-9956-ffa450edef68",9,20
17851fac054c7c4a69a39472d68c05b1c5e95ffa,"https://issues.apache.org/activemq/browse/AMQ-2970 - advisory and jmx create/delete destination

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1021425 13f79535-47bb-0310-9956-ffa450edef68",4,96
c1da3ac3bd7c7e527e5867cd09639f050d603afe,"resolve https://issues.apache.org/activemq/browse/AMQ-2103 and https://issues.apache.org/activemq/browse/AMQ-2966, implement fix for 2103 using boolean policy for queues named reduceMemoryFootprint, when set, after a message is persisted, the internal state is cleared. This works at a natural sync point in the broker and avoids contention. The contention to marshall with the original patch results in AMQ-2966

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1021466 13f79535-47bb-0310-9956-ffa450edef68",8,171
a5135f175d9e0bef200e762e2a57af75963f68c5,"don't emit messages by default, only when explicitly configured as there are a dev debug aid, there are no simple handles exposed to effect the runtime values: https://issues.apache.org/activemq/browse/AMQ-2837

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1021478 13f79535-47bb-0310-9956-ffa450edef68",1,1
7e8d90eb5d0375489d5b4a579de1bb29017b7f29,"allow ref to default xml config from wiki snippet, got lost in the tidying up of the config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1021484 13f79535-47bb-0310-9956-ffa450edef68",0,2
1e900b300a62d2cfbdebfce4ef8235fb31576622,"a little more debug info on file gc, https://issues.apache.org/activemq/browse/AMQ-2955

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1021747 13f79535-47bb-0310-9956-ffa450edef68",0,1
3a2d93958d8a5d128eb6f63664a54dfeac7a64ee,"https://issues.apache.org/activemq/browse/AMQ-2973 - removing composite subscription

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1021768 13f79535-47bb-0310-9956-ffa450edef68",8,9
e3f784df2a95dab7cf75487710c11a3e7791104c,"https://issues.apache.org/activemq/browse/AMQ-2972 - stomp over web socket - upgrade Jetty

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1022029 13f79535-47bb-0310-9956-ffa450edef68",1,1
80528f64a872e36642cce48cb5a3b46b2923c07c,"resolve failovertransactiontest hang in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1022058 13f79535-47bb-0310-9956-ffa450edef68",0,7
755ffd58a8c9bcc6e79f3152f0a43e6f79f41a21,"https://issues.apache.org/activemq/browse/AMQ-2948 - ajax support for multiple clients in the same session

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1022071 13f79535-47bb-0310-9956-ffa450edef68",100,292
f142ff7f864d9453beb91a904635777a3f9d3b45,"resolve hudson failure, close after broker stop

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1022115 13f79535-47bb-0310-9956-ffa450edef68",2,2
87eba29520272e23e473986a286f8d49815ead9d,"https://issues.apache.org/activemq/browse/AMQ-2975 - shell scripts and multiple broker instances

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1022475 13f79535-47bb-0310-9956-ffa450edef68",3,37
9705671546f471a33efc315a30f27fb641bb0a0b,"resolve https://issues.apache.org/activemq/browse/AMQ-2980 for kahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1022890 13f79535-47bb-0310-9956-ffa450edef68",15,83
5cbb4db7f655ffdddc73329fdd2633c037c64c63,"resolve https://issues.apache.org/activemq/browse/AMQ-2985 - the use of selectors means replay and recovery from the begining of the store. unmatched are removed on initial dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1023704 13f79535-47bb-0310-9956-ffa450edef68",8,136
e4cd23e35d02f4723683bb5eb1b8b42d6bdafe6f,"enable schedualing for these tests https://issues.apache.org/activemq/browse/AMQ-2967

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1023714 13f79535-47bb-0310-9956-ffa450edef68",3,3
51ef021073752f2cf8907fa0efdf8c93015dd77b,"https://issues.apache.org/activemq/browse/AMQ-2986 - JMX and store percent usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1023795 13f79535-47bb-0310-9956-ffa450edef68",0,8
90fb6e6e0f5853f31515df142e6ef34e30a476d5,"https://issues.apache.org/activemq/browse/AMQ-2989 - xmpp3

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1024215 13f79535-47bb-0310-9956-ffa450edef68",15,15
7055fb98c476e68a40d87c133a85463d98f2d6b3,"cleaning up activemq-optional - depricated classes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1024559 13f79535-47bb-0310-9956-ffa450edef68",21,23
a60eeaa7aee6d1b5e317999b7f51f49ad5e4f64c,"apply patch (with modification to fix a null pointer violation case) fixes: https://issues.apache.org/activemq/browse/AMQ-2990


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1025620 13f79535-47bb-0310-9956-ffa450edef68",2,19
ea82d5de5b2a78e88326477ba53a2f90350beecd,"https://issues.apache.org/activemq/browse/AMQ-2993 - virtual topics and advisory messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1025905 13f79535-47bb-0310-9956-ffa450edef68",9,145
3432a75110022bcef39feb8f0f51017d1df5507c,"jdbc variant of https://issues.apache.org/activemq/browse/AMQ-2985 - jdbc store cannot ack out of order, the cleanup task query needed to be priority aware. fix for https://issues.apache.org/activemq/browse/AMQ-2980 JDBC - priority needed to be considered in count and recovery, additional tests included

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1025939 13f79535-47bb-0310-9956-ffa450edef68",86,211
57737968fb3cfd290ea4568d6589244f79128b96,"add some traces to enable easier monitor of message flow

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1026008 13f79535-47bb-0310-9956-ffa450edef68",2,5
9e885efca2b4767528ce88e95bc2cc7b1dcd7ddf,"seems to be regression from: https://issues.apache.org/activemq/browse/AMQ-2970 - but there is some mix up with the creation of an admin connection context. having the BrokerView do the right thing works for the moment... but this needs some more eyes, test shows the issue when context is missing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1026092 13f79535-47bb-0310-9956-ffa450edef68",0,57
df7cb7727b1145c48e9b4d8920760ef0918cc968,"https://issues.apache.org/activemq/browse/AMQ-2970 - refactor to avoid duplicate getConnectionContext() method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1026254 13f79535-47bb-0310-9956-ffa450edef68",67,43
514ef7de46556cadb2535420673de310f804c7af,"additional tests and refactoring of fix for https://issues.apache.org/activemq/browse/AMQ-2985, selector scan was off by one and unmatched acking skipped some messages leaving them available to subsequent consumers. Also acking always left the first consumed message available for a reconnected durable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1026457 13f79535-47bb-0310-9956-ffa450edef68",39,127
6ddbba485027571598d8976d4528e46d310555f2,"additional tests and refactoring of fix for https://issues.apache.org/activemq/browse/AMQ-2985, not updating subscriptionAck with an unmatched message resolves recovery of unmatched selector durables, reveting the previous change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1026543 13f79535-47bb-0310-9956-ffa450edef68",23,93
5477bc007fc85e2bbf37fd277058e7b8254792fc,"fix xbean qdox parser error with static initialiser, use block instead

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1026545 13f79535-47bb-0310-9956-ffa450edef68",2,5
fe88131fcd67bce31bc3f3bdf957c795f7e42a35,"https://issues.apache.org/activemq/browse/AMQ-2997 - camel logging level

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027177 13f79535-47bb-0310-9956-ffa450edef68",1,1
8262eec63d3d331b03a4f81c00ea8380849db099,"apply patch for: https://issues.apache.org/activemq/browse/AMQ-2988

with modifications to make the properties map unmodifiable and use the generic Collections.emptyMap method instead of creating a new empty map.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027282 13f79535-47bb-0310-9956-ffa450edef68",3,113
107509fac396c2668e2c1a31849d5f74064706f2,"ensure datasource is not shutdown for setup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027447 13f79535-47bb-0310-9956-ffa450edef68",0,1
6ebc82c5c47e46479289b756514e0af44ff385b7,"https://issues.apache.org/activemq/browse/AMQ-2982 - sticky kahadb log files on rollback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027451 13f79535-47bb-0310-9956-ffa450edef68",0,166
1aa6cbc56a4bc302131437641b5f4139c3be6a40,"https://issues.apache.org/activemq/browse/AMQ-2982 - sticky kahadb log files on rollback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027453 13f79535-47bb-0310-9956-ffa450edef68",1,17
3b51a692be069a220e071b1fd2cd469f71674568,"resolve https://issues.apache.org/activemq/browse/AMQ-2999 - use widlcard address for tcp connector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027461 13f79535-47bb-0310-9956-ffa450edef68",1,1
6fd292d8858896833817024d7f73723690fbe8e1,"fix regression of https://issues.apache.org/activemq/browse/AMQ-2870 from refactoring of fix for https://issues.apache.org/activemq/browse/AMQ-2985 - unmatched acks are now stored as negative sequence ids so that we can differenciate between a durables that have acked messages after receipt and those that have acked because of unmatched. Unmatched messages are now deleted in the normal way

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027644 13f79535-47bb-0310-9956-ffa450edef68",15,43
ef1a3c1f6764d9831d70ab7a4d5add915957d921,"https://issues.apache.org/activemq/browse/AMQ-2983 - sticky kahadb log files concurrent tx

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027863 13f79535-47bb-0310-9956-ffa450edef68",5,164
c290a17460fb61ba97a71e149cb9da2ad80cc0f9,"add test variant that demonstrates the need to disable the audit on the dlq when there is a concurrent consumer with multiple durable subs, some duplicate sends will not be caught (if they are acked in the mean time) so that audit stop needs to be disabled such that they can be consumed. This points to the need for a dlq per durable sub. work around for: https://issues.apache.org/activemq/browse/AMQ-2584

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1027886 13f79535-47bb-0310-9956-ffa450edef68",0,223
8a1f994bf5b5dea4fd0b851a57937e6868f48fab,"AMQ-2965 - Patched to allow ActiveMQ to start up when DNS resolution is unavailable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1028143 13f79535-47bb-0310-9956-ffa450edef68",7,51
4d265fd5d54f7cb143200ad0b8e49d25834f9f85,"verify that all journal files are reclaimed after duplicate messages with concurrentStoreAndDispatchQueues=false, durable subs must be unsubscribed also https://issues.apache.org/activemq/browse/AMQ-2584

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1028277 13f79535-47bb-0310-9956-ffa450edef68",52,90
5edede1d0bae76510e42a16f8381570ad26fbfda,"partial fix for https://issues.apache.org/activemq/browse/AMQ-2939 - allow the management context port values to be properties by ensuring that their schema is of type string rather than integer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1028278 13f79535-47bb-0310-9956-ffa450edef68",0,6
518f0ce146d554d911e5aeca74cfb5fec4723f63,"revert to manual additions to the schema mapping so that previous versions are not dropped from the map: resolve https://issues.apache.org/activemq/browse/AMQ-3005

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1028288 13f79535-47bb-0310-9956-ffa450edef68",1,6
d650d0c7e1e700316a34baee889fbd948c30da72,"apply fix from https://issues.apache.org/activemq/browse/AMQ-3007 - with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1028637 13f79535-47bb-0310-9956-ffa450edef68",0,2
0c3117aac5628f25f10925c1a4948fe9823443a8,"additional offiline test, and enable the jdbc variants - https://issues.apache.org/activemq/browse/AMQ-2985

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1028702 13f79535-47bb-0310-9956-ffa450edef68",2,77
66a945a8f1b0ded98d204acf70b25bf21482c7c8,"resolve duplicate issue with concurrent durable subs and dlq, suppress the duplicates in the default Dead letter strategy. With no duplicates, concurrentStoreAndDispatchQueues true is fine. resolve https://issues.apache.org/activemq/browse/AMQ-2584

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1030013 13f79535-47bb-0310-9956-ffa450edef68",2,19
4fc1712cdcc0eebc522b14f291c4ce8fabc94785,"https://issues.apache.org/activemq/browse/AMQ-3013 - durable subs and jmx

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1030490 13f79535-47bb-0310-9956-ffa450edef68",30,408
e96229803d2dd5b6e58cd13903190ef3f58d0ee5,"https://issues.apache.org/activemq/browse/AMQ-3013 - additional fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1030888 13f79535-47bb-0310-9956-ffa450edef68",1,1
06cbebc8da7336be7feae5d7b8df25860092e5f7,"further resolution to https://issues.apache.org/activemq/browse/AMQ-2980, concurrent producers was still problematic as the store needed to be traversed multiple times, requiring ack locations per priority. Resolution to https://issues.apache.org/activemq/browse/AMQ-2551 fell out of decreasing the cleanup interval in some of the tests, cleanup needs an exclusive lock so it won't cause contention

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1030928 13f79535-47bb-0310-9956-ffa450edef68",107,320
ca668019a07ce817de0e6a9a882af9f1d06b3da3,"starter test case for https://issues.apache.org/activemq/browse/AMQ-2908 - it works though

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1031136 13f79535-47bb-0310-9956-ffa450edef68",0,127
2bdddc202145f759ed7b483e989d9a9a24db5c5f,"https://issues.apache.org/activemq/browse/AMQ-3020 - intial tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1031656 13f79535-47bb-0310-9956-ffa450edef68",7,146
b6a9c70ef0a52f1852ad176f4f17084c8aa7d7c3,"allow a 0 closeTimeout to mean infinite, currently it turns the sync request into an async request

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1031761 13f79535-47bb-0310-9956-ffa450edef68",1,3
37b8157b670f6b0064729a5f486ed7a297e7d793,"https://issues.apache.org/activemq/browse/AMQ-3021 - HttpTunnelServlet leak

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032539 13f79535-47bb-0310-9956-ffa450edef68",37,248
7983abfcd61188b0ef939108e4fb061cd2fa5009,"https://issues.apache.org/activemq/browse/AMQ-3020 - test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032591 13f79535-47bb-0310-9956-ffa450edef68",3,1193
34f19297d4000647379fd36532daec5058d5fe90,"https://issues.apache.org/activemq/browse/AMQ-3020 - supress browsers over network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032647 13f79535-47bb-0310-9956-ffa450edef68",6,16
4907ada2f49e4be53c0b6fe2308b3a4bcc83f264,"https://issues.apache.org/activemq/browse/AMQ-3021 - additional fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032653 13f79535-47bb-0310-9956-ffa450edef68",184,0
4411ff6680d51200b58238b6b8f9c594d41c0cfe,"AMQ-3022 - Improve error message when a transaction is attempted to be suspended/resumed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032658 13f79535-47bb-0310-9956-ffa450edef68",6,11
4f327e091beb0b1aa01060b72bc8f810ae44ab0f,"https://issues.apache.org/activemq/browse/AMQ-3020 - missing properties file

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032904 13f79535-47bb-0310-9956-ffa450edef68",0,61
a23bb3053df50a8cab6b0089773d58eb73077806,"https://issues.apache.org/activemq/browse/AMQ-3020 - remove obsolete test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032919 13f79535-47bb-0310-9956-ffa450edef68",46,0
3e8abcc43f2e2786220a1b1297d05237506af54f,"https://issues.apache.org/activemq/browse/AMQ-3020 - imrpove test timings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1032969 13f79535-47bb-0310-9956-ffa450edef68",0,4
fa4481c421c1a0bf111fd664c611554e8415103d,"more improvements on https://issues.apache.org/activemq/browse/AMQ-2980 - split prioritised and regular statements, have ack row per priority and fix up deletion and interleaved durable subs. Simpler slq improves throughput

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033076 13f79535-47bb-0310-9956-ffa450edef68",153,214
8ba8b61688932b21994d86c1e2cd8ec22e8853d9,"allow hudson to build with 1.5

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033435 13f79535-47bb-0310-9956-ffa450edef68",2,0
69dc0d494099c5aa1a5c7a9d78d74dd76f3e43e7,"https://issues.apache.org/activemq/browse/AMQ-2980 - modify the test case to show dupliacte problem

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033468 13f79535-47bb-0310-9956-ffa450edef68",5,14
d8b11896abd57bee97d2c018818bb2c229d40a3d,"additional test for https://issues.apache.org/activemq/browse/AMQ-2985 that shows issue with kahadb and overlapping durable and non durable subs with occasional filter match

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033469 13f79535-47bb-0310-9956-ffa450edef68",4,166
5baf5f5e76c3b43b283c0ac09b51e577668e816d,"improve logging by adding sub key

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033487 13f79535-47bb-0310-9956-ffa450edef68",1,1
6dea944be66603f0760856b52dd171001a0e69fa,"fix issue from new test for https://issues.apache.org/activemq/browse/AMQ-2985 - when acking as unmatched, the matching messages that lie inbetwen the sequences need to be added to the ack locations to ensure they don't get deleted when other consumers are done with them. test now enabled for kahaDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033581 13f79535-47bb-0310-9956-ffa450edef68",7,39
6aacb034ee3b7212be7977c07f94fa223dc734c4,"resolution to duplicate issue from https://issues.apache.org/activemq/browse/AMQ-2980 - contention over active flag caused premature dispatch on reactivation such that there could be duplicates, fixing the contention sorts this, final piece of the puzzle, test now works as expected

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033607 13f79535-47bb-0310-9956-ffa450edef68",13,14
49824ecab6f0515cee1be4f6ee1742a5bec5c7fc,"enable scheduler for test config: https://issues.apache.org/activemq/browse/AMQ-2967

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033834 13f79535-47bb-0310-9956-ffa450edef68",1,1
52aaa0a7f389c4f84c3f24b0d45486c45b4b2290,"fixing licenses

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1033853 13f79535-47bb-0310-9956-ffa450edef68",5,34
e214256bec47e18a48cdb6bfde51a7c8537e2137,"https://issues.apache.org/activemq/browse/AMQ-2453 - /bin/sh version of the script

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034005 13f79535-47bb-0310-9956-ffa450edef68",2,2
5ce31fae8744b0e30fc0e0cac6a70ba9e21b1c4b,"resolve https://issues.apache.org/activemq/browse/AMQ-2939 - allow xbean config validation to be disabled, url of the form xbean:...?validate=false will do it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034032 13f79535-47bb-0310-9956-ffa450edef68",1,108
5db81fad9afdd465479390eca309be73f1682d01,"https://issues.apache.org/activemq/browse/AMQ-2453 - making the loop sh compatible

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034329 13f79535-47bb-0310-9956-ffa450edef68",1,3
eb81c6ef1b11343d9282770c0c129faaf1574033,"https://issues.apache.org/activemq/browse/AMQ-2453 - additional portability improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034352 13f79535-47bb-0310-9956-ffa450edef68",2,2
40790f0e45bd0a1b7bbd5e0a7cc6586e6a7deaca,"https://issues.apache.org/activemq/browse/AMQ-2453 - using printf instead fo echo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034377 13f79535-47bb-0310-9956-ffa450edef68",2,2
c9c6e62a601daa1cc7f165b94a4219fcd0404f9a,"AMQ-3022 - Reverting changes for transaction suspend/resume due to broken tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034430 13f79535-47bb-0310-9956-ffa450edef68",25,20
2e1a014fec70eca158226ae340b586e2d5e570ef,"https://issues.apache.org/activemq/browse/AMQ-2453 - more portability issues solved

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034453 13f79535-47bb-0310-9956-ffa450edef68",17,25
4679c8a788a49463c9251914d8cafcb48d54cb66,"remove priority flag from default jdbc impl as that is shared across dests, leads to conflict between priority and non priority dests, limit rowSize returned from durable fetch so we don't hog memory or return too few matches: https://issues.apache.org/activemq/browse/AMQ-2980

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1034466 13f79535-47bb-0310-9956-ffa450edef68",41,100
4fbf92de82a88976f3da01fd73f6e0b512f27c0f,"improve jdbc durable sub performance for long running subs and resolve regression in selector test, related to https://issues.apache.org/activemq/browse/AMQ-2985, https://issues.apache.org/activemq/browse/AMQ-2980, expose maxRows on jdbc persistence adapter to allow it to be increased for really large selectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1035202 13f79535-47bb-0310-9956-ffa450edef68",10,37
d31e6beb5634aa420fd8db12ae2ce6d73064b29a,"https://issues.apache.org/activemq/browse/AMQ-3035 - SSL_OPTS

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1035211 13f79535-47bb-0310-9956-ffa450edef68",1,1
eb034b4bc9361280993277843bac79acd6c08dec,"applied patch and test from https://issues.apache.org/activemq/browse/AMQ-3029 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1035264 13f79535-47bb-0310-9956-ffa450edef68",0,85
3596f3706f0fa1b55d03a17da5f4653b162e44e5,"resolve potential concurrent mod of LinkedHashMap, reads can modify as map is access ordered

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1036448 13f79535-47bb-0310-9956-ffa450edef68",1,1
fe3660dfcd6814616d89571e96b08763ecfc86f2,"https://issues.apache.org/activemq/browse/AMQ-3044 - secure jmx connector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1036455 13f79535-47bb-0310-9956-ffa450edef68",20,104
3f0cf98407ed3a006dbc0d40f0c788cc1d1eee2a,"resolve issue with kahadb durable subs with selectors after restart, persist the ack locations, kahadb version to 3 with auto upgrade from 1 or 2. https://issues.apache.org/activemq/browse/AMQ-2985

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1036524 13f79535-47bb-0310-9956-ffa450edef68",84,255
fe1bf48a1d95396e17ffeb5a36bbd057c159a8f7,"https://issues.apache.org/activemq/browse/AMQ-3044 - adding example in activemq-security.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1036530 13f79535-47bb-0310-9956-ffa450edef68",0,49
fd4e13634b2212d9821ef39025bdcaa5dc48241b,"https://issues.apache.org/activemq/browse/AMQ-2950 - prevent ConcurrentModificationException when removing the connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1037675 13f79535-47bb-0310-9956-ffa450edef68",13,20
32db9c5a933d4746b73b5b0b0c1628865bd7b629,"https://issues.apache.org/activemq/browse/AMQ-3049 - failover and initialReconnectDelay

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038036 13f79535-47bb-0310-9956-ffa450edef68",2,2
8871c67e8f8f3649c1a9c4ac9254c7010f00382c,"resolve https://issues.apache.org/activemq/browse/AMQ-2985 - issue with duplicates. track acklocations at send time such that out of order acks can remove messages, ensures unmatched messages do not build up. track priority with subscriptionAcks such that a restart or batch reset can select the correct cursor and not wrap around producing duplicates. ensure orderly upgrade of store. additional long running test (4 min) that validates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038276 13f79535-47bb-0310-9956-ffa450edef68",106,1077
21664a960963bb5767d941accb71e1f9aae172fb,"https://issues.apache.org/activemq/browse/AMQ-2695 - rework getMessageCount to just use the index, build on changes from -  https://issues.apache.org/activemq/browse/AMQ-2985

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038296 13f79535-47bb-0310-9956-ffa450edef68",24,5
ad6cb200444cc03e4ebde232e0a9764436050a65,"https://issues.apache.org/activemq/browse/AMQ-3050 - return value for activemq stop command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038539 13f79535-47bb-0310-9956-ffa450edef68",1,2
6eafe9327e473141b356d29444721036c0c54c05,"https://issues.apache.org/activemq/browse/AMQ-2985 - fix regression of DurableSubscriptionUnsubscribeTest, check for empty topic

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038551 13f79535-47bb-0310-9956-ffa450edef68",1,1
d6ad7c7cd0a2101b9a1160bd8ea7d906437fef10,"https://issues.apache.org/activemq/browse/AMQ-3028 - sync pageCache

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038566 13f79535-47bb-0310-9956-ffa450edef68",10,3
aec047d08b0a249ec0a99444c116d4aa91c60814,"https://issues.apache.org/activemq/browse/AMQ-2985 - fix npe on remove consumer track new consumer last ack at lowest priority such that there can be no replay

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038643 13f79535-47bb-0310-9956-ffa450edef68",2,6
9862d93d95745937d0f9eb3012a0e23542ad27a6,"https://issues.apache.org/activemq/browse/AMQ-3052 - memory leak in SimpleAuthenticationBroker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038658 13f79535-47bb-0310-9956-ffa450edef68",1,7
fc8155926fde177dddb9490538ad5aa9bce61567,"https://issues.apache.org/activemq/browse/AMQ-2985 - fix order so alter table works for oracle - ORA-30649:missing directory keyword

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038758 13f79535-47bb-0310-9956-ffa450edef68",1,1
9d4f30c018abb19866b45a626597a05234a9810b,"https://issues.apache.org/activemq/browse/AMQ-3017 - fllesystem blob strategy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038971 13f79535-47bb-0310-9956-ffa450edef68",1,241
00daefc58e5e3573d7da14e3fd9b0354cc338bf6,"https://issues.apache.org/activemq/browse/AMQ-3054 - add property placeholder to activemq-jdbc.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038976 13f79535-47bb-0310-9956-ffa450edef68",1,8
fa6d939a2e0af8c6dc05bf76a46bf49cab51e494,"remove 1.6 ism, let it compile with jdk 1.5

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1038996 13f79535-47bb-0310-9956-ffa450edef68",1,2
97a28380077cab53fa482e9d42047ab68071bf7c,"[maven-release-plugin] prepare release activemq-5.4.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039018 13f79535-47bb-0310-9956-ffa450edef68",31,31
7fd8cc03d3930b4ea089fa7d1ff5aee5fc4ede36,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039020 13f79535-47bb-0310-9956-ffa450edef68",30,30
8191f19672750533c4b45c0e0f08fbf0ae303d7d,"resolve regression with offline durable subs and jdbc, if there are no messages in the store and some consumed messages, the durable is not reactivated and subsequent messages can get deleted before they are consumed. Reduce the duplicate replays to a topic store cursor by tracking the last recovered. additional test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039108 13f79535-47bb-0310-9956-ffa450edef68",14,106
e8a32d56f8e5916c107b4140dbf0c85d4aba5f06,"updating activemq-version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039281 13f79535-47bb-0310-9956-ffa450edef68",1,1
2781601db102e7a1591ba94d2523ea71357c15b4,"[maven-release-plugin] prepare release activemq-5.4.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039292 13f79535-47bb-0310-9956-ffa450edef68",31,31
81c5b9d6d3f8a68eb0f255ebb8d7609c9ac3a5ea,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039294 13f79535-47bb-0310-9956-ffa450edef68",30,30
dbaf2b1c8c3a30b10898d9d6baa308bd73931f59,"fix version post release - back to snap

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039325 13f79535-47bb-0310-9956-ffa450edef68",1,1
81f3935cf33feeca9e3380bc01f132e2fc45e57b,"resolve: https://issues.apache.org/activemq/browse/AMQ-3056 - do not throw on redelivery ack for a topic

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1039392 13f79535-47bb-0310-9956-ffa450edef68",0,54
7d5494258b32767b6f94d118c806f36699e3ec59,"ensure new high priority messages get dispatched immediately rather than at the end of the next batch, configurable via PendingDurableSubscriberMessageStoragePolicy.immediatePriorityDispatch default true, most relevant with prefetch=1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1040151 13f79535-47bb-0310-9956-ffa450edef68",2,95
78a54c93533dfce355686ece14ddbfd73e230845,"apply patch from https://issues.apache.org/jira/browse/AMQ-3067 with thanks and additional test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1041351 13f79535-47bb-0310-9956-ffa450edef68",0,3
c0c55ae2a5f3cc2d90572c8dccb0fa9127085253,"test case and fix for: https://issues.apache.org/jira/browse/AMQ-3062

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1042394 13f79535-47bb-0310-9956-ffa450edef68",31,75
a332127cc253a6bcb8cee8b48b88be70186372d9,"making a test work through the proxy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1042819 13f79535-47bb-0310-9956-ffa450edef68",2,6
938a5fce16f7512c1f33137f96e48d06605c5d84,"resolve https://issues.apache.org/jira/browse/AMQ-3071 and add test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1043076 13f79535-47bb-0310-9956-ffa450edef68",2,74
f51c4cc63f4c9adfbea8d3dbe00c3e6f4e9bc6a6,"more testing of http inactivity monitor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1043556 13f79535-47bb-0310-9956-ffa450edef68",7,52
426a3a17fe4d3bad55f0cb77ababadc35de81520,"remove spurious perf logging code: https://issues.apache.org/jira/browse/AMQ-3076

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1043912 13f79535-47bb-0310-9956-ffa450edef68",7,1
08a2967764fb7a2812f8bf69a7f7a2f6ab88854f,"add keepalive to initiator

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044061 13f79535-47bb-0310-9956-ffa450edef68",1,1
6ed942a3eec957658074741ed6ab74cb62d9a795,"fix regression with DiscoveryTransportNoBrokerTest - https://issues.apache.org/jira/browse/AMQ-3049 - reconnectDelay of -1 not appropriate for sleep

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044340 13f79535-47bb-0310-9956-ffa450edef68",4,4
5b5d60f9d19ee61ea9653b8a065e6b4636467159,"validate low range default to true after window move

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044346 13f79535-47bb-0310-9956-ffa450edef68",1,12
afa3f2410768b3eb022d1cafba318a4805ce8390,"remove misleading comment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044348 13f79535-47bb-0310-9956-ffa450edef68",1,0
6519c3e2327930500912bdcc68098f28d366449b,"better support for immediate priority higher message dispatch for durable subs, tidy up audit and page size config for durables, use destination batch size to page in, remove extranious calls to store getSize(), test for duplicate delivery, audit needs to be large when priority is used and needs to be statically configured, prefetch is a bad model in with priority spread, restrict priority values to 0-9 as impl is restricted to 0-9 jms range

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044368 13f79535-47bb-0310-9956-ffa450edef68",51,411
31ed6d550e5fda659c32dc0966e6ce4c5479298e,"https://issues.apache.org/jira/browse/AMQ-3015 - js client does not establish session properly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044412 13f79535-47bb-0310-9956-ffa450edef68",3,23
bf20aa514c38ff80f8b86492eb152f56566e2bb0,"https://issues.apache.org/jira/browse/AMQ-3015 - deleting obsolete tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044418 13f79535-47bb-0310-9956-ffa450edef68",106,0
054fc6aca52f2bf220af2d2fdea5d700a06a0bbe,"https://issues.apache.org/jira/browse/AMQ-3081 - Durable subscriptions are not removed from mbean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1044465 13f79535-47bb-0310-9956-ffa450edef68",108,141
3ddb71c65bf08affd9cf5adef6abb54f0abcaa8f,"respect storeHasMessages such that the store batch size, form max page size is respected, improves preformance by negating the replay of high priority inflight messages as a the tail of a backlog is recovered. Fix order issue with high priority cache such that sequence order of lower priority messages is respected. additional test for same and default audit size to 10 when priority is enabled

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1045219 13f79535-47bb-0310-9956-ffa450edef68",53,208
ccd2e94f4ef16556071d3e4938e3e4dc5d45dd01,"resolve: https://issues.apache.org/jira/browse/AMQ-3033 - dangling ref to timer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1049105 13f79535-47bb-0310-9956-ffa450edef68",5,30
9c768579e8881a1c0a2c3a4005ce81e39ed56300,"resolve https://issues.apache.org/jira/browse/AMQ-3075 - a constraint name needs to be provided for postgres but this is not the general case. extracted the end of the alter statement to allow the postgress adapter to override and provided accessor for the constraint name in case of auto generation issues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1049122 13f79535-47bb-0310-9956-ffa450edef68",1,22
1a0c582028e6a4ae04ae554536490beef37b7142,"fix up file names to match driver string, resolve reopened : https://issues.apache.org/jira/browse/AMQ-2492 with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1049128 13f79535-47bb-0310-9956-ffa450edef68",0,0
1355cf581017b9a2f4ff60983e32e594e6217aec,"resolve: https://issues.apache.org/jira/browse/AMQ-2852 - have async close use default thread pool and have inactivity monitor include the task runner in its resource usage such that it can be shutdown. provide accessor to shutdown the default thread pool such that a webapp can cleanup if needed, org.apache.activemq.thread.DefaultThreadPools#shutdown - additional tests to cover same

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1049184 13f79535-47bb-0310-9956-ffa450edef68",30,39
c75ff7f163d1a41573ebd70fa02d0cdaef717d9a,"https://issues.apache.org/jira/browse/AMQ-3084 - typo in SubscriptionView

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1049466 13f79535-47bb-0310-9956-ffa450edef68",6,6
738e9a19ea3519d6483744a0f02f1e815f98e22b,"resolve: https://issues.apache.org/jira/browse/AMQ-3085 with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1049521 13f79535-47bb-0310-9956-ffa450edef68",44,65
6348481c181802e418445e812a0923ad7a092af0,"additional broker side improvements for https://issues.apache.org/jira/browse/AMQ-2852 - have discovery and network connector and vm async tasks delegate to the the default thread pool executor, serialized the test to ensure shutdown is called once after verification

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1049527 13f79535-47bb-0310-9956-ffa450edef68",58,34
44d6be4e335124e35ce9e5f67bb40a6d28185bd0,"https://issues.apache.org/jira/browse/AMQ-3092 - Deleting a Queue from the console results in lost messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050059 13f79535-47bb-0310-9956-ffa450edef68",5,36
7a7b380def879593935759308fa5bd3978fdb01a,"allow tests to run if port 1099 is in use

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050087 13f79535-47bb-0310-9956-ffa450edef68",56,27
72bf2f85cc084e771bc3b120754518e614258bea,"allow for slow disk on test machine

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050089 13f79535-47bb-0310-9956-ffa450edef68",2,3
6983978564689d83f7e7610275ee677adc928a08,"try and ensure derby shutsdown between tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050345 13f79535-47bb-0310-9956-ffa450edef68",1,13
a91a1814747657bda5c8b5a3a1d2f9b8a7efc433,"use autofail such that a hang in this test will not block the test run and give us a stack trace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050371 13f79535-47bb-0310-9956-ffa450edef68",1,4
55794fe07036dc437b9010fce0c71e4d0ff48454,"tidying up jmx test to behave better in CI environments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050372 13f79535-47bb-0310-9956-ffa450edef68",6,8
11d79743bf1089b73861e395c686e8931b44517b,"adding some logging to detect issues with file names more easily

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050387 13f79535-47bb-0310-9956-ffa450edef68",1,4
e35519f3a116231e3e88452e2c0752609c3cf931,"resolve: https://issues.apache.org/jira/browse/AMQ-3095 - with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1050463 13f79535-47bb-0310-9956-ffa450edef68",2,29
2306d962417c283fcd96c775c63d00adb0406173,"https://issues.apache.org/jira/browse/AMQ-3100 - audit logging for JMX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1051497 13f79535-47bb-0310-9956-ffa450edef68",16,56
7267896d56beaaa4bcee676900057fe7d8deb86c,"https://issues.apache.org/jira/browse/AMQ-3100 - JMX audit improvement

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1051521 13f79535-47bb-0310-9956-ffa450edef68",3,3
a2d4eb5ceeef20649d20f539932df1e33c115985,"https://issues.apache.org/jira/browse/AMQ-3100 - audit logging for web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1051842 13f79535-47bb-0310-9956-ffa450edef68",1,71
c56d192d81cf8c7807a7f24c870ba8ac1f891674,"noticed some spelling errors in the script

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1051933 13f79535-47bb-0310-9956-ffa450edef68",3,3
10a403b6ab901c53470a465aff2529d2b1927bfb,"https://issues.apache.org/jira/browse/AMQ-3100 - refactoring to enable different logger implementations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1051972 13f79535-47bb-0310-9956-ffa450edef68",4,76
bef96a9248de94b32df7418d80bb716a3637ab2d,"https://issues.apache.org/jira/browse/AMQ-3094 - ajax does not receive all messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1052259 13f79535-47bb-0310-9956-ffa450edef68",10,97
de66445d582033420ef873d1013b70f27e481909,"https://issues.apache.org/jira/browse/AMQ-3094 - fixing test license and imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1052261 13f79535-47bb-0310-9956-ffa450edef68",11,23
1f9cc43890a7a539d17d409d4c07e5a00f35aea7,"https://issues.apache.org/jira/browse/AMQ-3100 - refactoring to use ServiceLoader

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1052501 13f79535-47bb-0310-9956-ffa450edef68",16,50
a71c1e354eb71524ff181d0d52088d781ce3273a,"https://issues.apache.org/jira/browse/AMQ-3105 - require JDK 6 and fix an bug for osx

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1052512 13f79535-47bb-0310-9956-ffa450edef68",3,3
e0c5024fcffb96a5cdbd8d6d2f4b66e2001237f9,"https://issues.apache.org/jira/browse/AMQ-2683 - producer flow control for topics

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1053055 13f79535-47bb-0310-9956-ffa450edef68",8,170
663d5db7f1f370f8af109a313d10fee0545da65c,"https://issues.apache.org/jira/browse/AMQ-3107 - advisories for network bridge

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1053641 13f79535-47bb-0310-9956-ffa450edef68",13,160
d0a1a001a3bee563e8cf06b4d2b82fc8373617d6,"https://issues.apache.org/jira/browse/AMQ-3088 - scheduled page error when scheduler is off

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1053683 13f79535-47bb-0310-9956-ffa450edef68",0,23
ebcab0512cf018857987ee50803f1151fc4c7f54,"https://issues.apache.org/jira/browse/AMQ-3108 - network bridges in web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1053886 13f79535-47bb-0310-9956-ffa450edef68",20,75
2a2dcd5ec45f2d165f65a8e6983a9d28c4981199,"https://issues.apache.org/jira/browse/AMQ-3109 - mbeans for bridges created by duplex connector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1053942 13f79535-47bb-0310-9956-ffa450edef68",14,129
3e1550143941eb07865990d4d28c9eb67d91c18d,"https://issues.apache.org/jira/browse/AMQ-3107 - make sure advisories work for bridges created by duplex

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1054096 13f79535-47bb-0310-9956-ffa450edef68",7,58
bd49b5250a1ecc987b4a150be425d475a62925de,"https://issues.apache.org/jira/browse/AMQ-3109 - show 'createdByDuplex' in advisories and web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1054106 13f79535-47bb-0310-9956-ffa450edef68",10,20
72cd4ec09eb6e6bc7fe41006fb555444102a0b75,"fix jdoc param warn

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1054977 13f79535-47bb-0310-9956-ffa450edef68",1,1
715bf260f4c90a36441f7218612501b5e0173391,"resolve: https://issues.apache.org/jira/browse/AMQ-2963 - revert setting destination on message: https://issues.apache.org/jira/browse/AMQ-2029, just set on transformed copy as format is provider dependent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1055021 13f79535-47bb-0310-9956-ffa450edef68",7,9
6c721fcff57a31fd03017e3ad7ac485bced789ef,"resolve: https://issues.apache.org/jira/browse/AMQ-3115

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1055395 13f79535-47bb-0310-9956-ffa450edef68",0,1
86565eb0e19af8ead04a0fa3a3ae7e99d5eb8fe0,"https://issues.apache.org/jira/browse/AMQ-3119 - proxy connector and failover

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1055873 13f79535-47bb-0310-9956-ffa450edef68",0,245
2803b18fb606ed555ca78c1caa75e7292247557e,"fix failure, brittle jmock test case following: https://issues.apache.org/jira/browse/AMQ-3109 - additional advisory mbeans need to be accounted for

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1056316 13f79535-47bb-0310-9956-ffa450edef68",1,5
9e40b914dec18a10182dd78b1694cd3c0604cd8b,"resolve https://issues.apache.org/jira/browse/AMQ-3122 - ignore zero length journal files on start, sync write state on shutdown to ensure metadata is not ahead of journal in the event of no space on disk and journal write failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1056327 13f79535-47bb-0310-9956-ffa450edef68",17,101
dce325b14423d03ca97ef31b9dffef1877235cb1,"make manual test a little easier to run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1057179 13f79535-47bb-0310-9956-ffa450edef68",16,44
182da6531deab9931f2095ba329fb5888741cef8,"https://issues.apache.org/jira/browse/AMQ-3119 - proxy connector and failover

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1057186 13f79535-47bb-0310-9956-ffa450edef68",3,11
55c3ef9fdab718937d6d1ba9daca4556258599c1,"https://issues.apache.org/jira/browse/AMQ-3125 - updateClusterFilter/ClientsOnRemove broken when running JMX broker, patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1057244 13f79535-47bb-0310-9956-ffa450edef68",0,2
0ed0ba584c3a2637dac6378301b3d276aae13c9f,"https://issues.apache.org/jira/browse/AMQ-3124 - Failover transport client gets corrupted connectedBrokers data - apply variant of suggested patch with thanks. Stripping server side url options is the right way to go, reusing api used by discovery publisher to same effect, additional test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1057565 13f79535-47bb-0310-9956-ffa450edef68",93,164
5ca9763343e4f692d53429b27813e45b7653d532,"https://issues.apache.org/jira/browse/AMQ-3124 - Failover transport client gets corrupted connectedBrokers data - additional null check, for advisory broker use case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1057586 13f79535-47bb-0310-9956-ffa450edef68",6,9
921d6ca25ddd012cc8d335c67ed6708b76dcbe50,"Fixes AMQ-3130

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1057833 13f79535-47bb-0310-9956-ffa450edef68",2,13
7b1cdbc0808e2cc5fc77108fa9e73c5b3c930921,"https://issues.apache.org/jira/browse/AMQ-3100 - refactoring to support multiple service factories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1058490 13f79535-47bb-0310-9956-ffa450edef68",13,95
c7522305732396dbee751ea37e2554f2420908be,"https://issues.apache.org/jira/browse/AMQ-3077 - ArraysIndexOutOfBoundsException : -32768 in ""BrokerService[xxx] Task"" thread - brokerInfo and peerBroker infro explosion problems. A peer is a oneway relationship with networks, broker infos were being accumulated in duplicate for each connector and for multiple connectors. The peer broker info was maintained for each which caused the problem marshalling. re: https://issues.apache.org/jira/browse/AMQ-2632 - the configuration is now respected so it can be selectively enabled and rebalance only occurs if we randomly choose an alternative. The nested peer broker info is not propagated in a connection control

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1058577 13f79535-47bb-0310-9956-ffa450edef68",96,327
14d5dcee8c55632d6099e1e86ef627a5c3d98c74,"https://issues.apache.org/jira/browse/AMQ-3134 - Add support of MS SQL JDBC driver (version 3.0) 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1058582 13f79535-47bb-0310-9956-ffa450edef68",0,34
5f013444115a5ebd19c5f9dcc44fa147dec2cd44,"https://issues.apache.org/jira/browse/AMQ-3100 - setting factory instead of using system property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1058613 13f79535-47bb-0310-9956-ffa450edef68",14,6
cc64a51c164639362494753ed0d621aeb3469a5d,"get derby to shutdown after each test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1058927 13f79535-47bb-0310-9956-ffa450edef68",3,8
1edb58ab89bad5526ee0ccab911d6f3f3a699c6e,"add destination name to debug log message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1058928 13f79535-47bb-0310-9956-ffa450edef68",1,4
219c5d32cd75bdae8b86e960d121e553042d3e9a,"test for possible bug to colaborate on

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1059063 13f79535-47bb-0310-9956-ffa450edef68",0,75
1b9e94fb465b6d04c86fb7a004ecda5808c3d4d0,"fix compile error with hogtest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1059077 13f79535-47bb-0310-9956-ffa450edef68",1,2
be9bdab07bd012132ec63f6dccac5ed93966fa81,"fix for: https://issues.apache.org/jira/browse/AMQ-3138

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1059638 13f79535-47bb-0310-9956-ffa450edef68",1,5
f7d63386d97e4d3dcdc422e40e1f33beef8c6c3b,"additional attribute in trace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1059890 13f79535-47bb-0310-9956-ffa450edef68",1,1
52b13d0ba2fbd731d0e53ebc7da84b18aafad2a0,"https://issues.apache.org/jira/browse/AMQ-3143 - changing store usage via JMX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1059981 13f79535-47bb-0310-9956-ffa450edef68",3,92
a0a1e643e432d1670816fb9c323fef9e6d3597a6,"https://issues.apache.org/jira/browse/AMQ-2821 - test case for gc inactive destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1060353 13f79535-47bb-0310-9956-ffa450edef68",1,50
b026971933beda6df7fe09b0361674536404b0a2,"https://issues.apache.org/jira/browse/AMQ-3100 - audit logging provide more data in audit loge event object

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1060803 13f79535-47bb-0310-9956-ffa450edef68",23,166
600c7c2c7cab572779183bdd4e7e6cbb6940e5b7,"https://issues.apache.org/jira/browse/AMQ-3146 - original destination from stomp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1060871 13f79535-47bb-0310-9956-ffa450edef68",0,24
ec30bf0c955253bcfa0789769781fc402d674530,"https://issues.apache.org/jira/browse/AMQ-2821 - destination gc, use proper connection context

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1061287 13f79535-47bb-0310-9956-ffa450edef68",1,1
e511e76d4fef5e91fc73f8063bff04844ad4be19,"https://issues.apache.org/jira/browse/AMQ-3041 - unregister mbean for temp dest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1061296 13f79535-47bb-0310-9956-ffa450edef68",0,29
53ea4caa200a5920974f5be9df4b454d4c82954e,"https://issues.apache.org/jira/browse/AMQ-3040 - ConnectionState.getTempDestinations() typo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1061299 13f79535-47bb-0310-9956-ffa450edef68",3,3
9c78797f5de12b4d81e7c75e3e505eadc047d6c3,"https://issues.apache.org/jira/browse/AMQ-3010 - timeout for ActiveMQInputStream

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1061304 13f79535-47bb-0310-9956-ffa450edef68",30,97
4e33fb114bba828af335be3bcf849116dd8587f2,"https://issues.apache.org/jira/browse/AMQ-3038 - delete temp destinations when connection is closed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1061365 13f79535-47bb-0310-9956-ffa450edef68",0,8
aad7e7394ad18bdb55feb352b748953dcce2d1a5,"https://issues.apache.org/jira/browse/AMQ-3149, https://issues.apache.org/jira/browse/AMQ-3145
expose current caching state of cursors (also via jmx), only use store async add if cache
is enabled, ensure cache is reenabled on add with 0 queue depth

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1061859 13f79535-47bb-0310-9956-ffa450edef68",22,211
27484b932435c375e3d9bf27aee6d7bf26ae8f67,"https://issues.apache.org/jira/browse/AMQ-3120 - test case in the making

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1061899 13f79535-47bb-0310-9956-ffa450edef68",7,163
610c5bf4d8936ce655690c5aea98026c57eed0c6,"https://issues.apache.org/jira/browse/AMQ-3148 - LoggingBrokerPlugin addConnection(..) log output is meaningless
patch applied with thanks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1062756 13f79535-47bb-0310-9956-ffa450edef68",1,1
cb9f176752c48db2ce32014fc71f2cfcfc729666,"https://issues.apache.org/jira/browse/AMQ-3143 - additional commit for storeUsage limit change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1063214 13f79535-47bb-0310-9956-ffa450edef68",1,4
ed6a4c706760992d361c58ad4215e1f82266a06f,"https://issues.apache.org/jira/browse/AMQ-3038 - fix unit test regression, a temp dest may have a null conneciton if it was added from an advisory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1063248 13f79535-47bb-0310-9956-ffa450edef68",1,3
62609f099a3df38aa499bc78598e03a95d3df8bd,"https://issues.apache.org/jira/browse/AMQ-3162 - ActiveMQ checkpoint worker makes unnecessary repeated calls to Journal.getFileMap(), leading to excessive memory usage
applied variation of the patch with thanks. Now make one call to find the current set of referenced files.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1063669 13f79535-47bb-0310-9956-ffa450edef68",3,4
029c1e3e28687ae89023695dee02b60502d2c2df,"https://issues.apache.org/jira/browse/AMQ-3160 - ConcurrentModificationException in ActiveMQ Journal Checkpoint Worker
access to the file map needs to have a sync so that it can get an accurate snapshot and avoid concurrent access ex

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1063691 13f79535-47bb-0310-9956-ffa450edef68",1,1
62c6c8f8d8d0048afc02fd0440e3354e09de75a2,"https://issues.apache.org/jira/browse/AMQ-3161 - Race condition in ActiveMQ Journal Checkpoint worker thread cleanup leads to multiple running instances
patch applied with thanks, one small mod, left un synced check in store(..) such that locking only occurs if thread needs a restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1063710 13f79535-47bb-0310-9956-ffa450edef68",31,44
aadd682d09535ff04b4939b21643efe0dfa499ca,"https://issues.apache.org/jira/browse/AMQ-3159 - Log file offset in addition to file location in checkpointUpdate()
patch applied with thanks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1063712 13f79535-47bb-0310-9956-ffa450edef68",1,1
acc3d4f7cbb84ed6afae769e79bd00d22c10db04,"https://issues.apache.org/jira/browse/AMQ-3167 - possible skipped Queue messages in memory limited configuration with fast consumers
resolve off by one error in messageOrderIndex setBatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1064660 13f79535-47bb-0310-9956-ffa450edef68",32,83
88fc7fec5091ae36d5ceb05203577dd3875dee14,"https://issues.apache.org/jira/browse/AMQ-3094 - ajax does not receive all messages 
 * ensure delivery of messages received by AjaxListener when a continuation is not available for resumption.
 * add test coverage for several common uses of AjaxServlet
 * switch back to jetty httpclient for better processing of asynchronous HTTP


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1064725 13f79535-47bb-0310-9956-ffa450edef68",56,472
31c01f8916d067ef2a6f271f8a469d95006e0b5b,"new xa test - jdbc and jms

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1064858 13f79535-47bb-0310-9956-ffa450edef68",9,350
29c0dff26a0c32961387c3570d63e77480487a60,"it can take more than 30 seconds for network of 20 to get in line on a slower box, so incease the default delay

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1065591 13f79535-47bb-0310-9956-ffa450edef68",1,1
aae3ea27f714f90658fcfabc8856d3a08e7a2da8,"resolve regression in JDBCXACommitExceptionTest from https://issues.apache.org/activemq/browse/AMQ-2880
Change http://svn.apache.org/viewvc?rev=1064858&view=rev demostrated need to separate jms transacted
session recovery from xa recovery.
Issue related to using XASession without transactions. https://issues.apache.org/jira/browse/AMQ-2659
fix makes XASession indicated it is transacted during commit processing so that a close does not precipiate
an auto ack. ended transactions, available till forget will keep transacted=true

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1065688 13f79535-47bb-0310-9956-ffa450edef68",2,3
1a177f374a0a6ab5b1d6e1bc6d2c33b33ad5ce70,"adding test for virtual destinations in networks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1066402 13f79535-47bb-0310-9956-ffa450edef68",0,173
37bbad0679bcba5bfc88fca0296eee0148d2b094,"https://issues.apache.org/jira/browse/AMQ-3174 - add batch parameter for transactions and client ack to consumer tool

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1067175 13f79535-47bb-0310-9956-ffa450edef68",3,20
eae88fe309f3e253e347d933461db78bcf2e8650,"test that shows issues with backlog for durable subs
across three stores

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1067187 13f79535-47bb-0310-9956-ffa450edef68",1,326
ab412fa136cefeb48a050487e72fb5a601c45642,"some virtual destination with wildcard consumers tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1068336 13f79535-47bb-0310-9956-ffa450edef68",0,131
1a409b097dc66baf09d7ece7eb50e3eefcc9d472,"https://issues.apache.org/jira/browse/AMQ-3175 - configurable soTimeout for http(s) transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1068880 13f79535-47bb-0310-9956-ffa450edef68",1,10
595e44c64ce3cc86a79076281365c7f70ee2b0db,"Adding test and fix for https://issues.apache.org/jira/browse/AMQ-3140 using included patch with modifications.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1068935 13f79535-47bb-0310-9956-ffa450edef68",11,155
3d82d748622bb88a9024a444e54432a8c12cc7e6,"Apply fix and test for: https://issues.apache.org/jira/browse/AMQ-3141

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1068952 13f79535-47bb-0310-9956-ffa450edef68",59,179
27d0ff4011482a7a5eeda14a1c16647e72ac4671,"https://issues.apache.org/jira/browse/AMQ-3176 - Potential deadlock in duplex network connector recreation, resulting in dangling connections. https://issues.apache.org/jira/browse/AMQ-3129 - Can only have one duplex networkConnection per transportConnection. Rework of https://issues.apache.org/jira/browse/AMQ-2774. NetworkConnector.name attribute (default NC) is used to differenciate duplex network connectors so it needs to be unique to allow multiple to be configured. Removing existing matching network connectors on a reconnect is now thread safe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069339 13f79535-47bb-0310-9956-ffa450edef68",92,209
55ae21c3811bdeb5bd53c51af75ff8226d63a886,"remove dependency on jmx 1099 port

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069344 13f79535-47bb-0310-9956-ffa450edef68",1,1
7f002de9642dd75aa5d3663747286b0adb660132,"remove dependency on jmx 1099 port

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069347 13f79535-47bb-0310-9956-ffa450edef68",2,1
a204c793b22f273529b7ec429c08f7f7b966ca5a,"wait for complete formation of network before verification, some more time for slower machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069352 13f79535-47bb-0310-9956-ffa450edef68",0,6
8bf987b134bd827b93ed8157b323bc3bd2d8a82e,"https://issues.apache.org/jira/browse/AMQ-3177 - use slf4j instead of jcl

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069405 13f79535-47bb-0310-9956-ffa450edef68",2359,2379
47b56311a46e9b53b0a2267926279aa9fb9971a0,"https://issues.apache.org/jira/browse/AMQ-3177 - slf4j use in perf plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069736 13f79535-47bb-0310-9956-ffa450edef68",0,5
a806882adbf865012c615b5ded10f76820024a27,"https://issues.apache.org/jira/browse/AMQ-3177 - slf4j final touch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069754 13f79535-47bb-0310-9956-ffa450edef68",1,0
784ead59c735d861b139a484ed7f84a883e8ae5f,"test that seems to show missing durable messages after restat, needs investigation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069758 13f79535-47bb-0310-9956-ffa450edef68",0,827
237f83578fd761c8aea8bb5a65ce69a5e0e35f30,"give bridge formation more time after a restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069781 13f79535-47bb-0310-9956-ffa450edef68",0,6
971f61f0d369114b73312afd9f2843e3e5f19159,"remove dependency on jmx 1099 port

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069783 13f79535-47bb-0310-9956-ffa450edef68",0,1
8fdf3457e315b12cf99b6449305e18afe7df8628,"resolve regression of some ra transaction tests, follow on from http://svn.apache.org/viewvc?view=revision&revision=1065688 - a shared context needs to be aware that ended transactions that are unresolved are considered active. browse needs to only commit for local transactions when ending

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069796 13f79535-47bb-0310-9956-ffa450edef68",2,4
cfdd68c79983eff4ed2b1a8850bb536cf08cefc9,"https://issues.apache.org/jira/browse/AMQ-3167 - add test case from Arthur with thanks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069813 13f79535-47bb-0310-9956-ffa450edef68",0,509
bf4dd7330dbcc9a32c407d665fe3b9e2b049c26e,"http://issues.apache.org/jira/browse/AMQ-3178 - 5.3.x clients to 5.4 brokers always get updated cluster information in the broker info, this should be configurable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1069846 13f79535-47bb-0310-9956-ffa450edef68",1,43
9edeb21bec968dcda639222c45a7c1ae72e54d6b,"https://issues.apache.org/jira/browse/AMQ-3180 - JMX Browse of BytesMessage fails with javax.management.openmbean.OpenDataException: Argument's element itemValues[8]=[B@de15a0 is not a valid value for this item. readonly flag needs to be flipped by browser such that content can be read.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1070442 13f79535-47bb-0310-9956-ffa450edef68",1,100
a1d324518287bd1de6094f4c0ff99d9536b8f315,"https://issues.apache.org/jira/browse/AMQ-3180 - ensure correct type us used in error case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1070443 13f79535-47bb-0310-9956-ffa450edef68",1,1
6b643dc2c3d932ddd7f5d90e0ce522201ae57b8e,"https://issues.apache.org/jira/browse/AMQ-3120 - KahaDB error: ""Could not locate data file""
Test failure, issue with over eager cleanup. journal write as part of cleanup was incrementing the last update location
leaving the current journal file as a candidate for cleanup prematurely. This could ocurr between a destination store journal
write and index update so that the file was not present in the inexe. Capturing the last update exclusive of the checkpoint
write resolves this

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1070484 13f79535-47bb-0310-9956-ffa450edef68",9,18
65f24283426401e6988cd898973cf1b640fb8168,"Fixes AMQ-3181

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1070876 13f79535-47bb-0310-9956-ffa450edef68",20,24
8280417876a8093c7127dc6ea6b7b00f74c34ec7,"fix for: https://issues.apache.org/jira/browse/AMQ-3000

Scheduler wasn't taking into account that there might be a job that was scheduled earlier than the last wait time for jobs when they are fired.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071109 13f79535-47bb-0310-9956-ffa450edef68",2,123
0bbc0acb840941f81822900609eaae9da28f3cc2,"Removing svn keywords, they don't have much value and just add additional noise when diffing source trees.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071256 13f79535-47bb-0310-9956-ffa450edef68",719,719
b0c2a40fb979829ceca2ca51858ca67269bd5992,"Removing svn keywords, they don't have much value and just add additional noise when diffing source trees.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071259 13f79535-47bb-0310-9956-ffa450edef68",1110,1109
6f68a94319e2882070dc99ba73535e3358551c77,"https://issues.apache.org/jira/browse/AMQ-3182 - JAAS PropertiesLoginModule does not maintain internal validity state, so will commit in error after an invalid login attempt
https://issues.apache.org/jira/browse/AMQ-3183 - Set JMSXUserID value based on authenticated principal
Fixed up PropertiesLoginModule such that it maintains login state and only commits on success. Added attribute brokerService useAuthenticatedPrincipalForJMXUserID to indicate
that the first authenticated user principal should be used for the userName and hense by the userId broker when populateJMSXUserID is set. In the absense of a principal the
userName is unchanged.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071301 13f79535-47bb-0310-9956-ffa450edef68",23,261
e8d9b709e02827ac0471953f4407b27e7118ffa4,"remove duplicate test and add auto fail, see if we can find why it hangs in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071323 13f79535-47bb-0310-9956-ffa450edef68",19,18
e0c678e9a015e811283a9cafe875f0e928ea179e,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3036

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071411 13f79535-47bb-0310-9956-ffa450edef68",2,86
14722f8627134b7ae804e84bebf5697ea5a3df39,"fix for: https://issues.apache.org/jira/browse/AMQ-3006

assign default JMS priority when none is set on a Message.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071432 13f79535-47bb-0310-9956-ffa450edef68",1,27
a6c51a45322dd59973cc7743aed7790258aac209,"https://issues.apache.org/jira/browse/AMQ-2736 - KahaDB doesn't clean up old files (abortive shutdown)
After kill -9 with outstanding local transaction the transaction is recovered in error. fix and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071732 13f79535-47bb-0310-9956-ffa450edef68",28,151
6d444d5132dd21d80185786e1b2219a0d39622cf,"don't use MEM store for transaction recovery tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071737 13f79535-47bb-0310-9956-ffa450edef68",2,4
c1f4dc94bbec4674fc9327e7452fc479ee02a615,"Fixes AMQ-3184 : Upgrade to Camel 2.6.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071848 13f79535-47bb-0310-9956-ffa450edef68",4,4
8649f65c54ae4028e19e37b4166adbd691980d3b,"see what goes on with the listener when org.apache.activemq.transport.failover.FailoverTransportBrokerTest#testNoBrokersInBrokerInfo fails

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1071939 13f79535-47bb-0310-9956-ffa450edef68",0,1
c6ede162c352fd4d980174f9c158c672e8e01d08,"https://issues.apache.org/jira/browse/AMQ-3123 - messages for web clients need to be associated with the correct consumer.  


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1072620 13f79535-47bb-0310-9956-ffa450edef68",34,156
cb967831d62231694a003cf5d9468da2e890d36d,"https://issues.apache.org/jira/browse/AMQ-3188 - Full table scan for durable subs in jdbc store when priority enabled; very slow with large message backlog
added more state to the topic message store such that it can ask the db for a single priority at a time which is indexed. This avoids a full table scan.
send rate with active durable subs vs inactive durable subs is now in the region of 6x from 40x. validation test included.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1073453 13f79535-47bb-0310-9956-ffa450edef68",107,356
3419bb7ca50709386cc7c8badf25624ea58e4142,"ensure test uses clean slate as previous priority tests can leave additional rows in the db

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1073671 13f79535-47bb-0310-9956-ffa450edef68",0,1
0298440d4f82ba9a2eb25a67c3e56bd6db858a5d,"JDBC relative test too slow for hudson, disable this variant

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1073680 13f79535-47bb-0310-9956-ffa450edef68",1,1
d884ba29649726df56ccf62dc04bfc916c8e7ce0,"test topic replication in full mesh network scenario

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074060 13f79535-47bb-0310-9956-ffa450edef68",0,597
0c98cb0818c1bf5fbd97c7517bf33f497ddc8160,"fixing broker configurations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074094 13f79535-47bb-0310-9956-ffa450edef68",18,18
6595dc4a62d53744a4ba3fa5ff3841280ecbd1ab,"Apply patch for https://issues.apache.org/jira/browse/AMQ-3185

Confirmed the current code allows for two calls to stop before the disposed flag is triggered.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074209 13f79535-47bb-0310-9956-ffa450edef68",8,139
d245457ccdcebb57b14c5f10f963ef9b68d3f104,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3187

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074285 13f79535-47bb-0310-9956-ffa450edef68",2,6
a5fc6dd999352fed6c5df025ee790a19692e1ce8,"Add fix for https://issues.apache.org/jira/browse/AMQ-3153 and add user supplied unit test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074289 13f79535-47bb-0310-9956-ffa450edef68",17,166
3e895c6e9549b48856598a8ea949e1e2d904732c,"fix for: https://issues.apache.org/jira/browse/AMQ-3139

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074300 13f79535-47bb-0310-9956-ffa450edef68",4,4
576230be652b2e25073e897b332579459b2944d1,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3186

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074325 13f79535-47bb-0310-9956-ffa450edef68",0,52
2d121f4092a3891c4162f95c46a57d9e56c52134,"https://issues.apache.org/jira/browse/AMQ-3190 - Durable Subscription - missing messages when selector matching sub resumes after broker restart
the next message id needs to be tracked such that unmatched messages are not ignored from the indexi after a restart. Tracking it as part of message add
in the ackPositions.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074511 13f79535-47bb-0310-9956-ffa450edef68",52,165
7739a3cc4a4764046643f4dbdb5f823bf26b4a81,"suppress stack trace from failed add connecton to debug level trace, such that the warn just has the exception toString, with an authenticated broker, the stack trace is too much information and is the predominant reason for a failure to add

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074550 13f79535-47bb-0310-9956-ffa450edef68",1,4
57f5e7efa552789c673b61007f1359166cf0c632,"https://issues.apache.org/jira/browse/AMQ-3192 - Add setTrustStore() and setKeyStore() methods to ActiveMQSslConnectionFactory class

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074577 13f79535-47bb-0310-9956-ffa450edef68",0,395
56f8e368d5c3002695d896b9556fbfd9b2744749,"fix for: https://issues.apache.org/jira/browse/AMQ-2929

Added test showing how a Text Message that was compressed can be received in a state where the text is not compressed but the Message compressed flag indicates it is resulting in an exception from getText() indicating an unknown compression type.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074725 13f79535-47bb-0310-9956-ffa450edef68",9,201
72a0fd1a439d36bd242c4d34b35e8bd48e9234e7,"fix for: https://issues.apache.org/jira/browse/AMQ-2256 

suppress the stack trace output for the error and just log a warning that the URI path is not valid for binding to a local port.  Output the full exception stack trace if debug logging is turned on.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1074948 13f79535-47bb-0310-9956-ffa450edef68",6,9
9308db8b75a747646f02f0ff8dad0ea65d16aabe,"resolve the dependency on fixed ports 61616 and 61613.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075051 13f79535-47bb-0310-9956-ffa450edef68",78,82
99653c6c8c0d422eac64b538b24ae13be3227be5,"https://issues.apache.org/jira/browse/AMQ-3193 - consumers don't get messages after JMX remove

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075346 13f79535-47bb-0310-9956-ffa450edef68",0,51
5ad72d650cce2d09881f4b7f0cf1eebdb79c4a7a,"https://issues.apache.org/jira/browse/AMQ-2981 - test case for discory uri with params

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075407 13f79535-47bb-0310-9956-ffa450edef68",0,54
f38908eb52380688aff3c73406d9ac1b32ce28bb,"https://issues.apache.org/jira/browse/AMQ-3195 - NetworkConnector initialization should be backed by an executor
added new broker attribute networkConnectorStartAsync (default false) that will cause network connectors
to be started in seperate threads such that a block of one does not effect the rest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075801 13f79535-47bb-0310-9956-ffa450edef68",11,208
1d885d393e2d84eda12f85833b7a89bf0b187203,"https://issues.apache.org/jira/browse/AMQ-2981 - modified test with workaround

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075820 13f79535-47bb-0310-9956-ffa450edef68",1,1
645037e539b6376cb2ca78d23d8c5ba721b3d8ad,"fix for FailoverTransportBrokerTest failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075821 13f79535-47bb-0310-9956-ffa450edef68",7,13
462efdb9deaa60e7945a180652a5e0f596d3fdd4,"https://issues.apache.org/jira/browse/AMQ-3193 - rework of fix to always populate pagedInPending

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075846 13f79535-47bb-0310-9956-ffa450edef68",19,20
d8fd5330a4fb4b7d5054bab8ba11686de647a7a3,"https://issues.apache.org/jira/browse/AMQ-3193 - implement equals for indirect message ref, so remove from pendingdispatch will work on moveMessages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075864 13f79535-47bb-0310-9956-ffa450edef68",0,11
6ebedcc1edf91e988c931fb8695df88526222311,"make test more deterministic to avert hudson failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1075887 13f79535-47bb-0310-9956-ffa450edef68",1,4
330c9a896d175ccb2bb41f2a9ce569851026ac9c,"https://issues.apache.org/jira/browse/AMQ-2981 - Connecting to broker using discovery protocol fails

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1076192 13f79535-47bb-0310-9956-ffa450edef68",8,18
93e2bd355b6320b1a105620617d1e4260721d3ca,"https://issues.apache.org/jira/browse/AMQ-3196 - Speed up initial message delivery for offline durable sub with keepDurableSubsActive=true and JDBC store
avoid stop/start of cursor when keepdurablesubsactive=true such that a valid message count is retained by the cursor, independent of the store. This avoids unnecessary calls to the underlyin gtore on activation and reactivation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1076278 13f79535-47bb-0310-9956-ffa450edef68",21,66
b98047ed8c7802d24b98af5f28e9f00f7d126371,"remove hard coded wait time, use condition, resolve failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1076283 13f79535-47bb-0310-9956-ffa450edef68",1,6
d17ecebec435b15e8457e2646875c96027c999c6,"https://issues.apache.org/jira/browse/AMQ-3197 - virtual destinations and wildcards

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1076651 13f79535-47bb-0310-9956-ffa450edef68",11,59
2f47288da270b2db68915ec8caac632236bc6802,"https://issues.apache.org/jira/browse/AMQ-3142 - upgrade to karaf 2.2.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1077868 13f79535-47bb-0310-9956-ffa450edef68",19,21
1b45e3be04db0f382470d435bbd3cce589ae39a3,"https://issues.apache.org/jira/browse/AMQ-3193 - fix regression with spring listener test. IndirectMessageRef cannot do equals bc it will break composite destination delivery to a single consumer, possible to break inflight count as ack of one message removes others from dispatched when message ref matches in error.
Fix is to ensure message ref is passed about such that there is a single ref per message. rework some internals to pass ref rather than message.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1077886 13f79535-47bb-0310-9956-ffa450edef68",49,40
78f85ed277d639bbe48eab9e7ed8a22fb09e84c6,"further reduction in stack traces at warn level in log for STOMP, suppress to stack trace to debug level, better for authorized broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1077889 13f79535-47bb-0310-9956-ffa450edef68",2,6
69f56058f258b1036972dfdf51bfa5c48d0d826e,"https://issues.apache.org/jira/browse/AMQ-3198 - Allow JAAS GuestLoginModule to fail if users specify a password
new option to GuestLoginModule, credentialsInvalidate, when true, presence of a password will cause module to fail login
allowing the next module to validate the credential. Will only guest users who don't specify a password

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078048 13f79535-47bb-0310-9956-ffa450edef68",19,271
f29c8011d0acae4aa7f7cc7a796dd906bd38d059,"Fix for: https://issues.apache.org/jira/browse/AMQ-3045

Adds an optional maximumRedeliveryDelay that defaults to -1 to indicate no max so behavior is unchanged from previous versions.  When the backoff multiplier is enabled and the maximumReliveryDelay is set > -1 then the delay returned by getNextReliveryDealy is capped by the max of either maximumReliveryDelay or redeliveryDelay preventing delays smaller than the configured redelivery delay.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078189 13f79535-47bb-0310-9956-ffa450edef68",75,138
34242e246e750bf27309c1fb2701a2553625ca0e,"Test case for: https://issues.apache.org/jira/browse/AMQ-3202

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078311 13f79535-47bb-0310-9956-ffa450edef68",0,95
d75bb6d6d8164e95c4b5d51aa9a7e66a31c854cc,"fix for: https://issues.apache.org/jira/browse/AMQ-3202

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078312 13f79535-47bb-0310-9956-ffa450edef68",29,37
815b789eebfcaf14667a0f93c0c6af2a8cba565c,"fix for: https://issues.apache.org/jira/browse/AMQ-3078

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078321 13f79535-47bb-0310-9956-ffa450edef68",11,10
008b3e551c1d8763cbfaa5e18cf7cb6dc1932366,"https://issues.apache.org/jira/browse/AMQ-3204 - support for non-standard destination path separator

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078766 13f79535-47bb-0310-9956-ffa450edef68",1,331
1c1aa173111c47ceeef1c87bbcc8b790ce7399f2,"https://issues.apache.org/jira/browse/AMQ-3206 - Unsubscribed durable sub can leave dangling message reference in kahaDB, visible after a restart
resolved by correctly updating the persitent index when a durable sub with an outstanding backlog is unsubscribed. Additional test that vaidates fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078799 13f79535-47bb-0310-9956-ffa450edef68",9,82
74a45502e217c8ef45d7ff23eeb7ba5538a73c4a,"Test for: https://issues.apache.org/jira/browse/AMQ-3199

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1078821 13f79535-47bb-0310-9956-ffa450edef68",23,49
5b5d494e6556839c43859afc2d47c3b7d55ecd41,"Fix and test for: https://issues.apache.org/jira/browse/AMQ-2213

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079004 13f79535-47bb-0310-9956-ffa450edef68",14,125
373417c0df0a2d96b204226eb971360ac39ad558,"give FailoverClusterTest a bit more time to reconnect

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079324 13f79535-47bb-0310-9956-ffa450edef68",2,2
8fba621a0808b26a62bed58809365db47e685dce,"https://issues.apache.org/jira/browse/AMQ-3205 - Update ActivationSpec, patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079331 13f79535-47bb-0310-9956-ffa450edef68",1,42
6c09e846b18c5b9b7da3780199f98d2c1f7ae8c8,"https://issues.apache.org/jira/browse/AMQ-2632 - dispose the old transport listener before rebalancing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079384 13f79535-47bb-0310-9956-ffa450edef68",5,9
da66c468477da6475841975c35b7a85fa39f22f0,"AMQ-2968 - Add Apache commons daemon (jsvc/procrun) start/stop support.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079638 13f79535-47bb-0310-9956-ffa450edef68",6,127
fe0a764836aec112de82075eca4cf94c733f4a0f,"give test plenty of time before failing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079757 13f79535-47bb-0310-9956-ffa450edef68",1,1
8700ab7cdebb96d7afba702b26551c23a0faba72,"https://issues.apache.org/jira/browse/AMQ-3198 - don't unregister original connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079782 13f79535-47bb-0310-9956-ffa450edef68",1,0
4f9784dafc56c4b59fa7899b4bcddc2d1fabddf2,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3209


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079831 13f79535-47bb-0310-9956-ffa450edef68",1,27
f93d05acefc81fc9aa6d90914eb737783520c68a,"https://issues.apache.org/jira/browse/AMQ-3198 - unregister failed add connection but have unregister respect the reference count such that it is only removed if the refcount is 1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1079885 13f79535-47bb-0310-9956-ffa450edef68",0,5
b6672d12b28b2875ea25dbc79579e89d5f975698,"wait for network bridge formation before starting producer to ensure load is distributed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1080191 13f79535-47bb-0310-9956-ffa450edef68",0,8
358ace29f5ac536a5c2b7b3d7ba2a3d954a191cf,"test improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1080194 13f79535-47bb-0310-9956-ffa450edef68",0,5
bc715ea63d9dff4495e118f89cc821893501b7a4,"AMQ2764 test - give brokers static ids and name NC so that duplicate duplex connection can work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1080196 13f79535-47bb-0310-9956-ffa450edef68",3,3
3df3302c65b16090464588bbccd14a11b46a1ba9,"https://issues.apache.org/jira/browse/AMQ-3211 - ensure that a JMSXUserID property set by a client is ignored if an alternative userId mechanism is in place. This ensures that a client cannot spoof this value when the broker is configured to supply if from credentials. The client supplied value is only used as a last resourt

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1080212 13f79535-47bb-0310-9956-ffa450edef68",4,26
286c9d0020e468e5f14c632d8da4f15bb617162a,"https://issues.apache.org/jira/browse/AMQ-3183 - fix typo in useAuthenticatedPrincipalForJMSXUserID

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1080512 13f79535-47bb-0310-9956-ffa450edef68",8,8
55b9954873ba789444f6025615cf4ce51a1b8109,"give debug logging insight to the inactivity monitor negotiation, output local and remote infos

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1080560 13f79535-47bb-0310-9956-ffa450edef68",0,6
f0429be6ee603f3b94d37c53005f40853d3f24b0,"https://issues.apache.org/jira/browse/AMQ-3219 - add basic support for MDC and enable broker name to appear in log entries

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1081502 13f79535-47bb-0310-9956-ffa450edef68",22,71
3d61acf2b202656fc13f93b31cc28f80b30f6cd7,"fix for: https://issues.apache.org/jira/browse/AMQ-3199
fix for: https://issues.apache.org/jira/browse/AMQ-3200

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1081540 13f79535-47bb-0310-9956-ffa450edef68",92,319
2900806b9ed527db1ae269b5767e0e3267953420,"https://issues.apache.org/jira/browse/AMQ-3204 - adding additional null check

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1081697 13f79535-47bb-0310-9956-ffa450edef68",1,1
4ed495630619ec9b71261a6b054735a91cb7325f,"Add .classpath to svn-ignore.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1081796 13f79535-47bb-0310-9956-ffa450edef68",0,0
2a558c80a6462e14c4f37b37ad45bf4a44f84a10,"https://issues.apache.org/jira/browse/AMQ-3220 - network connectors and wildcards

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1081810 13f79535-47bb-0310-9956-ffa450edef68",23,220
986ed145a791052a7190f069563095a0110c8742,"https://issues.apache.org/jira/browse/AMQ-3222 - Failover and SimpleDiscovery - query parameters getting dropped, resolve by leaving composite prams in place and seperating out params that need to be applied to discovered transports, new format 'discovered.x' for the mulitcast case. Revisit https://issues.apache.org/jira/browse/AMQ-2981,https://issues.apache.org/jira/browse/AMQ-2598,https://issues.apache.org/activemq/browse/AMQ-2939

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1082333 13f79535-47bb-0310-9956-ffa450edef68",34,206
2b456ddbd06d78ffc7a7c3a4f3e669cbf24f95a4,"https://issues.apache.org/jira/browse/AMQ-3219 - more work on MDC logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1082489 13f79535-47bb-0310-9956-ffa450edef68",7,23
cc810aa4da7b63d6d5b28c9456d1506453f2f8b8,"https://issues.apache.org/jira/browse/AMQ-3219 - adding missing MDCHelper class

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1082530 13f79535-47bb-0310-9956-ffa450edef68",0,28
0de4f88aa7d5b1268460b5912783dbdf04c584ba,"https://issues.apache.org/jira/browse/AMQ-3218 - exclusive consumer with highest priority should always get through

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1082939 13f79535-47bb-0310-9956-ffa450edef68",4,2
3973d8ff225d1d50ab73c5786b707120d2ea9e06,"fix typo in accessor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1083752 13f79535-47bb-0310-9956-ffa450edef68",1,1
400990f98a4a5621b1979719b0f6e42ec4d72d5e,"https://issues.apache.org/jira/browse/AMQ-3231 - Stomp Frame should mask passcode header in toString output, so it does not pollute the log

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1083753 13f79535-47bb-0310-9956-ffa450edef68",1,45
e44ccf7f08936b9cc4ddb1d5c0b874e0e1158e85,"https://issues.apache.org/jira/browse/AMQ-3222 - fix test regression, xbean url parsing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1083770 13f79535-47bb-0310-9956-ffa450edef68",3,2
8fd00fac5866997b52eb1a520e1d2bc697dfacb4,"fix test breakages caused by the initial fix for: https://issues.apache.org/jira/browse/AMQ-3231 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1083988 13f79535-47bb-0310-9956-ffa450edef68",128,135
8314d8651f71d8cbe1be17ecbdaa8c3aa7a00a43,"Clean up the test a bit and adds some additional time to account for slower machines.  

Removes System.out and replaces with logging.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084009 13f79535-47bb-0310-9956-ffa450edef68",18,19
d618ab37b0f445429f864424ffd243b11690e7cb,"https://issues.apache.org/jira/browse/AMQ-3231 - have stompconnection use format instead of toString for marshalling such that toString can be used for logging; mask password and truncate content like text message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084020 13f79535-47bb-0310-9956-ffa450edef68",88,99
27c1719757ef0eaf57d6bc883e93deb331aa3bff,"https://issues.apache.org/jira/browse/AMQ-3003 - Allow the option of a DLQ per durable subscription DeadLetterStrategy. Additional attribute destinationPerDurableSubscriber, when true causes default dlq individual prefex to be prepended with the durab sub key, connectionid:subscriberName pair. Modified DeadLetterStrategy interface to pass in message and subscription, to provide fine level controll of dlq name. Also modified Broker interface to provide subscription to message expiry and sendToDLQ methods.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084023 13f79535-47bb-0310-9956-ffa450edef68",57,179
8ba02a395f2337bd31a0b54d96d73dbb4e94acf1,"https://issues.apache.org/jira/browse/AMQ-3235 - upgrade to camel 2.8-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084132 13f79535-47bb-0310-9956-ffa450edef68",7,4
e10f75c33d57041083c95d08dd16635eeafe4ba9,"https://issues.apache.org/jira/browse/AMQ-3236 - In the case of DLQ processing due to an exception from onMessage, provide the exception string as a message property. New property, org.apache.activemq.command.ActiveMQMessage#DLQ_DELIVERY_FAILURE_CAUSE_PROPERTY will hold the string form of the exception that causes a posion ack for a dlq message. It may be null if the cause was regular calls to rollback or message expiry. Wireformat change to have exception included with messageAck. new version 7

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084175 13f79535-47bb-0310-9956-ffa450edef68",47,970
32d24fbbdd064b3097c3c1fc7ebff7903356dd26,"https://issues.apache.org/jira/browse/AMQ-3003 - pass new sub parameter from expired processing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084188 13f79535-47bb-0310-9956-ffa450edef68",1,1
536755170c598f9bbc7057e71df39b2d110e064d,"https://issues.apache.org/jira/browse/AMQ-3235 - use old web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084208 13f79535-47bb-0310-9956-ffa450edef68",1,2
a065bb1fb3d6d6a5cbbce15cc0cb4788506fc618,"https://issues.apache.org/jira/browse/AMQ-3105 - removing icu4j as we're now requiring JDK 6

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084237 13f79535-47bb-0310-9956-ffa450edef68",13,1
41424a41b9f3597e012e4ee2fe97f3755d8960b0,"remove activemq-rar from the distro and add a notice

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084249 13f79535-47bb-0310-9956-ffa450edef68",1,3
cad663a1e9c9a29f0b73487f3fda9b77cfb61e00,"Update the test so that its not dependent on port 61617.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084379 13f79535-47bb-0310-9956-ffa450edef68",4,5
2305b7e7af8b37025719b309474ada0326945771,"https://issues.apache.org/jira/browse/AMQ-3105 - removing icu4j from activemq-console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084520 13f79535-47bb-0310-9956-ffa450edef68",4,0
8d65328f0f8a916e0702c550ff351df968eb681f,"https://issues.apache.org/jira/browse/AMQ-3105 - removing icu4j from activemq-core and some more fixes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084526 13f79535-47bb-0310-9956-ffa450edef68",4,7
68bcac109a2caf4855656ac0c94924d5c44f704a,"https://issues.apache.org/jira/browse/AMQ-3237 - FileLock.tryLock() doesn't work well in all environments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084533 13f79535-47bb-0310-9956-ffa450edef68",5,5
88c10842dff97f7a8e599cae09a993ea91a4a34b,"https://issues.apache.org/jira/browse/AMQ-3238 - Topic-Messages not redelivered to durable subscription after rollback and reconnect. resolve by making durable sub ack transaction aware, issue existed across all stores

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084550 13f79535-47bb-0310-9956-ffa450edef68",12,229
6f5b224ef49bfe754018a915bc1c7aace9e5b5d7,"see if the pool shutdown later helps

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084573 13f79535-47bb-0310-9956-ffa450edef68",1,1
3da9f1c6ea0836b5fed53b00f3cb3a40fad47e14,"https://issues.apache.org/jira/browse/AMQ-3219 - add prefix to mdc keys

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084576 13f79535-47bb-0310-9956-ffa450edef68",16,16
eee1db625aaa21d38e4ee36ac89dccdadd46cde2,"https://issues.apache.org/jira/browse/AMQ-3236 - revert use of all caps in property name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084604 13f79535-47bb-0310-9956-ffa450edef68",1,1
4552896e9161e71d1b7d19ce5054960de129a9fe,"https://issues.apache.org/jira/browse/AMQ-2968 - make it work nicely in osgi

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084613 13f79535-47bb-0310-9956-ffa450edef68",0,1
c42d8de03489baa6d6d5a3c6af42324bf4e0f37b,"https://issues.apache.org/jira/browse/AMQ-2852 - Memory leak when undeploying webapp with ActiveMQ client - AMQ store piece

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084633 13f79535-47bb-0310-9956-ffa450edef68",10,11
0bb98ba03825e7736b0f333a61b280424d204d6c,"https://issues.apache.org/jira/browse/AMQ-3142 - attempt to make it work with both 2.1.x and 2.2.x karaf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084635 13f79535-47bb-0310-9956-ffa450edef68",0,70
5cf486c97571e2426234f153ae220809a5e1da4e,"Update the test so that its not dependant on port 61616

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084751 13f79535-47bb-0310-9956-ffa450edef68",3,5
883eed0e385e9695a3746f1dede0a15c9fc24427,"Update the tests so that they're not dependent on port 61616

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084797 13f79535-47bb-0310-9956-ffa450edef68",157,181
4298a41af826537880fa3c46824945baa5c09c8c,"give it more time to produce for hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084892 13f79535-47bb-0310-9956-ffa450edef68",1,1
f23303ae66b302b26c63970455c71223a5a23eee,"add auto fail to ensure it won't block a hudson build again and we get a thread dump

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084900 13f79535-47bb-0310-9956-ffa450edef68",0,6
228abac0c13dd454072b4a74f65cc017e7c4d72c,"remove hard dependency on free ports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084902 13f79535-47bb-0310-9956-ffa450edef68",8,7
d68ef66f7bc7facf0424a29efc85bf2ce3d768dd,"https://issues.apache.org/jira/browse/AMQ-3142 - use 5.4.2 activemq-karaf for 2.1.x compatibility

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084933 13f79535-47bb-0310-9956-ffa450edef68",4,1
2f414913e169a5ccb1626f160cb0b2096650172e,"https://issues.apache.org/jira/browse/AMQ-3207 - Various improvements to features.xml possible with karaf-2.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1084938 13f79535-47bb-0310-9956-ffa450edef68",22,22
751ba900aec76163339c42bef5a5ed664a4cddf5,"fix for: https://issues.apache.org/jira/browse/AMQ-2171

Need to send a pull command when prefetch is zero, also adds test case for this issue.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1085080 13f79535-47bb-0310-9956-ffa450edef68",4,155
08bd791c5dce3711e36b3485d507578d2acc3a45,"On a slow machine this test can take a lot longer, so increase the wait time accordingly.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1085119 13f79535-47bb-0310-9956-ffa450edef68",3,5
d4d3915d9161e483aff6b59b6a1d0d93617b02a6,"help diagnose jenkins failure with expired messages advisory error, tidy up logging to include exception

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1085337 13f79535-47bb-0310-9956-ffa450edef68",11,18
8e3e5839e9c70243eb5cad0edfa709733e770ae2,"change camel to version 2.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1085377 13f79535-47bb-0310-9956-ffa450edef68",1,1
bbd4b33646909a2036a2a95a0b3004526161fb3b,"On really slow machine this test can take a bit longer than the current timeout.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1085539 13f79535-47bb-0310-9956-ffa450edef68",1,1
53f789b475b67e09d8843bca7a3dc2c54b471381,"fix for: https://issues.apache.org/jira/browse/AMQ-3241

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1085773 13f79535-47bb-0310-9956-ffa450edef68",2,2
41506505f4b348b7e5b720150f476448914b434e,"https://issues.apache.org/jira/browse/AMQ-1780 - ActiveMQ broker does not automatically reconnect if the connection to the database is lost - extend the DefaultIOExceptionHandler http://activemq.apache.org/configurable-ioexception-handling.html to be aware of sql exceptions and provide a connector stop/resume option. This is now called in the event of a failure to get a jdbc connection, the default behaviour is to stop as before, but new iptions to ignore some sql exceptions or to stop/resume connectors are supported which allow a db restart to be recovered without restarting the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086182 13f79535-47bb-0310-9956-ffa450edef68",16,313
5b11c0e476771ae94fe073bc3d6cf09912ba058d,"https://issues.apache.org/jira/browse/AMQ-2662 - ActiveMQEndpointWorker.stop() sometimes is needing many minutes to shutdown; patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086210 13f79535-47bb-0310-9956-ffa450edef68",1,1
d3676e4bc85a2226df48fbcfb27fc6b3f02b44f1,"https://issues.apache.org/jira/browse/AMQ-3244 - reload=false for PropertiesLoginModule

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086219 13f79535-47bb-0310-9956-ffa450edef68",32,52
8443bd188a4d45779b6b9385611203e5a8e7dfc5,"https://issues.apache.org/jira/browse/AMQ-3236 - preserve store compatability with new ack attribute. Only use version 7 openwire on the wire, persist using version 6 format. New ack cause attribute does not need to persist as it gets set in a DLQ message property. resolve regression - org.apache.activemq.store.amq.reader.AMQReaderTest.testIterateArchive

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086277 13f79535-47bb-0310-9956-ffa450edef68",3,8
625f5e38a550915f6374b26ff2c28998ef53ac8d,"ExpiredMessagesWithNoConsumerTest failure on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086280 13f79535-47bb-0310-9956-ffa450edef68",2,3
69ac6cc55e8d8e60b5b8e898fbc5106561a2c3fd,"add missing license text

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086294 13f79535-47bb-0310-9956-ffa450edef68",0,33
c94de4230a98c261a8d1afcae16fc86e90aa057b,"[maven-release-plugin] prepare release activemq-5.5.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086315 13f79535-47bb-0310-9956-ffa450edef68",31,31
442232514c32f2433880dda054532b4303ade2a0,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086321 13f79535-47bb-0310-9956-ffa450edef68",31,31
b0a38ff6c106aa70d58ace22bebdde627a035d26,"Update the test case so that its not dependent on port 61616

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086378 13f79535-47bb-0310-9956-ffa450edef68",92,94
70daf6ef7456ee2a7411c43c799ca489abe451f7,"AMQ-3246 - Fixed warning in example producer output

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086386 13f79535-47bb-0310-9956-ffa450edef68",1,1
eb22a02563844edb7f1f81666dd50e220893ac88,"https://issues.apache.org/jira/browse/AMQ-3236 - fix regression in MessageAckTest, ensure wireversion is used for marshaller test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086542 13f79535-47bb-0310-9956-ffa450edef68",3,3
d8c142f1f4bfa20473ae04ba445ba0c52498bae4,"https://issues.apache.org/jira/browse/AMQ-3249 - removing jaxb and stax from dependencies and distro

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086566 13f79535-47bb-0310-9956-ffa450edef68",142,2
628a0cde014a6ebab83e0c1953343a4c49d25882,"https://issues.apache.org/jira/browse/AMQ-3251 - javax.jms.TransactionInProgressException: Cannot rollback() inside an XASession. Make session xa aware such that it won't try local rollback, session is returned to the pool

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1086593 13f79535-47bb-0310-9956-ffa450edef68",2,145
3df7404d3e2e7036bf03d86f7b82b4dcdee1aef4,"https://issues.apache.org/jira/browse/AMQ-3247 - DEFAULT_JMX_URL for commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1087251 13f79535-47bb-0310-9956-ffa450edef68",4,10
b9045dba98f053e31fb93922978334b126ad146b,"https://issues.apache.org/jira/browse/AMQ-3253 - Support Temporary Destinations in a network without advisories. Allow the connection id generator prefix to be set via a connection factory such that temp identies can be configured such that they are suitable for inclusion in a network list of statically included destintions. Allow auto recreation of temp destinations by a new producer and tie lifecycle to the producers connection. This allows configurable support for request reply with temps in a network with advisory support disabled

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1087330 13f79535-47bb-0310-9956-ffa450edef68",17,310
254d9209f59bebc7fb63c9081dc14d1cbdebe78a,"https://issues.apache.org/jira/browse/AMQ-3253 - Support Temporary Destinations in a network without advisories. Support hub and spoke, such that two spokes can communicate. Revisit https://issues.apache.org/jira/browse/AMQ-2571 to make creating temp destinations on command configurable broker setAllowTempAutoCreationOnSend=true and allow temp destinations to be gced via gcInactiveDestinations policy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1087912 13f79535-47bb-0310-9956-ffa450edef68",27,126
d55a3922c918a14d53a1fe1583cbc98825d559e1,"https://issues.apache.org/jira/browse/AMQ-3253 - Support Temporary Destinations in a network without advisories. Allow gc of regular destinations that have just network consumers, hub/spoke case with dynamic real reply destinations. policy entry: GcWithNetworkConsumers now applicable to all destinations. addition to https://issues.apache.org/jira/browse/AMQ-2571

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1088557 13f79535-47bb-0310-9956-ffa450edef68",28,38
1760d1aefb6d85799fc6d5ab0b13d6bb70e8f220,"https://issues.apache.org/jira/browse/AMQ-3262 - queue browser and message order

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1088593 13f79535-47bb-0310-9956-ffa450edef68",0,56
951d87066cb2a2d4184042d02be5337b9091b6cc,"https://issues.apache.org/jira/browse/AMQ-3263 - ActiveMQ LoggingBrokerPlugin too verbose. add logSessionEvents attribute to split connection and session info. Patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1088631 13f79535-47bb-0310-9956-ffa450edef68",5,18
7fdd58e5b251c1400fe62a077e4436e2eb4aa2e9,"https://issues.apache.org/jira/browse/AMQ-3268 - Cannot use <SslContext> tag in blueprint configuration. Pull Resource from the api such that that string schema matches the java api. A resource is still used in the implementation such that a local or relative path or uri is supported

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1088944 13f79535-47bb-0310-9956-ffa450edef68",22,55
a345cd3d56163625f6df6ff24e6155e953f28c08,"https://issues.apache.org/jira/browse/AMQ-3244 - make checking of the file timestamps default for the jaas properties loging module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1088955 13f79535-47bb-0310-9956-ffa450edef68",14,18
aa24935f7bd438333e19d30dd9a890a75ba7baf4,"https://issues.apache.org/jira/browse/AMQ-3269 - ACTIVEMQ_MEMORY_OPTS

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1088979 13f79535-47bb-0310-9956-ffa450edef68",2,4
2ebdadabc993f81f3b2113664fe82c5f0601c28f,"setting ACTIVEMQ_OPTS after loading configs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1088989 13f79535-47bb-0310-9956-ffa450edef68",4,4
2327e3975bf3c41a53d3dee3c9b5ec24d30486f2,"https://issues.apache.org/jira/browse/AMQ-2710 - extend example to show dynamic destination determination based on the message original destination property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1089033 13f79535-47bb-0310-9956-ffa450edef68",1,20
2f869e32d0bee6176cb18b77c950bd8d3edc63d3,"https://issues.apache.org/jira/browse/AMQ-2710 - use original destination from the message original for the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1089037 13f79535-47bb-0310-9956-ffa450edef68",3,1
47833b7fb16e67c66e3e32c0dd69bd25ecc1cb09,"https://issues.apache.org/jira/browse/AMQ-3273 - file lock on win

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1089772 13f79535-47bb-0310-9956-ffa450edef68",5,5
24ed4fe5ae91d78fab3018ad1a3ca13cc55a76e2,"https://issues.apache.org/jira/browse/AMQ-3275 - make udp protocol work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1089864 13f79535-47bb-0310-9956-ffa450edef68",8,8
4ab47eb9aad4c3c38a5191c00a3a97d0499855a3,"add baseDir option to jaas properties login module so that the path to properties file can be specified independt of the system property java.security.auth.login.config, useful when run with karaf jass arch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1090179 13f79535-47bb-0310-9956-ffa450edef68",12,15
15de238fd616f32d28a2b6cb484a08532a349776,"https://issues.apache.org/jira/browse/AMQ-3272 - prevent RejectedExecutionException in kahadb

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1090186 13f79535-47bb-0310-9956-ffa450edef68",19,28
2c27e5edf297cfe11dab7d88dfd93184c40532c1,"add quick test variant to validate presence of mdc between threads

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1090318 13f79535-47bb-0310-9956-ffa450edef68",0,7
8a2892b9d05457f4b67ef6efa6b696746f7e02d6,"https://issues.apache.org/jira/browse/AMQ-3276 - ConcurrentModificationException in embedded 5.5.0 broker. Rework https://issues.apache.org/jira/browse/AMQ-3219 - no need to set the context on thread creation as mdc impl uses an InheritableThreadLocal. This should avoid the concurrent mod, little test in mods to org.apache.activemq.bugs.AMQ2902Test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1090320 13f79535-47bb-0310-9956-ffa450edef68",92,0
efd4a3f723b052b04ab1c925ec97f2122771c368,"provide simple logging for perf plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1091078 13f79535-47bb-0310-9956-ffa450edef68",2,2
26cf6a7f263cea85778f5548235d37754209ff55,"https://issues.apache.org/jira/browse/AMQ-826 - ldap based authorization - making tests work again, upgrading to apache ds 1.5.7, fixing ldif

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1091401 13f79535-47bb-0310-9956-ffa450edef68",110,127
a072126722cc388f9854b62ebe83ae91c95c492d,"https://issues.apache.org/jira/browse/AMQ-3280 - support selectors in perf plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1091434 13f79535-47bb-0310-9956-ffa450edef68",2,90
046130ef8e15ac1acaf105d4e547214549d3dd74,"https://issues.apache.org/jira/browse/AMQ-826 - ldap based authorization - more fixes - support composite and easy advisory settings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1091862 13f79535-47bb-0310-9956-ffa450edef68",35,449
d822db72f34652335f299c631d6f1ed601f16282,"https://issues.apache.org/jira/browse/AMQ-3280 - adding a test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1092070 13f79535-47bb-0310-9956-ffa450edef68",0,120
efcd57f60d634c6027a2244e61fe66bba080d342,"https://issues.apache.org/jira/browse/AMQ-826 - ldap based authorization - add support for temp destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1092098 13f79535-47bb-0310-9956-ffa450edef68",7,126
2f5821b425a52f792dcdc1534b5f1eeb0cdae8b5,"https://issues.apache.org/jira/browse/AMQ-3282 - wrapper.conf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1092160 13f79535-47bb-0310-9956-ffa450edef68",2,2
459be2d0fbdc790a379b1a8e7ec4dccbcdd821d7,"https://issues.apache.org/jira/browse/AMQ-3283 - transaction support for perf plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1092753 13f79535-47bb-0310-9956-ffa450edef68",0,62
fc2d54866eb68e668632284afef4f34acf75f31a,"https://issues.apache.org/jira/browse/AMQ-3284 - web sockets and truncated body

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1094495 13f79535-47bb-0310-9956-ffa450edef68",1,1
eb24079a934ea6c5d7499b870d239b0ed1a4bcae,"https://issues.apache.org/jira/browse/AMQ-2774 - handling TransportDisposedIOException and making reconnection logic work in this case as well

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1094618 13f79535-47bb-0310-9956-ffa450edef68",3,0
315b00fa14f5c13971bb1b15dc02c3b5936ac270,"fix for: https://issues.apache.org/jira/browse/AMQ-3278
fox for: https://issues.apache.org/jira/browse/AMQ-3271

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1094807 13f79535-47bb-0310-9956-ffa450edef68",64,109
fe31092b5441db27181f8ebf96cf996e34aedc48,"https://issues.apache.org/jira/browse/AMQ-3288 - JDBC persistence adapter, intermittent performance degradation when a durable subscriber of priority messages falls behind. Store recovery was sometimes ignoring batch limit and would recover till memory limit was reached. Resolved issue with out or order delvery and immediatePriorityDelivery policy around memory limit boundaries. Resolved issue with over eager cleanup when priority and non priority destinations are mixed. Removed potential full table scan from cleanup. Resolved issue with null message ref (prefetch=0) and expiry. Added a bunch of corresponding tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1095352 13f79535-47bb-0310-9956-ffa450edef68",118,476
adc45e8801f14464428d7e833e5426fcc8ff6caa,"https://issues.apache.org/jira/browse/AMQ-3289 - ActiveMQ has problems storing >4K messages in Oracle - brought BlobAdapter up to speed and added @Override to other adapters to catch this sort of problem in the future

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1095376 13f79535-47bb-0310-9956-ffa450edef68",38,50
c395917fa7657184dde4899dcc1793c8ad687a83,"Ensure provided temp data store is started

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1097069 13f79535-47bb-0310-9956-ffa450edef68",0,7
ce6c902e03d2693d3e900b827fda3c13d47c5956,"ensure slf4j has a default impl to avoid ncdf error on startup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1097161 13f79535-47bb-0310-9956-ffa450edef68",0,4
86f3da3f8399daab529c80845f880422dd7b2031,"destroyApplicationContextOnStop is depreciated and ignored, causes a warn message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1097163 13f79535-47bb-0310-9956-ffa450edef68",3,3
12838c2811d37f0a9bb36e6608da4cfaa76b5637,"https://issues.apache.org/jira/browse/AMQ-3300 - Add support for soWriteTimeout and soTimeout to ssl transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1097191 13f79535-47bb-0310-9956-ffa450edef68",25,13
4fb190e444aac3370526dca5f339955c6f9b3a88,"verfication of discovered. params for static discovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1097793 13f79535-47bb-0310-9956-ffa450edef68",1,20
1319fbb4def73dfed66696e2ce10c8aaa121f044,"https://issues.apache.org/jira/browse/AMQ-3297 - add xtream necessary bundles to activemq-karaf/features.xml. patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1097794 13f79535-47bb-0310-9956-ffa450edef68",1,19
ddca4cf5906a815bdd43183c633aca76e31091bd,"null check in brokerSerice for jmx uri map and remove duplicated tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1100207 13f79535-47bb-0310-9956-ffa450edef68",113,5
101e7110bcd768fd8f08df063fcd4ef16f77f033,"https://issues.apache.org/jira/browse/AMQ-3305 - Implement ""exactly once"" delivery with kahaDB and XA in the event of a failure post prepare.
Fixed up transaction broker recovery processing and kahadb store such that pending recovered
messages and acks wait for and respect the eventual xa transction outcome. Essentially
implementing exactly once delivery semantics on failure. Updated the camel jms to jdbc
test route to validate correct failure recovery processing with geronimo, test pulls in
xa wrappers from jencks and openejb such that NamedXAResources are registered with geronimo.
Additional unit tests added.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1100208 13f79535-47bb-0310-9956-ffa450edef68",246,641
1d242a2786d8b51b9abf470a560af8eb19ea48b1,"https://issues.apache.org/jira/browse/AMQ-3305 - add RecoveredTransaction JMX MBean to allow administrative heuristic completion of pending xa transactions. handy in the event of the transaction manager having trouble

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1100288 13f79535-47bb-0310-9956-ffa450edef68",9,247
f494b5525b53f1fc15d538485b2a97a5174dc8a9,"jenkins deploy fails, seems to not follow 302 redirect, give it the current url to see if it is happier

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1100314 13f79535-47bb-0310-9956-ffa450edef68",1,1
d5813be3608894b015fe1704643076dd07a8afdb,"https://issues.apache.org/jira/browse/AMQ-3305 - fix regression, only ask store for size while we are active, such that we don't get errors on stop

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1100959 13f79535-47bb-0310-9956-ffa450edef68",1,3
0619a8757e308174447d9f0688cebff885bec7e2,"https://issues.apache.org/jira/browse/AMQ-3310 - IOException PListStore ""Could not locate data file"" from FilePendingMessageCursor. Issue with reference counting and async location initialsation resulting in inuse data file removal and data file leaking. Pulled cleanup into task that periodically queries lists for references

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1101085 13f79535-47bb-0310-9956-ffa450edef68",41,146
1667d800416a009815e371374304ea6741daa880,"https://issues.apache.org/jira/browse/AMQ-3308 - Minor code improvements in jaas module. patch applied with thanks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1101099 13f79535-47bb-0310-9956-ffa450edef68",25,53
842686a908c1d727a2bbdb37acd7b6f9ab6d5740,"https://issues.apache.org/jira/browse/AMQ-2063 - JDBC persistence adapter improvements. make cleanup conditional on cleanupInterval > 0. Variants of the other improvements are already present on trunk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1101109 13f79535-47bb-0310-9956-ffa450edef68",3,1
7e13a81851e9fd665e59f84949b976c7ac23679b,"https://issues.apache.org/jira/browse/AMQ-3314 - FilePendingMessageCursor isFull reports full in error when temp store is full, even if not needing the temp store. have cursor report full only if memory exhausted or temp usage exhausted and temp usage is needed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1101544 13f79535-47bb-0310-9956-ffa450edef68",1,61
3aaa1e73be7c555516333f813780f1428852d9c3,"fix for: https://issues.apache.org/jira/browse/AMQ-3306

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1101613 13f79535-47bb-0310-9956-ffa450edef68",2,4
0aa5c2a8891d8574057d7a38c0cb57b5a5652dd5,"https://issues.apache.org/jira/browse/AMQ-3315 - Allow socket option soLinger to be enabled on TcpTransport. url transport args ?soLinger=0 and ?transport.soLinger (for the broker accepted connectons) are now supported. a value > -1 enabled and sets the timeout to that value

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1101866 13f79535-47bb-0310-9956-ffa450edef68",2,19
717bca1a402772e55e40ee8385fbdcb1a3a78376,"https://issues.apache.org/jira/browse/AMQ-3272 - Handle RejectedExecutionException. In this case avoid the root cause, by allowing the semaphore to limit the enqueue tasks. Issue was in the cancel case locks were being release and the semaphore dropped while the executore queue still had the task pending, it needs to execute before the the samaphore can be released as it gates the task queue

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1102014 13f79535-47bb-0310-9956-ffa450edef68",1,109
a1c19c5e49db4312d2f27e0ef60945c13c4f6fa7,"https://issues.apache.org/jira/browse/AMQ-3316 - Memory leak in ConnectionStateTracker with MessagePull objects. Patch applied with thanks, good catch\!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1102018 13f79535-47bb-0310-9956-ffa450edef68",0,2
e8d45cb2d08f1a7e5ddbfbe2c10097a87f4e6c24,"https://issues.apache.org/jira/browse/AMQ-3316 - Memory leak in ConnectionStateTracker with MessagePull objects. resolve typo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1102023 13f79535-47bb-0310-9956-ffa450edef68",1,1
52d5189698af1c0ffd7a80dc2849c341eee67e52,"https://issues.apache.org/jira/browse/AMQ-3315 - Allow socket option soLinger to be enabled on TcpTransport. allow disable, soLinger == -1, disable, > -1 enable otherwise not set so system default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1102232 13f79535-47bb-0310-9956-ffa450edef68",4,8
b5579ac1caf331f494b5d2f1b7b557f7546e1b23,"https://issues.apache.org/jira/browse/AMQ-3135 - add remote address to connection info advisory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1103673 13f79535-47bb-0310-9956-ffa450edef68",0,11
e1ce6198725dcfe07d1c22c8a96a58642fef5392,"https://issues.apache.org/jira/browse/AMQ-3323 - LDAPLoginModule more debuging and exception messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1103745 13f79535-47bb-0310-9956-ffa450edef68",19,116
fefedf5fb1a9770fde6c756c00150ee8e934efaa,"Fix up svn ignore settings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1103774 13f79535-47bb-0310-9956-ffa450edef68",0,0
128a8f7a8e0de2b21d85f82977cc78560e3b71df,"https://issues.apache.org/jira/browse/AMQ-3325 - PList temp store, chunk stream does not exist when broker under stress. Sync issue around temp store list creation for subs pending message cursor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1104075 13f79535-47bb-0310-9956-ffa450edef68",42,250
fd6c731690fc82c3d40eb80a917646d8d99c139e,"https://issues.apache.org/jira/browse/AMQ-3135 - ConnectionInfo.clientIp - supporting duplex network case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1124299 13f79535-47bb-0310-9956-ffa450edef68",3,907
69579dcc6d340e7f11d5f66cd17809a4aab11ba2,"patch applied: https://issues.apache.org/jira/browse/AMQ-3328

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1125322 13f79535-47bb-0310-9956-ffa450edef68",4,4
e560055b706547b3ec220a29fc362a4f34d85798,"fix for: https://issues.apache.org/jira/browse/AMQ-3329

Update pom to include the same webconsole version as the other camel components.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1125371 13f79535-47bb-0310-9956-ffa450edef68",45,45
c1ebbc1465998706b254bcf004548845c4a1ad1e,"Fix for: https://issues.apache.org/jira/browse/AMQ-3312

Replace usage of CopyOnWriteArraySet in the MBean methods that don't require a thread safe collection.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1125427 13f79535-47bb-0310-9956-ffa450edef68",25,224
975fc55b2ae9de9ed630f69812914dc8267655df,"https://issues.apache.org/jira/browse/AMQ-3332 - Make optimizeAckTimeout configurable to allow for different network latencies. Added attribute optimizeAcknowledgeTimeOut to ActiveMQConnectionFactory and ActiveMQConnection to make this configurble. A value of 0 disables, default stays at 300ms

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1125454 13f79535-47bb-0310-9956-ffa450edef68",2,132
2528015fa3aaf1f94b1ae7aa1422ffe36d48fdbd,"Applied patch at https://issues.apache.org/jira/browse/AMQ-3321 : Add kerberos authentication support for transport over https

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1126702 13f79535-47bb-0310-9956-ffa450edef68",4,194
e11ece117cefd3a50ad43920de2a3246e3305266,"add list index that will keep x entries per page, basis for plist that is more space efficient

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1127543 13f79535-47bb-0310-9956-ffa450edef68",9,1021
5609826a9810b3cc51d2e894d382f58d99dd0aaa,"fix up some crazy auto imports on that new list node

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1127549 13f79535-47bb-0310-9956-ffa450edef68",14,3
cf5de8ebbea106f72ff8644514db7359fe9014b0,"https://issues.apache.org/jira/browse/AMQ-3335 - Allow TaskRunnerFactory to be configured on the broker via xml config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1127550 13f79535-47bb-0310-9956-ffa450edef68",12,66
4f6e7e4cc32df9adaab289225ecd2129bd9d2c8c,"Apply path for: https://issues.apache.org/jira/browse/AMQ-3334

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1127684 13f79535-47bb-0310-9956-ffa450edef68",1,2
7092b19dd2c916faf167ab25fa19e7085c862ccc,"fix for: https://issues.apache.org/jira/browse/AMQ-3337

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1128072 13f79535-47bb-0310-9956-ffa450edef68",63,452
0c4fe3ec9cace56d37643b546050a1ebf3f16e98,"fix for: https://issues.apache.org/jira/browse/AMQ-3337

Missed some commented out test code.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1128088 13f79535-47bb-0310-9956-ffa450edef68",4,4
6b12a404d5b0edebc9783b700a904d5c75f732ad,"https://issues.apache.org/jira/browse/AMQ-3338 - increase default max memory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1128266 13f79535-47bb-0310-9956-ffa450edef68",6,6
861e26c2975fd844db6aa550df8c9d1759d345f0,"https://issues.apache.org/jira/browse/AMQ-3135 - ConnectionInfo.clientIp - a correct remote for duplex

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1128280 13f79535-47bb-0310-9956-ffa450edef68",1,1
da0b3b5335acf2bab1baef614e3115bfca962a86,"https://issues.apache.org/jira/browse/AMQ-3340 - user/pass for examples

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1129225 13f79535-47bb-0310-9956-ffa450edef68",4,13
0fc20ee183829e5447ef7f995af9ad6cfcb8bd4d,"fix typo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1129227 13f79535-47bb-0310-9956-ffa450edef68",1,1
6fefadb620421c74547fe34e2e0209ec1fdde983,"https://issues.apache.org/jira/browse/AMQ-3341 - reseting destination map

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1129741 13f79535-47bb-0310-9956-ffa450edef68",0,7
71c0d441f90718a0760c9efcb136b84b0ef557ab,"fix for: https://issues.apache.org/jira/browse/AMQ-3337

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1129835 13f79535-47bb-0310-9956-ffa450edef68",13,30
f352e1e447cb25d2a283daf47f3e9efd6a4ea45e,"revert changes from https://issues.apache.org/jira/browse/AMQ-3329

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1129946 13f79535-47bb-0310-9956-ffa450edef68",1,1
3326ab91769493ba2bc9370bee73e87a2993c059,"https://issues.apache.org/jira/browse/AMQ-3347 - restart network connectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1130203 13f79535-47bb-0310-9956-ffa450edef68",1,157
0601fb71186e330cbae4641ccdbaa44df6ae1b94,"https://issues.apache.org/jira/browse/AMQ-3348 - network connector restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1130441 13f79535-47bb-0310-9956-ffa450edef68",0,253
27e6dd7e8cfb88fcffba07440d1febd96df9f9b6,"https://issues.apache.org/jira/browse/AMQ-3347 - network connector restart/re-add

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1130469 13f79535-47bb-0310-9956-ffa450edef68",0,91
f0edbfdd6715277e4fd51aa843990575f8b4f84a,"https://issues.apache.org/jira/browse/AMQ-3349 - web console tooltip style

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1130496 13f79535-47bb-0310-9956-ffa450edef68",1,2
2b102598dc95d1a436db57b933ca3332ef867e54,"https://issues.apache.org/jira/browse/AMQ-3351 - Usage of the temp store index by the PList needs the be improved. new implementation puts the max entries in a page, reading/writing requires substantially less page access and disk access when pending messages build up

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1130607 13f79535-47bb-0310-9956-ffa450edef68",825,500
0817f5d5dfc5054b49f0d75fff1e282a1801531e,"https://issues.apache.org/jira/browse/AMQ-3352 - failover ConnectionStateTracker can lead to OOM with TextMessages. have the cache retain the original message so that it can use the correct formatted size when it is evicted so the addition and substractions match

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1130865 13f79535-47bb-0310-9956-ffa450edef68",5,79
c255d1ddcb29a93c1ce0e6dfc14f85d2b46d1fd9,"https://issues.apache.org/jira/browse/AMQ-3356 - DispatchedQueueCount (messages pending dispatch) should be visible on the jmx connection view

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1130974 13f79535-47bb-0310-9956-ffa450edef68",1,16
7631ca9cad05d0fac599a80e40dda383747fb80a,"https://issues.apache.org/jira/browse/AMQ-3357 - vmQueueCursor or fileQueueCursor with expired messages in the store can lead to startup hang with kahaDB. Use a write lock for recovery processing. Add kahaDB and jdbc test to validate for both cursors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1131010 13f79535-47bb-0310-9956-ffa450edef68",4,140
a2f3e8a3d1185e993da0564322b57b887db21889,"remove obsolete attribute: syncOnTransaction

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1131035 13f79535-47bb-0310-9956-ffa450edef68",9,0
f6061bd4c6d5b0b2abdcb123d5aa5e3fa57aa152,"https://issues.apache.org/jira/browse/AMQ-3351 - moving LocationMarshaller to kahadb module, so it can work well in osgi environment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1132587 13f79535-47bb-0310-9956-ffa450edef68",0,0
d0b43c1a60e6476eecdf932981217fecc67fe9e9,"https://issues.apache.org/jira/browse/AMQ-498 - prevent dos attack for nio transport by specifying large frame size

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133003 13f79535-47bb-0310-9956-ffa450edef68",5,16
629b18cf2780324152256db3f371dfff6c3c8c14,"https://issues.apache.org/jira/browse/AMQ-3337

Adds some enhancements to the ProducerView functionality.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133180 13f79535-47bb-0310-9956-ffa450edef68",347,461
c43282ed8e277d95447110f727be909f3f67314e,"https://issues.apache.org/jira/browse/AMQ-3337

Updated unit tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133399 13f79535-47bb-0310-9956-ffa450edef68",345,344
d34967bdd07ddc0635b6a0b02adaa6a6be54abba,"https://issues.apache.org/jira/browse/AMQ-3337

Create a better ObjectName for dynamic destination producers.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133564 13f79535-47bb-0310-9956-ffa450edef68",3,4
6ad39a36151485d7b66ec82b6450615e991c2489,"https://issues.apache.org/jira/browse/AMQ-3337

Use the same case as the Topic and Queue destinationType filters.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133579 13f79535-47bb-0310-9956-ffa450edef68",1,1
e5e99d72f367dd5b2d2b2ba67366aa694e2cd407,"https://issues.apache.org/jira/browse/AMQ-498 - make max frame size part of wire format negotiation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133915 13f79535-47bb-0310-9956-ffa450edef68",18,69
8a82119dd58415de9ce63ad6fbea1aa9b8a841b6,"https://issues.apache.org/jira/browse/AMQ-498 - check max frame size before umarshalling commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133956 13f79535-47bb-0310-9956-ffa450edef68",1,31
a4b8c8ee1a6646804a25d09bc81f20e1d355a18a,"https://issues.apache.org/jira/browse/AMQ-498 - check max frame size before umarshalling commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1133980 13f79535-47bb-0310-9956-ffa450edef68",0,4
6d48b4b07789e0315ad7fd66f038fa8c19b721c7,"https://issues.apache.org/jira/browse/AMQ-3337

The ProducerViewMBean should expose the ProducerId value.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1134107 13f79535-47bb-0310-9956-ffa450edef68",2,14
6718b5b8d9c0102f1af70e4d9c29df2b64aa90e0,"https://issues.apache.org/jira/browse/AMQ-3365 -  add hostname to pid file name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1135133 13f79535-47bb-0310-9956-ffa450edef68",1,1
ed3f61a7b720ebd99ca5e07e35e593a2691ea961,"https://issues.apache.org/jira/browse/AMQ-3362 - periodic expiry of durable sub msgs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1135649 13f79535-47bb-0310-9956-ffa450edef68",20,111
37384a1ad1d0aa4b76d011ccebef468c08a401c2,"https://issues.apache.org/jira/browse/AMQ-3135 - add remoteIp to network bridge advisory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1136026 13f79535-47bb-0310-9956-ffa450edef68",11,11
40ae055f37bab3f0844a5f2ca6449839440db964,"https://issues.apache.org/jira/browse/AMQ-3374 - first stab at fixing long kahadb tx oom problem

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1138442 13f79535-47bb-0310-9956-ffa450edef68",123,197
5bcd417f4bc5af129c8a3f5f4a9546708b8a8e58,"https://issues.apache.org/jira/browse/AMQ-3374 - long kahadb tx - configurable max size and better tmp file name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1138443 13f79535-47bb-0310-9956-ffa450edef68",7,7
984a9fb1c350b65759e5f86e6a1e82ef420ac3f1,"https://issues.apache.org/jira/browse/AMQ-3374 - long kahadb tx - parse long

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1138449 13f79535-47bb-0310-9956-ffa450edef68",1,1
b78867e18375b0b4a0218d1ac3c89e61f07aab3b,"https://issues.apache.org/jira/browse/AMQ-3362 - check expired messages only for inactive durable subs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1138925 13f79535-47bb-0310-9956-ffa450edef68",2,4
e085ed4d5f9704b42ebb2065bd45674af43f623d,"https://issues.apache.org/jira/browse/AMQ-3378 - isSlowConsumer for SubscriptionView

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1140098 13f79535-47bb-0310-9956-ffa450edef68",0,13
f7988655d3fbf57f290f8f8cbc25c15dc65e3b37,"https://issues.apache.org/jira/browse/AMQ-3379 - unique property eviction strategy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1140531 13f79535-47bb-0310-9956-ffa450edef68",0,182
007bd4cc563cb7313b685df992e87ccca7790600,"https://issues.apache.org/jira/browse/AMQ-3379 - unique property eviction strategy - remove oldest if there's no duplicates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1140665 13f79535-47bb-0310-9956-ffa450edef68",3,6
b5a19163bcdfd10968bdc9206f67afdf63b420ff,"fix for: https://issues.apache.org/jira/browse/AMQ-2524

When destinations are removed via JMX or by auto remove of inactive destinations an existing producer registration can be left with a reference to a resource that no longer exists but appears valid.  The destination should be marked as disposed so that a producer send can check to see if it should discard its current reference to the destination and either recreate it or update its cache to point to the currect destination resource.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1140770 13f79535-47bb-0310-9956-ffa450edef68",100,273
7539c7e9753fffddeb07042bf288512131989ddd,"https://issues.apache.org/jira/browse/AMQ-3289 - fix missing dummy arg for blob in initial insert

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1140872 13f79535-47bb-0310-9956-ffa450edef68",0,1
a798c855359525bc35b9c61a7023fe46a07f776c,"https://issues.apache.org/jira/browse/AMQ-3379 - unique property eviction strategy - remove oldest if there's no duplicates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1141033 13f79535-47bb-0310-9956-ffa450edef68",3,8
92b4d68b6fc2d022bc8299adf5d36c25f5bed4f2,"https://issues.apache.org/jira/browse/AMQ-3381 - connections.jsp double rows

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1141034 13f79535-47bb-0310-9956-ffa450edef68",4,4
4fcc1f7192d5b2811ac63e895c29018e66be61bf,"https://issues.apache.org/jira/browse/AMQ-3382 - statically included destination should be always forwarded

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1141124 13f79535-47bb-0310-9956-ffa450edef68",5,46
0bed411301c22f3d9b10ba53eaa546033d062a12,"Patch for: https://issues.apache.org/jira/browse/AMQ-3214

Should have any effect either way given the construtor args but user reports that its an issue in some environments.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1141331 13f79535-47bb-0310-9956-ffa450edef68",4,6
fc4a6497ea6e52c6b455f0121a841e8f249f69aa,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3383

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1141641 13f79535-47bb-0310-9956-ffa450edef68",2,18
ead8df6ed2a5b42349aa0b147011c04acca22791,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3326

Use of sync block was causing unneeded serialization of calls to add and remove producers and consumers when the inactivity purge wasn't running.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1141741 13f79535-47bb-0310-9956-ffa450edef68",9,29
af1b2328ee0b9ae8166a67078fe5bab93544385a,"https://issues.apache.org/jira/browse/AMQ-2484,https://issues.apache.org/jira/browse/AMQ-2324: Forwarded message cannot be distributed to the original broker, Avoid stuck messages in a network of brokers - implement destination policy that allows the network filter factory to be provided. A new implementation will allow queues to replay messages with a configurable delay once there are no local consumers. Also it allows a rate limit on the network consumer such that a statically included dest does not consume all messages if there is a slow local consumer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1142005 13f79535-47bb-0310-9956-ffa450edef68",110,477
7be63f21b1567c2d48d0e76c304dc3f4f87cc4e0,"Add test case for: https://issues.apache.org/jira/browse/AMQ-2528

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1142097 13f79535-47bb-0310-9956-ffa450edef68",1,19
f24b4f7569fd7812304ef8d01205544aaa4de390,"fix for: https://issues.apache.org/jira/browse/AMQ-3319

Concurrent read / write to the list is not protected, instead a read lock around both access points is used.

Switch to using a ConcurrentLinkQueue instead and remove the read lock around that code.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1142245 13f79535-47bb-0310-9956-ffa450edef68",27,7
d226f5089f63cf5fe46b6cccbd0c573d1dfeba45,"fix for: https://issues.apache.org/jira/browse/AMQ-2349
fix for: https://issues.apache.org/jira/browse/AMQ-2716

When a PooledConnection is closed the Temp Destinations of the contained Connection should be removed.

Applied patch from AMQ-2349 with modifications to prevent NullPointerExceptions and some other small cleanups.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1142267 13f79535-47bb-0310-9956-ffa450edef68",131,254
c8be8aa3874db21a2c6bb09bf527a54a96f619ab,"https://issues.apache.org/jira/browse/AMQ-2484,https://issues.apache.org/jira/browse/AMQ-2324: Forwarded message cannot be distributed to the original broker, Avoid stuck messages in a network of brokers - apply the new policy to two test cases

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1142605 13f79535-47bb-0310-9956-ffa450edef68",0,6
3cce6b7cbb5e5bb8d8496236e925019efb02d1a4,"resolve failure of UdpSendReceiveWithTwoConnectionsAndLargeMessagesTest and UdpSendReceiveWithTwoConnectionsTest, regression from https://issues.apache.org/jira/browse/AMQ-3383, additional wire member shows problem with wireformat copy. relates to https://issues.apache.org/jira/browse/AMQ-3236 - separate versioning of openwire for store and wire

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1142630 13f79535-47bb-0310-9956-ffa450edef68",2,1
4cf6dae48b18319315149f8e16b0e275f0a50207,"https://issues.apache.org/jira/browse/AMQ-3393 - Number of established STOMP connections constantly increasing. resolve contention over delayed stop. add count attribute to connector to see current number of connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1143080 13f79535-47bb-0310-9956-ffa450edef68",17,116
ac1c44f3243b2d935b9fea7716c43e904a2dc8a7,"https://issues.apache.org/jira/browse/AMQ-3393 - Number of established STOMP connections constantly increasing. resolve contention over delayed stop. Add soLinger=0 for hudson builds

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1143306 13f79535-47bb-0310-9956-ffa450edef68",1,1
40f914693993b7b60f31fd0c96cd13c833843449,"Test case for https://issues.apache.org/jira/browse/AMQ-3342 and applied patch with a few mods.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1143470 13f79535-47bb-0310-9956-ffa450edef68",287,425
f232ceced0f8b697dad7526fed011122179f2ad5,"https://issues.apache.org/jira/browse/AMQ-3353 - Durable subscribers on durable topics don't receive messages after network disconnect. Have suppression for durable subs be conditional on sub active such that reconnection/recreation/failover of bridge is not a problem. org.apache.activemq.usecases.NoDuplicateOnTopicNetworkTest still needs some work to deal with already exists errors from dupliate restarts.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1143482 13f79535-47bb-0310-9956-ffa450edef68",18,278
1ec990575d3fe71a78737f5f9a67834e784e5fc4,"apply patch for https://issues.apache.org/jira/browse/AMQ-3074

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1143535 13f79535-47bb-0310-9956-ffa450edef68",10,14
060f97dd87ff3f962d68905a23d08c3d50584106,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3012

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1143604 13f79535-47bb-0310-9956-ffa450edef68",5,5
d2bc650212c5addbad371ab5d0baab6282e1ae09,"test to verify camel transaction rollback bubbling back to amq rollback and dql processing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1143930 13f79535-47bb-0310-9956-ffa450edef68",1,150
fc36cd7d7bb42aa8fa6d59830a873361543a44d5,"allow main to easily pull xml config from a directory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1144339 13f79535-47bb-0310-9956-ffa450edef68",3,4
1f816d439e0c3669c3686a8db6a24544283c23d6,"https://issues.apache.org/jira/browse/AMQ-3397: Improve scalability of active durable subs with JDBC message store. Cache topic message sequence ids to avoid each ack going to the store twice, boost through put for active durable subs; 100 subs, 550->2200 for 2min test with mysql

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1144340 13f79535-47bb-0310-9956-ffa450edef68",4,38
d5b604ec58973e18ce48f6a1e7ab3ac17b7424eb,"Fix and test for: https://issues.apache.org/jira/browse/AMQ-2528

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1144736 13f79535-47bb-0310-9956-ffa450edef68",0,92
7877fd5ecd753ce7feec44488e0905b41e675e88,"https://issues.apache.org/jira/browse/AMQ-2584 - revisit, make audit optional on dlq stragegy, new attribute enableAudit default true. Set to false if resending to the dlq is required, can be usefull when redelivery from the dlq to the original dest is required and can repeat

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145092 13f79535-47bb-0310-9956-ffa450edef68",2,10
5967d76c8570b62656e8b849a2fd21d4704dcf87,"https://issues.apache.org/jira/browse/AMQ-3204: ensure xbean annotation is in doc comment so that it gets into the auto generated xsd

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145135 13f79535-47bb-0310-9956-ffa450edef68",1,1
fe63c29bcc18d54b622ca05dd70d3ba1c2f871f3,"https://issues.apache.org/jira/browse/AMQ-2911: Option to make all consumers retroactive. Patch applied and with thanks and an additional test. new destination policy entry 'alwaysRetroactive'.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145217 13f79535-47bb-0310-9956-ffa450edef68",3,60
095b4305ae265a8ba1db81d55819fc05d46b17a6,"https://issues.apache.org/jira/browse/AMQ-2911: Option to make all consumers retroactive. comment use of dest policy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145223 13f79535-47bb-0310-9956-ffa450edef68",1,2
49d6fa6c0517ca1fc05b47299345aa8ffafadc78,"fix for: https://issues.apache.org/jira/browse/AMQ-3227

ActiveMQInputStream will read the destination options and can be made to sync send via producer.alwaysSyncSend=true
Also remove the test cases dependency on port 61616.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145295 13f79535-47bb-0310-9956-ffa450edef68",9,82
f0d9f8320fd429c14952db0390843ddf5f9e8b55,"fix for: https://issues.apache.org/jira/browse/AMQ-3339

Adds the options maxPurgedDestinationsPerSweep to BrokerService.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145312 13f79535-47bb-0310-9956-ffa450edef68",59,89
e504086ca83763ef3ce524ac43800f8b86764a63,"https://issues.apache.org/jira/browse/AMQ-2583 - nio+ssl initial implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145534 13f79535-47bb-0310-9956-ffa450edef68",9,492
326d959b039edd6b7a8900e1843e0e02ac61dd0d,"https://issues.apache.org/jira/browse/AMQ-2583 - nio+ssl adding load test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145569 13f79535-47bb-0310-9956-ffa450edef68",2,119
cdf2e79f4861e641ec6eb81b08b5dcae157a20e9,"https://issues.apache.org/jira/browse/AMQ-2583 - nio+ssl use thread pool for long tasks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145577 13f79535-47bb-0310-9956-ffa450edef68",3,2
5016ecdcffc89fc3ac925dfbb6cda356cad6898d,"Fix for: https://issues.apache.org/jira/browse/AMQ-3023

browseMessages should return the message not the CompositeData instance that's returned by the browse method.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1145726 13f79535-47bb-0310-9956-ffa450edef68",8,8
a26f03fea2a365b343869d3812680ed884035de5,"https://issues.apache.org/jira/browse/AMQ-2583 - nio+ssl enable setting ssl engine properties like enabledCipherSuites

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1146636 13f79535-47bb-0310-9956-ffa450edef68",5,37
48fa20a7bd7aae8b767e8ff250decae2eb8ab058,"https://issues.apache.org/jira/browse/AMQ-2583 - nio+ssl change enabledCipherSuites only if they're set

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1146657 13f79535-47bb-0310-9956-ffa450edef68",1,3
7880521a1d4de183abc1ee55e2ff32a4205434f4,"https://issues.apache.org/jira/browse/AMQ-3135 - replay network bridge advisories for new consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1146717 13f79535-47bb-0310-9956-ffa450edef68",0,67
56a700110c94f533b427ebdba427cc7d2190ef4f,"https://issues.apache.org/jira/browse/AMQ-3400 - cached ldap autorization module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1147073 13f79535-47bb-0310-9956-ffa450edef68",0,1433
01bc7fa9c55d92ead2cd1f3a9fca3177bdd4b8fe,"https://issues.apache.org/jira/browse/AMQ-3400 - cached ldap autorization module - xbean support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1147104 13f79535-47bb-0310-9956-ffa450edef68",16,15
8e61f519dfe216ec72de44909f267c426644eb5a,"Fix for https://issues.apache.org/jira/browse/AMQ-2922

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1147149 13f79535-47bb-0310-9956-ffa450edef68",617,1007
2cce056eb40fa176a765fac0cd831de215a0bcb2,"fix for: https://issues.apache.org/jira/browse/AMQ-2464

Use the JMX VirtualMachine Management API in tools.jar to find the JMS connector URL instead of the private sun APIs.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1147154 13f79535-47bb-0310-9956-ffa450edef68",55,113
1acc98bcd53cbcdffd8b7396d8cf14d45ff61996,"https://issues.apache.org/jira/browse/AMQ-3135 - TcpTransport.getRemoteAddress() better formatting

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1147812 13f79535-47bb-0310-9956-ffa450edef68",8,7
f7ef792e8cb52bb965fce8d11cfafe6db55f33cc,"fixing javadocs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1147936 13f79535-47bb-0310-9956-ffa450edef68",2,1
b895efce021677322165835b3f509b44c317a0ed,"Revert part of the fix for https://issues.apache.org/jira/browse/AMQ-2922 that removed the xbean element annotation.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1148072 13f79535-47bb-0310-9956-ffa450edef68",0,3
6f70393dfbc03c1288b289f7ba01dc0ba8b5bfb1,"https://issues.apache.org/jira/browse/AMQ-3408 - remove durable subscribers after certain time of inactivity

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1148289 13f79535-47bb-0310-9956-ffa450edef68",5,147
5f99d5c98a3d24424aea44626bbe78c24dfebed5,"https://issues.apache.org/jira/browse/AMQ-3408 - remove durable subscribers after certain time of inactivity - 5 min default task schedule

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1148300 13f79535-47bb-0310-9956-ffa450edef68",1,1
1b97cdd3c08ff66f09f3e371e21dc2096498736a,"https://issues.apache.org/jira/browse/AMQ-3406 - BrokerServiceAware for DiscoveryAgent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1148646 13f79535-47bb-0310-9956-ffa450edef68",2,8
9b32b717547b38f5d5c36ce5c233fbfa93ab24e9,"Fix for https://issues.apache.org/jira/browse/AMQ-2971

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1148925 13f79535-47bb-0310-9956-ffa450edef68",6,7
7ea64b42f22eea8f609c6d4decd0dff0c5455ed5,"https://issues.apache.org/jira/browse/AMQ-3404 - purge command with selector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1149095 13f79535-47bb-0310-9956-ffa450edef68",25,76
4d0dcb92692ab32eb37519c1e7423cb629994b10,"https://issues.apache.org/jira/browse/AMQ-3410 - custom factory for shell commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1149097 13f79535-47bb-0310-9956-ffa450edef68",10,51
5345d161a6fc670138ff6e774871218405c5897c,"fix failing test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1149349 13f79535-47bb-0310-9956-ffa450edef68",5,9
24785efa95b5bca36f6c6d6f8108b753af03eca7,"AMQ-3412: Don't export the package of META-INF.services.org.apache.camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1149434 13f79535-47bb-0310-9956-ffa450edef68",2,1
fd37c9f96822a3dde1092d65b6c443ebecab0962,"https://issues.apache.org/jira/browse/AMQ-3404 and https://issues.apache.org/jira/browse/AMQ-3410 tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1149492 13f79535-47bb-0310-9956-ffa450edef68",0,420
c78c2449cbe38fd41df56857ee2d336040ae57ac,"fix for: https://issues.apache.org/jira/browse/AMQ-2583 - nio+ssl initial implementation, don't flip the buffer when its just a plain buffer without SSLEngine wrapping as it result in setting the buffer position and limit to zero since that's where its position is already.  This fixes the failing Stomp NIO tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1149672 13f79535-47bb-0310-9956-ffa450edef68",15,11
036f2a8d7c379f6f1282a14a877502cb3b672b33,"https://issues.apache.org/jira/browse/AMQ-2583 - stomp+nio+ssl initial implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1150630 13f79535-47bb-0310-9956-ffa450edef68",117,377
4a015a95a46f932cf9293cf3f4b24e6a28dee1ff,"https://issues.apache.org/jira/browse/AMQ-3415 - rss field to show message timestamp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1150666 13f79535-47bb-0310-9956-ffa450edef68",1,1
e34ec0b7f0b0588ec7d327a544d180c40515438c,"https://issues.apache.org/jira/browse/AMQ-3411 - user/pass for consolne commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1150708 13f79535-47bb-0310-9956-ffa450edef68",106,541
e4dfd570b9df510f9c6472a33997a2094b28e5b6,"fix for: https://issues.apache.org/jira/browse/AMQ-3414

use schedule instead of scheduleAtFixedRate since we don't need read or write check tasks to ""catch up"" if delayed for some reason only to fire once the resources allow for it and then return to the standard delay for the next execution.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1150917 13f79535-47bb-0310-9956-ffa450edef68",4,4
4ce57a618e43d3f59a355f456f6e57a07575d85b,"AMQ-2922 Fixed the issue of KahaDBTransactionStore doesn' t store prepare command rightly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1151121 13f79535-47bb-0310-9956-ffa450edef68",4,9
170a7b5bf5388c5f05efdb9dc8ecfd51003ccb2a,"apply additional patch for: https://issues.apache.org/jira/browse/AMQ-3411 adding additional help info.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1151185 13f79535-47bb-0310-9956-ffa450edef68",1,14
5e6f8a1ee8a6591afdd6df2e9313b1a2ecf8c1e5,"AMQ-3417 upgrade Camel version to 2.8.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1151406 13f79535-47bb-0310-9956-ffa450edef68",59,86
b0f9afa1b322d3411d6a487837bcf233d4f31ca4,"Update the assertion messages to reflect the actual failure condition.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1151454 13f79535-47bb-0310-9956-ffa450edef68",79,79
1aafa4fa1cca56e557ec10d10654c7518930fb0d,"https://issues.apache.org/jira/browse/AMQ-3422 - bitarray serialization

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1151857 13f79535-47bb-0310-9956-ffa450edef68",1,1
8c59bc3348e4d213ea3bc8f6e672980f1b216bad,"https://issues.apache.org/jira/browse/AMQ-826 - useManifestOnlyJar = false for apache ds tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1151900 13f79535-47bb-0310-9956-ffa450edef68",6,1
cef02210b758363e626f996c0c88f9a84e56c47f,"fix for: https://issues.apache.org/jira/browse/AMQ-3426

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1152194 13f79535-47bb-0310-9956-ffa450edef68",5,5
2a6a4b282fa44e84df2b855a479dbfd38f34f797,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3292

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1152521 13f79535-47bb-0310-9956-ffa450edef68",46,45
70997eeaf9660bc4179e2c547a3b151e774900da,"https://issues.apache.org/jira/browse/AMQ-3427 - compile with jdk7

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1152720 13f79535-47bb-0310-9956-ffa450edef68",1,6
be37064a17b0342cae90c29d78babc09395d82be,"https://issues.apache.org/jira/browse/AMQ-3430 - activemq web - session pool

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1152747 13f79535-47bb-0310-9956-ffa450edef68",3,21
44ef96e6d31d819340a7214c60fb51de82d6c875,"https://issues.apache.org/jira/browse/AMQ-3431 - guard debug logging

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1152757 13f79535-47bb-0310-9956-ffa450edef68",10,30
14755a19d5add800c13240e63c6c2fd288d2e6a1,"https://issues.apache.org/jira/browse/AMQ-3422 - producer audit needs string rollback, plus don't fail if we cannot recover producer audit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153125 13f79535-47bb-0310-9956-ffa450edef68",7,81
24cd2b3f2902242fc8b62bdcaf098405f290392e,"https://issues.apache.org/jira/browse/AMQ-3435: Connection is taking a long time to close warning and hung close thread. Ensure stop called during start can attempt a stop such that it does not hang

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153419 13f79535-47bb-0310-9956-ffa450edef68",1,1
bf59b7d70f7552053cfecb66db64658a314ae32c,"https://issues.apache.org/jira/browse/AMQ-3434: Contention in PLIist creation results in NPE on load - FilePendingMessageCursor. Resolve contention on creation, tidy up ListIndex iterator remove and plist release, additional test that stresses contention such that it can reproduce the stomp load test scenario

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153420 13f79535-47bb-0310-9956-ffa450edef68",167,380
4798cea1812de65261a91c7e2ea405b8842e963c,"https://issues.apache.org/jira/browse/AMQ-3427 - compile on jdk7

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153425 13f79535-47bb-0310-9956-ffa450edef68",9,14
fa2b058dd52fb447b893512dfbb5eb370c456926,"https://issues.apache.org/jira/browse/AMQ-3375: stomp consumer might not receive all msgs of a virtual topic queue with memory limits. Committing tims test case which works fine post resolution of https://issues.apache.org/jira/browse/AMQ-3434

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153463 13f79535-47bb-0310-9956-ffa450edef68",0,284
01ae0eaf9282cff8e398a4ed47f15bc535c05d50,"https://issues.apache.org/jira/browse/AMQ-3422 - don't remove journal file with current producer tracker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153482 13f79535-47bb-0310-9956-ffa450edef68",1,4
a6b85cc9f3b2815724a6e57a4ebf349930c0013a,"https://issues.apache.org/jira/browse/AMQ-3353 - fix regression in NoDuplicateOnTopicNetworkTest, suppression only relevant to active durable subs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153588 13f79535-47bb-0310-9956-ffa450edef68",6,10
42e51a3368abe9b83c02d6d843835c10a54215ab,"https://issues.apache.org/jira/browse/AMQ-2411

remove some of the dependencies on port 61616 in current tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153649 13f79535-47bb-0310-9956-ffa450edef68",582,591
eee1a601263652597a624af76174b6d589fbc722,"fix for: https://issues.apache.org/jira/browse/AMQ-3259

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153675 13f79535-47bb-0310-9956-ffa450edef68",12,12
84a16161bebc4779d6b8ea94df37c5e90dfa704f,"Allows the class to set a field that isn't public but has a setter method.  Fixes the compile warnings as well.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153701 13f79535-47bb-0310-9956-ffa450edef68",12,31
8ec1347e3034f56ed407f38c177b1262cd026316,"resolve intermittent failure with this test, fix up the sync

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153849 13f79535-47bb-0310-9956-ffa450edef68",8,7
516558698af5c33e907afed65d766a51d501d41e,"https://issues.apache.org/jira/browse/AMQ-3383 - fix regression in org.apache.activemq.transport.failover.FailoverTransactionTest#testFailoverSendReplyLost, : being appended to the id to match input so a get for producer id on the audit will work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1153857 13f79535-47bb-0310-9956-ffa450edef68",1,1
c0513811a91b17d593941e567f789fe808d192d5,"https://issues.apache.org/jira/browse/AMQ-3438: Make use of remote port in Connection MBeanNames optional, useful when ephemeral range cycles quickly. added boolean attribute org.apache.activemq.broker.jmx.ManagementContext#allowRemoteAddressInMBeanNames, accessible via xml. when false, a transport connector will only be registered by its clientId (whic defaults to connectionid)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1154162 13f79535-47bb-0310-9956-ffa450edef68",11,113
d8b5e2d6e239df438ba33cd7bea9546c8354232c,"Allows the class to set a field that isn't public but has a setter method.  Fixes the compile warnings as well.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1154189 13f79535-47bb-0310-9956-ffa450edef68",48,62
3a181501b1814beb758b1feea690cb9062dc2b62,"test for: https://issues.apache.org/jira/browse/AMQ-2801

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1154258 13f79535-47bb-0310-9956-ffa450edef68",0,202
1898f9adbd9f3ffc166362ce001b53a5476992be,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3439

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1154964 13f79535-47bb-0310-9956-ffa450edef68",2,26
1e1b56878495b3762e401b13c324cb2eea63768f,"Give the wait for expiration a bit more time since a really slow disk + CPU can't seem to get it done in 30secs.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1155363 13f79535-47bb-0310-9956-ffa450edef68",3,10
fd6be7f340dfda1ccfd9c64a12345391bb4d2cbc,"Give this test more time to meet its criteria

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1155385 13f79535-47bb-0310-9956-ffa450edef68",42,42
caca105072af50c6593f865f247715e3150aa431,"https://issues.apache.org/jira/browse/AMQ-3442: Use real durable sub key as MBean name for inactive durable sub and improve metrics, fix inflight count on deactivate. resolved.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1155437 13f79535-47bb-0310-9956-ffa450edef68",38,169
a05c24980081fa3efc979c5d3add4d959c2bd2d7,"fix for: https://issues.apache.org/jira/browse/AMQ-2430

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1156392 13f79535-47bb-0310-9956-ffa450edef68",2,3
7a46a1c368845a532b0a6578218b8f0d7990b6e1,"https://issues.apache.org/jira/browse/AMQ-2411

remove some of the dependencies on port 61616 in current tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1156397 13f79535-47bb-0310-9956-ffa450edef68",16,32
b4b39509a9943209a9bf0aa646186fb699f55c94,"apply patch for: https://issues.apache.org/jira/browse/AMQ-2845

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1156748 13f79535-47bb-0310-9956-ffa450edef68",3,15
0e7d5a95238cb7f2c5ba750502b82b5b5d2b1656,"https://issues.apache.org/jira/browse/AMQ-2411

remove some of the dependencies on port 61616 in current tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1156835 13f79535-47bb-0310-9956-ffa450edef68",3,4
902627453272d56affeff71506e429e9e494afd4,"show the store location for a DB toString

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1157118 13f79535-47bb-0310-9956-ffa450edef68",0,5
0885c60c4df1e4cb94514ce4c8cd5f78fd1b56e3,"fix for: https://issues.apache.org/jira/browse/AMQ-3449

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1157238 13f79535-47bb-0310-9956-ffa450edef68",957,2089
a6f1d756ef60c26ad9e5913e4dfd543bb4d3f248,"fix for: https://issues.apache.org/jira/browse/AMQ-1942

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1157433 13f79535-47bb-0310-9956-ffa450edef68",69,195
e917f4665631e9d04aaed70122205c3173e43fce,"Applied a patch from: https://issues.apache.org/jira/browse/AMQ-3260

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158031 13f79535-47bb-0310-9956-ffa450edef68",4,4
7557f0cfa53f5e87d20228ef89214ed2c51ec8ad,"apply patch for: https://issues.apache.org/jira/browse/AMQ-1540

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158044 13f79535-47bb-0310-9956-ffa450edef68",8,33
f1486c650d026fc980f2b17b7e438d83bcebd384,"Applied a patch from: https://issues.apache.org/jira/browse/AMQ-3260

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158333 13f79535-47bb-0310-9956-ffa450edef68",45,58
f1f6894ed71da0f7add81b3d9a82c6f33f812efb,"Test case to show that https://issues.apache.org/jira/browse/AMQ-3405 is not a bug.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158471 13f79535-47bb-0310-9956-ffa450edef68",0,277
5daeb53cc418e8f233aadf53aaf4cb720d50b951,"https://issues.apache.org/jira/browse/AMQ-3455: Broker may deadlock when creating queues under load with wildcard consumers - remove unnecessary class sync that results in lock order acquisition problem - related to https://issues.apache.org/jira/browse/AMQ-3197 sync on create. Additional test with concurrent producers/consumers on wildcards reproduces

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158591 13f79535-47bb-0310-9956-ffa450edef68",3,155
320d87cfce4b9b5e6d6f0d0cfb994334b976f934,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3457

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158694 13f79535-47bb-0310-9956-ffa450edef68",7,36
477a78cdba2b3f050234c62f81d734023a697ddc,"https://issues.apache.org/jira/browse/AMQ-3456: Update activemq-admin usage to include info on how to change JMX access

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158745 13f79535-47bb-0310-9956-ffa450edef68",2,7
a1b8df56053e28ffd794ba955637998b81d86980,"setAutoFail so we get a stack trace on a hang in nightly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1158822 13f79535-47bb-0310-9956-ffa450edef68",9,2
79c9f2d01365794b93c8e4251b0f645b0b3e2c1f,"https://issues.apache.org/jira/browse/AMQ-3459 - inactive durable subscriber view selector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159090 13f79535-47bb-0310-9956-ffa450edef68",2,9
12aeb272bd5ab5b76c61888f18ba33437de351c6,"don't let a hang stop the nightly build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159142 13f79535-47bb-0310-9956-ffa450edef68",2,2
e23b8ea0a63db1fd5cacf0b23ca1d53393b4bf38,"https://issues.apache.org/jira/browse/AMQ-3459 - fix up outofdate merge

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159149 13f79535-47bb-0310-9956-ffa450edef68",2,2
c2179d15b72683be9217fe2f46defbde3d39aa07,"use autofail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159153 13f79535-47bb-0310-9956-ffa450edef68",0,1
039b646b4ef2e9252e19833d95e1c8106f9579e4,"add autofail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159168 13f79535-47bb-0310-9956-ffa450edef68",2,5
0d120559262e86127009e7421880752a2642a105,"add autofail to yet another test that seems to stop the nightly build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159294 13f79535-47bb-0310-9956-ffa450edef68",2,3
6994ecb5ac0b7505d5a16300a6d8caabe864d129,"https://issues.apache.org/jira/browse/AMQ-3374,https://issues.apache.org/jira/browse/AMQ-3443 - long kahadb tx, delayed tmp file removal

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159570 13f79535-47bb-0310-9956-ffa450edef68",16,25
32c06a0b1b20253bfb2e57ef12fcf08f738bf884,"some more autofail support to tests that can block a run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159581 13f79535-47bb-0310-9956-ffa450edef68",29,10
383a7acb05e4fbef4025857d50b84d851d97d8ab,"https://issues.apache.org/jira/browse/AMQ-3362 - revisit, place a limit on a browse such that the entire store is not recovered at once. Makes use of getMaxBrowsePageSize and getMaxExpirePageSize like the queue case, overhead is too large otherwise as durable sub test shows

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159662 13f79535-47bb-0310-9956-ffa450edef68",28,56
8d5f07b9ca0dedb9c94506581ffef49a3b8d1516,"disabled test that shows negative chunk offset in btree pagefile

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159697 13f79535-47bb-0310-9956-ffa450edef68",3,70
cd7fb6974db068a713e3ed6ab410bee8ca00bf4d,"ensure xml brokers are shutdown at test end

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159818 13f79535-47bb-0310-9956-ffa450edef68",1,11
b9b67d0677f9f27817ab05249aaf2c89a249893d,"See if a bit more time allows the file based version of the test to receive, persist and then expire the messages on the slow build machine.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159875 13f79535-47bb-0310-9956-ffa450edef68",1,1
5700d3004b7ea541b145bb1e7d6e77e7d2cc7d5b,"Update to latest slf4j on log4j now that pax logging supports it in its latest releases.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1159917 13f79535-47bb-0310-9956-ffa450edef68",9,8
4682d399ba01f4e4811d131eea8e9ec14282bac2,"https://issues.apache.org/jira/browse/AMQ-3463 - osgi and maven metadata

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1160316 13f79535-47bb-0310-9956-ffa450edef68",2,1
4b6648eba184a9e3c3bd4cee8809439d3de5af07,"https://issues.apache.org/jira/browse/AMQ-3463 - osgi and maven metadata

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1160656 13f79535-47bb-0310-9956-ffa450edef68",10,8
d1e7d69fc13e377b846688de82795aa393a259eb,"https://issues.apache.org/jira/browse/AMQ-3466: IndexOutOfBounds in kahadb with large number of subscriptions and pending messages. use long locations such that temp file appends do not overflow and ensure page file overflow does not leave oversized chunk, link pages till overflow fits in a page, + some additional tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1160681 13f79535-47bb-0310-9956-ffa450edef68",42,94
d36f2610deccd9643353eadb511d78276630b044,"https://issues.apache.org/jira/browse/AMQ-3464 - xml view for subscribers in admin console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1160737 13f79535-47bb-0310-9956-ffa450edef68",0,60
3efd4b0515e6972bec1e6d1a13e5dd61ee1bd24d,"fix for: https://issues.apache.org/jira/browse/AMQ-3454

Use a read / write lock on the destination mutex as many of the access points are simply reads of the underlying maps or a quite copy to another Collection.  The only time a write is done is during addDestination and removeDestination.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1160894 13f79535-47bb-0310-9956-ffa450edef68",49,103
8acbf4ceb5d0ceea26d468dd09ba710c8e0134e5,"Fix for AMQ-3468.  Updated to XStream v1.4.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1160923 13f79535-47bb-0310-9956-ffa450edef68",121,2
ff9f2fe167797d427fcab246f23c538fea31c314,"https://issues.apache.org/jira/browse/AMQ-3463 - upgrade maven-bundle-plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1161619 13f79535-47bb-0310-9956-ffa450edef68",1,1
c54967d4fe400b498e838493a1019797e0110017,"apply changes for https://issues.apache.org/jira/browse/AMQ-2961 updates some versions of dependencies and clean up the versions in the pom files so its easier to change in the future.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1161672 13f79535-47bb-0310-9956-ffa450edef68",112,133
d8d20f5621d14acfa75e27df1d7f340202ecc8b6,"allow early return if stopping, avoids some logging on shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162059 13f79535-47bb-0310-9956-ffa450edef68",0,3
86dc4d5c345423d55569c5da45177d41322ac1e0,"test to explore concurrent transacted consumption with camel and prefetch implications of pooling

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162061 13f79535-47bb-0310-9956-ffa450edef68",0,201
4f50d25a226284e8c4724a44c2f98680ef5da6ef,"https://issues.apache.org/jira/browse/AMQ-3474 - flush only if we have some non-persistent messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162063 13f79535-47bb-0310-9956-ffa450edef68",1,1
713dcaae564aedc88fbe321446c53e83f5481c75,"https://issues.apache.org/jira/browse/AMQ-3401 - pluggable unresolved destination trnasformer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162073 13f79535-47bb-0310-9956-ffa450edef68",1,89
35384de3a73e96c0fef1f585923986d54dfaa493,"second route is the way to use a second connection and let spring do the caching

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162175 13f79535-47bb-0310-9956-ffa450edef68",9,34
82df23e4a42cb07d51bc13cadae7c26570b8e42c,"fix for https://issues.apache.org/jira/browse/AMQ-3475

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162215 13f79535-47bb-0310-9956-ffa450edef68",1,32
17995e6fac36abce656990839f344b7509b484b6,"fix for: https://issues.apache.org/jira/browse/AMQ-3157

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162275 13f79535-47bb-0310-9956-ffa450edef68",31,219
33eb944e186ac52be7d946b14b815e0ac33045c4,"camel spring pool config, match concurrentConsumers to pool maxActive*num routes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1162743 13f79535-47bb-0310-9956-ffa450edef68",4,6
c6ed5ff237a7013918496bc99962413d9c24aff7,"https://issues.apache.org/jira/browse/AMQ-2868 - rework to remove sync on transaction completion, cursor updates are now stacked so that they ocurr in order, independent of thread execution after waiting for the journal to complete a write. This ensures that the cursors are updates in the same order as the index while still working wo the index lock. TransactedConsumerTest shows horizontal scaling now works better with transactions. Reworked metadata.lastUpdate to always work with the existing index lock rather than reaquire, this may help with spurious gc journal data file issue on windows - https://issues.apache.org/jira/browse/AMQ-3470

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1163613 13f79535-47bb-0310-9956-ffa450edef68",42,131
cf914d16af89af2f20eeb104b1444d32cf649f96,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3482

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1163815 13f79535-47bb-0310-9956-ffa450edef68",1,184
603b215841c5dc46c40a5dd7713ab906478eb3bf,"https://issues.apache.org/jira/browse/AMQ-3481 - stomp deadlock

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1163940 13f79535-47bb-0310-9956-ffa450edef68",1,56
bb2f0db7b8146aa1931d183caa3bb697838f540f,"https://issues.apache.org/jira/browse/AMQ-3427 - maven jar and archiver plugin updates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1163987 13f79535-47bb-0310-9956-ffa450edef68",0,12
588a3c359483c3a4a9c93993ab9fbd1976be9fb5,"make test a little more deterministic and simplify failure check

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1164056 13f79535-47bb-0310-9956-ffa450edef68",3,3
5ac1540c6339b54eead607d6a245a995f907b4d0,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3482 to return default behavior to blocking.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1164058 13f79535-47bb-0310-9956-ffa450edef68",129,117
937d5dd0c4df28fe81be5f259754bc8d3abff970,"let the test find its login.config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1164507 13f79535-47bb-0310-9956-ffa450edef68",1,18
82e3be347cc78316b759f5d196b8423b9a305a9f,"Some updates and changes to support some work on https://issues.apache.org/jira/browse/AMQ-3467

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1164936 13f79535-47bb-0310-9956-ffa450edef68",23,272
6e6d8605d359316c5d527952408e412e29973531,"https://issues.apache.org/jira/browse/AMQ-3467

Handle a potential NPE case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1165797 13f79535-47bb-0310-9956-ffa450edef68",2,14
9529b24046b717f8c467ff828c4cdca4c4eb0a94,"Apply patches for https://issues.apache.org/jira/browse/AMQ-3483

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1166164 13f79535-47bb-0310-9956-ffa450edef68",67,29
acde68e3abda44e2a972683c81086f3d9537f79c,"add test for: https://issues.apache.org/jira/browse/AMQ-3484

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1166177 13f79535-47bb-0310-9956-ffa450edef68",1,28
251dc7bb23f18bda3b2c2bd72b5fd3351f65e002,"fix for https://issues.apache.org/jira/browse/AMQ-3486 with test case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1166216 13f79535-47bb-0310-9956-ffa450edef68",99,123
3060a64c8c4e73cfef1e93f8cf1e20b0404b2262,"fix for https://issues.apache.org/jira/browse/AMQ-3493

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1167582 13f79535-47bb-0310-9956-ffa450edef68",20,66
4f14f1e5c09170abf94dd48541b6e572a1ca59f5,"fix for: https://issues.apache.org/jira/browse/AMQ-3488 along with test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1169514 13f79535-47bb-0310-9956-ffa450edef68",0,55
0d08a5a20fea55838ef5a834810868d9f98e55fd,"fix for: https://issues.apache.org/jira/browse/AMQ-3488

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1169549 13f79535-47bb-0310-9956-ffa450edef68",1,3
e97044d7ee3411fc4676d7035ad9b65a27496a24,"AMQ-3494: Upgrade to Camel 2.8.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170054 13f79535-47bb-0310-9956-ffa450edef68",1,1
232d59a77d7fa513d4a08a87fc246dd7231636e8,"CAMEL-3458: Using FQN in Camel TypeConverter file, after upgrade to Camel 2.8.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170056 13f79535-47bb-0310-9956-ffa450edef68",1,2
15953786d19e25ec05fb103d6778761edb9932d0,"https://issues.apache.org/jira/browse/AMQ-2922 - rework, introduce new store 'mKahaDB' that contains multiple filtered kahadb persistence adapters, destinations match a store using destination wildcards in the same way as policy entries. Transactions that span multiple stores use a local xa variant to ensure consistency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170201 13f79535-47bb-0310-9956-ffa450edef68",1109,2013
ede4964539f1e176a668417f678f8469696999b9,"remove duplicate declaration of mvn-jar-plugin

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170243 13f79535-47bb-0310-9956-ffa450edef68",7,3
68a8b6d62a8911ad8b304aa28abf48d3219d80e9,"https://issues.apache.org/jira/browse/AMQ-3496 - make use of the org.apache.activemq.command.UnresolvedDestinationTransformer to provide a default value for an unqualified destinations string for a stomp replyTo header

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170474 13f79535-47bb-0310-9956-ffa450edef68",1,31
ba0c1e59b222d5dc9bf9d10ecd3107178292f3c2,"https://issues.apache.org/jira/browse/AMQ-3497 - send subscription receipt early such that it cannot be preceeded by a message dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170523 13f79535-47bb-0310-9956-ffa450edef68",1,48
5cf4ada14afeaad7d560f2c652aaa59e697f0c8d,"AMQ-3498: Added support for using ActiveMQ Destination Options in the Camel endpoint uris, by specifing the options with destination. prefix.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170599 13f79535-47bb-0310-9956-ffa450edef68",0,113
8abb5b6df10a62445e9d14850184247a51f78ddb,"https://issues.apache.org/jira/browse/AMQ-3499 - increase transport failure to warn and exclude eof for stomp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170624 13f79535-47bb-0310-9956-ffa450edef68",3,5
06c00c1db82bd6c5d55d588fe90da173abbc4342,"https://issues.apache.org/jira/browse/AMQ-2961 - revert osgi-core to 4.1.0 as the 4.3.0 requires osgi.framework > 1.6, limiting number of container which can run it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170694 13f79535-47bb-0310-9956-ffa450edef68",1,1
334ade2f5dd83664439b3fb8581b36109c9452b0,"Some updates and changes to support some work on https://issues.apache.org/jira/browse/AMQ-3467

Enhance the ListIndex to improve performance of the remove and put operations, put is now a
real put and will update the element with the given key if it exists in the list, otherwise
it will add it to the end.  Also adds the ability for a single key/value pair to span more
than one page when needed, multiple elements will still reside on one page whenever possible.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170849 13f79535-47bb-0310-9956-ffa450edef68",14,279
b65626689dcf5f0775ddd25a8457f100d8f31363,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3492

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170867 13f79535-47bb-0310-9956-ffa450edef68",5,85
2f5ec047ddd2528f565302158bb7b9d1133cd0d9,"https://issues.apache.org/jira/browse/AMQ-3497 - make test case more deterministic using receipts on unsub such that a sub only gets one message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1170901 13f79535-47bb-0310-9956-ffa450edef68",3,12
94de98a64ce952c33ef9ed31ab83095138f7512a,"https://issues.apache.org/jira/browse/AMQ-2922 - give test scenario more time for hudson slow disks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1171006 13f79535-47bb-0310-9956-ffa450edef68",2,2
4a697f852a7c277139073150d5827a9f80b3bbab,"https://issues.apache.org/jira/browse/AMQ-3490 - defer setting init done flag till complete, ensure a failed init attempt is retried

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1171487 13f79535-47bb-0310-9956-ffa450edef68",1,1
943db3c3cb12b4c4504b4966135cf9a0cc69f0ba,"fixes for https://issues.apache.org/jira/browse/AMQ-3467 



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1171743 13f79535-47bb-0310-9956-ffa450edef68",87,239
7d082c36bbcbc3428e630523a54f169fe1fa017d,"https://issues.apache.org/jira/browse/AMQ-3490 - allow optional lazyInit of temp (plist) store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1172528 13f79535-47bb-0310-9956-ffa450edef68",0,13
a36e618f712f5c3492d531f5785fc97d5788c6db,"https://issues.apache.org/jira/browse/AMQ-3501 - make use of the encoded string! and add some tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1172572 13f79535-47bb-0310-9956-ffa450edef68",2,82
199c6838d4360535b7e8da773adbdfc5d4ef35ba,"Some updates and changes to support some work on https://issues.apache.org/jira/browse/AMQ-3467

Cleanup some code in the DataByteArrayOutputStream and fix an issue in the readUTF 
code that code result in a UTFDataFormatException to be thrown for no reason.

Adds some tests for those classes as well.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1172600 13f79535-47bb-0310-9956-ffa450edef68",103,252
5325cdb30b3e7cb1e93eca4a3b2fad7a9b1d9f0b,"fixes for https://issues.apache.org/jira/browse/AMQ-3467 

Clean up some code in MessageDatabase, add guards around logging to avoid big string ops when not
needed.  



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1172640 13f79535-47bb-0310-9956-ffa450edef68",58,76
e23afb339153fe22816cbfe450845ae806a17f2d,"change for https://issues.apache.org/jira/browse/AMQ-3467 

fix and issue created when the new changes were merged.




git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1173188 13f79535-47bb-0310-9956-ffa450edef68",14,13
e6a9ae2f311b5bf6ac5ca0f12885f3c15e26dba3,"https://issues.apache.org/jira/browse/AMQ-3507 - Large number of expiring messages causing QueueSize to groww. have cursor delegate to the destination for expiry processing. additional test. This will also sort out the intermittent failure of this test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1173583 13f79535-47bb-0310-9956-ffa450edef68",13,93
ad6b5e29db437b2c09309373a72d4dd605aea1f0,"https://issues.apache.org/jira/browse/AMQ-3289 - updates to Blob/Oracle JDBCAdapter - applied patch from William McDonald with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1173605 13f79535-47bb-0310-9956-ffa450edef68",12,17
f0e6f26623b73c34af549ae7805a1e60b3aff8ba,"fix for: https://issues.apache.org/jira/browse/AMQ-3506

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1173648 13f79535-47bb-0310-9956-ffa450edef68",21,182
d314b7f57d066913a95bfdece63997880d75d236,"https://issues.apache.org/jira/browse/AMQ-3449

Add the setters/getters back for the ignore wireformat options.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1174097 13f79535-47bb-0310-9956-ffa450edef68",0,16
2db7cbf4362c6841c3ff06004e007172b02e3304,"Remove the dependency on the fixed 61616 port number

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1174734 13f79535-47bb-0310-9956-ffa450edef68",45,49
1453c53105decd68fa6a0232a5491a3c5b94b4f2,"fix for: https://issues.apache.org/jira/browse/AMQ-3031	

Don't use the scheduleAtFixedRate method in our scheduler as we
don't really have a need for real time task execution, just use
the fixed delay scheduler so that jobs don't stack up.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1174951 13f79535-47bb-0310-9956-ffa450edef68",14,14
ca90cc7b8c9a0c440c5c8f37ab5bd2979a2accfc,"fix for: https://issues.apache.org/jira/browse/AMQ-3031	

Don't use the scheduleAtFixedRate method in our scheduler as we
don't really have a need for real time task execution, just use
the fixed delay scheduler so that jobs don't stack up.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1174952 13f79535-47bb-0310-9956-ffa450edef68",8,8
fef66a6e98cc669035d27ef3bed7cf9807c94488,"fix for https://issues.apache.org/jira/browse/AMQ-3242

Make the max value actually be Short.MAX_VALUE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1174954 13f79535-47bb-0310-9956-ffa450edef68",6,7
8976a6b973f927bf68457535adc363304b0a52ef,"fix for: https://issues.apache.org/jira/browse/AMQ-3511

Log Stomp frames sent and received by the StompTransport under
org.apache.activemq.transport.stomp.StompIO when the trace option
is enabled.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1175047 13f79535-47bb-0310-9956-ffa450edef68",2,3
2a0b4893c6b80423b74fbcf6c4173ae8666600c1,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3509

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1175855 13f79535-47bb-0310-9956-ffa450edef68",3,3
d717a495c74573ad8fce17fe4e7fac9b7f759c14,"fix for: https://issues.apache.org/jira/browse/AMQ-3465

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1176393 13f79535-47bb-0310-9956-ffa450edef68",27,223
bef9984b21cd0e7fedde3a9769acf54dd43543d0,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3512

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1176524 13f79535-47bb-0310-9956-ffa450edef68",4,85
3dbc9c9548118f4a580c0a5da477543b6aae6a9a,"apply code cleanup patch from https://issues.apache.org/jira/browse/AMQ-3322 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1176580 13f79535-47bb-0310-9956-ffa450edef68",189,177
02f63c97824ad2c567ffbea4b47b0d0b4bb711db,"fix for: https://issues.apache.org/jira/browse/AMQ-3515

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177022 13f79535-47bb-0310-9956-ffa450edef68",2,2
d9124246b77253026e60a52d6e1caa2ad0fe7cad,"fix for: https://issues.apache.org/jira/browse/AMQ-3514

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177026 13f79535-47bb-0310-9956-ffa450edef68",35,39
b6b69113b1c0eb78f05a95023355e678457b9d51,"apply fixes for https://issues.apache.org/jira/browse/AMQ-3513

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177088 13f79535-47bb-0310-9956-ffa450edef68",99,227
6d31ed72f0e4c907b35a8f2e650c4a98388a7dda,"Make the test work without relying on a sleep statement to get the results needed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177338 13f79535-47bb-0310-9956-ffa450edef68",23,25
ad76330eedd235a14c773206da7451cce7bf1305,"https://issues.apache.org/jira/browse/AMQ-3516

Add fix along with a unit test to ensure it stays fixed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177345 13f79535-47bb-0310-9956-ffa450edef68",18,129
1878e951c614944b2dcde8a90e31accf8ef88dd6,"Use a Wait condition instead of sleeps to detect completion.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177411 13f79535-47bb-0310-9956-ffa450edef68",43,28
7d8ce02dee5b71ac7a90bd82f4a39bf17e1842cf,"fix for: https://issues.apache.org/jira/browse/AMQ-3517

Adds tests for the backup option and cleans up some other the other tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177437 13f79535-47bb-0310-9956-ffa450edef68",69,306
ccca44a62085f5bb9204420393b9bab962cef625,"Apply fix for: https://issues.apache.org/jira/browse/AMQ-3518

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177445 13f79535-47bb-0310-9956-ffa450edef68",8,11
2030097e01c6ea65236bfc9616ed3b158f4ef7b8,"https://issues.apache.org/jira/browse/AMQ-3519 - Allow JMSRedelivered flag to survive a restart. Add transactedIndividualAck flag to connection factory and rewriteOnRedelivery to KahaDBPersistenceAdapter. These combine to persist the redelivery status on a rollback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177619 13f79535-47bb-0310-9956-ffa450edef68",125,556
601f54f0df8ee8b5be9e25b8c7563afe9f41fb21,"https://issues.apache.org/jira/browse/AMQ-3519 - allign tests with last minute attribute name change

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177621 13f79535-47bb-0310-9956-ffa450edef68",4,4
11ddb747d71c139af3d6dc7fc55d566ee33d1de9,"fix for: https://issues.apache.org/jira/browse/AMQ-3520

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177712 13f79535-47bb-0310-9956-ffa450edef68",7,7
633428c6e39f60be6c45ec43d09a50f8b742f242,"fix for: https://issues.apache.org/jira/browse/AMQ-3014

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177797 13f79535-47bb-0310-9956-ffa450edef68",17,213
0890672e087d95f3a9fa84fb62fe460d476f4609,"Add missing license header

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1177799 13f79535-47bb-0310-9956-ffa450edef68",161,177
e6254c2f8a5d27655b0b57f6fb758c800faa8bc9,"fix for: https://issues.apache.org/jira/browse/AMQ-3465

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1178398 13f79535-47bb-0310-9956-ffa450edef68",63,91
26b69e42bf8a3aabf8c445311a197a65dfdde273,"Turn off JMX for these tests to avoid instance already exists exceptions when creating a brokerService.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1178622 13f79535-47bb-0310-9956-ffa450edef68",18,21
71d4e2a2aa397f9fe21f40271382b4fda0421af3,"set explicit port for ldap server to correspond to client usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1178812 13f79535-47bb-0310-9956-ffa450edef68",1,1
082fdc562727fa39c7c3b7cd55d500a5e12056f5,"Fix for https://issues.apache.org/jira/browse/AMQ-3521

Moves the HTTP client up to the newest v4.1.2 release. Update some additional dependencies as well.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179226 13f79535-47bb-0310-9956-ffa450edef68",246,259
2f4d11f9b0e203cf40c990d211153d7ba4085057,"AMQ-3457 - check the connection id to make sure we don't delete someone else's temp dest

Reviewed by gtully



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179328 13f79535-47bb-0310-9956-ffa450edef68",1,90
c4222aa5888aa8ed67303fba91a8469d4a87a541,"rename incorrect test method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179333 13f79535-47bb-0310-9956-ffa450edef68",2,2
f793fbd7e64643841de0991cb9d09b7faf9bb391,"https://issues.apache.org/jira/browse/AMQ-3523 - NetworkConnector MBean unregistration can fail with a transport disconnect - leaving dangling mbean, fix and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179355 13f79535-47bb-0310-9956-ffa450edef68",3,47
6faa9c3546173d54605a523e2c8c05052fc1b7d7,"fix for: https://issues.apache.org/jira/browse/AMQ-3524

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179470 13f79535-47bb-0310-9956-ffa450edef68",30,32
58e9c66201799a2c2b6489be3429a1f8b4a502d1,"https://issues.apache.org/jira/browse/AMQ-3523 - fix issue with related test, org.apache.activemq.transport.discovery.DiscoveryNetworkReconnectTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179612 13f79535-47bb-0310-9956-ffa450edef68",2,4
c3a0de54b71a6b28cb9e7147da4b9e073bea555c,"Move to the latest Apache parent pom and fix some permission issues in the assembly generation.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179837 13f79535-47bb-0310-9956-ffa450edef68",17,25
ab12a60a3a494d3d19865f0f4854de20ac833b55,"https://issues.apache.org/jira/browse/AMQ-3526 - JDBC persistence adapter, destination mbeans not visible on restart till producers or consumers reattach. query to find inactive destinations was checking the wrong table name, resolved with new test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1179999 13f79535-47bb-0310-9956-ffa450edef68",1,99
680bfee67332ef8e9889302f10accf3da929048c,"https://issues.apache.org/jira/browse/AMQ-3527 - ./activemq script cannot be started on Solaris OS 10. restrict to bourne syntax and add fallback for whoami

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1180032 13f79535-47bb-0310-9956-ffa450edef68",42,52
617c436d2447f58030035c6580d9c5dfe3009cc8,"https://issues.apache.org/jira/browse/AMQ-3521

Update the javadocs link in the parent pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1180033 13f79535-47bb-0310-9956-ffa450edef68",1,1
bfd1be561daf6be51b31e9b23dee900dbfa392fa,"fix for: https://issues.apache.org/jira/browse/AMQ-2643 

track pooled sessions in the parent ConnectionPool and ensure 
they get closed and returned to the pool.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1180038 13f79535-47bb-0310-9956-ffa450edef68",5,112
216f74e0035ce90573509d4c6bc48ed84591238b,"Give a little extra time for the Stomp frames to take effect.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1180059 13f79535-47bb-0310-9956-ffa450edef68",2,3
8cf318788d9a2453b74bc8c22bd4aafdf8539aac,"fix for: https://issues.apache.org/jira/browse/AMQ-3481

Issues arises when the StompTransport is sending an Ack back for Auto Ack 
mode in the same thread as the message was dispatched in.  If an incoming 
command beats the auto ack to onCommand in the activity monitor it will block
as the original thread is now waiting on the incoming command for the transport
lock.  Need to send back the Auto Acks in their own thread using a Task Runner
in the Stomp Transport so that the dispatch thread can complete and release
its lock on the transport.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1180070 13f79535-47bb-0310-9956-ffa450edef68",9,78
2398a3a377b20437157c26896d77f603be379b4f,"https://issues.apache.org/jira/browse/AMQ-3519 - fix regression in org.apache.activemq.bugs.AMQ2983Test, transacted ack needs to use async remove to ensure a concurrent dispatch does not preceed an ack

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1180884 13f79535-47bb-0310-9956-ffa450edef68",3,5
3a806e98dc74251e22befcf04633c0210c81aeef,"Test for: https://issues.apache.org/jira/browse/AMQ-3324

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1181022 13f79535-47bb-0310-9956-ffa450edef68",0,148
9c9b85659ccdc4593ec8b02c716fa28400974f1c,"https://issues.apache.org/jira/browse/AMQ-3532 - expiry of offline durable subscription on activation can lead do duplicate expiry processing and negative pending cursor size, resolve duplicate cursor remove and contention with dispatch, additional test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1181112 13f79535-47bb-0310-9956-ffa450edef68",18,162
6468eba5e6de9a94ea8346742fec2058408ec973,"update openwire verison for 5.6 release, addition of security token in connection control

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1181219 13f79535-47bb-0310-9956-ffa450edef68",2,900
c8f42e72fbec1841296392e830bab677d831a3c4,"https://issues.apache.org/jira/browse/AMQ-3259 - remove ref to legacy maven-repository.dev.java.net, artifacts now in maven2 format

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1181707 13f79535-47bb-0310-9956-ffa450edef68",12,0
ab9bce6147f3c7a82f073d179662fda1e6c23047,"give consumer a little more time for slower hardware

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1181711 13f79535-47bb-0310-9956-ffa450edef68",1,2
39ca3de50e9d437b66a65fee5bc6641cb421f035,"https://issues.apache.org/jira/browse/AMQ-3491 - Investigate and resolve LGPL dependency via camel-web. Removing camel-web dependency due to its downstream lgpl dep. We can bring it back in if/when it is cleaned up

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1181860 13f79535-47bb-0310-9956-ffa450edef68",126,0
3b381e7c15e62d0162921f0bc26314f853ea68c1,"https://issues.apache.org/jira/browse/AMQ-3481

Further refine this fix to address some test failures. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1182049 13f79535-47bb-0310-9956-ffa450edef68",18,26
f33f32e892e8b40e0cd4888aadef9b3035265611,"fix for: https://issues.apache.org/jira/browse/AMQ-3481

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1182890 13f79535-47bb-0310-9956-ffa450edef68",131,219
8a3bdd9f717e1d8bf124d624b54dd50d214d86c1,"https://issues.apache.org/jira/browse/AMQ-1514

Adds support of HTTP proxy auth using HttpClient 4.1.2 APIs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1182931 13f79535-47bb-0310-9956-ffa450edef68",12,36
4acd13243ad5a39068b9c82c05210b57f78de252,"https://issues.apache.org/jira/browse/AMQ-3542 - Using failover: with static discovery in a network connector to choose from a master/slave tuple leads to hangs and invalid states. issue with demand forward bridge reacting to failover transport interupt/resume leading to race conditions. race condition with tracking bridges and restarts. change default maxReconnectAttempts=0 to mean none, -1 for infinte. Default behavour is still infinite. To reference a master slave pair, use: static:(failover:(a,b)?maxReconnectAttempts=0)?useExponentialBackOff=false. see org.apache.activemq.network.FailoverStaticNetworkTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1183062 13f79535-47bb-0310-9956-ffa450edef68",124,203
88f60580e3e3ae2a27b3f7639bfc6469f5bbe8b7,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3500


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1183143 13f79535-47bb-0310-9956-ffa450edef68",95,151
6579d9eadabed64988cc6dc2036a4ad18ac374b1,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3536

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1183342 13f79535-47bb-0310-9956-ffa450edef68",6,509
baac9e7e9a03f9142a788bf98b96012e54dfdf32,"fix for: https://issues.apache.org/jira/browse/AMQ-1132

Remove the dependency on the ActiveIO test.jar.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1183359 13f79535-47bb-0310-9956-ffa450edef68",168,0
9ff350033f72ebf0851a9b63b4a59e86d13bbb79,"fix for: https://issues.apache.org/jira/browse/AMQ-3543

Unit test added.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1183495 13f79535-47bb-0310-9956-ffa450edef68",14,70
56272fab37d850994109cb46ecb740974cc92519,"https://issues.apache.org/jira/browse/AMQ-3500

Only validate the params inside the domain of the producer or consumer.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1184834 13f79535-47bb-0310-9956-ffa450edef68",4,4
b7f280817d072be10c0314bff9f43d2d7b242564,"https://issues.apache.org/jira/browse/AMQ-3500

fix a cut and paste oops

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1184866 13f79535-47bb-0310-9956-ffa450edef68",1,1
75e6f1981d84f08d79846087a8196f7c8faecead,"TwoBrokerVirtualDestDinamicallyIncludedDestTest - test virtual topics over network of brokers setup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1185097 13f79535-47bb-0310-9956-ffa450edef68",8,62
6c4bcb3197b6f836b25ec4c7568709c8070a0d65,"https://issues.apache.org/jira/browse/AMQ-3500

Don't remove the options, just get them each time.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1185129 13f79535-47bb-0310-9956-ffa450edef68",2,4
970a97ac5fd2f489b0f6ba743612406d66f53f2a,"Push enough data through the socket so that the socket close gets detected.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1185210 13f79535-47bb-0310-9956-ffa450edef68",22,23
174c40579a9e2856d4e72907129c6cf4536b4618,"https://issues.apache.org/jira/browse/AMQ-3542 - further simplification of network bridge start, remove latch wait states, add duplex test variant

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1185765 13f79535-47bb-0310-9956-ffa450edef68",146,69
6c82480a108a0776632d44b5fa9a1d2e1d8a8501,"test for: https://issues.apache.org/jira/browse/AMQ-2200

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1185792 13f79535-47bb-0310-9956-ffa450edef68",0,100
f3e9ec0b81adfdbb5c44ef4d92b036ba5f60c6b5,"Removes the dependence on the fixed ports, should prevent needless test failures.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1185804 13f79535-47bb-0310-9956-ffa450edef68",34,23
3c3b5bbd74d4ba29cb9ed614ec0bd022c85cc506,"https://issues.apache.org/jira/browse/AMQ-3550 - local option for vritual topics

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186095 13f79535-47bb-0310-9956-ffa450edef68",15,28
5b11ea0e8f685725c28fc41a9af20b442a7d8ea8,"Adds some new tests in the HTTP transport layer.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186216 13f79535-47bb-0310-9956-ffa450edef68",0,320
54ff0ce448cbc46c546fdd4bf9d20b8ee43cdf96,"https://issues.apache.org/jira/browse/AMQ-3542 - remove duplicate bridge stop, could on occasion beat another thread to the stop and cause a deadlock, resulting in intermittent failure to restart a bridge

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186258 13f79535-47bb-0310-9956-ffa450edef68",7,12
1fd39c991ef5290c63f1155a28107974525732f8,"Remove dependence on fixed port.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186494 13f79535-47bb-0310-9956-ffa450edef68",45,31
1250163f394bd54e54c2d7a5e6fde93b6250f532,"https://issues.apache.org/jira/browse/AMQ-3481 - check for tryLock success before unlock

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186539 13f79535-47bb-0310-9956-ffa450edef68",1,3
f4e0725420ec14bf667c0caff5b74f6c0a028cdb,"https://issues.apache.org/jira/browse/AMQ-3542 - prevent failover reconnect till start is initiated, prevents connection establishment w/o a listener which ensures a bridge is already ready to handle a response and start a local bridge, useDedicatedTaskRunner=true can lead to this case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186654 13f79535-47bb-0310-9956-ffa450edef68",0,3
87e64a306d18ab6a9a3fdbe04bf2b1b80e59ec98,"fix for: https://issues.apache.org/jira/browse/AMQ-2229

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186787 13f79535-47bb-0310-9956-ffa450edef68",19,17
6d077dc7b445979e1b5d9e91cc9f898f0b07871f,"https://issues.apache.org/jira/browse/AMQ-3331 - apply variant of patch with thanks.
Added boolean attribute, alwaysSyncSend to the network connector. This allows the
behaviour for persistent messages to be applied to non-persistent messages.
It does not make sense to have an alwaysAsync mode as this could lead to lost
persistent messages.
Also, I agree with the assment of the use of the responseRequired flag, it should
be based on the persistence attribute of the message, which it is now.
This is vital such that messages sent in transactions are not sent async.
Thanks for the great test case, made life easier.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186813 13f79535-47bb-0310-9956-ffa450edef68",2,268
4553ff18ef3f85d80c456b73cbe1701561ac677a,"Remove fixed port usage and disable JMX since this test doesn't use it.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186833 13f79535-47bb-0310-9956-ffa450edef68",7,9
fa4025086337dcfd24ebccdd67647e9801aeba13,"Fix for: https://issues.apache.org/jira/browse/AMQ-2240

URI options that are unmatched should result in an error 
to prevent subtle errors in configuration.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186842 13f79535-47bb-0310-9956-ffa450edef68",49,146
8ce077800fdfa5aca341734cbc4ec69e5e645c61,"https://issues.apache.org/jira/browse/AMQ-3551 - exclude networkConnectors from sendFailIfNoSpace on producer flow control, with test for topic and queue networks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1186952 13f79535-47bb-0310-9956-ffa450edef68",15,153
4b202c1d7a1b10019c52bc61ac36df0b9a73abce,"fix for: https://issues.apache.org/jira/browse/AMQ-3556

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1187001 13f79535-47bb-0310-9956-ffa450edef68",78,143
85edfb34251ec3b00f29c0fb510bb857437bba67,"https://issues.apache.org/jira/browse/AMQ-3533 - mKahaDB, allow the directory of a filtered destination to be specified, such that destination journals can be split across disks. Fixed with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1187280 13f79535-47bb-0310-9956-ffa450edef68",3,32
5b796cd8d607c7dfa416dd358c5f0e5f8f22e7fc,"https://issues.apache.org/jira/browse/AMQ-3558 - Allow the base network consumer priority to be configured on a networkConnector. Addition of consumerPriorityBase atribute to networkConnector configuration, additional test. This allows the base to be configured such that one network connector can have priority over another

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1187461 13f79535-47bb-0310-9956-ffa450edef68",6,48
c273cab44a17a69b584ce7231388cd4d930bee31,"fix for: https://issues.apache.org/jira/browse/AMQ-3559

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1187538 13f79535-47bb-0310-9956-ffa450edef68",2,12
06611d9c1902ba01c5b32cd898d59317d38254f1,"Fix assertion error messages so that indicate an actual error.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1187577 13f79535-47bb-0310-9956-ffa450edef68",3,2
e7784672ac222a4cf1e27d33c3420a9f62278710,"https://issues.apache.org/jira/browse/AMQ-3504

Move to the latest Jetty version that still allows the Web Console to work.  This version has the latest websocket updates that jetty has to offer.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1187817 13f79535-47bb-0310-9956-ffa450edef68",236,228
534a44fbd6b703e31448f89c3feddf3a7f4e3a6f,"https://issues.apache.org/jira/browse/AMQ-3559

Fix for failing unit test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1188145 13f79535-47bb-0310-9956-ffa450edef68",1,1
0b1b6fa3ca1d4104fbf255a4bbb0894955c6185f,"Give this one just a bit more time to see if its just slow machines that cause it to fail.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1188146 13f79535-47bb-0310-9956-ffa450edef68",8,3
f4df288872bc5e140301b7c764faa53037f73dff,"fix for: https://issues.apache.org/jira/browse/AMQ-3562

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1188371 13f79535-47bb-0310-9956-ffa450edef68",1,2
9ba8d2681f0c241a36163a3a14e6cc839e53aba2,"https://issues.apache.org/jira/browse/AMQ-3564 - new masterslave: discovery scheme for network connectors to master slave pairs, more intuitive configuration. Layers over static:failover:(a,b)?maxReconnectAttempts=0. Impl and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1188641 13f79535-47bb-0310-9956-ffa450edef68",0,511
07eef8e293830baabb48ae8a7fd4b817e5b85326,"https://issues.apache.org/jira/browse/AMQ-3563 - Update javadoc links to point to JDK 1.6 and JEE 1.5. Patch applied with thanks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1188788 13f79535-47bb-0310-9956-ffa450edef68",9,14
ef850895a262f341ca5881b1da63e50cf1a2064c,"fix for: https://issues.apache.org/jira/browse/AMQ-3566

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1188839 13f79535-47bb-0310-9956-ffa450edef68",10,428
28e9cd7eee96ac7b66687cad47c6cb4c83bd4b10,"fix for https://issues.apache.org/jira/browse/AMQ-2526

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1188925 13f79535-47bb-0310-9956-ffa450edef68",22,28
e6909d8970b58fc2d85a32002ef4a92340ce5376,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3567

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1189370 13f79535-47bb-0310-9956-ffa450edef68",1,215
6778a49eecb2efe2af4fb6bb2a0d7c82f9861248,"https://issues.apache.org/jira/browse/AMQ-3568 - Consumer auto acking of duplicate message dispatch can lead to Unmatched acknowledge: and redelivery. Using individual ack in this case. Added a warn, as this sort of duplicate shoud be trapped by the store producerAudit, maxFailoverProducersToTrack may need an increase

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1189700 13f79535-47bb-0310-9956-ffa450edef68",9,262
90af5c59e84994a7be8990fe1f8a8d24ded006b7,"fix intermittent failure - org.apache.activemq.bugs.AMQ2764Test#testBrokerRestart, have network consumers use lower priority so that a local consumer can get all messages < prefetch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1189717 13f79535-47bb-0310-9956-ffa450edef68",1,1
cf33916c6e9ea519694cfa2878bf55d8f9e20b41,"this test takes too long in hudson, reduce the amount of messages processed, quantity does not add much to the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1189734 13f79535-47bb-0310-9956-ffa450edef68",1,1
0d01b16e25e6802ef0735cfe15a8e6e8e0ebd421,"Fixes AMQ-3570: Improve ActiveMQ's XSD to allow elements to appear in any order

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1189740 13f79535-47bb-0310-9956-ffa450edef68",1,4
48bf68124613aca336ffca3575a59fbec2020ca9,"https://issues.apache.org/jira/browse/AMQ-3235

Bumping Camel to 2.8.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1189949 13f79535-47bb-0310-9956-ffa450edef68",1,1
8340decaf3b648531b6f638600253ed03f5499ab,"Apply patch for https://issues.apache.org/jira/browse/AMQ-3541

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1189980 13f79535-47bb-0310-9956-ffa450edef68",32,257
9ee296722007049d18b56c77385a58cef72a5a98,"https://issues.apache.org/jira/browse/AMQ-3519 - fix intermittent failure of org.apache.activemq.broker.RedeliveryRestartTest. inddividual ack marking delivery must be sent sync

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1190265 13f79535-47bb-0310-9956-ffa450edef68",1,2
f0ed5d0c72f21c25fb582adc75c637505ce14851,"Fix a couple of tests that sleep for longer than necessary, use the Wait object when possible.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1190615 13f79535-47bb-0310-9956-ffa450edef68",6,14
83fde0b2a030332e0c3ce9b5518e84aab0f41e72,"fix for: https://issues.apache.org/jira/browse/AMQ-3547

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1195045 13f79535-47bb-0310-9956-ffa450edef68",8,114
15f641634b352c4292fbf7edd0055ed943f563e5,"fix for: https://issues.apache.org/jira/browse/AMQ-3547

Add an assertion to test that interrupted state is preserved.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1195046 13f79535-47bb-0310-9956-ffa450edef68",57,57
0a66b793320bcf9082cd829e253707d31a879f3c,"additional fixes for: https://issues.apache.org/jira/browse/AMQ-3547

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1195278 13f79535-47bb-0310-9956-ffa450edef68",20,104
0b6bf7ec1ba9df68ae6492408d482c984849c31c,"Fix for: https://issues.apache.org/jira/browse/AMQ-1853

Tests included.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1195615 13f79535-47bb-0310-9956-ffa450edef68",23,804
419fde44572294e11ec4d045bc9b54e5ccc880ed,"Fix for: https://issues.apache.org/jira/browse/AMQ-3537

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1195708 13f79535-47bb-0310-9956-ffa450edef68",12,121
4ab5e910cbcbe8e1232c7d275a70692926181662,"Fix timing dependent assertion.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1195988 13f79535-47bb-0310-9956-ffa450edef68",3,12
6ffbed9947badd291176c095c050894966e8298e,"test to valudate soWriteTimeout on the client

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1196570 13f79535-47bb-0310-9956-ffa450edef68",0,99
70057cb9ce4924cb6d484833f5eb757cbec1ae8e,"https://issues.apache.org/jira/browse/AMQ-3576 - producer exchange sync last seq id

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1196709 13f79535-47bb-0310-9956-ffa450edef68",19,72
aa8bc42fd4cde2756ff00bd5152089d7813deea7,"https://issues.apache.org/jira/browse/AMQ-3576 - tidying up the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1196710 13f79535-47bb-0310-9956-ffa450edef68",4,0
5cf33b52c158e5d9f1f7b9a07abacf99f98efee9,"https://issues.apache.org/jira/browse/AMQ-3576 - only update audit sequence on valid message, apply test to isolated class where broker side timeout is absent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1196804 13f79535-47bb-0310-9956-ffa450edef68",64,38
2711ad1f3f838e965b82d0b19b15b88ca858335a,"https://issues.apache.org/jira/browse/AMQ-3576 - fix regression in network connector tests, the sequence id check is not valud for bridges that concentrate messages from multiple consumers. duplicate suppression for network connectors needs to be based on message ids

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1197072 13f79535-47bb-0310-9956-ffa450edef68",5,9
0018f4a3ad22ce1f02e7c1925f4800f19ff3198e,"https://issues.apache.org/jira/browse/AMQ-3576 - implementation for network connectors, the store needs to be queried b/c messages from multiple producers are multiplexed by a network connector bridge. Additional boolean auditNetworkProducers on TransportConnector can disable the check if duplicates can be dealt with by the application layer. Additional test included.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1197203 13f79535-47bb-0310-9956-ffa450edef68",12,123
e0b23f27e22a4cadcb17d5c1f2b697fc30bc2c74,"https://issues.apache.org/jira/browse/AMQ-3579 - http transport in osgi

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1197537 13f79535-47bb-0310-9956-ffa450edef68",10,59
5b99f118a20cb9a876cee9f4dfc2e6275cc41771,"Adds an additional test case to verify that when doing request reply with two connections that ReplyTo values are prefixed with /remote-temp-topic and /remote-temp-queue to indicate that the connection receiving them is not the one that created them.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1197717 13f79535-47bb-0310-9956-ffa450edef68",0,70
55e7216292e9629158e931353eafd643e64e8b0f,"https://issues.apache.org/jira/browse/AMQ-3581 - web console escape url

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1199259 13f79535-47bb-0310-9956-ffa450edef68",13,57
77f9b872944543fda7c7805fad6a1140aa95f40d,"Add missing license header and a tearDown method to ensure the created BrokerService gets stopped.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1200489 13f79535-47bb-0310-9956-ffa450edef68",0,24
5886b66ed3e106d063f66e7e9d31af11c9472d4a,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3588

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1200532 13f79535-47bb-0310-9956-ffa450edef68",5,104
5af811f27224da4efec5a302d04e55d8e326e5cf,"Fix for: https://issues.apache.org/jira/browse/AMQ-3590

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1201054 13f79535-47bb-0310-9956-ffa450edef68",1,1
7b02226bd6506de9d78d86d5212fcc2a1457209e,"fix for: https://issues.apache.org/jira/browse/AMQ-3589

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1201059 13f79535-47bb-0310-9956-ffa450edef68",3,0
5396b2bca110d4ee4276595022455cff2056efdb,"Update XStream and slf4j to latest releases

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1201067 13f79535-47bb-0310-9956-ffa450edef68",2,2
c0c92595fd9e5ab8eca74b33e34e066465f8fc6f,"https://issues.apache.org/jira/browse/AMQ-3168 - use boolean editor for createConnector property, to avoid problems with schema validation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1201662 13f79535-47bb-0310-9956-ffa450edef68",0,3
1462fd234c98037992cdb78b77e9ddde808efa83,"https://issues.apache.org/jira/browse/AMQ-3168 - use boolean editor for most used broker service boolean properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1201666 13f79535-47bb-0310-9956-ffa450edef68",0,15
3557361e86904523200ab3ff67b83d589d39dee9,"https://issues.apache.org/jira/browse/AMQ-3596 - FilePendingMessageCursor memory list does not respect priority for non persistent messages. Fix with test. Reuse pendinglist from vm cursor for the file pending message cursor in memory list

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1202153 13f79535-47bb-0310-9956-ffa450edef68",15,20
49e704461c4fd0f81c8c6378218795ad2f50b828,"https://issues.apache.org/jira/browse/AMQ-3599 - JaasDualAuthenticationPlugin, java.net.BindException: Address already in use on shutdown with pending connectons. resolve with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1203176 13f79535-47bb-0310-9956-ffa450edef68",8,58
8311938134414c9394fea9fd8bc34f724931fd1a,"https://issues.apache.org/jira/browse/AMQ-3600 - Failover reconnect bypasses DestinationPathSeparatorBroker generating invalid destinations. fix with test. the messagePull currently does not reference the destination but to future proof and for consistency it should be escaped

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1203213 13f79535-47bb-0310-9956-ffa450edef68",1,121
ddb15afe058dd1560ef56e76936db5fe58365dd9,"Fix for NPE in test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1203662 13f79535-47bb-0310-9956-ffa450edef68",2,10
721d623ff6715cef7cec88e2c5eb3a98fd9f5cdf,"https://issues.apache.org/jira/browse/AMQ-3600 - test should not be run with individual ack, persist redelivery count mode

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1203773 13f79535-47bb-0310-9956-ffa450edef68",0,4
2e2681f2c255ec70664e714bbbba927153c6cde6,"activemq-all build should work with deploy profile - turning off source attachment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1204962 13f79535-47bb-0310-9956-ffa450edef68",0,27
7c2d5e492f14a72b21ef6cff7957cf4d5cd19846,"activemq-rar build should work with deploy profile - turning off source attachment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1204975 13f79535-47bb-0310-9956-ffa450edef68",0,27
33edc9902e7e575bfa80b387d2c0e298be20d787,"https://issues.apache.org/jira/browse/AMQ-3603 - STOMP 1.1 introduced the heartBeat header implemented by the inactivity monitor, would be nice to have this option for stomp 1.0. Implement support for ?transport.defaultHeartBeat=5000,0 with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1205011 13f79535-47bb-0310-9956-ffa450edef68",22,70
d19e9e387cafff8e349c94de54b3a25dab88dd4d,"activemq-run build should work with deploy profile - turning off source attachment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1205034 13f79535-47bb-0310-9956-ffa450edef68",0,27
332c35ca18fba9316480160d4d294abda4e680bc,"https://issues.apache.org/jira/browse/AMQ-3384 - destinationFilter config out of dynamically included destinations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1205508 13f79535-47bb-0310-9956-ffa450edef68",49,105
6352502376574a9aed232b4f32a9656fe0229471,"https://issues.apache.org/jira/browse/AMQ-2968 - osgi import typo fixed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1205823 13f79535-47bb-0310-9956-ffa450edef68",1,1
49718ed8a67f1d5c64bb16c25021d1e3abccaa09,"https://issues.apache.org/jira/browse/AMQ-3576 - disable auditNetworkProducers by default, composite dests and virtual topics that create duplicates independent of producers are trapped in error, for simple networking this should be enabled

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1205930 13f79535-47bb-0310-9956-ffa450edef68",15,54
33bb129bee18e374d6cfd97a19432146e7072117,"first attempt at creating karaf integration test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1206238 13f79535-47bb-0310-9956-ffa450edef68",1,159
4d17a708093007fff4e2387c45d1bae7aa745a93,"https://issues.apache.org/jira/browse/AMQ-3454 - remove copy of destinationMap in region getDestinationMap api, return a direct reference to the unerlying concurrent hash map, makes it more efficient to determine presence of a destination

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207224 13f79535-47bb-0310-9956-ffa450edef68",5,3
00fb101e2a7ebc72506f8b237b5b0b8c5160a95d,"https://issues.apache.org/jira/browse/AMQ-3454 - all the little performance test, non imperative

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207231 13f79535-47bb-0310-9956-ffa450edef68",0,74
6813691a3d8e8443b3841175893d265188932f5b,"https://issues.apache.org/jira/browse/AMQ-3609 - Turn inactivity monitor thread off by default, new default 0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207239 13f79535-47bb-0310-9956-ffa450edef68",1,2
395bf82f80a5b8ba7adbd1d5dcdc0c3db8d34363,"https://issues.apache.org/jira/browse/AMQ-2868 - fix issue with blocked transaction completion in highly concurrent systems. It was possible to miss an after completion callback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207693 13f79535-47bb-0310-9956-ffa450edef68",0,4
8e0cc676d81bdbe2859ba179f234c02f60d51fa4,"reduce the duration of this test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207699 13f79535-47bb-0310-9956-ffa450edef68",1,1
c70952723ce5e37c16ed6f2179f7d72d26eef66a,"reduce the duration of this tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207713 13f79535-47bb-0310-9956-ffa450edef68",12,11
21541daf8413fbc6d13230e5a340cab329345925,"reduce duration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207715 13f79535-47bb-0310-9956-ffa450edef68",1,1
c9414c4a6d0fbfa5c6668f2efdae54ec5bd6c2a7,"https://issues.apache.org/jira/browse/AMQ-3611 - Revert the Oracle jdbc adapter to a variant of the default jdbc adapter in place of the one supporting blobs. added oracleBlobJDBCAdapter for backward compatibility and latest oracle adapter extends the default adapter so it no longer manipulates blobs directly, works fine with the latest ojdbc6 driver

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1207963 13f79535-47bb-0310-9956-ffa450edef68",28,73
44488a5bc3d872d39e847776cd955b7f374189b8,"https://issues.apache.org/jira/browse/AMQ-3607 - added test case and use of connectionFactory.setOptimizeAcknowledgeTimeOut, the test is breaking becauee of message discarding when the acks are not immediate, made some small mods to make the test work and fixed up the setter for connectionFactory.setOptimizeAcknowledgeTimeOut

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1208048 13f79535-47bb-0310-9956-ffa450edef68",4,237
599abc58bb9f41fee9d0f539e0d8c7a9dc757301,"https://issues.apache.org/jira/browse/AMQ-2730 - test to validate there is no implicit limit on reconnects due to the task runner exceeding its iterations, if the task is not complete it re queues it, so at least on trunk, the taskrunner issue is resolved

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1208377 13f79535-47bb-0310-9956-ffa450edef68",2,42
3c3feb49a6d26106feffd343545e94fb177d6c96,"https://issues.apache.org/jira/browse/AMQ-3613 - rename rendezvous discovery to zeroconf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1208660 13f79535-47bb-0310-9956-ffa450edef68",11,11
dad86e6891205bfa6eb81dbce6399131bf749b29,"ensure the reason is visible in a failure to accept connection due to oom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209045 13f79535-47bb-0310-9956-ffa450edef68",1,1
3b7507f6b756153568742b95ba1f7f871f359b5b,"https://issues.apache.org/jira/browse/AMQ-2524 and https://issues.apache.org/jira/browse/AMQ-3092 - two competing fixes for the same underlying issue. Use a combination of the changes, disposed without the duplicate check for existance in the destinations. Removes one additional query on the destinations map

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209046 13f79535-47bb-0310-9956-ffa450edef68",1,0
6590d4b3d0ab62e8731b6f557e46cab739d1ecb5,"remove duplicate code removing advisories, handled cleanly in advisory broker already, additional load on destination map. Only on remove dest opts through, so impact is mostly small. better all the same. may lead to reduction in acces modes for the destination map

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209058 13f79535-47bb-0310-9956-ffa450edef68",24,0
f1bbaec66ba5b593bb1bf87c6a1317a6b8865667,"made the xmlpull parser an optional dependency in osgi-land. For some reason mavne bundle plugin doesn't figure this out; transitive dependences on optional dependences don't seem to get marked as optional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209117 13f79535-47bb-0310-9956-ffa450edef68",0,1
a2fc5bc4925dc7b4015d6281713c4fb91298f699,"https://issues.apache.org/jira/browse/AMQ-3614 - Unable to generate unique id when range of ports are blocked - org.apache.activemq.util.IdGenerator. Patch applied with thanks, left the log at warn as unique ids are important and two simultaneous clients could use the same id with this fallback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209162 13f79535-47bb-0310-9956-ffa450edef68",2,6
3a26442d9268ba526032de64ad36c790c4c0ac40,"extend the close wait for this test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209195 13f79535-47bb-0310-9956-ffa450edef68",1,1
d04c10845c925e37152ce1bcefa4cdd32a6562d0,"have test wait for both network bridges before starting producer to check load balance

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209201 13f79535-47bb-0310-9956-ffa450edef68",8,16
f260b17488ac00e8b9e1dcf12ff9ee9b2e68f80e,"fix typo in last remove, oops sorry

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209538 13f79535-47bb-0310-9956-ffa450edef68",0,2
3a71f8e33d0309cb0ca5b5758a8f251da205e757,"Fix for https://issues.apache.org/jira/browse/AMQ-3294 and https://issues.apache.org/jira/browse/AMQ-1928

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209700 13f79535-47bb-0310-9956-ffa450edef68",75,210
da7f9962c640666a743675085922bf75a656f81b,"Only stop transport for java.lang.SecurityException - as some tests rely on Connection continung after an exception from the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1209841 13f79535-47bb-0310-9956-ffa450edef68",10,12
712303e6ecf8cc6f2ecfcf2b41de892104a87785,"only do delayStop () for SecurityExceptions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1210503 13f79535-47bb-0310-9956-ffa450edef68",3,6
b7e31aca70763eb452bacd7ef7f0a0b38cdcfc56,"https://issues.apache.org/jira/browse/AMQ-3619 - create scripts improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1210504 13f79535-47bb-0310-9956-ffa450edef68",68,59
5bd4b19fabd0c74e4e8aab0f4580d0ca9e0b4d2a,"commit patch for https://issues.apache.org/jira/browse/AMQ-3618

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1210506 13f79535-47bb-0310-9956-ffa450edef68",2,6
2f72b7182990e98e677442027104b595c2d03951,"Added javadoc for BrokerService.start(boolean force) to discourage its use.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1210917 13f79535-47bb-0310-9956-ffa450edef68",0,14
8bab1c1fb2c5a66cf1cf093f303bdeffca678a2a,"https://issues.apache.org/jira/browse/AMQ-3623 - Add DefaultTestAppender utility abstract class. patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1211533 13f79535-47bb-0310-9956-ffa450edef68",62,109
760c62934d2ff5fe92e399cf7f980d8de4e191d4,"https://issues.apache.org/jira/browse/AMQ-3622 - NPE in LastImageSubscriptionRecoveryPolicy. patch variant applied and nice test./bin/activemq console xbean:conf/limit.xml  Thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1211568 13f79535-47bb-0310-9956-ffa450edef68",3,113
9df9d3e89140b7329654ad5675259ec6f0c4b3a7,"tidy up fix (exception was being lost) for URL: http://svn.apache.org/viewvc?rev=1209841&view=rev
Only stop transport for java.lang.SecurityException - as some tests rely on Connection continung after an exception from the broker
related to changes in support of fix for https://issues.apache.org/jira/browse/AMQ-3294 and https://issues.apache.org/jira/browse/AMQ-1928

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1211844 13f79535-47bb-0310-9956-ffa450edef68",5,5
9873e21aec90d5759210ee5b36fc8251b61c496d,"https://issues.apache.org/jira/browse/AMQ-3628 - updated patch applied with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1212337 13f79535-47bb-0310-9956-ffa450edef68",2,5
d4ccc50ea7c19a0b93f2be9c7d7acbe9259f75d8,"https://issues.apache.org/jira/browse/AMQ-3253 - rework to make recreation of temp destination more specific to use case, result is no advisories like https://issues.apache.org/jira/browse/AMQ-2571. This avoids the possibility of looping in a network. Additional test. Resolve race condition on destination advisories, a remove could overwrite an inflight add command. A copy is now in place for the remove

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213208 13f79535-47bb-0310-9956-ffa450edef68",25,195
8d0cf31f84ff3f981a83322336841a7dc982df79,"resolve intermittent failure, wait for both of the conduit subs to register before test initiation. additional accessors to make validation possible

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213209 13f79535-47bb-0310-9956-ffa450edef68",1,34
4c8ab4469817381d223e256321c01e087d0f5e40,"https://issues.apache.org/jira/browse/AMQ-3632 - staticBridge

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213210 13f79535-47bb-0310-9956-ffa450edef68",10,92
b6a3990d48e6852ca8ed9ffbbd9de4c31440d859,"fix for: https://issues.apache.org/jira/browse/AMQ-3601

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213298 13f79535-47bb-0310-9956-ffa450edef68",0,3
2bfd88e87d922afbad81972490ff7b8dbe967f53,"https://issues.apache.org/jira/browse/AMQ-3294 - disable this test as it causes hudson to hang. need to investigate reuse of send timeout for all sync operations and maxreconnect attempts on failover transport to fix up correctly.. one to revisit for case where exception other than security exception comes back or nothing in the case of max connections exceeded

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213642 13f79535-47bb-0310-9956-ffa450edef68",0,1
cfcd4f7f64241fe58568cb5e17b4e6cf322c4ce4,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3624

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213691 13f79535-47bb-0310-9956-ffa450edef68",10,11
5f7fc14e2e23d655de13562110a238faf40dc1cd,"https://issues.apache.org/jira/browse/AMQ-3634 - corrupted index recovery

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213743 13f79535-47bb-0310-9956-ffa450edef68",98,89
802f6b193a6767576cca4bd41604b79f98420709,"fix for: https://issues.apache.org/jira/browse/AMQ-3605

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1213979 13f79535-47bb-0310-9956-ffa450edef68",8,11
ecb10e9519c82b13bb61685ecdb0251f56a8a24d,"fix for DuplexNetworkTest failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1214700 13f79535-47bb-0310-9956-ffa450edef68",26,22
08b8a354ab9c5ccd04720e60c365f112db8ae13e,"https://issues.apache.org/jira/browse/AMQ-3504 - fixing websocket transport support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1214770 13f79535-47bb-0310-9956-ffa450edef68",33,11
41cdadbe2a55c5cf7f86341e34565ef372dc9197,"https://issues.apache.org/jira/browse/AMQ-3637 - NullPointerException while loading node from kahadb during vmcursor replay. Batch recovery such that expiry can be processed periodically which avoids a nested kahadb transaction that modifies. additional test and some additional logging when recovery is taking a long time

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1214888 13f79535-47bb-0310-9956-ffa450edef68",54,197
68bcf0fb15ae1c2ff23aa9bd3a2327a6913705d3,"fix for: https://issues.apache.org/jira/browse/AMQ-3615

Reduce contention by not sending an advisory for every destination when not all destination types are requested.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1214964 13f79535-47bb-0310-9956-ffa450edef68",33,58
e2825710994b3e9132142456514c059c47647aec,"AMQ-3404: corrected PurgeCommand to correctly deal with message selectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1215056 13f79535-47bb-0310-9956-ffa450edef68",14,282
e72f43f8e6f23a29112a6e85dc44d707eeb4e547,"https://issues.apache.org/jira/browse/AMQ-3636 - adding websockets example

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1215132 13f79535-47bb-0310-9956-ffa450edef68",0,529
aa3ab1223472d4b26e83771bb9e7afc12ccf64cf,"Fix for https://issues.apache.org/jira/browse/AMQ-3638

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1215432 13f79535-47bb-0310-9956-ffa450edef68",308,581
7da61d992f6aebb02245349f42dfa56c6a31a2ea,"commit patch for https://issues.apache.org/jira/browse/AMQ-3618

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1215433 13f79535-47bb-0310-9956-ffa450edef68",14,56
882c5539d1b5cdfe64b4f4c5048e7c377e331846,"get a recept on send to ensure message gets there

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1220724 13f79535-47bb-0310-9956-ffa450edef68",0,6
1c264085d1a9504a48e07f181ef8419f1b7dff27,"https://issues.apache.org/jira/browse/AMQ-3496 - reply-to header for Stomp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1221199 13f79535-47bb-0310-9956-ffa450edef68",108,76
c5349000922cbcc4b4820c8b09d10e124f6496f3,"https://issues.apache.org/jira/browse/AMQ-3496 - reply-to header for Stomp - fix test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1221222 13f79535-47bb-0310-9956-ffa450edef68",1,1
c856f30bc556ccdf5c1f05a0244743eca8100c3e,"fix for: https://issues.apache.org/jira/browse/AMQ-3625

applied patch to add the supplied test case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1221310 13f79535-47bb-0310-9956-ffa450edef68",14,239
5cc1a557ff9d272e7eebcbee9ac5cfa294a580d9,"fix for: https://issues.apache.org/jira/browse/AMQ-3625

Ensure that incoming commands get exception responses after the initial error is triggered so that client transports don't block wia intg for responses.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1221484 13f79535-47bb-0310-9956-ffa450edef68",11,11
323eeda725aa4bad381ff2f04a6364550812f445,"add scenario test for fast persistent enqueues to explore getting the broker to be disk bound

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1222219 13f79535-47bb-0310-9956-ffa450edef68",1,178
d97e8fe3547a666fbd669b7790770385dec820fd,"Replace the System.out calls with loggers.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1222250 13f79535-47bb-0310-9956-ffa450edef68",12,12
cb1b92bf58e2631077a31b97cc8087bb35605a03,"apply patch and add test for: https://issues.apache.org/jira/browse/AMQ-3436

Some modifications needed for the patch to work correctly.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1222275 13f79535-47bb-0310-9956-ffa450edef68",36,402
bb4a2f73f4db9316593ca4e0e23d69b776513bad,"add experimental appender that takes the buffering burden from the writer thread, it and some trace enabled via -Dorg.apache.kahadb.journal.appender.WRITE_STAT_WINDOW=10000 -Dorg.apache.kahadb.journal.CALLER_BUFFER_APPENDER=true. Additional accessors on KahaDb to further configure index for the fast but may need recovery case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1222471 13f79535-47bb-0310-9956-ffa450edef68",54,546
384388fe629473c04f1722274cf044922a3659a1,"CallerBufferingDataFileAppender, fix rollover of cached buffers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1222635 13f79535-47bb-0310-9956-ffa450edef68",7,19
46e6cc01fccc635610206719aa025218c8589f19,"https://issues.apache.org/jira/browse/AMQ-3645 - shell script improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1222650 13f79535-47bb-0310-9956-ffa450edef68",22,29
89f22dacac4d786c04d4b0fe3ab7b6ae6d3b3557,"https://issues.apache.org/jira/browse/AMQ-3646 - Allow KahaDB to run without disk syncs, higher through put without the jms persistence guarantee. Allow 0 peroid to disable checkpoint/cleanup. Allow jmx gc operation to invoke cleanup so that store gc can be initiated via jms to ensure disk is reclaimed. Ensure periodic checkpoint does not sync when enableJournalDiskSyncs=false, it waits for completion but does not force to disk. fix cached buffer allocation and refactor to reuse more code in CallerBufferingDataFileAppender

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1222705 13f79535-47bb-0310-9956-ffa450edef68",275,182
e8074fdc0f7538a2e4d378cc6d87edeed3e12da0,"Upgrade xbean spring to 3.9

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1224693 13f79535-47bb-0310-9956-ffa450edef68",1,1
9a9fccbea49bd8177d279236eb1a72b7f89f98d3,"Updated the copyright date of the activemq-web-demo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1224694 13f79535-47bb-0310-9956-ffa450edef68",3,3
4a7475d7c261f3fdd7ba1e9da71748747b913871,"https://issues.apache.org/jira/browse/AMQ-3374 - don't count every write in transaction size as only the number of pages we keep in memory is relevant (multiple writes to the same page will overwrite themselves)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1224890 13f79535-47bb-0310-9956-ffa450edef68",4,9
78761cb348fd7b4076f1cbfdf20ba94300818703,"Remove trailing ; at end of class declaration.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1226974 13f79535-47bb-0310-9956-ffa450edef68",1,1
d95658f4b444af178b112e7aa8e1d4aacdcae8d0,"Allow LRUCache subclasses to trap eviction events

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1227183 13f79535-47bb-0310-9956-ffa450edef68",1,9
1753a699e0efc3b0e65eacfc42a41438c1cc9dca,"Allow attaching an entryLocator and dataLocator to message ids.  These fields are for message stores to associate store keys with messages ids when the messages
get persisted to disk.  Should allow stores to perform faster message loads since the store may be able to bypass a key lookup.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1227185 13f79535-47bb-0310-9956-ffa450edef68",1,31
71d5fef019b7ed1bb9d8129bc180216cb6655c07,"Fixes AMQ-3651 : If the broker binds RMI registry port when it starts up, the broker should release RMI registry port when it shuts down


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1227186 13f79535-47bb-0310-9956-ffa450edef68",3,12
a35fdd13fb9b7d43baa0ddd5ecbdcd04458c6c9f,"https://issues.apache.org/jira/browse/AMQ-3653 - content-length in ack frames

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1227577 13f79535-47bb-0310-9956-ffa450edef68",12,39
0e95460e0af4dc7f857dfe1a13559f31bc019207,"Update Javadoc for: https://issues.apache.org/jira/browse/AMQ-3652

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1227591 13f79535-47bb-0310-9956-ffa450edef68",2,2
71e228fe92248fb06b5ac09720580754221a6ebf,"fix for NPE: https://issues.apache.org/jira/browse/AMQ-3649

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1231081 13f79535-47bb-0310-9956-ffa450edef68",2,4
580635473ddd9d819cffd8816cff6425f1d9dd14,"fix for: https://issues.apache.org/jira/browse/AMQ-3659

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1231124 13f79535-47bb-0310-9956-ffa450edef68",24,24
221da8bcd2bec5e53250d7bf34516a7f121dd53a,"https://issues.apache.org/jira/browse/AMQ-3639 - Modify MKahaDB To Support Using One Adapter Per Destination Without Explicity Listing Every Desintation In The Configuration. Add perDestination boolean attribute to mKahaDb filtered adapter. When true, every destination will get its own persistence adapter using the configured adapter as as template. So any config applied to the destination less (default) adapter will be reused

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1231979 13f79535-47bb-0310-9956-ffa450edef68",9,172
5774d004f82b15e8b515864c61ee40e689783fae,"https://issues.apache.org/jira/browse/AMQ-3653

Fix the test so that there's time for the Ack to be processed before the connection is closed otherwise it can be missed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1232457 13f79535-47bb-0310-9956-ffa450edef68",4,9
7eb8f0fd730156fb5c623740dcddda75c675d421,"findbugs: fix infinite recursion

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1233354 13f79535-47bb-0310-9956-ffa450edef68",1,1
eca00f9ab9206371a61782c92d301b38e7c09d67,"findbugs: fix infinite recursion - remove unused method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1233366 13f79535-47bb-0310-9956-ffa450edef68",4,0
e02dfdeaadb710e1662f8576566330dd3d1ba7e5,"move test to KahaDb and add simple validation of sendFailIfNoSpace and temp usage for non persistent messages. Producer stops on the exception, consumer picks up all the messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1233367 13f79535-47bb-0310-9956-ffa450edef68",33,61
2fba95d26d1de715cce7434a5077b4ae49f12e46,"https://issues.apache.org/jira/browse/AMQ-3667 - Use 1G heap by default and UseDedicatedTaskRunner=false, more production ready. done

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1233403 13f79535-47bb-0310-9956-ffa450edef68",3,3
e3a1fc9b3557bc1f924c197e1f994170c50bb591,"https://issues.apache.org/jira/browse/AMQ-3670 - fix stomp nack support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1233860 13f79535-47bb-0310-9956-ffa450edef68",27,67
999dc0df2044ae76a72810e7e9b7e2093d222fe7,"fix for: https://issues.apache.org/jira/browse/AMQ-3672

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1234010 13f79535-47bb-0310-9956-ffa450edef68",42,406
4ddd9019c8e59ff0940b04baa24a47e0725ba137,"AMQ-3665: Turned on Velocity template caching to reduce memory footprint of AMQ store journal reader. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1234779 13f79535-47bb-0310-9956-ffa450edef68",0,4
95355ae6e3a881cb0495f77da63273694f968e6d,"AMQ-3665: Moved code for creating VelocityContext into its own method createVelocityContext().

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1234781 13f79535-47bb-0310-9956-ffa450edef68",18,27
00bee4ee1341f19aa69748155a8bb9b722c26065,"AMQ-3665: Added JUnit test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1234782 13f79535-47bb-0310-9956-ffa450edef68",0,438
82a093b47947a32e56a8f6b339f08aad7421ab04,"AMQ-3665: updating logging config to write to target/activeemq-test.log

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1234783 13f79535-47bb-0310-9956-ffa450edef68",1,13
1d52f3b53cafc3c89c4df1a6ea7427a5ce2ab23b,"fix for: https://issues.apache.org/jira/browse/AMQ-3673

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1234981 13f79535-47bb-0310-9956-ffa450edef68",9,170
dbc661fd9b27eedb6c9045a81bc25b55a4720251,"Fix for https://issues.apache.org/jira/browse/AMQ-3573 -
changed defaults for SystemUsage to
50GB for temp usage, 100GB for store usage and 64mb for memory usage.
Added error and warning messages if the SysteMUsage limits cannot be met by the system

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1235261 13f79535-47bb-0310-9956-ffa450edef68",4,62
7b90f4178fb8882bcc24fc0b5708dccacbcb484c,"additional fix for: https://issues.apache.org/jira/browse/AMQ-3573

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1235325 13f79535-47bb-0310-9956-ffa450edef68",17,28
eec1091c45ed71590e64dd45530b066fb9bc9a69,"Add fix and test for: https://issues.apache.org/jira/browse/AMQ-3674

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1235341 13f79535-47bb-0310-9956-ffa450edef68",1,124
5aa8b30c0fc2c26291cf1a3775c920e4b9b54585,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3675

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1235481 13f79535-47bb-0310-9956-ffa450edef68",2,162
4d480c923915645e252ff83031d330ce3195e634,"Add fix : https://issues.apache.org/jira/browse/AMQ-3674

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1235530 13f79535-47bb-0310-9956-ffa450edef68",1,1
a1e961d09c721afeedcd371196bf407b98600876,"remove kahadb store dependency on activeio

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1235701 13f79535-47bb-0310-9956-ffa450edef68",8,6
55fa377f2f1957e0f79c9955b0591a4228f0ac4f,"https://issues.apache.org/jira/browse/AMQ-3682 - use jmxLocal for karaf commands by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1236227 13f79535-47bb-0310-9956-ffa450edef68",9,8
c4c9cf2e9497de13f37270e7f21250448a750427,"fix for: https://issues.apache.org/jira/browse/AMQ-3683

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1236414 13f79535-47bb-0310-9956-ffa450edef68",2,2
dcf1f5e0cc20ecb49da0c1ad5681d2ac578cee20,"https://issues.apache.org/jira/browse/AMQ-3634 - ensure full recovery of the index, irrespective of the load failure reason, with additional tests. Shutdown the schedualler early to ensure no ugly errors from timer tasks during shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1236661 13f79535-47bb-0310-9956-ffa450edef68",20,53
e901d2fd2e9afe7a175231ec30aa4c8781762c23,"https://issues.apache.org/jira/browse/AMQ-3684 - Potential deadlock in vm transport setListener when sender is blocked pending space
Deal with the case of blocked producer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1236664 13f79535-47bb-0310-9956-ffa450edef68",4,12
3b19c71935e6bb54da61c95470815ed65c61f77d,"https://issues.apache.org/jira/browse/AMQ-3573: fix up test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1236666 13f79535-47bb-0310-9956-ffa450edef68",2,2
4d3af76ee64b4b721d2b3b8b7be23c0ec7565f32,"https://issues.apache.org/jira/browse/AMQ-3685 - sanitize brokerUrl in BrokerInfo as it can break failover url when cluster update is used

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1236707 13f79535-47bb-0310-9956-ffa450edef68",11,144
d1357b4970217e2285153e99dc4191d1be625ef1,"https://issues.apache.org/jira/browse/AMQ-3467 - fix auto upgrade from version 3 to version 4 of kahaDb, existing durable subs messages were lost, additional test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1236905 13f79535-47bb-0310-9956-ffa450edef68",3,8
bc78238ad0a0d8f82c987b9228dca331487617a5,"fix for: https://issues.apache.org/jira/browse/AMQ-3137
fix for: https://issues.apache.org/jira/browse/AMQ-2455
fix for: https://issues.apache.org/jira/browse/AMQ-3635

Adds reconnect logic and tests along with a policy class to allow for control over the reconnect process.
Reconnection of both local and foreign side of the JmsConnector is supported.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1238827 13f79535-47bb-0310-9956-ffa450edef68",319,2346
91059de2836c833e07709f4be9149f2c022ae315,"https://issues.apache.org/jira/browse/AMQ-3685 - fixing cluster update feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1239118 13f79535-47bb-0310-9956-ffa450edef68",71,428
179d95e7be4024c8548c332fee1cb28bc9387d3b,"https://issues.apache.org/jira/browse/AMQ-3694 - Blocked/Slow advisory consumers in duplex network connector, eventually breaks request/reply with temps. The duplex case was not acking advisory messages, so we were limited to 750! Also revisit association of producer created temp with connection as this can still get deleted before an advisory. Solution is to let gc pick up temps created in this way, https://issues.apache.org/jira/browse/AMQ-2571. Resolve contention on destination creation for producer/advisory race condition. Additional tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1239188 13f79535-47bb-0310-9956-ffa450edef68",36,141
e25e5dee86e090c4d34b9c9b8b16520088bf9f78,"Update test so that its not using a fixed port for the brokerUri.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1239283 13f79535-47bb-0310-9956-ffa450edef68",4,8
b11f1b452db77211950f022f626a398ca34b86af,"Adds a test that verifies the behavior of the temp store when setting limits smaller than the max journal file size.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1239308 13f79535-47bb-0310-9956-ffa450edef68",0,233
d403f107224244abbe53e8e9cb90959ae402885a,"Additional Fix for https://issues.apache.org/jira/browse/AMQ-3573 - Add check for improperly configured temp store limits 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1239319 13f79535-47bb-0310-9956-ffa450edef68",0,8
f6caba7127ba3b5f7eae2a14943606c10bff93e8,"Additional Fix for https://issues.apache.org/jira/browse/AMQ-3573 - Avoid a potential NPE.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1239335 13f79535-47bb-0310-9956-ffa450edef68",1,9
0295e8d44ddfc1f584ae70e1e8d5fd54bbd82a20,"https://issues.apache.org/jira/browse/AMQ-3606 - schema for karaf features xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1239540 13f79535-47bb-0310-9956-ffa450edef68",74,2
b6f63b0d10f3db34356b056e3e4caeedc4c95aad,"https://issues.apache.org/jira/browse/AMQ-3695: Failover using a JDBC Message Store and Virtual Topic can result in a lost message if queue is empty. Problem is that an empty destination is not recorded, as there is no entry in the messages table. Fix is to make use of the ack table, in the same way a for durable subs. For destinations that match the virtual topic filter, an entry out of priority range is added to the ack table. the startup destination query now unions over the ack and messages table

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1240162 13f79535-47bb-0310-9956-ffa450edef68",23,119
65fe5e2587d514fcf7496fabe01b51830e7d3965,"Update the test to address hanging in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1240188 13f79535-47bb-0310-9956-ffa450edef68",25,8
f220607e3361429250d11015ec84714c6bb77bdc,"fix for: https://issues.apache.org/jira/browse/AMQ-3586

Trim whitespace from destination names

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1240287 13f79535-47bb-0310-9956-ffa450edef68",5,55
24c42579989b192b1fc8493600338bfb11a8fd9a,"this test causes hudson to hang, disabling pending investigation into root cause

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1240973 13f79535-47bb-0310-9956-ffa450edef68",0,3
c35550f16543e2b5d71e742d663dadbbf717a033,"https://issues.apache.org/jira/browse/AMQ-3695 - fix up two related/inherited tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1240979 13f79535-47bb-0310-9956-ffa450edef68",3,3
e73230b4a3cb799b6f99a906732c9c4ff758b2c1,"https://issues.apache.org/jira/browse/AMQ-3695 - ensure destination deletion removes entry in the acks table

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1240994 13f79535-47bb-0310-9956-ffa450edef68",2,27
7388438a85fe46b05b37ccc5f7fe5b9d16b8fccc,"https://issues.apache.org/jira/browse/AMQ-3699 - priority uris for failover transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241061 13f79535-47bb-0310-9956-ffa450edef68",25,260
80ecfb704967b58927b183235c18fc162643f258,"test case that shows concurrent mod exception when optimise dispatch is enabled and usage limit met

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241068 13f79535-47bb-0310-9956-ffa450edef68",0,210
1a566ecff7172b1969855f51a5329c53ee157bdc,"Test case for: https://issues.apache.org/jira/browse/AMQ-3700

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241073 13f79535-47bb-0310-9956-ffa450edef68",0,247
a1d5ff03169024fe486b96378f5e8409b6a98fd9,"fix for: for: https://issues.apache.org/jira/browse/AMQ-3700

Prevent any calls to wakeup becoming recursive calls into iterate() and instead queue a wakeup so that we don't miss dispatching any messages as things change in the memory usage.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241077 13f79535-47bb-0310-9956-ffa450edef68",7,12
cdba931deb47c680d9c41aea03dbd45b05874a36,"fix for: https://issues.apache.org/jira/browse/AMQ-3702

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241221 13f79535-47bb-0310-9956-ffa450edef68",277,278
b567bd478b42a5e18bd8ec5dce1f0ff92054f87f,"fix for: https://issues.apache.org/jira/browse/AMQ-3703

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241246 13f79535-47bb-0310-9956-ffa450edef68",23,16
19cb932816a09b05d5da73da7fbc39e0dec0e522,"https://issues.apache.org/jira/browse/AMQ-3685 - a few more fixes for failover cluster update ... handle well original broker restarting and avoid deadlock

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241426 13f79535-47bb-0310-9956-ffa450edef68",5,37
6a631a9d2123d4145f91105ff89ef074122b60ea,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3705

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241629 13f79535-47bb-0310-9956-ffa450edef68",18,209
9d15861cce31d5bf102b7250993b73facef8dd16,"https://issues.apache.org/jira/browse/AMQ-3695 - remove distinct qualifier from union, breaks oracle and is the default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241869 13f79535-47bb-0310-9956-ffa450edef68",1,1
beb564f6f1adadefd5201e1f4bfa86c4063aeb9c,"updates copyright year for to current https://issues.apache.org/jira/browse/AMQ-3078

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241898 13f79535-47bb-0310-9956-ffa450edef68",1,1
c062020bcbe03d09efe3721fbae2723d697734f5,"add a test to show that https://issues.apache.org/jira/browse/AMQ-3445 is not an issue in trunk.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1241935 13f79535-47bb-0310-9956-ffa450edef68",0,149
292ff429631d8d52ac3eb110f6a629b8ccdc0d4f,"apply patch for https://issues.apache.org/jira/browse/AMQ-3709 also updates the copyright year.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1242168 13f79535-47bb-0310-9956-ffa450edef68",228,226
2cb8ed221bbf8a69ad8bb6af8fc929aee8129381,"add test case from: https://issues.apache.org/jira/browse/AMQ-3359

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1242386 13f79535-47bb-0310-9956-ffa450edef68",0,43
beda82ad5a854fafa2a9847fe93991071f517f2e,"https://issues.apache.org/jira/browse/AMQ-3706 - balance randomize with cluster update

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1242748 13f79535-47bb-0310-9956-ffa450edef68",68,231
33f9f2968b6a4607eec25695a7e0eba1aba178a0,"fix for: https://issues.apache.org/jira/browse/AMQ-1899

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1242793 13f79535-47bb-0310-9956-ffa450edef68",6,6
93a379fe3cc9dddd08a945c575cfe705216be55d,"https://issues.apache.org/jira/browse/AMQ-3653 - tidy up stomptest and resolve content length for stomp+nio, resolve break of stompnio and stompniossl tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1242911 13f79535-47bb-0310-9956-ffa450edef68",49,44
bc8441bebc92483c2b1ea7298022a4bccb1403bf,"https://issues.apache.org/jira/browse/AMQ-3684 - resolve deadlock on blocked oneway, revise sync and lazy init, remove use of valve

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1242912 13f79535-47bb-0310-9956-ffa450edef68",144,84
5a74d56cc17d17e41b72dc380d8a19d6e895b427,"https://issues.apache.org/jira/browse/AMQ-3684 - revert initialisation order, thread can be eager and needs complete state so it must be inited last

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1243334 13f79535-47bb-0310-9956-ffa450edef68",4,6
9a22fe586d33513e6e0a09833f04d3907ec230bb,"ensure frames are null terminated

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1243484 13f79535-47bb-0310-9956-ffa450edef68",6,6
ace122aedef3d7aede701cc8e8dba98ef773a0e8,"ensure test failure does not block build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1243485 13f79535-47bb-0310-9956-ffa450edef68",0,6
de08e4b56ccb09083a3dd9e9f41743a018474d23,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3715

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1243652 13f79535-47bb-0310-9956-ffa450edef68",0,1
73a30f6991e144a09bee7042f3a30b3e9871eefc,"apply updated fix for: https://issues.apache.org/jira/browse/AMQ-3715

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1243697 13f79535-47bb-0310-9956-ffa450edef68",0,5
ad585dc4b0381441f1addabc8f2b4a2673d81dfe,"Refactoed the VMTransport for: https://issues.apache.org/jira/browse/AMQ-3684

Adds a test for basic functionality tests on the VMTransport.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1243706 13f79535-47bb-0310-9956-ffa450edef68",97,888
456005bf1312eb40e747572b5b371c48a1c74aba,"Mark this as @Deprecated as its not used anymore in AMQ and should be removed. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1243716 13f79535-47bb-0310-9956-ffa450edef68",5,6
2a87ad5b3e183a28f54df57b4b70400beb0a16ce,"https://issues.apache.org/jira/browse/AMQ-3716: NetworkBridge with conduitSubscriptions=true will leak consumer info in org.apache.activemq.network.DemandForwardingBridgeSupport#subscriptionMapByRemoteId map. fix with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244116 13f79535-47bb-0310-9956-ffa450edef68",7,36
8bff980ec2088beacac729eed0cfdbee36fc84db,"remove typo ref to backport timeunit - https://issues.apache.org/jira/browse/AMQ-3684

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244117 13f79535-47bb-0310-9956-ffa450edef68",2,1
a3060e79d969fcf1f769be010c31e098a98a10e2,"https://issues.apache.org/jira/browse/AMQ-3706

Don't send a URI to the client that equals ""null"" when the BrokerInfo has no set Broker URI, that sends the failover transport into an infinite reconnect cycle.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244221 13f79535-47bb-0310-9956-ffa450edef68",39,42
16388015225402384b52f95598551bb674742a5c,"Add an initial port of ConcurrentProducerDurableConsumerTest to performance test Queue dispatch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244290 13f79535-47bb-0310-9956-ffa450edef68",0,435
98b7dcdd1da63e2c43656a248895b39740774553,"fix intermittent failure, consume messages from all destinations, sorts out the composite case so that there are no dangling messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244443 13f79535-47bb-0310-9956-ffa450edef68",18,25
97ae32388c4fdb4a48ae0892e8a9142da062d032,"fix for: https://issues.apache.org/jira/browse/AMQ-3714 lazy init the Scheduler object in ActiveMQConnection.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244796 13f79535-47bb-0310-9956-ffa450edef68",21,41
08ae7770bb2b7ac73fb5c39cec0239fa04eeb0c3,"fix: https://issues.apache.org/jira/browse/AMQ-3721

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244809 13f79535-47bb-0310-9956-ffa450edef68",4,5
cc7ea7f31f4009e48c07a5737c30fe5357885734,"reduce test duration from crazy 30 minutes, validate temp store being used

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244974 13f79535-47bb-0310-9956-ffa450edef68",5,20
49dd85c5e7c0b0f777930a79b05b87afaba000c9,"reduce default number of restarts and down time to reduce duration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244976 13f79535-47bb-0310-9956-ffa450edef68",2,2
896de22bf7f3ebb843545d0b3bab585a648b60f3,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3722

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1244993 13f79535-47bb-0310-9956-ffa450edef68",6,5
9f0a673e36e35efb91f3e2c72aaf2055efcbd6d4,"order is not guarenteed with multiple consumers, just validate quantity

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1245408 13f79535-47bb-0310-9956-ffa450edef68",1,2
3a561cc8c7fdc048501231db330ec675f828d774,"fix for: https://issues.apache.org/jira/browse/AMQ-3248

Adds new variables for activemq.conf and activemq.data to allow for easy externalization of configuration and data files.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1245654 13f79535-47bb-0310-9956-ffa450edef68",428,475
df19a382c95777a95bde9b7c9218acc7a405c6c3,"fix for: https://issues.apache.org/jira/browse/AMQ-2834

Adds some checks on store limit vs journal max file size similar to the Temp Store limit checks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1245777 13f79535-47bb-0310-9956-ffa450edef68",7,37
e32ff5c7f4eb9c15a52fe52591ce08d31db48c37,"https://issues.apache.org/jira/browse/AMQ-3729 - Stomp wireformat and codec block on telnet CRLF CRLF header separator. fix up telnet support, additional test, impacts https://issues.apache.org/jira/browse/AMQ-2583 and https://issues.apache.org/jira/browse/AMQ-3449

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1291299 13f79535-47bb-0310-9956-ffa450edef68",3,95
3221b16221ceb7d3d28c4efff4482105e829b4eb,"fix for: https://issues.apache.org/jira/browse/AMQ-3731

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1291465 13f79535-47bb-0310-9956-ffa450edef68",23,58
fb06ca48c273dd7e5349b75e67e87f08acc66a7a,"Up Camel version to 2.9.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292300 13f79535-47bb-0310-9956-ffa450edef68",1,1
b5e294372fd47aa5905d18540a3513647a8e8791,"https://issues.apache.org/jira/browse/AMQ-3248

make some fixes to the activemq script.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292403 13f79535-47bb-0310-9956-ffa450edef68",29,16
a7873fc8ce31a3ad47ca5c4d86e177eba11fe2f2,"Set the java.io.tmpdir to be the ${ACTIVEM_BASE}/tmp directory.  This way it's easy to find and delete temp files (like the ones jetty uses).

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292413 13f79535-47bb-0310-9956-ffa450edef68",5,29
757107d7aa9e8e87c07445bccebe501e3b9ccb0c,"https://issues.apache.org/jira/browse/AMQ-3248

For backwards compat let the vars ACTIVEMQ_CONFIG_DIR and ACTIVEMQ_DATA_DIR still apply if the new ACTIVEMQ_CONF and ACTIVEMQ_DATA aren't set.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292470 13f79535-47bb-0310-9956-ffa450edef68",3,15
f5dcc9dfbf6635ec70916376afcb7640396def4a,"fix for: https://issues.apache.org/jira/browse/AMQ-3734

Adds username to some MBeans when enabled in BrokerService to allow for tracking of the authenticated user of connections and other resources.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292599 13f79535-47bb-0310-9956-ffa450edef68",66,221
14350af90c6fd18d3d3e4bbf5c8d5cc8815b6153,"https://issues.apache.org/jira/browse/AMQ-3734
https://issues.apache.org/jira/browse/AMQ-3735

Add the new ACTIVEMQ_CONF and ACTIVEMQ_DATA defaults to the wrapper conf files.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292809 13f79535-47bb-0310-9956-ffa450edef68",20,28
2290502bc996706d19f096e3ed3f566b61706af3,"https://issues.apache.org/jira/browse/AMQ-3737 - Possible leak in ManangedRegionBroker unregisterDestination. relates to: https://issues.apache.org/activemq/browse/AMQ-2741 - a leak indeed, or more than a mbean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292858 13f79535-47bb-0310-9956-ffa450edef68",6,19
a259c12c972bc97ef629e7b0d182c4074d60a85f,"Fix the failing test case, was closing the stomp socket before the StompTransport had time to read and dispatch incoming commands.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1292982 13f79535-47bb-0310-9956-ffa450edef68",11,18
46ccaafcfcfbfc63c1c9e0fe2cb02011991772e1,"fix for: https://issues.apache.org/jira/browse/AMQ-3693
fix for: https://issues.apache.org/jira/browse/AMQ-3508

Upgrades Jetty to v7.6.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1293432 13f79535-47bb-0310-9956-ffa450edef68",6,6
c0cf753e19784de4f3e7be297a7dd3e377609b2c,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3740

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1294318 13f79535-47bb-0310-9956-ffa450edef68",15,16
e426de8c32fc60e1fbe89262d6887fca724ea60b,"fix for: https://issues.apache.org/jira/browse/AMQ-3742 with supplied unit test patch applied.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1294342 13f79535-47bb-0310-9956-ffa450edef68",23,63
14c1766843a794cc3727b012636bdcb17ee84a4a,"https://issues.apache.org/jira/browse/AMQ-3743 - activemq-web-console WAR with SNAPSHOT dependencies breaks osgi Bundle-ClassPath in manifest. Make use of the war plugin outputFileNameMapping to ensure the timestamp is dropped to match the bundle-classpath

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1294359 13f79535-47bb-0310-9956-ffa450edef68",0,1
0d8ce9f87ce82cc3d8cd783f7b6f3762cc638996,"add activemq-camel feature, remove invalid url param from mvn war for console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1295072 13f79535-47bb-0310-9956-ffa450edef68",2,7
503e1dc15e85bf6037aeac3c276edcd81f32e1be,"https://issues.apache.org/jira/browse/AMQ-3747 - Syntax errors are not showing up in the log when the broker is started in the background. fix by logging a fatalbeanexception on context creation before rethrow

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1295138 13f79535-47bb-0310-9956-ffa450edef68",6,12
9a7443a13794b38a2d89a0f55cb300cab0e35704,"https://issues.apache.org/jira/browse/AMQ-3749 - Composite destinations break simple authorisation through role aggregation. additional tests and fix, the union of the roles for composite destinations provides the auth list

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1295545 13f79535-47bb-0310-9956-ffa450edef68",7,95
5dda6e6fee28cbda6474340b552ad63f8774718c,"https://issues.apache.org/jira/browse/AMQ-3749 - Composite destinations break simple authorisation through role aggregation. additional tests and fix - ldap did need some work

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1295661 13f79535-47bb-0310-9956-ffa450edef68",19,63
f4d4c3b4ce524ac2df287e7c5b20432e79760e50,"Fix for https://issues.apache.org/jira/browse/AMQ-3750 - add hint to storage of messages to enable concurrent store and dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1295662 13f79535-47bb-0310-9956-ffa450edef68",5,167
e2325f5d4f71ad1dfcc6ee4d68235e682481065e,"Fix for https://issues.apache.org/jira/browse/AMQ-3748

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1295672 13f79535-47bb-0310-9956-ffa450edef68",1,1
3a84de919967fa78f12a6c277266eb288dccbdd7,"AMQ-3752: repeated call to PooledConnection.setClientID() with the same client id are ignored and don't raise an exception.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296094 13f79535-47bb-0310-9956-ffa450edef68",1,107
783ba853aafcf50991808bd2df53533f4acabb4b,"fix intermittent hang if all threads do not complete on time

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296157 13f79535-47bb-0310-9956-ffa450edef68",4,10
14110f52ebeae1a5e0953d67225028a94e55b71d,"AMQ-3754: Updated org.apache.activemq.transport.vm.VmTransportNetworkBrokerTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296194 13f79535-47bb-0310-9956-ffa450edef68",5,67
df8d1e824d133f4f680f2e593f139602ea2591f5,"https://issues.apache.org/jira/browse/AMQ-3749 - Composite destinations break simple authorisation through role aggregation. additional tests and fix - fix broken test, expecting wrong behaviour

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296204 13f79535-47bb-0310-9956-ffa450edef68",4,1
9b7347087d1a96c025d51f4674295e411c7fa2ad,"make test more deterministic

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296326 13f79535-47bb-0310-9956-ffa450edef68",20,41
d2f8eded570569456eaede7c418e8fdccca0a4f3,"fix timing issue with test, fails under load

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296368 13f79535-47bb-0310-9956-ffa450edef68",6,17
ac54a611f32c1a480e4f6505533885cc52653bfc,"ensure broker stop ocurrs after subs connected and add defensive check to close identified by one failure scenario

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296396 13f79535-47bb-0310-9956-ffa450edef68",6,16
d40f398b310e0a59d5e0361c9fc21c4c2b160630,"fix for: https://issues.apache.org/jira/browse/AMQ-3750

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296469 13f79535-47bb-0310-9956-ffa450edef68",94,229
686bfcf4967fdada0298433e7d48c142054b812f,"fix for: https://issues.apache.org/jira/browse/AMQ-1907

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296711 13f79535-47bb-0310-9956-ffa450edef68",0,88
0efaaecfd19747d06a14e92095d068916227680b,"fix for: https://issues.apache.org/jira/browse/AMQ-1905

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1296720 13f79535-47bb-0310-9956-ffa450edef68",2,128
09ff99fbfa702b57fd41a9ebc48a4b9e3cda939d,"https://issues.apache.org/jira/browse/AMQ-1706 - fix up doc comment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1297025 13f79535-47bb-0310-9956-ffa450edef68",2,2
0dfbc5054de0b2a184adeed6b971193f9fda531c,"fix for: https://issues.apache.org/jira/browse/AMQ-3756

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1297114 13f79535-47bb-0310-9956-ffa450edef68",2,8
3a5b48a4db6bd3b31d7ee895023cd0181e482fa7,"fix for: https://issues.apache.org/jira/browse/AMQ-3732

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1297252 13f79535-47bb-0310-9956-ffa450edef68",100,320
fca08a7f22c84039f45c6d0231108b2a9f1364a1,"Make the test less prone to failure due to dependence on fixed sleeps for the assert conditions.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1297501 13f79535-47bb-0310-9956-ffa450edef68",46,70
84a50910a61bdb02edccb4e2cca6f9a16e9fac36,"https://issues.apache.org/jira/browse/AMQ-2570 - remove wildcards as they are ignored by bnd when the classes are not referenced. this fixes logging at the default debug level for pax logging when unbound from the war file

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1298620 13f79535-47bb-0310-9956-ffa450edef68",4,4
f5b69f8783be5d1bebd0336a78b6af3fae9e9583,"https://issues.apache.org/jira/browse/AMQ-2570 - remove wildcards as they are ignored by bnd when the classes are not referenced and replace with explicit imports for the dependencies that are needed. In case of servlet, wildcard is ok as it is referenced but the spo bits of the logging package are needed for the appenders

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1300106 13f79535-47bb-0310-9956-ffa450edef68",1,3
0bbb73529d50d2037e2a2b91ca878688845f40bf,"fixes for: https://issues.apache.org/jira/browse/AMQ-3768

Prevent usage of stale cache data.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1300723 13f79535-47bb-0310-9956-ffa450edef68",8,24
a7e7bce0aefd0624d9c6e94337477a5861804bac,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3719

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1300726 13f79535-47bb-0310-9956-ffa450edef68",0,116
d4cd7f9eed6f7e5c1967d8aa8fc228e95310492b,"Fixes AMQ-3769: Support doing non-blocking sends that uses an async callback that gets notified when the send has been received by the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1300727 13f79535-47bb-0310-9956-ffa450edef68",12,241
eab87585294f2fead68c9606dc9ad144b52a2f07,"fixes for: https://issues.apache.org/jira/browse/AMQ-3768

Adds some additional eager cache invalidation to ensure we don't use stale nodes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1301145 13f79535-47bb-0310-9956-ffa450edef68",0,7
1be93984a2ca4ffbd5e27184aeb1d97bba9c814f,"https://issues.apache.org/jira/browse/AMQ-3733: Topic subscriber is assumed to be slow consumer when prefetch is set to one. Thanks for the great test case. Fixed up the logic used to determine slowness of a sub to take into account the pending messages and prefetch. It is now only applicable when prefetch > 1 and the pending message strategy keeps messages in memory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1301565 13f79535-47bb-0310-9956-ffa450edef68",6,119
5ea1c1c042156b982a7611b911d7dcb0322e8a8b,"updated for https://issues.apache.org/jira/browse/AMQ-3772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302490 13f79535-47bb-0310-9956-ffa450edef68",0,7
08b95689cb504b6fe6da0be4d61b176b046ad630,"updated for https://issues.apache.org/jira/browse/AMQ-3772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302494 13f79535-47bb-0310-9956-ffa450edef68",0,103
d6917ea4bcec57f51ad1486261d6d73e44ef0cad,"AMQ-3774 - update jdom bundle version to match Camel and ServiceMix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302596 13f79535-47bb-0310-9956-ffa450edef68",1,1
0af0021d0bbabc5ee96e2e7881b9bf79c34b034e,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3775

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302607 13f79535-47bb-0310-9956-ffa450edef68",4,370
13e5777efb8f13c916a14fd415425a350713c244,"additional test for: https://issues.apache.org/jira/browse/AMQ-3775

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302641 13f79535-47bb-0310-9956-ffa450edef68",0,401
f2867cffcba4e79362331702e115bc89018a3684,"fix for: https://issues.apache.org/jira/browse/AMQ-3777

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302879 13f79535-47bb-0310-9956-ffa450edef68",1,1
f32792a9fca6a9655f4cf79c7272821e8a468ac6,"fix for: https://issues.apache.org/jira/browse/AMQ-3776

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302883 13f79535-47bb-0310-9956-ffa450edef68",4,11
ca83305faa3138dcbdf6ab180bf5ef2e4954c44c,"add property  optimizeMessageStoreInFlightLimit on destinations so can set the inflight limit above which optimize store dispatch is no longer applied - for https://issues.apache.org/jira/browse/AMQ-3750

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302887 13f79535-47bb-0310-9956-ffa450edef68",2,28
bd5124cf94ec50885a99ef4265a7396ab3e73f33,"Added config test for LevelDB - for https://issues.apache.org/jira/browse/AMQ-3772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302904 13f79535-47bb-0310-9956-ffa450edef68",0,189
cdacf824289a2d56c04571765596bdd7dbf8d2c3,"fix bad logger define.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302910 13f79535-47bb-0310-9956-ffa450edef68",1,1
21a9a6596b313b9fe117def357b926b7f896989e,"Use the snapshot version of the leveldb store..

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302911 13f79535-47bb-0310-9956-ffa450edef68",2,2
1d7b69d55c644dabfb605e3cd84bcaeab1b93902,"Added package.html for levelDB stub - for https://issues.apache.org/jira/browse/AMQ-3772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302912 13f79535-47bb-0310-9956-ffa450edef68",0,27
926fdd7e92d5ac1cfde4658a4c9a726139e2c315,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3780

ensure that non-persistent messages are cleaned up from temp storage when the Queue is deleted.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1302977 13f79535-47bb-0310-9956-ffa450edef68",16,269
1419103c18b6169555cc6150892d9a85ab608750,"https://issues.apache.org/jira/browse/AMQ-3775

Update test to not use a static port for the broker Uri.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1303113 13f79535-47bb-0310-9956-ffa450edef68",15,8
3cea40d889fa87aa053fa2472f90c3d30b586352,"https://issues.apache.org/jira/browse/AMQ-3775

Ensure that the orderIndex is reset to a good state. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1303128 13f79535-47bb-0310-9956-ffa450edef68",0,9
b96bb1ff4bf40b246fb4243b013e99bbacbee8e1,"Add the fusesource snapshot repo so that the leveldb snapshot can be downloaded.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1303502 13f79535-47bb-0310-9956-ffa450edef68",0,7
5cd9ebaeb7f82e2828e6ccf0931b12aab51dddab,"fis for: https://issues.apache.org/jira/browse/AMQ-3718

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1303544 13f79535-47bb-0310-9956-ffa450edef68",25,47
1463bec066c199d60402c2d3d594adc05a007e6a,"https://issues.apache.org/jira/browse/AMQ-3768: ClassCastException when running some Durable Consumer test cases. root cause of the classcast was the reuse of a freed node that was still referenced as the head page id of a listindex. The fix is to not modify the head page id of a listindex when removing and coalescing linked pages, the head page remains valid for the duration of a subscription. Eventually got a test case that could easlily reproduce

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1304020 13f79535-47bb-0310-9956-ffa450edef68",12,68
d92d3a8a06b6a20769d39c5b1cf19a7c8bf91921,"fix for: https://issues.apache.org/jira/browse/AMQ-3782

avoid any potential NPE and try again.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1304057 13f79535-47bb-0310-9956-ffa450edef68",0,6
c3e57ec9fdd2060583058deaa9f9ad070336a2df,"resolve persistent hudson failure of org.apache.activemq.network.SimpleNetworkTest.testConduitBridge - individual cases were interfering with each other. A secondary failure, org.apache.activemq.network.SimpleNetworkTest#testDurableStoreAndForwardReconnect shows a problem with consuming an existing sub across a network, it won't work. It is not trivial to fix either, so virtual topics are a better bet in a network environment atm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1304559 13f79535-47bb-0310-9956-ffa450edef68",36,60
555d8890acc3f743584b37670ee10d124c06e8d2,"dependency for MQTT support - see https://issues.apache.org/jira/browse/AMQ-3786

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1304983 13f79535-47bb-0310-9956-ffa450edef68",0,6
cfc6917a79dd1c5ba3be70edf49a9a70393179ba,"intial files to support MQTT  -see https://issues.apache.org/jira/browse/AMQ-3786

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1304984 13f79535-47bb-0310-9956-ffa450edef68",0,3455
1575f458972d4af91e008e7849d9ab7aabece4b2,"ensure test starts with a clean slate, fix intermittent failure in hudson

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1305288 13f79535-47bb-0310-9956-ffa450edef68",1,1
aee81279cb9a7f04a6e04e0f31f071ff81f63142,"https://issues.apache.org/jira/browse/AMQ-3789 - set java.io.tmpdir only when we start a broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306224 13f79535-47bb-0310-9956-ffa450edef68",2,0
fb0b63e3790dde151d8a8957fbec46553790eb25,"https://issues.apache.org/jira/browse/AMQ-3473 - Messages (possibly) stuck and pending messages count showing high number of pending message which do not get sent to a consumer. resolve the error in queue stats, message count and enqueue count when index suppressed a duplicate message add attempt

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306228 13f79535-47bb-0310-9956-ffa450edef68",0,101
d5134dec3d32bff9b87fc62ea6da04f707c12407,"https://issues.apache.org/jira/browse/AMQ-3790 - bstat improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306320 13f79535-47bb-0310-9956-ffa450edef68",12,16
6236c144da8a38555e39369f19598e5799b00f6f,"https://issues.apache.org/jira/browse/AMQ-3789 - set java.io.tmpdir for console use as well

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306441 13f79535-47bb-0310-9956-ffa450edef68",3,2
6d58dbef32fee838d6fa76709613a0ddc7a3a52f,"Adding new test to show an issue in the list lindex on removes.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306515 13f79535-47bb-0310-9956-ffa450edef68",0,76
d2610faff4f76f979808b53eb2a2861085508ad1,"additional fix for: https://issues.apache.org/jira/browse/AMQ-3775 

The ListIndex was not properly configured after a split occurred during put operations, the
page Ids weren't set correctly on split and the tail page Id was never set. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306780 13f79535-47bb-0310-9956-ffa450edef68",14,13
b137af4f8a48d8512ad9f3ba2aac725b2dfa04cf,"https://issues.apache.org/jira/browse/AMQ-3786 - disable tests pending commit of activemq-core/src/test/resources/org/apache/activemq/transport/mqtt dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306785 13f79535-47bb-0310-9956-ffa450edef68",0,2
81e1de95f8a6e9d4256e491086c1fc89e4bc1c75,"https://issues.apache.org/jira/browse/AMQ-3473: add defensive null check for brokerservice and region broker in case of dup detection during initalisation or partially initialised test, pa is always eagerly created

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306865 13f79535-47bb-0310-9956-ffa450edef68",5,9
c6ec76e6f6ad7714c9b343acb44fd4123de7462f,"small cleanup: https://issues.apache.org/jira/browse/AMQ-3775 


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1306886 13f79535-47bb-0310-9956-ffa450edef68",14,10
33cdefaf2ef7d9f5292a95612b404c3712be7262,"https://issues.apache.org/jira/browse/AMQ-3792: use of the failover transport incorrectly suppresses javax.jms.InvalidClientIDException when clientId is already in use. fixup with test and fix to test dependent on wrong behaviour

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1307142 13f79535-47bb-0310-9956-ffa450edef68",44,70
6110e16f286c8407b15c62dd5393e63a84651021,"fix intermittent ci failure, remove dependency on free jmx rmi port

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1307340 13f79535-47bb-0310-9956-ffa450edef68",7,4
401f768414e49dce67d0997eab0aa8bc4901f1cf,"include eclipse jdt to make activemq-web-console jetty:run work again

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1307487 13f79535-47bb-0310-9956-ffa450edef68",1,6
0f5b406b43a59ba0942638e0e8018ea8aade8ca6,"more functionality for MQTT for https://issues.apache.org/jira/browse/AMQ-3786

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1309566 13f79535-47bb-0310-9956-ffa450edef68",2138,550
1c0dbd1a1e1b5276d33878839fdef3f3921e1cfd,"https://issues.apache.org/jira/browse/AMQ-3801 - job scheduler index corruption

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1309780 13f79535-47bb-0310-9956-ffa450edef68",14,16
fa5a18b28089ee00a5444d08eae2cacfe9dc5c45,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3799

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1310350 13f79535-47bb-0310-9956-ffa450edef68",2,2
148455413e4c1ede80cdc92c8c445fc1bfa57457,"Add some additional checks and assertions to this test. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1310374 13f79535-47bb-0310-9956-ffa450edef68",0,11
a3f85e271ab37880dabbcb90ddbc2e69bf1221b8,"https://issues.apache.org/jira/browse/AMQ-3775 - ensure no concurrent kahadb transaction in topic store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1310410 13f79535-47bb-0310-9956-ffa450edef68",14,17
d112ad5af754a07130890b240182e10578494a78,"additional test and fix for: https://issues.apache.org/jira/browse/AMQ-3780

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1310559 13f79535-47bb-0310-9956-ffa450edef68",3,259
392d017c6ef8a24c8684c7d5fb89bce5ac48eb0e,"Add a gitignore file to ignore generated files.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1311236 13f79535-47bb-0310-9956-ffa450edef68",0,22
22807198354a81dc957e707b8b1e6e82de397fbf,"https://issues.apache.org/jira/browse/AMQ-3706 - use round-robin instead of rnd for cluster rebalancing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1311237 13f79535-47bb-0310-9956-ffa450edef68",65,69
681c1abf370aff00a2beda5b095f50cba2f8ece8,"add a test for: https://issues.apache.org/jira/browse/AMQ-3802

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1311239 13f79535-47bb-0310-9956-ffa450edef68",0,43
934eaf992311793f35fc0e442ffda810d724fff8,"Test can hang if the async event isn't received, add a timeout in the test loop's wait call to prevent this. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1311402 13f79535-47bb-0310-9956-ffa450edef68",1,1
ccaf0839daf14ccf13b225240fc85345d68b41ec,"additional test for: https://issues.apache.org/jira/browse/AMQ-3775

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1311511 13f79535-47bb-0310-9956-ffa450edef68",0,338
34af42f4440979a9dee85908718857120236b495,"additional fix for: https://issues.apache.org/jira/browse/AMQ-3775

ensure that the messageReferences are calculated correctly when loading a stored destination. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1311513 13f79535-47bb-0310-9956-ffa450edef68",3,70
ff5e7e76264af13db020e627bdf81e23e9b4fbea,"Remove unneeded tracing that was used for: https://issues.apache.org/jira/browse/AMQ-3775

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1311780 13f79535-47bb-0310-9956-ffa450edef68",58,0
4c3843809eecd4948919e0c1690b283e0a69748b,"added NIO support to the  MQTT protocol for https://issues.apache.org/jira/browse/AMQ-3786

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1324714 13f79535-47bb-0310-9956-ffa450edef68",172,802
76537741fc017ae36fc78e2b251edfbc0bce17e8,"Fix for: https://issues.apache.org/jira/browse/AMQ-3788

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1324765 13f79535-47bb-0310-9956-ffa450edef68",2,6
0c2144c3573e79a5872ecf247d9cf46dd3f4abfe,"prevent hanging test stalling the build.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1324779 13f79535-47bb-0310-9956-ffa450edef68",14,14
7df5c3bdccec1c09e1653f317ee15be3bc23138a,"ClientRebalanceTest - fix the test to avoid occasional hang

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1324799 13f79535-47bb-0310-9956-ffa450edef68",10,11
8e05b7b733cb18f57fa6c95757c744adc41bb834,"added patch to update dependencies to include leveldb for https://issues.apache.org/jira/browse/AMQ-3772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325617 13f79535-47bb-0310-9956-ffa450edef68",1,7
0be51cbfe27724da54669d80694f6cbfe4ce630f,"Applied patch for https://issues.apache.org/jira/browse/AMQ-3681

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325621 13f79535-47bb-0310-9956-ffa450edef68",12,30
53b29a206bda45d6ea5aaaeaddb46e4fa0ef45ad,"https://issues.apache.org/jira/browse/AMQ-3805 - duplicate dispatch to durable sub with concurrent send transaction commit and activate. fixed up the use of audit through an activate/deactivate such that duplicate dispatch is suppressed at source in this case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325722 13f79535-47bb-0310-9956-ffa450edef68",17,1355
90fcbc8812a760f59e502dd5bd4ec05a01a35ab6,"https://issues.apache.org/jira/browse/AMQ-3630 - NetworkBridgeFilterFactory should be assigned to Queue not NetworkBridge - thanks. the filter should be evaluated per destination

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325735 13f79535-47bb-0310-9956-ffa450edef68",11,7
8d2c079e0ce7f0704504aa2b3445a75bbadb066a,"https://issues.apache.org/jira/browse/AMQ-3806 - Partial index updates can lead to bogus recovery for the vmcursor of a Q on startup. Only recovery destinations with that have some messages, so the location index is the system or reference. It makes sense as the location index is the basis for gc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325810 13f79535-47bb-0310-9956-ffa450edef68",1,1
6687d567c7eab1c8f9876fba9b43d66c5700f257,"Apply Fix For: https://issues.apache.org/jira/browse/AMQ-3680

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325943 13f79535-47bb-0310-9956-ffa450edef68",40,375
f81a790ff5cb13eddb3e46360a0a7aa75b985be1,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3803

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325985 13f79535-47bb-0310-9956-ffa450edef68",26,70
e100c92614b5233d6c7c4d94127c1d712c629cb9,"Bump Camel version to v2.9.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1325996 13f79535-47bb-0310-9956-ffa450edef68",1,1
38666e9298cc2f71eaac5f01292343cdedad7bc6,"add autofail to ensure it does not block the hudson build again

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326021 13f79535-47bb-0310-9956-ffa450edef68",0,1
8f7b18f96289b7f13fd630be148272c77c352a9a,"updated depedency on fusemq-leveldb to version 1.1 for https://issues.apache.org/jira/browse/AMQ-3772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326055 13f79535-47bb-0310-9956-ffa450edef68",1,1
64a1c9bcccc293598c2895055fe14b2a0c94edfb,"stop spurious exceptions on shutdown of JMDNS service - and ensure it doesn't deadlock a shutdown for https://issues.apache.org/jira/browse/AMQ-3753

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326056 13f79535-47bb-0310-9956-ffa450edef68",920,482
2f0ef2e6706830fcadcb804621c81bb96d790aaa,"Additional test to show that https://issues.apache.org/jira/browse/AMQ-3802 is a non-issue.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326200 13f79535-47bb-0310-9956-ffa450edef68",1,2
50d3e8e09a2b7a6c0f86296da1a4b27a1687c6b6,"Applied patch for https://issues.apache.org/jira/browse/AMQ-3301

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326252 13f79535-47bb-0310-9956-ffa450edef68",24,35
1b9f5f6727e0e82d225536e8b9842910f517268f,"Fix for https://issues.apache.org/jira/browse/AMQ-3004

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326298 13f79535-47bb-0310-9956-ffa450edef68",12,536
0ee0cb9a2206758c8878b9a947e0e30b79cf0c65,"Fix for https://issues.apache.org/jira/browse/AMQ-3678

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326493 13f79535-47bb-0310-9956-ffa450edef68",2,244
fc4eb63ad8d6b6a2741ad973cd67ced1017c51c9,"applied leveldb-2.patch for https://issues.apache.org/jira/browse/AMQ-3772

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326494 13f79535-47bb-0310-9956-ffa450edef68",0,3
7dc2c4e26fc0cf2cf3fdfd28e96ab92f4134b206,"Fix for https://issues.apache.org/jira/browse/AMQ-3274

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326502 13f79535-47bb-0310-9956-ffa450edef68",33,1009
da7add92fe5328a56669c546fe198a32b1e742ed,"https://issues.apache.org/jira/browse/AMQ-3681 - update derby version to pick up dependency on implementation of java.sql.Statement#setQueryTimeout

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326594 13f79535-47bb-0310-9956-ffa450edef68",1,1
04aa9c51617bc6a857d50ad557be2bce65daf13c,"https://issues.apache.org/jira/browse/AMQ-3681 - make use of java.sql.Statement#setQueryTimeout conditional on queryTimeout attribute > 0 so it can be disabled as it does not have universal support, default value 10 seconds

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326610 13f79535-47bb-0310-9956-ffa450edef68",1,11
fb915c3dc63940c54129ff2d516cedee050eab6e,"Fix for https://issues.apache.org/jira/browse/AMQ-3804

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326692 13f79535-47bb-0310-9956-ffa450edef68",5,7
81659c0e9de75bb92e5399ff700d8e182e728052,"expose explicit SystemUsage configuration - https://issues.apache.org/jira/browse/AMQ-3574

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1326948 13f79535-47bb-0310-9956-ffa450edef68",1,14
7d47880f10904cfeceaf5fde2f14c3efd10de3f0,"expose explicit SystemUsage configuration - changed to be the same as defaults in BrokerService - https://issues.apache.org/jira/browse/AMQ-3574

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327362 13f79535-47bb-0310-9956-ffa450edef68",1,1
61fdb188c82a5a548e0eaac3f40d2a8614f58fc1,"For https://issues.apache.org/jira/browse/AMQ-3573 In junit tests -  fixed warning messages can be generated for not enough disk space if the directory doesn't exist

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327379 13f79535-47bb-0310-9956-ffa450edef68",3,11
3df43f58866ea4c400629a7831dee3b7a073e423,"For https://issues.apache.org/jira/browse/AMQ-3573 In junit tests -  fixed null pointer if the directory doesn't exist

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327388 13f79535-47bb-0310-9956-ffa450edef68",1,2
9287816fecd15f7f39cf9b1de592951b1068c9d2,"fix for https://issues.apache.org/jira/browse/AMQ-796

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327443 13f79535-47bb-0310-9956-ffa450edef68",1,2
9706f654a49b35df7a9589521584759bbc577e48,"JobSchedulerStoreTest - fix test, don't allow jobs to start scheduling on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327457 13f79535-47bb-0310-9956-ffa450edef68",5,6
47c392bad380f9b37ad1c4620f889ede9ed821d3,"ExpiredMessagesWithNoConsumerTest - trying to tweak it a bit to prevent failures on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327484 13f79535-47bb-0310-9956-ffa450edef68",18,16
f7a904ab6844a261dbfdc06d728cae6c46f66fa3,"https://issues.apache.org/jira/browse/AMQ-2502 https://issues.apache.org/jira/browse/AMQ-3463 - have optional osgi import for connection pool in activemq camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327557 13f79535-47bb-0310-9956-ffa450edef68",1,3
bda7ccb24880de84c680a5b09d35fdbe44b3f3a0,"recent change for https://issues.apache.org/jira/browse/AMQ-2502 breaks build as activemq-pool was made optional for activemq-camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327702 13f79535-47bb-0310-9956-ffa450edef68",10,14
2044ade68703c39bfcce563b6e1ab57e40c09689,"reflect the reality of plugable dispatch policys for topics only, https://cwiki.apache.org/confluence/display/ACTIVEMQ/Dispatch+Policies

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327888 13f79535-47bb-0310-9956-ffa450edef68",10,3
974f6896a453022f2a805271f100fab6098916b3,"fixing licenses

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1327985 13f79535-47bb-0310-9956-ffa450edef68",62,416
cf90f3b5bdd2431ac39ff8f68869646796faac22,"further work for: https://issues.apache.org/jira/browse/AMQ-3248 update the wrapper.conf files to properly make use of the conf and data env vars

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1328073 13f79535-47bb-0310-9956-ffa450edef68",20,28
74bed6b577fcc7388922a74e15036a5729aa2e6a,"Fix for https://issues.apache.org/jira/browse/AMQ-3813

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1328287 13f79535-47bb-0310-9956-ffa450edef68",94,292
6b4d077bdf17d04f9c211612d1de58680ee9bb9f,"https://issues.apache.org/jira/browse/AMQ-3805 - further resolution, dispatch and activate could clash over the audit resulting in skipped messages in the batch, the end result being our of order dispatch. Additional test and fix up of use of cache and sync between durable sub and prefetch sub

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1328413 13f79535-47bb-0310-9956-ffa450edef68",45,172
fc4f01cf5d1a7714f60b70dba6dcd0ae8c26cb46,"https://issues.apache.org/jira/browse/AMQ-3805 - fix up unit test regressions with java.util.ConcurrentModificationException due to dispatch no longer being copy on write, shows up need to use iterator in message expiry case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1328724 13f79535-47bb-0310-9956-ffa450edef68",1,1
f77b2525a51eab2524b14125f2ac9fcd5875760b,"Additional fix for: https://issues.apache.org/jira/browse/AMQ-3775

On remove of inner ListNode entries the Iterator remove was not properly setting the Next page Id for the previous node leading to
the iterator not being able to traverse the entire list correctly.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1328739 13f79535-47bb-0310-9956-ffa450edef68",52,200
740f5b36dabe549cab66cba413106afd76d83343,"Additional test for: https://issues.apache.org/jira/browse/AMQ-3775


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329225 13f79535-47bb-0310-9956-ffa450edef68",0,745
739a13dc2b471bcf523bb889d8cbdbe75b05d613,"Make the test more deterministic to fix test errors on slower machines. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329240 13f79535-47bb-0310-9956-ffa450edef68",7,9
6a670921b3b90ea96d5ecbd8767b244c07e42e37,"Prevent these tests from hanging the hudson build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329452 13f79535-47bb-0310-9956-ffa450edef68",11,13
6aad9f6bed9dd32580024c679246432cc399db7e,"https://issues.apache.org/jira/browse/AMQ-3679 - add new modules to osgi metadata

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329662 13f79535-47bb-0310-9956-ffa450edef68",0,4
227e7ab5f5cc7bc718431a231fd962cfb668a303,"AMQ-3235 update camel to v2.9.2 before 5.6 RC

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329738 13f79535-47bb-0310-9956-ffa450edef68",1,1
01b9e4bf5408476494f072cf7aebe7141ba6e340,"Fix logger declaration.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329804 13f79535-47bb-0310-9956-ffa450edef68",7,16
bb51af38e1ed608b2151152da47c50d6ea788a6b,"upgrading activeio to 3.1.4

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329814 13f79535-47bb-0310-9956-ffa450edef68",1,1
96a9fb250200b78c0b589c31281a7d1e9ab854e8,"[maven-release-plugin] prepare release activemq-5.6.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329821 13f79535-47bb-0310-9956-ffa450edef68",32,32
710dc7bb2022e030b14c7ae03a25b64679275757,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1329823 13f79535-47bb-0310-9956-ffa450edef68",30,30
0b1b932ea73df2c584a4166c45ab7674d6109d5f,"Update the <activemq-version> tag to the correct 5.7-SNAPSHOT value

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1330473 13f79535-47bb-0310-9956-ffa450edef68",1,1
e5c4ffd673aa76bfbeea46c2288b75dbb4f9c2e2,"https://issues.apache.org/jira/browse/AMQ-3820 - statistics plugin - subscription statistics

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1331372 13f79535-47bb-0310-9956-ffa450edef68",5,80
ec87b17be013b1ddbf45c1ca91a24878f074dd2e,"test for: https://issues.apache.org/jira/browse/AMQ-3819

Creates a load test based on the user supplied ruby script.  There are four variations, one for each of the transport types.  Tests show that only the Stomp+NIO+SSL fails under this scenario. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1331481 13f79535-47bb-0310-9956-ffa450edef68",0,389
e96eab52a1d8d33087b24b4ffd675bc050981987,"https://issues.apache.org/jira/browse/AMQ-3819 - handle BUFFER_UNDERFLOW case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1332230 13f79535-47bb-0310-9956-ffa450edef68",3,9
956724e5cd4adf609950e1160bf997418a4561f4,"fix for: https://issues.apache.org/jira/browse/AMQ-3823

Don't trim the whitespace from header values.  Updates the tests to not add spaces in stomp headers. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1332813 13f79535-47bb-0310-9956-ffa450edef68",118,164
937c1e8cbc3dc95fdc35e17bc6e50b0e20b48c59,"fix for: https://issues.apache.org/jira/browse/AMQ-3824

Adds a 64 bit Java service wrapper.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1332880 13f79535-47bb-0310-9956-ffa450edef68",8,305
3307d575286bdd2c282ac19091b1f4c1dcee067f,"ensure test is more deterministic and does not hang ci build

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1332977 13f79535-47bb-0310-9956-ffa450edef68",7,9
b7e264f917584675392ba51118a4b4905aacdab9,"[maven-release-plugin] prepare release activemq-5.6.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1332981 13f79535-47bb-0310-9956-ffa450edef68",31,31
c58791882199b51e2e5be915bf72f49237437054,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1332983 13f79535-47bb-0310-9956-ffa450edef68",30,30
015ac1c8a31f05742fa9b2cb3e0455bd628a7ca5,"Update pom.xml to fix the build, instead of hardcoding <activemq-version> its now set to  which seems to work on local builds here.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1333029 13f79535-47bb-0310-9956-ffa450edef68",1,1
92d9d1cb7a183dc9291c2caf083be8ca9a91b6b2,"version is depreciated in place of project.version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1333039 13f79535-47bb-0310-9956-ffa450edef68",1,1
574bd5876b927d10e651c64bbafd450bc7e9c82d,"Switch latest released leveldb sore impl.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1333595 13f79535-47bb-0310-9956-ffa450edef68",1,1
d5c86b0ae5ef8a1ff3371d337cf46c19db6dc6dd,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3822

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1333905 13f79535-47bb-0310-9956-ffa450edef68",1,96
789dc9c72bc690e3822386ebb4a9100ea42bb142,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3827

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1333980 13f79535-47bb-0310-9956-ffa450edef68",33,281
9629b968ee30356478de569c04c678b9567c8037,"https://issues.apache.org/jira/browse/AMQ-3832 - maven bundle plugin upgrade

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1336078 13f79535-47bb-0310-9956-ffa450edef68",1,1
c17129154d660d9b39efcd3be0e9d6a9105712eb,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3831

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1336373 13f79535-47bb-0310-9956-ffa450edef68",3,6
f13968e97ea672c3fdd20a400cb33c99d1488c88,"wait for started before checking on the MBean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1336387 13f79535-47bb-0310-9956-ffa450edef68",0,3
e4d90d9281a34fc8ed1c521107ad6245950367d4,"Add test to show no issue for: https://issues.apache.org/jira/browse/AMQ-3835

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1339589 13f79535-47bb-0310-9956-ffa450edef68",0,79
3082a20520ac73ff954e420b0981d2c54b1bfd24,"Unit test that reproduces AMQ-3841

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1339660 13f79535-47bb-0310-9956-ffa450edef68",0,116
53fff528a71193e3af8b7c2dfb5b63dd509fac83,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-3817

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1340219 13f79535-47bb-0310-9956-ffa450edef68",0,130
fa62da8601b4e66462dcf9aa6877ca22590f0e93,"Add autofail to prevent test hang
see: https://issues.apache.org/jira/browse/AMQ-3842

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1340275 13f79535-47bb-0310-9956-ffa450edef68",21,27
94b6b1115e55ffa2ddd79dd5f96d4a564fcec6a5,"https://issues.apache.org/jira/browse/AMQ-3854 - updating spring xsd references

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1341091 13f79535-47bb-0310-9956-ffa450edef68",17,17
1e3ea5c9c58822f91910ffc4a9054b3293350d49,"Fix for https://issues.apache.org/jira/browse/AMQ-3855

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1341521 13f79535-47bb-0310-9956-ffa450edef68",27,105
db5798d9cc6a191361acee82e4edba4ed576d2d5,"Update MQTT client library to 1.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1341527 13f79535-47bb-0310-9956-ffa450edef68",1,1
bed24fabd9502094f0816143b045bad60cac7b1b,"Fix for: https://issues.apache.org/jira/browse/AMQ-3841

Ensure that the mKahaDB cleans up the per-destination kahaDB data when the destination is deleted, and don't throw exceptions in cases where we find an older one that has no destinations in it any longer.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1341601 13f79535-47bb-0310-9956-ffa450edef68",3,49
1b28cf1792e6eb0b2f49d46ef2d02652977ae7be,"https://issues.apache.org/jira/browse/AMQ-3853 - activemq-web-console osgi import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1341810 13f79535-47bb-0310-9956-ffa450edef68",0,10
144dda0308848e0ae4d7f87fb229e5ff7d107fd0,"Additional fixes for https://issues.apache.org/jira/browse/AMQ-3855 - timing issue in adding wildcard subscriptions can result in duplicate messages sent to MQTT

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1341820 13f79535-47bb-0310-9956-ffa450edef68",9,17
8b2875e19ef5fe3955e307b5234d5011bf9acaea,"https://issues.apache.org/jira/browse/AMQ-3858 fix npe on not found vvm jmx url

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1341945 13f79535-47bb-0310-9956-ffa450edef68",10,14
d44513a6559f5163a81e7611ad79ee125e1546ce,"fix for: https://issues.apache.org/jira/browse/AMQ-3669

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1342028 13f79535-47bb-0310-9956-ffa450edef68",0,166
a1b235d275aaefedf377000d47ea2c1c26a90b44,"fix for: https://issues.apache.org/jira/browse/AMQ-3856

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1342618 13f79535-47bb-0310-9956-ffa450edef68",4,8
afcbc4e5a38bb7c978147785ebed88d8c9d5a3a6,"Add tests for Websockets using selenium

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1342813 13f79535-47bb-0310-9956-ffa450edef68",13,250
d1aeb04fc6950cf9041e420a2142b69e26e84138,"https://issues.apache.org/jira/browse/AMQ-3863 - xa session pooling problem

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1343171 13f79535-47bb-0310-9956-ffa450edef68",3,158
4d43c74fd276e26946a2d4617b1c436d6c8d6162,"include mqtt tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1343257 13f79535-47bb-0310-9956-ffa450edef68",4,0
7504bc7a0152282637f1eb9e0579cfa2d09f18cb,"apply additional fix and unit test for: https://issues.apache.org/jira/browse/AMQ-3856

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1343742 13f79535-47bb-0310-9956-ffa450edef68",73,97
30f677e56a832f213a5f4989c020b1aa27ac5d95,"Fix for: https://issues.apache.org/jira/browse/AMQ-3841

Make the call to adapter.getDestinations() only once.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1344778 13f79535-47bb-0310-9956-ffa450edef68",2,3
fd37e8c8838d1f5ef319befd619a82f005a5b8f3,"fix for: https://issues.apache.org/jira/browse/AMQ-3871

Fix the addMessageFirst and values methods in OrderedPendingList and add tests for both OrderedPendingList and PrioritizedPendingList along with a test case to show the bad behavior for re-delivered in-flight non-persistent messages with durable subscribers.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1344842 13f79535-47bb-0310-9956-ffa450edef68",8,1080
eb887f1545123e5743ae67aa4ed44ca0524a6021,"fix for: https://issues.apache.org/jira/browse/AMQ-3836

Make a best effort to find the correct destination name even if space padded before falling back to the fallback conversion config. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1344894 13f79535-47bb-0310-9956-ffa450edef68",6,11
3c1b477523365dac6eca3b284f46df80d05b23de,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3857

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1344907 13f79535-47bb-0310-9956-ffa450edef68",2,33
b41b7cc8badf8f142e271960874dde97e206f942,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3865

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1344911 13f79535-47bb-0310-9956-ffa450edef68",32,31
6d041dc2a525a54c99d93c19a70e216807d15bbc,"https://issues.apache.org/jira/browse/AMQ-2868 - remove sync on memoery transaction store tx

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1345023 13f79535-47bb-0310-9956-ffa450edef68",12,9
15f85cd768f2bc1ca21a5a283dba672beb1d1256,"https://issues.apache.org/jira/browse/AMQ-2868 - optimize code a bit now that we don't have a sync

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1345034 13f79535-47bb-0310-9956-ffa450edef68",6,2
64f3492c85ef8e6c1e4ab1fa6fe56d1c9f4417d2,"https://issues.apache.org/jira/browse/AMQ-3872 - Implement ""exactly once"" delivery with JDBC and XA in the event of a failure post prepare. jdbc xa is not a runner due to single table and update locks. implemention adds xid column to messages and acks table. a non null value indicated a prepared add/ack, so the insert is done on prepare. the result of the transaction outcome requires a row level update

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1345202 13f79535-47bb-0310-9956-ffa450edef68",150,1532
f0d0ce07ab11222089a2c71a38f854115dbf2389,"https://issues.apache.org/jira/browse/AMQ-3288 - fix over flow to negative on signed int accumulator, would break priority message deletion

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1346401 13f79535-47bb-0310-9956-ffa450edef68",1,1
b07f31ebc6b6289673a4ea7bdc9ea18eaaf986c1,"https://issues.apache.org/jira/browse/AMQ-3305 and https://issues.apache.org/jira/browse/AMQ-3872 - fix up durable subs with xa recovery for kahadb and tidy up test assumptions re redelivery for jdbc. Shared tests pass with both stores now

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1346594 13f79535-47bb-0310-9956-ffa450edef68",43,49
3adee8c076141d314e64c53bb9f8e5fb3cf96883,"https://issues.apache.org/jira/browse/AMQ-3872 - avoid property syntax for internal accessor to ensure property equality after seriaization in generated marshalling tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1346813 13f79535-47bb-0310-9956-ffa450edef68",2,2
279ecfcd6d8c21000b3ecebb81efc4d513422b21,"ignore the mqttssl test till it gets some love, it hangs the nigtly run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1346818 13f79535-47bb-0310-9956-ffa450edef68",0,2
1f862ba3cdc37a350566df860a81e998e6242f1a,"https://issues.apache.org/jira/browse/AMQ-3791 - CachedLDAPAuthorizationMap improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1347580 13f79535-47bb-0310-9956-ffa450edef68",537,2792
c0a8060ef6d7684a96d008dfa373d6a21a52ced7,"deal with possible null when text marshalled via xstream as munged ctr is used which bypasses default init

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1347621 13f79535-47bb-0310-9956-ffa450edef68",1,1
0a8e505b14f7c585ff0db9eac5ccf0ee31b09625,"https://issues.apache.org/jira/browse/AMQ-3770 - ldap group expansion

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1347649 13f79535-47bb-0310-9956-ffa450edef68",21,216
06a42763c5b8d9157cef80f975a60be8eb5810cf,"On a loaded or very slow machine these can fail without a bit more time on the timeout.  Was able to reproduce locally with video encoders running.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1347824 13f79535-47bb-0310-9956-ffa450edef68",6,6
b6fba238bb870f64f0b6926fe7408432e9844737,"patch applied for https://issues.apache.org/jira/browse/AMQ-3867

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348150 13f79535-47bb-0310-9956-ffa450edef68",1,1
584c133e9da08d195a41b9177c2ca96c6dfbd894,"fix for: https://issues.apache.org/jira/browse/AMQ-3877

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348270 13f79535-47bb-0310-9956-ffa450edef68",130,398
691c70d3ea58acd2d6e87549fc8d923b84963eda,"Add missing license header

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348352 13f79535-47bb-0310-9956-ffa450edef68",0,16
21a0465448180d8dab5885243cac3989d9ed30a2,"fix build issue with some Generic types.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348483 13f79535-47bb-0310-9956-ffa450edef68",2,9
06949a507495e6b2e5761a11b10b8aab89a00b1b,"https://issues.apache.org/jira/browse/AMQ-3845 - handle LDAP restarts in cached ldap authorization map

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348761 13f79535-47bb-0310-9956-ffa450edef68",16,87
c1fbf53b7291a284f63e5b1c62917b9af08f0908,"https://issues.apache.org/jira/browse/AMQ-3845 - increase the refresh rate in the test for slower machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348880 13f79535-47bb-0310-9956-ffa450edef68",1,2
cfd28536b9b7be67f0819eb9a8adb0a7b67a23ec,"https://issues.apache.org/jira/browse/AMQ-3845 - exclude assertion in sync case as ldap connection close time is unpredictable

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348885 13f79535-47bb-0310-9956-ffa450edef68",3,5
4a7f8705932ca8f511af79065d41ad76962eff9e,"Test can fail on slower machines, give it a bit more time and improve the assert output. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1348983 13f79535-47bb-0310-9956-ffa450edef68",2,2
a307c57e980a3289afcc465bde00718d338aa8d7,"Adds a little test to show that messages cross the network bridge that are sent compressed remain compressed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1349030 13f79535-47bb-0310-9956-ffa450edef68",11,47
4bba15a7638824d1e16ad3304bfd7d48b8f02518,"fix for: https://issues.apache.org/jira/browse/AMQ-3852 



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1349383 13f79535-47bb-0310-9956-ffa450edef68",8,81
ba4a9ed841a9b16c9cdf2566bafab2fccbc0cd35,"fix for: https://issues.apache.org/jira/browse/AMQ-3828

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1349527 13f79535-47bb-0310-9956-ffa450edef68",58,101
59b38fcc43766717a923d23c410e349b32a4c9ea,"fix for: https://issues.apache.org/jira/browse/AMQ-3879

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1349582 13f79535-47bb-0310-9956-ffa450edef68",7,121
ccf601e4e4dc4d0b934276e06d2d737e671e36a0,"New feature and test for: https://issues.apache.org/jira/browse/AMQ-3878

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1349585 13f79535-47bb-0310-9956-ffa450edef68",34,65
b067a65444aa5b3e745b11b301b66fb4336b48b4,"https://issues.apache.org/jira/browse/AMQ-3845 - make test (and map) work better on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1349713 13f79535-47bb-0310-9956-ffa450edef68",21,26
9bf65b4f097bf0a89a91e484bbf9d879474e55bb,"https://issues.apache.org/jira/browse/AMQ-3845 - sync test case is now fixed as well

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1349719 13f79535-47bb-0310-9956-ffa450edef68",4,7
dc258ab2aefd7b9973130469393584207a74b995,"https://issues.apache.org/jira/browse/AMQ-3654 - JDBC Master/Slave : Slave cannot acquire lock when the master loose database connection. Adding an leasebasedlocker that can survive db disconnect, and jdbcioexceptionhandler that will pause/resume transports on db outage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1350006 13f79535-47bb-0310-9956-ffa450edef68",22,734
e32d6f6645cffd479b16f5be929dd39270747173,"add autofail as mqtttest seems to hang ci build in jenkins atm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1350016 13f79535-47bb-0310-9956-ffa450edef68",0,4
6f2c998b4d1cb50239a719ff305db02a0d2f23d4,"https://issues.apache.org/jira/browse/AMQ-3654 - tidy up logging and by default assume no adjust for out of sync system clocks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1350029 13f79535-47bb-0310-9956-ffa450edef68",4,8
bf1f755299da651bb25ecf1e3174c24a7201ea28,"fix for: https://issues.apache.org/jira/browse/AMQ-3882

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1350425 13f79535-47bb-0310-9956-ffa450edef68",9,27
4e011e0a85b9d7638df5dd7ea9897a879c485f7d,"ensure speedy stop of broker on connection close

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1350572 13f79535-47bb-0310-9956-ffa450edef68",2,6
e0bb36b4b76f8a4c2a7998314c519aece231147e,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3873

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1350657 13f79535-47bb-0310-9956-ffa450edef68",1,160
482be54f8235c731e9b0f02454c45fd2b44f057d,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3889

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1351743 13f79535-47bb-0310-9956-ffa450edef68",2,89
e2e71eb3ca95d25549b1ae6b86f6bd95b2a7e4c6,"Don't use fixed ports for broker instances, let the connector find an open port. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352081 13f79535-47bb-0310-9956-ffa450edef68",901,650
f3d84aeb1ad5140952441a0d345d21686982e240,"Don't use fixed ports for broker instances, let the connector find an open port. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352103 13f79535-47bb-0310-9956-ffa450edef68",14,15
32d3fd51b4aa8ce4290cf2389d1bdb2ca34d8d3f,"https://issues.apache.org/jira/browse/AMQ-1885 - make tests more deterministic, ensure ioexception handler is used with lease locker to avoid contending masters, the resumption after an error is dependent on a keepAlive win, so the lease expiry tests w/o the io handler is invalid

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352120 13f79535-47bb-0310-9956-ffa450edef68",72,98
7fbbcf3565d024b4753a19d8ec2a9a9d963002de,"fix for: https://issues.apache.org/jira/browse/AMQ-3887

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352137 13f79535-47bb-0310-9956-ffa450edef68",1,44
044b11918ad4aef40142f7f716e4fa4de618d0f0,"AMQ-3014 remove hardcoded port 50000

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352487 13f79535-47bb-0310-9956-ffa450edef68",3,3
dc35766d0e321f5df912bc05de039bc62fb8b492,"https://issues.apache.org/jira/browse/AMQ-3893 - adjust topic policy in default config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352900 13f79535-47bb-0310-9956-ffa450edef68",4,12
ac8c8d1bc922854dafd162665d6c0aac2c028957,"implement https://issues.apache.org/jira/browse/AMQ-3894 - broker based redelivery via schedular resend and a per destination redelivery policy, plugin and tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352902 13f79535-47bb-0310-9956-ffa450edef68",11,503
bd3154892093f5dc3197b7abc4c61606bd51cf1b,"fix for: https://issues.apache.org/jira/browse/AMQ-3895

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352933 13f79535-47bb-0310-9956-ffa450edef68",14,78
11497e9e987064a65ed73b03afe97df2f8a30660,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3896

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1352984 13f79535-47bb-0310-9956-ffa450edef68",12,13
60624c4e38dd2b38af567eaf2e18693beb758ad8,"fix up destination statistics for recovered transactions, pending adds are not visible, but pending acks are still accounted for in the messages count, commit/rollback updates enqueues/dequeues/messages as expected - https://issues.apache.org/jira/browse/AMQ-3872, https://issues.apache.org/jira/browse/AMQ-3305 - both kahadb and jdbc suffered

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1353024 13f79535-47bb-0310-9956-ffa450edef68",11,44
41c93667dc8f731ead1d4200fc8cf2d6eb56a894,"fix for: https://issues.apache.org/jira/browse/AMQ-3787

Adds support for setting useCompression on NetworkConnectors to enforce that all messages forwarded across the network are compressed.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1353042 13f79535-47bb-0310-9956-ffa450edef68",111,606
3813947879fc0eb4fdd59a0bfb83915722103c96,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3846

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1354270 13f79535-47bb-0310-9956-ffa450edef68",3,118
f90e6b9b6dc0f1596ddabe01fa03d70b99a8ed06,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3900

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1354291 13f79535-47bb-0310-9956-ffa450edef68",7,5
551efc90ecdb2e2a361dc571f08c8cf265e59309,"speed up and ensure test works on virtualised/slow hw - ie: ci

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1354448 13f79535-47bb-0310-9956-ffa450edef68",2,2
e900fb41db113dc22df96402ae93da5aea4fd51a,"AMQ-3872 AMQ-3305 - deal with redelivery of acked messages pending transaction completion, getting dropped by subscriptions, invisible till broker restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1354449 13f79535-47bb-0310-9956-ffa450edef68",3,109
87b2920927573addf8278bdeb41740be3ffbab32,"https://issues.apache.org/jira/browse/AMQ-3881 - handy diag script to gather info about the host machine and broker java process and combine into a compressed log, some users have found it valuable in production

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1355055 13f79535-47bb-0310-9956-ffa450edef68",0,221
b7a1883b4bbc4f70bbe42ef19f40663ecf6afb89,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-3897

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1355183 13f79535-47bb-0310-9956-ffa450edef68",7,154
1e18cf2d716751a0a049bf2057100fe4f8df27ba,"Adds a method to allow for sending a receipt on disconnect send.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1355553 13f79535-47bb-0310-9956-ffa450edef68",0,7
e0d264181fa573a4dd863e534962484ac894df50,"fix fore: https://issues.apache.org/jira/browse/AMQ-3908

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1356238 13f79535-47bb-0310-9956-ffa450edef68",2,5
ae5bd2ec3cb230f0e39c1790cb218f07276d4db1,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-3909

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1356431 13f79535-47bb-0310-9956-ffa450edef68",85,309
ae816dcb3fdaf22b80ed4122a552b7c0275458f6,"https://issues.apache.org/jira/browse/AMQ-3912 - Durable subs store messages in error with broker attribute persistent=""false"" - fix with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1356724 13f79535-47bb-0310-9956-ffa450edef68",0,94
902c6e98aa60c1a17b8a9b7b75a498e2ee62ceb1,"Open up the visibility of the JmDNS.addListener method.  It's handy for listening for record updates as they occur

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1356830 13f79535-47bb-0310-9956-ffa450edef68",10,10
bb1e246c1b122addf6ca05709d339496c082e05e,"The start time needs to be set before stopping broker1 in order to account for context switching that can cause the failover process to start before the current call to track the failover start time. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1356868 13f79535-47bb-0310-9956-ffa450edef68",11,11
a3836b562d019ad1ce637bf1341c1fc3775c7113,"fix for: https://issues.apache.org/jira/browse/AMQ-3224

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1356927 13f79535-47bb-0310-9956-ffa450edef68",9,154
39da37d8538613cfa7d45208efe4dc950c576ac5,"https://issues.apache.org/jira/browse/AMQ-3880 - wss transport - first some refactoring for https transport so we can reuse stuff

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357201 13f79535-47bb-0310-9956-ffa450edef68",161,238
da138e3fadada5806ca1c935b6855355be2563c4,"https://issues.apache.org/jira/browse/AMQ-3880 - wss transport implementation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357293 13f79535-47bb-0310-9956-ffa450edef68",8,160
12585eb5be48e16b9c0bb56e24f4866eccbf58ed,"https://issues.apache.org/jira/browse/AMQ-2535 - jetty ssl connector configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357529 13f79535-47bb-0310-9956-ffa450edef68",0,10
a2f59ec0adfad1908d9ac657be7bbcbd007c9639,"fix failing test that sometimes get an extra newline in the frame frame the inactivity monitor.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357630 13f79535-47bb-0310-9956-ffa450edef68",3,4
9e03278e696ad6d1e2bc7a1197ccb59332584037,"allow a bit more time for the message to propagate.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357666 13f79535-47bb-0310-9956-ffa450edef68",1,1
654320a3593fda274347af2d91f8110ef14cdca6,"Fix the test as the recent fixes ensure that for a non-persistent broker config, there is not a persistent DB store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357675 13f79535-47bb-0310-9956-ffa450edef68",4,4
801e26ac385cf8483770b5cbfc9c9d3b2f4ce247,"Fix the test as the recent fixes ensure that for a non-persistent broker config, there is not a persistent DB store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357677 13f79535-47bb-0310-9956-ffa450edef68",16,13
5d0182266fd9f27beca26a436a05a48b6835441a,"Fix the test as the recent fixes ensure that for a non-persistent broker config, there is not a persistent DB store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357686 13f79535-47bb-0310-9956-ffa450edef68",6,8
b4f21b64d427ccf174a286dc482ef36d458ad5f3,"Clean up the tests so that they send better formated stomp send frames without spaces in the message headers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357886 13f79535-47bb-0310-9956-ffa450edef68",4,5
9601f6742e7c8929d18062d72d2b6d81a0fd9e34,"fix for: https://issues.apache.org/jira/browse/AMQ-3913

Stop trimming STOMP header keys to align with the spc. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1357919 13f79535-47bb-0310-9956-ffa450edef68",1,1
d1a0419a0284fdd40fc1a9b263ce6ea3556f565e,"https://issues.apache.org/jira/browse/AMQ-3915 - jmx connectorHost to bind to the specified address

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1358147 13f79535-47bb-0310-9956-ffa450edef68",1,3
b7dc057abd4a7b78b40dc0b7ab63444be8f9e2a1,"Adds a test case showing a particular use case of camel in/out routes and failover that can go bad with the wrong config.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1358398 13f79535-47bb-0310-9956-ffa450edef68",0,180
cb895f01b79a6e104435db68729a7ad7ace99434,"https://issues.apache.org/jira/browse/AMQ-3918 - transport connector urls exposed using JMX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1359194 13f79535-47bb-0310-9956-ffa450edef68",26,142
7b231fe8d93b46c21ec012576305b0a516e9fe37,"Add mew method from Java 1.7 to prevent compiler errors when only 1.7 is installed. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1359658 13f79535-47bb-0310-9956-ffa450edef68",5,9
fd24ab8036a996ad4be68d22a82efb5c285aeba8,"Update to Apache v10 parent and bump to some later patch releases

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1359735 13f79535-47bb-0310-9956-ffa450edef68",16,16
7308396581f27a5f4aede62b99cd785f3a5e6dde,"fix for: https://issues.apache.org/jira/browse/AMQ-3920

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1359880 13f79535-47bb-0310-9956-ffa450edef68",2,4
d162fa07b7af4e00bae581ad4588ca9d6caf9b82,"fix for: https://issues.apache.org/jira/browse/AMQ-3534

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1359883 13f79535-47bb-0310-9956-ffa450edef68",0,69
4ae6807cc277dde98f3b601d65c4edebbf1b96e4,"fix and test fo:r https://issues.apache.org/jira/browse/AMQ-3921

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1359949 13f79535-47bb-0310-9956-ffa450edef68",13,41
425fa4736011cf093ed31b64fe60ba85876deb34,"additional fix for fo:r https://issues.apache.org/jira/browse/AMQ-3921 make sure on selector change that we remove the subscription from the list so that the updated one gets put back in.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1359952 13f79535-47bb-0310-9956-ffa450edef68",0,3
e66967bff1fb539b3210baacf40f800a345d7288,"https://issues.apache.org/jira/browse/AMQ-2665 - regression, keepDurableSubsActive is not properly propagated to the durable subscription leading to increasing consumer list

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1360085 13f79535-47bb-0310-9956-ffa450edef68",2,8
ac64a722c1b46be8ef523f24c855ff54acd13e0b,"https://issues.apache.org/jira/browse/AMQ-2665 - refactoring the test a bit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1360088 13f79535-47bb-0310-9956-ffa450edef68",25,2
97ac8e22df073a4c6af9891a7165a634fc05520b,"https://issues.apache.org/jira/browse/AMQ-1191 - apply patch from Mikhail Melamud with thanks. fix up lock statement when isUseLockCreateWhereClause is set

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1360095 13f79535-47bb-0310-9956-ffa450edef68",2,2
75bd4f243a19a807df8077d0901a5428969efa4e,"https://issues.apache.org/jira/browse/AMQ-2656 - add wellknown xa factory name, XAConnectionFactory so that context.lookup(""XAConnectionFactory"") will work as expected out of the box

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1360125 13f79535-47bb-0310-9956-ffa450edef68",1,18
f180b1d7db9d231fc8cebc9454678209e29683ea,"add test to validate jdbc xml config with explicit adapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1360614 13f79535-47bb-0310-9956-ffa450edef68",1,105
d4742f597bc23a52e98e82179b017d7e9e99fdd0,"https://issues.apache.org/jira/browse/AMQ-3924 - connect REST API to secure broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1360626 13f79535-47bb-0310-9956-ffa450edef68",4,51
db1f6fe2b42d6d1d505ae59618b0cbc36532cef5,"https://issues.apache.org/jira/browse/AMQ-3903 - Failed to fire fast producer advisory, reason: java.lang.NullPointerException. A generic producer does not contain a destination, so it must be obtained from the exchange. Modified the boker interface to reflect that. fixed up typo in the policy entry, advisoryForFastProducers now correctly spelled in favour of advisdoryForFastProducers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1360642 13f79535-47bb-0310-9956-ffa450edef68",40,174
1cd533078a04752f1d4354bf78618f1d60193ef6,"https://issues.apache.org/jira/browse/AMQ-3923 - webconsole in osgi don't load css on a first page load

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1361132 13f79535-47bb-0310-9956-ffa450edef68",10,15
a5bb9bd1d792b1676884f31e5254d9e1c4fbb27c,"https://issues.apache.org/jira/browse/AMQ-3903  - expand test to validate Full advisory: https://issues.apache.org/jira/browse/AMQ-3925

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1361138 13f79535-47bb-0310-9956-ffa450edef68",0,6
87e300add02e3e8b6549e33ff163e4f2dfed56d7,"https://issues.apache.org/jira/browse/AMQ-3923 - webconsole in osgi - get back jstl in war

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1361179 13f79535-47bb-0310-9956-ffa450edef68",4,1
f84e41611c1c25f5fc33d96570d1fb629858118b,"Fix the imports 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1361217 13f79535-47bb-0310-9956-ffa450edef68",2,2
6b203be0686772d45a3b40227ba8435e221ca57f,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3849

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1361227 13f79535-47bb-0310-9956-ffa450edef68",36,36
ee17789e48666fb47eb6b766ae02078088db468b,"fix for: https://issues.apache.org/jira/browse/AMQ-3890 make leveldb optional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1361378 13f79535-47bb-0310-9956-ffa450edef68",28,5
c4cdd516a1b8c75e0584a01261455fed8127873e,"https://issues.apache.org/jira/browse/AMQ-3785 - ActiveMQSslConnectionFactory does not detect ssl request in failover URIs when creating transports. factory was bypassing the protocol selection, fixed by making use of the sslcontext thread local, which is used when set by the ssltransport factory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1361984 13f79535-47bb-0310-9956-ffa450edef68",37,67
0f11d8c3f9f733cbf07ad64db3e394efb5c7639f,"fix for: https://issues.apache.org/jira/browse/AMQ-3927 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362035 13f79535-47bb-0310-9956-ffa450edef68",2,19
cb27f9148dc2c5772de3cd97f37cc6f1a18ef688,"https://issues.apache.org/jira/browse/AMQ-3812 - creating fuse-extra karaf feature for deployin mqtt transport and leveldb

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362037 13f79535-47bb-0310-9956-ffa450edef68",1,10
8aadc4b9ec2c449c167e341b23c7066b5b2d3fb4,"fix for: https://issues.apache.org/jira/browse/AMQ-3929

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362091 13f79535-47bb-0310-9956-ffa450edef68",1,36
7a7d68411cac46992457cd346051c50de7f7ba4f,"https://issues.apache.org/jira/browse/AMQ-3935 - JConsole browse() function does not work if useCache=false. Add test case and a few other browse variants with useCache=false. Fix ensures a force pagein is done if usecache is false

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362462 13f79535-47bb-0310-9956-ffa450edef68",18,202
bf62dc88c1da23827c21a0c3ef8f21afe27cb866,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3934

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362477 13f79535-47bb-0310-9956-ffa450edef68",9,123
7f89b33aa4282ff410ea52fd6518512d0186be57,"https://issues.apache.org/jira/browse/AMQ-3696 - start broker asynchronously since hanging in start() method leads to problems with stopping slaves in osgi

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362950 13f79535-47bb-0310-9956-ffa450edef68",48,98
b5a2f7b3cb60ddf5ba961c51d495a43268dcc1c6,"Add an m2e mapping to force the protobuf stuff to get generated in a compile from the Eclipse IDE.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362963 13f79535-47bb-0310-9956-ffa450edef68",0,30
3adc88fa94a9fc01122e26686a68314dc4680b39,"Add an m2e mapping to force the maven-jaxb2-plugin stuff to get generated in a compile from the Eclipse IDE.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362966 13f79535-47bb-0310-9956-ffa450edef68",3,30
ed58e9a05d86b913dd4bd9c4b1800a1da89983e3,"https://issues.apache.org/jira/browse/AMQ-3696 - make start() sync because of the tests and embedded brokers and introduce startAsync() to be used by XBean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1362979 13f79535-47bb-0310-9956-ffa450edef68",79,104
eebe1358d23859d872c4aae38681262e8fcd6b22,"https://issues.apache.org/jira/browse/AMQ-3696 - use startAsync property instead of separate method

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1363003 13f79535-47bb-0310-9956-ffa450edef68",17,16
f135b7ab7672323fa176d1f403f1401758a3bd65,"allow the sleep time to be specified to allow finer grain return from a wait

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1363314 13f79535-47bb-0310-9956-ffa450edef68",2,10
3c4848b8a5582ae510d60da7b786eee7200b456e,"https://issues.apache.org/jira/browse/AMQ-3696 - fix web console to show special page for slave brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1363319 13f79535-47bb-0310-9956-ffa450edef68",6,157
62a6e358c84230548d3e847432a06df230ca251b,"get consistent run order for tests to ease diagnostics of intermittent failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1363348 13f79535-47bb-0310-9956-ffa450edef68",0,1
6bec2aabb5f85450fc2ae9ff2d350af138434759,"fix teardown order so close can do its thing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1363349 13f79535-47bb-0310-9956-ffa450edef68",3,2
d301b4163833ddd4d75938b730e1a65891fe37ec,"https://issues.apache.org/jira/browse/AMQ-3918 - revert accidental change - start connector only after we create a mbean for it

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1363700 13f79535-47bb-0310-9956-ffa450edef68",2,2
c33231bd439f02e8651d28f16ad273fa5eed384d,"https://issues.apache.org/jira/browse/AMQ-3885 - limiting number of threads used by session executor and provide a way to set custom task runner factory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1363790 13f79535-47bb-0310-9956-ffa450edef68",2,49
0227c081120108b912bcb8898b83c2c4b5bb0119,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-3932

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1364009 13f79535-47bb-0310-9956-ffa450edef68",0,172
51927e6f8926201a7eb0a81ba2832af4a72ce7a1,"https://issues.apache.org/jira/browse/AMQ-3940 - REST API support for configurable response content type

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1364560 13f79535-47bb-0310-9956-ffa450edef68",12,10
0051c4ea6f579cab730d89364d0a53b043a90995,"https://issues.apache.org/jira/browse/AMQ-3696 - fix regression in FailoverStaticNetworkTest, in jvm slave overwriting broker registry entry of master

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1364973 13f79535-47bb-0310-9956-ffa450edef68",1,6
edf5f64982a23c757e967c3519aa2bc9a380a155,"fix ignored param in waitfor - resolve regression of org.apache.activemq.broker.region.cursors.NegativeQueueTest#testWithDefaultPrefetchOneConsumer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365019 13f79535-47bb-0310-9956-ffa450edef68",1,1
0de65c196311978250aab62e2b77d7bdd236818e,"fix for: https://issues.apache.org/jira/browse/AMQ-3859

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365036 13f79535-47bb-0310-9956-ffa450edef68",2,3
14e636b74811136d7ded0cae16d74ed19058456a,"apply fix for: https://issues.apache.org/jira/browse/AMQ-3939

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365290 13f79535-47bb-0310-9956-ffa450edef68",7,147
a54fa4b17aef4bb479426c9582e545e9f2c9c16f,"https://issues.apache.org/jira/browse/AMQ-3823 - stomp trim headers for protocol version 1.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365542 13f79535-47bb-0310-9956-ffa450edef68",31,96
83760fdcd028d468410b410bd3270b1b95a7327a,"Implements AMQ-3944 : Test against the Joram JMS conformance tests.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365608 13f79535-47bb-0310-9956-ffa450edef68",0,276
6da702be236fcd76f33497263193cbca5d5bb5f7,"fix test case UnifiedSessionTest for: https://issues.apache.org/jira/browse/AMQ-3944

ActiveMQConnection had no way to tell if it was a QueueConnection or not.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365816 13f79535-47bb-0310-9956-ffa450edef68",6,20
6b305ba49873fdf7fe782ab1bba42c3838cfe746,"Fixes AMQ-3945: QueueBrowser missing messages on first browse.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365871 13f79535-47bb-0310-9956-ffa450edef68",16,15
e3fcf71ca64f3be62c008fd64cdd29f3d4c93278,"https://issues.apache.org/jira/browse/AMQ-3885 - allow setting resjected task handler on thread pool executor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365943 13f79535-47bb-0310-9956-ffa450edef68",1,36
9cda4262e96a31a2bee1f3271030da0341f452c2,"https://issues.apache.org/jira/browse/AMQ-3885 - add max thread pool size to properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1365945 13f79535-47bb-0310-9956-ffa450edef68",0,1
633d5ea043acf859e511256e7257ad8d20f89768,"Move the slow tests to it's own profile.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1366013 13f79535-47bb-0310-9956-ffa450edef68",2,494
27a74d381ba0650e2ae0d19fc84bc8c332d23d11,"fix for: https://issues.apache.org/jira/browse/AMQ-3917 

Allow multiple durable subs for Stomp v1.1 client connections.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1366173 13f79535-47bb-0310-9956-ffa450edef68",9,217
fefb228698a4ed478c975d5ec624539f0deb972e,"fix for: https://issues.apache.org/jira/browse/AMQ-3947

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1366202 13f79535-47bb-0310-9956-ffa450edef68",9,14
78529d4eaf193d064fd597ed45b2a8a696aa2dad,"add some context to the intermittent failure, issue is ioexception from store being treated as transport failure, if the error ocurrs on a ack commit we can expect a redelivery that won't come and fail the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1367552 13f79535-47bb-0310-9956-ffa450edef68",1,20
c9b49d8b07f34ead08aa501a0b9c5e4100c00e74,"https://issues.apache.org/jira/browse/AMQ-3294 - further refinement of dispose on security exception, now only on connection attempts. A security exception on an authenticated connection is reported back to the client and remains intact. Made use of inactivitymonitor w useKeepAlive=false to abort dos style hogging connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1367553 13f79535-47bb-0310-9956-ffa450edef68",21,52
79bce92c33c5b519ecbeda0e7ea50a16b559ef47,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3953

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1367620 13f79535-47bb-0310-9956-ffa450edef68",10,37
3eed7793786109831b932127ce57148ce47d8585,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3954

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1367622 13f79535-47bb-0310-9956-ffa450edef68",7,16
91ac82a83cd8940b1afea43a4cf315376a03ab71,"add test that seems to show index growth with repeated use of durable subs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1367626 13f79535-47bb-0310-9956-ffa450edef68",0,52
6f92d5f8b937c41206d6bbdc8205743aa8eb506a,"https://issues.apache.org/jira/browse/AMQ-3955 - web socket transport race condition

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1367915 13f79535-47bb-0310-9956-ffa450edef68",0,22
8e60ca9a90e275d6243778b065f2e072c5b8a014,"https://issues.apache.org/jira/browse/AMQ-3956 - KahaDB pagefile (db.data) steady growth - BTreeIndex page leak. release the clild page when empty branch is promoted, additional tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1367924 13f79535-47bb-0310-9956-ffa450edef68",6,55
99f044574d30d08ee02aea45fd0e19ee7344197c,"Add to the test case to show there's no problem for: https://issues.apache.org/jira/browse/AMQ-3285

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1368034 13f79535-47bb-0310-9956-ffa450edef68",36,48
e0776ff0208d8570351202ab15baada0eba014b2,"Fix for: https://issues.apache.org/jira/browse/AMQ-2453

Add an LSB header to the init scripts 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1368455 13f79535-47bb-0310-9956-ffa450edef68",0,30
378d7a606b66a2e5f5fcf06f8f19bf8866e7007e,"https://issues.apache.org/jira/browse/AMQ-3958 - fix up for current and next few versions, highlight in the release guide

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1368861 13f79535-47bb-0310-9956-ffa450edef68",0,6
c7fcceac0e9167f2fd0803f8d1c70ada6c55c22f,"Disable use of JMX on the embedded broker, test doesn't need it.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1369148 13f79535-47bb-0310-9956-ffa450edef68",6,13
205d02598d8da8c975ead6614f5ab3636035099e,"Refine the fix for: https://issues.apache.org/jira/browse/AMQ-3939 

The unit test was failing on slower hardware, some backups could be missed if the transport was processing the ConnectionControl command during the stop since the buildBackups method runs from there outside the reconnectMutex and not in the thread of the taskRunner. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1370559 13f79535-47bb-0310-9956-ffa450edef68",13,18
b6e82fec921cc7e5c75d13998b3e70286833f8fc,"Test can leave a dangling BrokerSerive instance running if it get an assertion at the right time.  Make sure all started brokers get stopped. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1370576 13f79535-47bb-0310-9956-ffa450edef68",2,11
ca15308b3fe229e4ac9cdfda48be75e61ca37d6b,"method buildBackups should bail out early in the transport is stopped. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1370581 13f79535-47bb-0310-9956-ffa450edef68",1,1
46e8e17295ff8d24c0bae61ab959e3763c5b895e,"bunp to some bugfix release versions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1370797 13f79535-47bb-0310-9956-ffa450edef68",4,4
0a676e5ffbccc7be613bf0bc3b6e3e475ce49b6e,"Add a shorter connectTimeout to ensure the tests don't fail because they are waiting on the reconnectMutex for to long.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1370865 13f79535-47bb-0310-9956-ffa450edef68",54,52
d45dedbd23e162f26cb8f1d59d139c389880cafb,"updated to Apache Camel 2.10 - https://issues.apache.org/jira/browse/AMQ-3960

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1371147 13f79535-47bb-0310-9956-ffa450edef68",10,27
e28b55c14202a538a5d60db581c40f2939c485d1,"Don't exit the broker stop loop if you get an exception, log it and stop the rest if possible. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1371200 13f79535-47bb-0310-9956-ffa450edef68",33,36
fc0b3599731442be6256c0bc9e2925151fd5cfac,"stop brokers after test, which should prevent DbRestartJDBCQueueMasterSlaveLeaseQuiesceTest.testVirtualTopicFailover from failing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1371706 13f79535-47bb-0310-9956-ffa450edef68",1,2
39e20d041596df023044a8799c5cb862d84d4c66,"AMQ-3965: Fix for org.apache.activemq.ActiveMQMessageConsumer.java plus new JUnit test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1371722 13f79535-47bb-0310-9956-ffa450edef68",3,249
60383038d3e069dc1e72fef7753ee8a06907643a,"Test didn't need to depend on hard coded port so use :0 instead.  Add some additional test cases.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1371809 13f79535-47bb-0310-9956-ffa450edef68",127,192
60832c0b2d58c0977c2ba90afdb5d7fb40a9350d,"change m2e connector config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1371814 13f79535-47bb-0310-9956-ffa450edef68",3,3
38e5c0829a3c8051841be416ec432dadae0dcf4a,"https://issues.apache.org/jira/browse/AMQ-3885 + https://issues.apache.org/jira/browse/AMQ-3971 - removing System.out.println()

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1372754 13f79535-47bb-0310-9956-ffa450edef68",1,0
ce50e287acde240587ab81f8482e25cd512925b1,"https://issues.apache.org/jira/browse/AMQ-3972 - failover transport - don't propagate exceptions for disposed transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1372770 13f79535-47bb-0310-9956-ffa450edef68",1,1
a60442458ed5041b28239fa208580ceee8c5efaf,"https://issues.apache.org/jira/browse/AMQ-3973 - data.db not calculated in store size

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1372859 13f79535-47bb-0310-9956-ffa450edef68",4,11
faa8d79b82d37a3e33ab03db5d2e86ed62f6071f,"https://issues.apache.org/jira/browse/AMQ-3979 - non-daemon threads in ajax servlet

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1373794 13f79535-47bb-0310-9956-ffa450edef68",1,1
c6f9db8bfcc8c9f992817943f992203d3da86bf6,"https://issues.apache.org/jira/browse/AMQ-3980 - websockets increase max size of text message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1374226 13f79535-47bb-0310-9956-ffa450edef68",0,14
3c39db8cce4a696e58417e7b5fc9892fd2667e8f,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3961

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1374229 13f79535-47bb-0310-9956-ffa450edef68",0,190
e49f5d9ff85f833bd3a400bd82f0a4cf7c7a10a4,"fix for: https://issues.apache.org/jira/browse/AMQ-3981

Remove the commons log reference and unused logger. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1374231 13f79535-47bb-0310-9956-ffa450edef68",46,44
2027c877915a6dcd2505cd155f7223915b244450,"RA connection factory - test prefetch is being set

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1374958 13f79535-47bb-0310-9956-ffa450edef68",0,4
030d09b8161fa0c2ab4fb79480cf24e43cb7fde5,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3982

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1375140 13f79535-47bb-0310-9956-ffa450edef68",23,125
7e206615b80b95f377a5e62401be8d69f658a09c,"remove non portable ref to /tmp for test - https://issues.apache.org/jira/browse/AMQ-3982

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1375444 13f79535-47bb-0310-9956-ffa450edef68",1,1
3fa927554c01ddd5382feafb69620a88702396d2,"https://issues.apache.org/jira/browse/AMQ-3887 - have local dispatch do safe wait till remove broker setup is complete such that producer is fully created

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1375459 13f79535-47bb-0310-9956-ffa450edef68",11,3
a526a60abd75985ab8b454715b803572c8765520,"avoid repated additions to the full list on dispatch, may need to revisit the pendingWakeups count on iterate, seems we will attempt to dispatch too often which is a waste of cpu in the event that there are pending messages or new sends and slow consumers, relates to: https://issues.apache.org/jira/browse/AMQ-1902

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1375484 13f79535-47bb-0310-9956-ffa450edef68",14,14
dfbdbf6a5030c4fa9f5ced391f4190f2df02e0ff,"https://issues.apache.org/jira/browse/AMQ-3983 - osgi dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1375543 13f79535-47bb-0310-9956-ffa450edef68",1,9
ba9037ca65abd4d7657971555c65d4fada710c7c,"https://issues.apache.org/jira/browse/AMQ-3985 - ActiveMQConnection temp advisory consumer should use asyncDispatch - can cause deadlock with slow consumers. Fix with test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1375595 13f79535-47bb-0310-9956-ffa450edef68",0,64
4bace216b91c9f8244976305f462fd212b0e20c3,"updated fix: https://issues.apache.org/jira/browse/AMQ-3982

Instead of locking on the PList iterator which forces a lock on every access to hasNext we should lock down at the PageFile level in readPage making the seek and read an atomic operation.  Since many reads on a single already loaded page don't need to be synchronized we pay a higher price for locking in the specific PList case than we do buy creating this atomic read operation in PageFile. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1375852 13f79535-47bb-0310-9956-ffa450edef68",5,12
6c73104152a046b0c807fe4819c1eede40b86ad7,"include local port in transport to string to allow correlation between client and server side transport threads based on their ports.
Appending @local-port so client side: ""ActiveMQ Transport: tcp://localhost/127.0.0.1:61616@56811"" thread can be correlated with broker
side: ""ActiveMQ Transport: tcp:///127.0.0.1:56811@61616"" which listens on local 61616

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1376038 13f79535-47bb-0310-9956-ffa450edef68",1,1
5ed1ce50da9b53aebb1d6f83f5c7c339c7c41fec,"https://issues.apache.org/jira/browse/AMQ-3872 - fix up typo in blob adapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1376100 13f79535-47bb-0310-9956-ffa450edef68",1,1
86e9527e1fc7c9a17493073c418a924a740951be,"https://issues.apache.org/jira/browse/AMQ-3986 - optimizeDurablePrefetch with RA adapter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1376431 13f79535-47bb-0310-9956-ffa450edef68",0,26
705a8779816a02a56b45c35869c80513982f57c0,"trace temp dest recreation by state tracker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1376513 13f79535-47bb-0310-9956-ffa450edef68",1,5
c55f6a84d7d57df248a9a9f1492b3ecdc895a0a5,"https://issues.apache.org/jira/browse/AMQ-3557 - Performance of consumption with JDBC persistance and Microsoft SQL Server. Fix up default value for maxRows to allign with default page size. Use a large maxPageSize via destination policy for durable subs that have sparse selectors. Same as queues with sparse selectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1376934 13f79535-47bb-0310-9956-ffa450edef68",4,17
6ce59ed1b093c72933b52914f5bab4d0093d544c,"fix and test for: https://issues.apache.org/jira/browse/AMQ-3992

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1377095 13f79535-47bb-0310-9956-ffa450edef68",1,112
53f07b0a75af365aaeccfb024f88c7acd6968760,"fix for: https://issues.apache.org/jira/browse/AMQ-3995

Remove the long and not so useful serial add test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1377779 13f79535-47bb-0310-9956-ffa450edef68",39,0
9b0316b9b4a92b99fb43d59d3a2fda4c1713c215,"https://issues.apache.org/jira/browse/AMQ-3980 - generic support for all web socket tuning options

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378035 13f79535-47bb-0310-9956-ffa450edef68",18,16
00bdf0044a275c1d766ded913e1ca67a30667d7d,"https://issues.apache.org/jira/browse/AMQ-3986 - optimizeDurablePrefetch on ActiveMQConnectionSupport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378057 13f79535-47bb-0310-9956-ffa450edef68",0,21
d41f40a051d664c16f14f98d7986a0190913da5a,"https://issues.apache.org/jira/browse/AMQ-3998 https://issues.apache.org/jira/browse/AMQ-3999 - fix issue with redispatch of committed prepared transactions, unnecessary call to determin store size for durable subs and duplicate recording of message pending dispatch on an unsubscribe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378085 13f79535-47bb-0310-9956-ffa450edef68",11,271
b496c0a38c11c56ffd56a4c45b8c83fc5591776a,"https://issues.apache.org/jira/browse/AMQ-3997 - Memory leak in activemq-pool. Apply patch from claus with thanks, removes duplicate listener registration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378098 13f79535-47bb-0310-9956-ffa450edef68",19,21
3a3416caa76ccc43d102158762b8559e9368e00a,"AMQ-3967: Fixed unit test after upgrading Camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378100 13f79535-47bb-0310-9956-ffa450edef68",18,57
d3ce3d8e4a60fe1c3833daf9fcd20a7dd9a189fc,"Enabling support for JMX (off by default) to NetworkTestSupport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378102 13f79535-47bb-0310-9956-ffa450edef68",1,3
795a203c036b9d7c39c971067cdef39c4e9dbb0f,"AMQ-4001 - align commons-lang dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378139 13f79535-47bb-0310-9956-ffa450edef68",1,1
bcc9e02e932388ea98391f7609be2119ec39822b,"Use same ServiceMix specs version as Camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378213 13f79535-47bb-0310-9956-ffa450edef68",2,2
6175dc463945fc5c5562673ba7b6290c57139c1b,"fix for: https://issues.apache.org/jira/browse/AMQ-3996

Set the transportContext property if the certificates are available.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378372 13f79535-47bb-0310-9956-ffa450edef68",10,47
935265529f662e49f7c9aebdf59630198f826999,"make test more deterministic, ensure bridge starts first time b/c remote broker is started first, may need to use a queue if there are further inconsistency problems

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378540 13f79535-47bb-0310-9956-ffa450edef68",11,14
99be769f9692e64ed8477f10d43d98e5fbafd2c3,"https://issues.apache.org/jira/browse/AMQ-3998 https://issues.apache.org/jira/browse/AMQ-3999 - fix regression in org.apache.activemq.bugs.AMQ3934Test - resetting batch too eagerly in old behaviour results in picking up deleted message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378542 13f79535-47bb-0310-9956-ffa450edef68",4,3
324ab99afad92d880e72fcbd937f479f8e87af3b,"additional change for: https://issues.apache.org/jira/browse/AMQ-3996

The sslEngine instance in the NIOSSLTransport needs to be updated when the handshake process completes.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378686 13f79535-47bb-0310-9956-ffa450edef68",7,8
8fc47c6abfbe1e70683cdf9d851016b20e4b7a75,"AMQ-4003: Add option to PooledConnectionFactory to control if connection should be created on startup or not

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378853 13f79535-47bb-0310-9956-ffa450edef68",14,43
dd2556bc91f522885ac2a874a2971af3535da696,"AMQ-4004: The option maximumActive has been name a more descriptive name to not confuse end users. The old name is kept but is @deprecated to be backwards compatible.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378859 13f79535-47bb-0310-9956-ffa450edef68",11,32
6ce702d4cff8f6a1679817eb18f5c2a3d454ee65,"https://issues.apache.org/jira/browse/AMQ-4005 - plugable lockers; introduce new API and refactor current KahaDB and JDBC solutions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378881 13f79535-47bb-0310-9956-ffa450edef68",111,414
b080d5fe21e1fa5fff9eabeabf942e6d38db982f,"AMQ-3988: Setting a message listener to null on AcitveMQSession should be allowed even if the session has been closed, to avoid throwning invalid state exception, that causes exceptions to be logged during shutting down apps. This allows a more clean shutdown of AMQ.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378887 13f79535-47bb-0310-9956-ffa450edef68",1,11
f5178cc73ffcd480f7303ecb77d2f393f5d7eb9f,"https://issues.apache.org/jira/browse/AMQ-4005 - pluggable lockers; move shared file locker from kahadb package and improve javadocs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378917 13f79535-47bb-0310-9956-ffa450edef68",3,6
a639794c080502cf51841095dd16288e542c066e,"Added more to svn ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1378932 13f79535-47bb-0310-9956-ffa450edef68",0,0
80242339ec4cae44be57fa863392ff0959f2b734,"Update to commons-pool v 1.6 for: https://issues.apache.org/jira/browse/AMQ-4006

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379082 13f79535-47bb-0310-9956-ffa450edef68",2,2
d6025b8a092418951a1ba3c7d06a147a9a429815,"Upgraded to Camel 2.10.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379310 13f79535-47bb-0310-9956-ffa450edef68",1,1
eea9fca04dfc7ca5868a04f1812d294b600e65b9,"AMQ-4008: Fixed MDC leak during shutting down AMQ broker, such as reported by Apache Tomcat.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379376 13f79535-47bb-0310-9956-ffa450edef68",4,40
1e57750dd6204434880a9000c5c3df5cf6f3cb44,"https://issues.apache.org/jira/browse/AMQ-3986 - improve test, copy prefetch policies on managed connection factory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379414 13f79535-47bb-0310-9956-ffa450edef68",14,41
ee2069f85ccc02b48ea1740d40f66ce1aa028652,"https://issues.apache.org/jira/browse/AMQ-3986 - respect prefetch values for MDBs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379433 13f79535-47bb-0310-9956-ffa450edef68",34,54
30920516991f89c39dfe18577840790197166d89,"AMQ-4008: Fixed issue with re-deploying AMQ broker in same JVM such as Apache Tomcat, with the jmx connector not working on re-deployment. Now it does. Improved logging and better message to end user about the JMX issue.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379454 13f79535-47bb-0310-9956-ffa450edef68",12,23
0e724cd53f554a53a3566a3ecd8c09c5b4bedae9,"AMQ-4010: Use pre compiled pattern when doing string replaceAll as its faster.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379761 13f79535-47bb-0310-9956-ffa450edef68",5,12
4b44d3129c40e2a53b57505f58314038918cc256,"AMQ-4012: Use english locale when doing lower/upper case introspection to avoid issues when running on certain locales such as turkish.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379765 13f79535-47bb-0310-9956-ffa450edef68",13,22
ca728c095852ee0410e58341cc34b6d9508cc147,"AMQ-4007: Fixed default values of system usage for GB values to use 1024 multiplier instead of 1000.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379767 13f79535-47bb-0310-9956-ffa450edef68",7,3
12e25bd84937c19fa21995233a8d5dae20769884,"AMQ-3950: activemq-blueprint has wider osgi import of aries. Thanks to Balazs Zsoldos for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379771 13f79535-47bb-0310-9956-ffa450edef68",0,1
8e43091a45f97136a56f4aa7d026a5d0b8ec6a6c,"AMQ-3847: activemq-camel has again required dependency on activemq-pool.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379795 13f79535-47bb-0310-9956-ffa450edef68",1,1
5abbfc22005ce391b360d9f21f34349f63367644,"AMQ-4013: Upgraded to xbean 3.11.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379918 13f79535-47bb-0310-9956-ffa450edef68",1,1
15b27399e8b26767e68d6c71879cb4cc1a890d9c,"AMQ-4007: Fixed default values of system usage for GB values to use 1024 multiplier instead of 1000.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379922 13f79535-47bb-0310-9956-ffa450edef68",3,3
83eb01188a9a563a43bb919871b9ce46482531a2,"AMQ-4008: Fixed MDC leak during shutting down AMQ broker, such as reported by Apache Tomcat.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379923 13f79535-47bb-0310-9956-ffa450edef68",0,1
5cbdddae98414da9d352c1ef02302378688423b0,"AMQ-3861: Offer a way to not set a transaction manager in activemq-camel. Thanks to patch from Babak. Requires Camel 2.10 or better.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379939 13f79535-47bb-0310-9956-ffa450edef68",12,15
b186513b056286c906bab1955c77424858a5e314,"AMQ-3797: Avoid adding the same paths to property editor serach path, if for example ActiveMQ is redeployed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1379967 13f79535-47bb-0310-9956-ffa450edef68",16,15
bed42a27c606cf9133eb874bb934ce7dfa5004d6,"AMQ-3797: Added unit test for StringArrayEditor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380147 13f79535-47bb-0310-9956-ffa450edef68",0,72
e85a8bd11c6801f2fb5086abdaa5259c5e69a116,"AMQ-3797: Avoid using StringArrayEditor as property editor as it causes memory leak when undeploying app in a container such as Tomcat.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380168 13f79535-47bb-0310-9956-ffa450edef68",94,101
99088c7ba62dde3cca2d4f5c2e093ee01c92192e,"https://issues.apache.org/jira/browse/AMQ-3905 - use 0.0.0.0 instead of localhost for default karaf configurations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380187 13f79535-47bb-0310-9956-ffa450edef68",9,7
f344696a4aed866f7536c7f4ae8c2c9776433ecd,"give tests a little bit more time, to check if it will help with occasional failures on slow machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380264 13f79535-47bb-0310-9956-ffa450edef68",2,5
8f207568aa7892717cb626cbe4890f0a87edbeb3,"Fixing test that may fail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380477 13f79535-47bb-0310-9956-ffa450edef68",0,2
fa41f89ad8963c355919e0a755b5f5add43afd23,"Updated links in javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380489 13f79535-47bb-0310-9956-ffa450edef68",6,6
ad5e969bb1c2b1e52e2a158746f71aa3917e5e53,"Updated links in javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380492 13f79535-47bb-0310-9956-ffa450edef68",3,3
eaac0d2eeec247e2d001eda3ed1e93b40cf50ab7,"https://issues.apache.org/jira/browse/AMQ-3998 https://issues.apache.org/jira/browse/AMQ-3999 - resolve emergent problems with retroactive durables and use of cache when active durable disconnects. resolves unit test failures and add some more

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380547 13f79535-47bb-0310-9956-ffa450edef68",21,50
640424727d0db68047dd16701e3e03bc4ef2b680,"https://issues.apache.org/jira/browse/AMQ-3998 https://issues.apache.org/jira/browse/AMQ-3999 - retroactive durables not supported by older stores, kaha and amq

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1380847 13f79535-47bb-0310-9956-ffa450edef68",0,10
5c61d97b20254e8c4516e4b1cc4ee0a6b5f63a13,"https://issues.apache.org/jira/browse/AMQ-4017 - always use async dispatch for the advisory consumer so that we will not block remote dispatch

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381095 13f79535-47bb-0310-9956-ffa450edef68",1,2
446cb26e38c6bcb88806405387c0e67759d19df1,"https://issues.apache.org/jira/browse/AMQ-4020 https://issues.apache.org/jira/browse/AMQ-4021 - disable this test till we deal with propagating store exceptions in place of ioexceptions which result in the transport abort and deal with more exact exception reporting from jdbc transaction context, ie from close/commit processing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381161 13f79535-47bb-0310-9956-ffa450edef68",0,1
c30dd0c0bacf5d2ab2ed4c640da3f4997adf164b,"AMQ-4016: Removed not used static thread pool from ActiveMQConnectionFactory.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381191 13f79535-47bb-0310-9956-ffa450edef68",14,1
0b01996efb0e1866415a8bee694daafd684b6ca8,"AMQ-3451: Statis default thread pools is @deprecated. Refactored some code to avoid using that. Otherwise it causes leaks in Tomcat when redeploying apps.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381237 13f79535-47bb-0310-9956-ffa450edef68",26,28
2251ba0796659fd2eaa28a3621dde13bb779f330,"fix for: https://issues.apache.org/jira/browse/AMQ-3991

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381422 13f79535-47bb-0310-9956-ffa450edef68",6,46
287f69db4d4e7f19769cd59cc23e336bfa8cdb7c,"AMQ-4026: Introduced ThreadPoolUtils to shutdown thread pools in a more graceful manner. Improved logging for lifecycle of thread pools and tasks being executed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381557 13f79535-47bb-0310-9956-ffa450edef68",5,431
5bf13b064e67dbb81c46cbd84c50d46ed1a7b816,"Polished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381566 13f79535-47bb-0310-9956-ffa450edef68",1,1
b32dbb3f4717d04ce6b483a1617efc60e89124b2,"https://issues.apache.org/jira/browse/AMQ-4028 - added basic support; chrome driver still doesn't work well with this scenario, so it requires more investigation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381660 13f79535-47bb-0310-9956-ffa450edef68",14,71
6c1676b59fcd7d46ed4ea9c5c1d6ef77f9bbd779,"AMQ-4026: Using ThreadPoolUtils to shutdown thread pool. Use thread pool from broker service where applicable.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381695 13f79535-47bb-0310-9956-ffa450edef68",71,148
f4de9a66ae9de165f27dd2aa5803b536e88db6d8,"https://issues.apache.org/jira/browse/AMQ-4028 - missed adding files in the previous commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381896 13f79535-47bb-0310-9956-ffa450edef68",0,258
a00f23584220923ea768740ec7c71fc14422bccb,"https://issues.apache.org/jira/browse/AMQ-4028 - update certificates as the current ones are expired

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381964 13f79535-47bb-0310-9956-ffa450edef68",0,0
97f03d43ddaf17f5d4c463dc8e9fddbf02ed5843,"https://issues.apache.org/jira/browse/AMQ-4005 - remove deprecated API warning

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381980 13f79535-47bb-0310-9956-ffa450edef68",2,2
8530111cad5fd108398242831d343328a34b61b4,"https://issues.apache.org/jira/browse/AMQ-4005 - remove deprecated API warning from tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381981 13f79535-47bb-0310-9956-ffa450edef68",3,3
8a01c5d16a051541df404683e6d8ae71bc6240be,"AMQ-3451: Ensure thread pools is shutdown properly to avoid any leaks. Do not use the old @deprecated thread pool.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381985 13f79535-47bb-0310-9956-ffa450edef68",112,159
4e1989247e9644211b5e290192a8b8e67bbc817d,"AMQ-3451: Ensure thread pools is shutdown properly to avoid any leaks. Do not use the old @deprecated thread pool.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381987 13f79535-47bb-0310-9956-ffa450edef68",2,3
aa6a6d73e5d85250ff40f4c7562a541411314273,"AMQ-3451: Ensure thread pools is shutdown properly to avoid any leaks. Do not use the old @deprecated thread pool.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1381991 13f79535-47bb-0310-9956-ffa450edef68",10,5
35f15ac8a18c766a011c6e47d37eb9d61a35a906,"AMQ-3451: Fixed memory leak when using embedded ActiveMQ broker from Spring XML file. Need to clear a spring cache when stopping.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382055 13f79535-47bb-0310-9956-ffa450edef68",11,10
4507966460d46dffb44c01c2b1a9cd1e1d677dab,"Polished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382251 13f79535-47bb-0310-9956-ffa450edef68",2,2
5b4fe6e05fc34759900c81579662170923510097,"AMQ-4031: Do not check for temporary journal store limit for non persistent broker. Thanks to Johno Crawford for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382255 13f79535-47bb-0310-9956-ffa450edef68",11,13
f4c54db2a85a360598fa7e693abab01aba0e0a96,"AMQ-4027: Added support for Java7 in activemq-console. Thanks to Dider Gutacker for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382258 13f79535-47bb-0310-9956-ffa450edef68",1,2
aec27626d50543c54c03384edab20ff10ed6ffc3,"AMQ-3976: Use equals instead of == in checking destination names. Thanks to Lior for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382275 13f79535-47bb-0310-9956-ffa450edef68",1,1
eea45cc978346e1c666265e8a22e01c26f3f71f4,"AMQ-3807: Support WebSphere JMX which regsiter mbeans using custom name. Thansk to Christian Ohr for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382277 13f79535-47bb-0310-9956-ffa450edef68",10,23
c70d97fddb3a3f0371e3af6188a97957079214c4,"AMQ-4002: Fixed issue with blob transfer policy should be copied when used to avoid sharing with multiple consumers. Thanks to Antoine for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382283 13f79535-47bb-0310-9956-ffa450edef68",5,10
f272fc1df5ddaea7970ca5ae7a76b74bd617e97b,"Polished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382761 13f79535-47bb-0310-9956-ffa450edef68",3,22
688c4f7946e36843d9c5a21946404ac43eaabe2a,"AMQ-4033: JMX/RMI management do not use custom RMIServerSocketFactory as it cannot be unregistered, and then the JVM has strong reference and classloader cannot unload class. This causes problems for embedding brokers in container and if you redeploy.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382852 13f79535-47bb-0310-9956-ffa450edef68",42,29
6e0aa4fb80118eda6680a69f71cb5608d76fb810,"AMQ-3994: Fixed JDBC connection leak if link failure. Thanks to Philip Bridger for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1382983 13f79535-47bb-0310-9956-ffa450edef68",18,20
d97951ed6924567c143ac29b24e8b551b14c79f6,"fix for: https://issues.apache.org/jira/browse/AMQ-4035 check for null.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383234 13f79535-47bb-0310-9956-ffa450edef68",1,1
8a0dd39fb04523d4797b761ede5784dc5c7dbe86,"Fixed test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383265 13f79535-47bb-0310-9956-ffa450edef68",0,2
ece2e17b191ac25a1f7facb5ab9270f04aadbe8a,"AMQ-4029: Check for null when unregister mbean.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383270 13f79535-47bb-0310-9956-ffa450edef68",1,1
14dcc2a503db405b3f811bbcbc46a09990ff0f53,"Skip failing test on Java7

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383276 13f79535-47bb-0310-9956-ffa450edef68",0,2
b968c0c9b2147b629523aab685e1bda17558427b,"Fixing test on CI servers.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383304 13f79535-47bb-0310-9956-ffa450edef68",6,6
49bb4bf49468b09bd842e47cee8634678b0349a6,"Fixing test on CI servers.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383308 13f79535-47bb-0310-9956-ffa450edef68",3,5
f2225c2f125fa178f1fc998ad52781ae6e156289,"AMQ-4015: Added uptime to broker service, and shown in JMX, as well in logs when stopping broker.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383327 13f79535-47bb-0310-9956-ffa450edef68",0,30
aaf03576ee287b4f43d0dd28643948c8730d41c3,"https://issues.apache.org/jira/browse/AMQ-3989 - ActiveMQSslConnectionFactory.setKeyAndTrustManagers does not work with failover enabled - fix and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383370 13f79535-47bb-0310-9956-ffa450edef68",3,20
170b86a86181a38d7afecb867221aa6b8996e205,"https://issues.apache.org/jira/browse/AMQ-4005 - introducing Lockable interface and LockableServiceSupport for easier dealing with locks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383400 13f79535-47bb-0310-9956-ffa450edef68",179,316
215dd18196d4314d2b0d98b675fa32bfa3108496,"https://issues.apache.org/jira/browse/AMQ-3985 - fix up timeing issue in test post change to asyncDispatch for temp dest advisories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383426 13f79535-47bb-0310-9956-ffa450edef68",2,11
a59c9baaf546b13a9355e858d9043428c8556ad0,"fixes for: https://issues.apache.org/jira/browse/AMQ-4019

Refactoring the pools code to use commons-pool for more of the work and allowing us to
expose more stats info as well as enabling async connection pool cleanup of expired 
connections if so desired.  Added some additional tests.  We should continue to add some
more tests and perhaps add some more functionality to the Session pool in ConnectionPool
to let the commons-pool clean up Idle sessions after a time or to maintain the certain 
number of idle sessions etc.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383746 13f79535-47bb-0310-9956-ffa450edef68",420,871
6da942706e97797292d1b89597ca54a5917e5f4e,"AMQ-4038: Favor using JARs from maven central, to avoid 3rd part repos. AMQ-4039: Upgraded JAR dependencies.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383801 13f79535-47bb-0310-9956-ffa450edef68",91,71
8a300c17b606fa1288e486d95f9a47ab88c1d2f4,"AMQ-4038: Favor using JARs from maven central, to avoid 3rd part repos. AMQ-4039: Upgraded JAR dependencies.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383805 13f79535-47bb-0310-9956-ffa450edef68",45,0
13222cd4a4c8913a20ea742964a35f7167fbaf59,"Upgraded to apache 11 in pom.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383806 13f79535-47bb-0310-9956-ffa450edef68",1,1
5453b26eb8e61c6ce626e3375421a687bbb84a00,"AMQ-4045: Fixed NPE in BrokerService.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383856 13f79535-47bb-0310-9956-ffa450edef68",6,8
f830d96b8bcf98055dcf34fbf6b388bd5a1a9a02,"Fixing test on CI server

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383860 13f79535-47bb-0310-9956-ffa450edef68",52,98
9ddfd8008e717cd4acffed64844847b47a1bd21d,"AMQ-4041: Upgraded JARs in feature. As well fixing it.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383884 13f79535-47bb-0310-9956-ffa450edef68",6,7
d4ee73fe10ac456b55d8bc50e200339fb79f2d0a,"Removed @author in javadoc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1383899 13f79535-47bb-0310-9956-ffa450edef68",40,3
4260034561f145482395824acf9f286091fda05b,"AMQ-4044: Fixed issue with double stopping BrokerService.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1384691 13f79535-47bb-0310-9956-ffa450edef68",2,5
dd8899e1732bb4220c4431c885f6ee0f8b6fde11,"Polish: don't need to specify versions of the plugins that are managed by our parent pom.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1384713 13f79535-47bb-0310-9956-ffa450edef68",145,73
c9cc85bde1151e179b92091b858187846f790804,"AMQ-4049: Polished the AMQ start and stop logging.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1384714 13f79535-47bb-0310-9956-ffa450edef68",15,19
680edff8ee4dfa56792dd52a2b0f2bd077426341,"AMQ-4054: Marked Axis support as deprecated

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386500 13f79535-47bb-0310-9956-ffa450edef68",1,2
f653fbfe14c212851c27f50bb06adbd7e4d46669,"AMQ-4047: activemq-option feature included needed JARs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386535 13f79535-47bb-0310-9956-ffa450edef68",0,11
2845e88d7717e354dd0290228f2aab9ec383d7df,"Upgraded seleniumhq, and polished pom.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386554 13f79535-47bb-0310-9956-ffa450edef68",13,20
3b4aadca7ba6d6e479a4b1a3dec911ecd975f725,"Optimized java package imports

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386558 13f79535-47bb-0310-9956-ffa450edef68",114,76
6cc5f40bf73eee73ae7f866d310b832f85d9e23f,"AMQ-4058: http transport should not use uri parameters for remote url.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386573 13f79535-47bb-0310-9956-ffa450edef68",2,21
83a9c62b7c2f62acc78491f2b6445ec9c70cb8c2,"AMQ-4057: Upgraded to http client 4.2.1 for http transport.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386574 13f79535-47bb-0310-9956-ffa450edef68",1,1
b358c05696026e12521dc77aeb04fa2690b3bc8f,"AMQ-4060: Upgraded Spring OXM to Spring 3 version.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386583 13f79535-47bb-0310-9956-ffa450edef68",21,32
2d88395073d4e7d62508890621e385c3d608bdf2,"Fixed code to not use @deprecated methods from 3rd party JARs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386592 13f79535-47bb-0310-9956-ffa450edef68",8,10
b74922811252930023e989d6f3dc1bcbd63bbeeb,"AMQ-4011: Do not use java bean property editors for type conversion. Marked stuff as @deprecated.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1386596 13f79535-47bb-0310-9956-ffa450edef68",12,24
fef7f54a17fcf716d2472619090489be826eb015,"Disabled tests that hangs occationally. Need to revisit later.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387003 13f79535-47bb-0310-9956-ffa450edef68",0,4
1802116df8831a86ab538e94310921cc9bc1cef1,"AMQ-4011: IntrospectionSupport does not use java bean propery editors which are not thread safe, cause leaks, and are jvm global causing issues for other apps.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387025 13f79535-47bb-0310-9956-ffa450edef68",118,234
9a32e386279fd4c7b4dcd02e553c1dcb04de3a27,"AMQ-4056: Upgraded jmDNS to 3.4.1, and removed old obsolte activemq-jmdns module that is no longer needed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387052 13f79535-47bb-0310-9956-ffa450edef68",5716,30
b9621e66d41151a2b8871614722803874be157a7,"Upgraded to Jetty 7.6.7

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387055 13f79535-47bb-0310-9956-ffa450edef68",1,1
183ae75048660fdc93f4d65db293932a88f9d00e,"Added uptime to web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387063 13f79535-47bb-0310-9956-ffa450edef68",0,4
3d5a758666f24c8226d35c7ceae3dc3dc8fd2ea1,"fix for: https://issues.apache.org/jira/browse/AMQ-3664

Added now option to connection and consumer to allow for configuration of a time interval upon which all the outstanding acks are delivered when optimized acknowledge is used so that a long running consumer that doesn't receive any more messages will eventually ack the last few unacked messages.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387079 13f79535-47bb-0310-9956-ffa450edef68",52,189
b0bf0a259364d25996d653a6c816239debd3cc7a,"Polished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387097 13f79535-47bb-0310-9956-ffa450edef68",11,1
093b0e2370ebd4c133fa2f110a39ac53dd1bb699,"AMQ-4053: Split the lib dir of the AMQ distro into better categories. Also log on console from main class the extension classpath in use.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387113 13f79535-47bb-0310-9956-ffa450edef68",9,38
26806e7798cea714da0345052eaef0608c370519,"Polished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387165 13f79535-47bb-0310-9956-ffa450edef68",3,4
577952be495934110a396f98000553c20a09039d,"AMQ-2488: Unable to access Serializable class when receiving ObjectMessage in OSGi environment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387166 13f79535-47bb-0310-9956-ffa450edef68",11,24
4a0bc68b011931dffd942bee59a51b1a87f9cb52,"Fixed test on slow servers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387171 13f79535-47bb-0310-9956-ffa450edef68",4,7
9473e687c3f9b99a70aab5977ce749bb979a97ed,"AMQ-4043: web.xml was not valid according to the DTD

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387498 13f79535-47bb-0310-9956-ffa450edef68",22,20
b71b3497e30b92d61a73eb5b3b7f9c8ca0d15548,"AMQ-4043: Fixed web demo for simple send/receive.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387504 13f79535-47bb-0310-9956-ffa450edef68",4,33
b13c8c1e4b3ff76ba06d37b321e20a9d22a1ff00,"AMQ-4043: Fixed web demo for simple send/receive.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387506 13f79535-47bb-0310-9956-ffa450edef68",5,9
aa5a625a61dde0c0bd705047a7a19274a8581f35,"Remove the duplicate doctype declarations that are preventing these files from correctly validating. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387518 13f79535-47bb-0310-9956-ffa450edef68",290,269
2bbc65ba9addca0327c886e62247c9a0c4aa91d4,"AMQ-4063: RAR should not include derby.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387528 13f79535-47bb-0310-9956-ffa450edef68",25,4
4d48a5b59b1e2dba5426c1e9a49a573727b617a7,"AMQ-3914: Added support for MS SQL driver 4.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387531 13f79535-47bb-0310-9956-ffa450edef68",0,17
4810be5c6e7e72ac227de40e806b12f76290d51b,"Fixed test which may fail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387600 13f79535-47bb-0310-9956-ffa450edef68",4,5
bdc676bbbc9746e21dd447c22b2a144fb7bd2b1d,"Disabled test failing on Windows. Will have to revisit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387643 13f79535-47bb-0310-9956-ffa450edef68",1,3
67b0c1861f136ef04ca6492d30d2e1270e096f96,"Sorry was experimenting with the test on windows, and changed a parameter.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387648 13f79535-47bb-0310-9956-ffa450edef68",1,1
620d26d494d061ca98afb2e31880a851e9969cc6,"fix for: https://issues.apache.org/jira/browse/AMQ-4065

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387851 13f79535-47bb-0310-9956-ffa450edef68",3,33
e11f786b9306642e67f6004e4f5fef2fabe7cc92,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3554

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387857 13f79535-47bb-0310-9956-ffa450edef68",5,6
67088a5955af16c76f50ded8cc33c8fa3312b14a,"Added all to name so you can figure out its the activemq-all module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387898 13f79535-47bb-0310-9956-ffa450edef68",1,1
eedb091f836ca27805def1eea6d999bc755d59f0,"AMQ-3727: Added osgi import. Thanks to Thomas Themel for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387900 13f79535-47bb-0310-9956-ffa450edef68",3,4
11e6f88ded46e709e94012b81a10861bdd76fc26,"Polished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387909 13f79535-47bb-0310-9956-ffa450edef68",30,11
6f2ac637cd631c676903149ba0247b71a9a510cb,"fix for: https://issues.apache.org/jira/browse/AMQ-4066

Remove old deprecated code.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387960 13f79535-47bb-0310-9956-ffa450edef68",782,44
c6595066e9d73f8201264ccd28183f989fe53f90,"AMQ-4067: Prefix thread names with ActiveMQ

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1387989 13f79535-47bb-0310-9956-ffa450edef68",5,33
0f9647c1f820da140bed490fd3cebf2aebd5f3f5,"https://issues.apache.org/jira/browse/AMQ-4028 - ws transport test - disconnect client when finished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1388056 13f79535-47bb-0310-9956-ffa450edef68",0,14
de7617e9c782728063b8671dbe67af096c4f0e9d,"fix for: https://issues.apache.org/jira/browse/AMQ-730

Update some JavaDocs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1388313 13f79535-47bb-0310-9956-ffa450edef68",14,183
c176fa8f33838342018465acbe9bb50ae4862541,"fix for: https://issues.apache.org/jira/browse/AMQ-3298

Add property preferJndiDestinationLookup so that users can override the default order as needed and have the connector first go to JNDI before trying the JMS create method.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1388326 13f79535-47bb-0310-9956-ffa450edef68",22,78
014773936022e72b4f8fdff90a0f9fdc33c9b247,"Added missing license header. More exclude to rat plugin.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1388354 13f79535-47bb-0310-9956-ffa450edef68",2,21
0b9873c0571979d16a00c3998bbd0791b60fb491,"Added missing license header. More exclude to rat plugin.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1388356 13f79535-47bb-0310-9956-ffa450edef68",1,19
d36773ceb9c559d682560eadb0728a5ac42bac29,"Added pgp keys for Claus Ibsen

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1388380 13f79535-47bb-0310-9956-ffa450edef68",0,43
08185743c12787ac87d8c4c492fa72f5174b7f4d,"AMQ-4069: Upgraded maven plugin versions to latest releases.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1388390 13f79535-47bb-0310-9956-ffa450edef68",17,24
fa29678c541cedd05a584da550f7647f828e0653,"https://issues.apache.org/jira/browse/AMQ-3918 - don't bind http based transports to local host name and do better url registering

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389776 13f79535-47bb-0310-9956-ffa450edef68",18,9
d9c73363a9fabbb91ac897e22e050a49fc3b9431,"AMQ-4070: Improved ruby sample to shutdown nicely on cltr+c, and use publish. Thanks to Francesco for the patch.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389793 13f79535-47bb-0310-9956-ffa450edef68",22,29
5aed30d5df19ef27ee96a954329ea8338f4da015,"removing activemq-version pom variable and using project.version directly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389803 13f79535-47bb-0310-9956-ffa450edef68",25,24
c50c1f5dad28c724be7f3a17bac509a260e7e986,"https://issues.apache.org/jira/browse/AMQ-4076 https://issues.apache.org/jira/browse/AMQ-498 - default to unlimited maxFrameSize - explicit limits in the xml config with DOS comment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389817 13f79535-47bb-0310-9956-ffa450edef68",2,8
89c0790d90448d27ef5d9f07249c3b8fefec1245,"reverting release plugin version as this one doesn't work well with gpg

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389829 13f79535-47bb-0310-9956-ffa450edef68",1,1
f3c9c743341d4e791126b19ea003489281bb9e93,"Polished copyright years

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389860 13f79535-47bb-0310-9956-ffa450edef68",1,1
b20d5411d154c8e20fed4d68e0c26dc0aa1a9e75,"Fixes AMQ-4080: Integrate the Fusesource LevelDB module into the ActiveMQ build.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389882 13f79535-47bb-0310-9956-ffa450edef68",2,22728
4051799a6d4938bc4c21cd6e8574efe363bf9a53,"More work for AMQ-4080: Include the activemq-leveldb module in the assembly, don't use the fusesource leveldb module anymore.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389892 13f79535-47bb-0310-9956-ffa450edef68",19,25
44bc59b5cc41af292f6346e06232e3aedac5d249,"Replace the fusemq-leveldb /w activemq-leveldb module in the features.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1389897 13f79535-47bb-0310-9956-ffa450edef68",1,1
8dc1c1240b6a7afd1c2d14e4b4a7b067081e9787,"fix for: https://issues.apache.org/jira/browse/AMQ-4062

Durable consumer should be configured with the policyEntry configuration on activate. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390193 13f79535-47bb-0310-9956-ffa450edef68",33,318
ec72fa6d51bbe730b3456428801173d2f56ec591,"https://issues.apache.org/jira/browse/AMQ-4076 https://issues.apache.org/jira/browse/AMQ-498 - remove duplicate ?

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390202 13f79535-47bb-0310-9956-ffa450edef68",1,1
b469638171985a9abe6ba4cd9c33720cab11a6dc,"fix up assembly xml configuration validtion tests - have them run by default. Pull out osgi isms to separate hook and add shutdown hook when jetty.xml is included so that it is shutdown on broker stop. Fix problems with the xml eposed by the tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390204 13f79535-47bb-0310-9956-ffa450edef68",32,102
12bd7f1097e86ea0e429ff27bc8c14322128835f,"Polished notice

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390297 13f79535-47bb-0310-9956-ffa450edef68",3,1
cf9485bd05fb8b076ba1be647f397c58899ddd84,"Polished pom.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390298 13f79535-47bb-0310-9956-ffa450edef68",3,0
9583d9af9f5fab8d0dbc1d78c68cc93e01d0e8b0,"AMQ-4081: favicon should be handled as binary file in assembly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390323 13f79535-47bb-0310-9956-ffa450edef68",0,1
effc8b9b89f4571c21af1358c6383b3f179e6720,"polish pom and use of deprecated apis

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390418 13f79535-47bb-0310-9956-ffa450edef68",15,7
f49675bfa27109867f1e18e0e49caa182eaf256f,"https://issues.apache.org/jira/browse/AMQ-3887 - do safeWaitUntilStarted outside of the synchronized block as deadlocks are possible

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390473 13f79535-47bb-0310-9956-ffa450edef68",6,6
c02acbd3d44efc2f9a6483128d71ab04c5aa02a0,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-4083

Ensure that client ack mode sends acks for expired messages.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390710 13f79535-47bb-0310-9956-ffa450edef68",1,450
3f49df7d701f95c5e9bf33e5da59c87f701fd4a3,"fix typo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1390931 13f79535-47bb-0310-9956-ffa450edef68",11,11
8a75d960d56ac3513053d09561b3ec809fe0a70c,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-4083

Revert previous fix.  We need to ack each expired message when we detect and not overload the usage of delivered acks for extending the prefetch window.  The problem was an edge case where the broker detected a message as expired after the client had delivered it but before it ack'd it as consumed.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391152 13f79535-47bb-0310-9956-ffa450edef68",12,81
f37fc74822004faedbe3c2ecfe1c86d20ccc3dff,"move http network test to options module so it can be run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391203 13f79535-47bb-0310-9956-ffa450edef68",8,8
746585e8d72f5edadf8ca9dafecff5e3989607af,"add validation of request/reply over network with temp topic replyto, fine with duplex network connectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391204 13f79535-47bb-0310-9956-ffa450edef68",0,1037
6d6c237b5357bfde06690a7d73f12416005e54a0,"Update to add some m2e settings for those using Eclipse 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391217 13f79535-47bb-0310-9956-ffa450edef68",9,62
f4b26ea95d743b4375490f444a72238e4f4282c9,"Update svn-ignore properties.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391220 13f79535-47bb-0310-9956-ffa450edef68",0,0
f677d1a2c5dc64ce6131f265e4c75aeb499d1fb3,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4084



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391238 13f79535-47bb-0310-9956-ffa450edef68",2,10
591c1a549c1cd9804f263706fb5e4b6db14b5cc3,"ensure async dispatches temp advisory is present before verfication of temp usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391392 13f79535-47bb-0310-9956-ffa450edef68",2,10
0a7c5dc93a7a2156a8a79170accb3f08346973cc,"https://issues.apache.org/jira/browse/AMQ-2106 - Allow broker to evenly distribute message groups among consumers - have consumer order take number of assigned groups into account, such that priority is given to the least loaded consumers. When groups change frequently or are suspended this allows better distribution. When new consumer arrive they now have a good chance of getting the next available groups

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391661 13f79535-47bb-0310-9956-ffa450edef68",4,301
a80acbb1ad4e26987a7ff82c587e4bb6a81d15f2,"Polish the code, remove warnings fix spelling errors in the docs, add some new javadocs, etc.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1391682 13f79535-47bb-0310-9956-ffa450edef68",557,554
a97f821869c60fadf2da855caa04144704fc3d78,"[maven-release-plugin] prepare release activemq-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392267 13f79535-47bb-0310-9956-ffa450edef68",38,38
a8d364d03042afba8c0b75010c73d3c7fb9fc08b,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392269 13f79535-47bb-0310-9956-ffa450edef68",30,30
74a80fee32da7ae11c175beea814b1f79cf55ecc,"Initial add of itests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392774 13f79535-47bb-0310-9956-ffa450edef68",0,309
a26ab53dd2995cfb357a760e841eb1cf5e1f9fd2,"Initial add of itests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392778 13f79535-47bb-0310-9956-ffa450edef68",1,1
cb1871ffca895b669637f8a7da68c19258e33c8d,"Fixed features.xml to use version number of project.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392783 13f79535-47bb-0310-9956-ffa450edef68",27,28
87a0a4e19a9345ca1200e9e68a395e5553d488bb,"AMQ-4087: Added TM to AMQ logo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392788 13f79535-47bb-0310-9956-ffa450edef68",5,3
c5a9dae974620eeb45000bf47770686ab5608e57,"AMQ-4089: Polished the user guide in the kit.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392791 13f79535-47bb-0310-9956-ffa450edef68",4,54
2daf9f16e98c33f35cb5956db6f57a0f5c989ae8,"AMQ-4088: Fixed kit to include httpclient/core. Trying to include execute permission on tarbal for scripts in examples.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392799 13f79535-47bb-0310-9956-ffa450edef68",3,17
b437c2c52bf9bde3f2f079f907dd38fa1732c571,"AMQ-4088: Unix kit examples should have execute permission on scripts by default.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392810 13f79535-47bb-0310-9956-ffa450edef68",21,17
83c9dc0e68a062ccce28e2b3d3ccee9759a29e4b,"AMQ-4088: Filtered the example scripts so they can use the AMQ version number in their scripts.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392820 13f79535-47bb-0310-9956-ffa450edef68",4,17
8c85aeb231529b019bf8eafb8926c79f4375407b,"change parent for spring 3.1 test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392846 13f79535-47bb-0310-9956-ffa450edef68",1,1
47f9ef9b11307ab8483b46b885cb4cab462ea328,"add link to plugabble lockers to activemq-jdbc configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392855 13f79535-47bb-0310-9956-ffa450edef68",0,4
02b2ba294e488b9e87fe337d4660bd05cbe3b59b,"[maven-release-plugin] prepare release activemq-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392874 13f79535-47bb-0310-9956-ffa450edef68",32,32
3576fbe97a8eacb6d9ab8a31b84d7369ff1f4c48,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392876 13f79535-47bb-0310-9956-ffa450edef68",32,32
5094609ec519ffaa3e63e05a9ab9e668506c39bf,"[maven-release-plugin] prepare release activemq-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392921 13f79535-47bb-0310-9956-ffa450edef68",32,32
798437773ae0a4bc12ad4acb4fde7887ead3d0f5,"rolling back version because of failed release:perform

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392924 13f79535-47bb-0310-9956-ffa450edef68",29,29
07bed31f7b65e2f58609a005d768b5e1a5c87890,"[maven-release-plugin] prepare release activemq-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392929 13f79535-47bb-0310-9956-ffa450edef68",29,29
f2af2c91872ebe059f4468699922ddf1fa42dd14,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392933 13f79535-47bb-0310-9956-ffa450edef68",29,29
c83b70c3cdb4a215465d7e155c4da793782c8a20,"[maven-release-plugin] rollback the release of activemq-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392935 13f79535-47bb-0310-9956-ffa450edef68",29,29
a625f7ab94d074617a0ca577253aca9d9a6683cd,"add verification of blocking via full advisory - odd that advisory arrives late, hmm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392945 13f79535-47bb-0310-9956-ffa450edef68",6,37
c479df0679f6a686dd1e6a111b1b7d9776b77705,"[maven-release-plugin] prepare release activemq-parent-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392966 13f79535-47bb-0310-9956-ffa450edef68",32,32
16dc729163fef4dcc060e6d8197597cd762b14a8,"[maven-release-plugin] rollback the release of activemq-parent-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392968 13f79535-47bb-0310-9956-ffa450edef68",32,32
df8b1d578c3041120cd44ff8dcdeab5034385de8,"rolling back scm info

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392969 13f79535-47bb-0310-9956-ffa450edef68",3,3
e396468d9b8c1ce58862adea50f4b46974bea669,"[maven-release-plugin] prepare release activemq-5.7.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392977 13f79535-47bb-0310-9956-ffa450edef68",32,32
0b0ed9f84da0c9de632fcf2706629d1f5ebf0e63,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1392979 13f79535-47bb-0310-9956-ffa450edef68",32,32
9fbf52df7aca04369839977f9761adbe7ec55fc9,"fix: https://issues.apache.org/jira/browse/AMQ-4090

update svn:ignore for some modules.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393125 13f79535-47bb-0310-9956-ffa450edef68",0,0
1005fc50628d18a2536cec3ebad337d62d0035b8,"https://issues.apache.org/jira/browse/AMQ-4091 - apply destination policy to temp topics, allows a memory limit to be specified to partition temp dest usage and enable producer flow control

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393174 13f79535-47bb-0310-9956-ffa450edef68",50,63
c5421f9095e92d9547d8d8727ec50be3bb872e72,"remove dud import

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393178 13f79535-47bb-0310-9956-ffa450edef68",1,0
62bcbaa5d03639caf88a22000b1c6e715279adfa,"ensure slow-tests profile overrides excludes and runs all tests - duplicate the config in that profile, so order is the same etc; don't see another way atm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393443 13f79535-47bb-0310-9956-ffa450edef68",4,23
cdd5150340e69a27402fdf73d1726299b0b30854,"Initial rough cut of AMQP protocol support using the QPID proton project.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393500 13f79535-47bb-0310-9956-ffa450edef68",0,2573
7fe30bc0cca18c579d04ace7ab64fe3e6ce92664,"Making more progress on the AMQP implementation.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393782 13f79535-47bb-0310-9956-ffa450edef68",256,668
e7137b7eaeb94fc2356e59957b0c5a7dfd4580dd,"AMQP impl: A simple send and receive is now working

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393790 13f79535-47bb-0310-9956-ffa450edef68",25,25
205699e11ea8b9432f589ceb160610443d6d452a,"https://issues.apache.org/jira/browse/AMQ-3851 - refactor AuthorizationBroker so that addDestinationInfo is properly handled

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1393988 13f79535-47bb-0310-9956-ffa450edef68",48,307
cac8c9c385c18ce665201d6fd7f7b0856569b815,"Improving the AQMP<-->JMS message mapping impl.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394264 13f79535-47bb-0310-9956-ffa450edef68",53,388
72d72ab79ebc49a4f5c106fe5421a1e767e6734d,"AMQP: Sending and receiving large number of messages was broken.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394266 13f79535-47bb-0310-9956-ffa450edef68",27,53
cf8613bea4b9718aa744a822aa4dd2bfd2256dfb,"add svn:ignore property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394267 13f79535-47bb-0310-9956-ffa450edef68",0,0
88dfe0020bdb7113690744ca923fcb94cfc237ea,"Test against the qpid JMS client.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394280 13f79535-47bb-0310-9956-ffa450edef68",0,95
f355b16d382d819657d328192cc5c33b6892d5ba,"Lets validate the Qpid JMS client <- AMQP 1.0 -> ActiveMQ impl using the Joram compliance suite.  (Still not working).

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394300 13f79535-47bb-0310-9956-ffa450edef68",1,262
6baed7a15ad799591acb6ea312540bf11b93c0ad,"Fixin deadlock in amqp impl.  Improved message mapping support and commented out the failing Joram test cases.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394677 13f79535-47bb-0310-9956-ffa450edef68",63,172
536e78208e0f414eabff87378e33232f16f9cbd6,"Only test using the SwitfMQ client libs if they are available in the users env.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394682 13f79535-47bb-0310-9956-ffa450edef68",1,1
a5eb7c6fa27d2f3011a4c48ebe311dd983f51dae,"polish: some typos

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394732 13f79535-47bb-0310-9956-ffa450edef68",11,11
b24dfb908b902caca1aa350b815a0e1ceb1922f1,"https://issues.apache.org/jira/browse/AMQ-4094 - offline durable subs with selectors can lead to page leaks in the index and bloat of db.data in kahadb - fix up page caching on overflow and btree free on remove. test that validates the inuse page count for specific intervals

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394733 13f79535-47bb-0310-9956-ffa450edef68",17,230
7db7ed130b1dad9958b1b191e4cd0d1d8d3190de,"revert the change to defalut included for surefire, there are a bunch of non tests in there. *Test.* is needed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1394734 13f79535-47bb-0310-9956-ffa450edef68",1,6
229c634a83a3f298e560f761e12c342af9794499,"AMQ-1719: Avoid potential NPE in connection state tracker.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395272 13f79535-47bb-0310-9956-ffa450edef68",1,3
ddda4004b4b06dd5ae3770d0ad464cbcf29a4232,"AMQ-1492: Allow to configure whether changing auto commit is allowed on JDBC persistence adapter. Some JDBC drivers dont allow changing that.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395278 13f79535-47bb-0310-9956-ffa450edef68",3,21
c720601aaf2c947b98e1294e766662da21368b93,"AMQ-3173: activemq-web can now show more JMS message types.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395293 13f79535-47bb-0310-9956-ffa450edef68",14,21
67f887da88dc62accb41598bd9f9fa9f3267ec00,"AMQ-3116: Fixed web-console to show unicode chars when browsing message bodies.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395295 13f79535-47bb-0310-9956-ffa450edef68",0,1
07ade0db8f478b37c2950555364ddf9efba86d2c,"AMQ-4098: Added missing binary files to the assembly. The files was needed for activemq-demo.xml etc.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395931 13f79535-47bb-0310-9956-ffa450edef68",0,11
cc95295139b3dc65a4c4b9633b326f2035cd4544,"https://issues.apache.org/jira/browse/AMQ-4100 - clean on websocket close

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395976 13f79535-47bb-0310-9956-ffa450edef68",4,12
486e6374f26009020eebf35b256c56f9f8200c32,"remove unnecessary cast that limits locker impls

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395977 13f79535-47bb-0310-9956-ffa450edef68",1,1
84ba54b24f02c78d8eb94aa1ce7a480b90613193,"move fast, all and broken test exclusions to profiles so that exclusions are merged correctly. revert to surefire 2.10 pending fix for http://jira.codehaus.org/browse/SUREFIRE-913. To run all tests use: -Dactivemq.tests=all

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1395978 13f79535-47bb-0310-9956-ffa450edef68",580,518
56a61c7c15124dc481137c04ef789db9fd281010,"fix dry exclusion config, override default merge with append for the excludes so the are additive for the two profiles in use

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1396518 13f79535-47bb-0310-9956-ffa450edef68",4,4
d84fe0b0f5db1bd7af6c5b0754385c70a013a1e8,"additional fix for: https://issues.apache.org/jira/browse/AMQ-4098

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1396644 13f79535-47bb-0310-9956-ffa450edef68",0,1
72eb191b742ff0e896efc48ed3e3255a154ca8b1,"fix for: https://issues.apache.org/jira/browse/AMQ-4095

Need to wrap the next batch of data once the initial wrapped packet buffer is exhausted. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1396846 13f79535-47bb-0310-9956-ffa450edef68",2,52
8af1df7aea024753d2dded503c2eb8fea0488be1,"fix for: https://issues.apache.org/jira/browse/AMQ-4095

Add check null on engine. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1396975 13f79535-47bb-0310-9956-ffa450edef68",1,1
0a5ce71f6fccd40fa1d62be16a0b6042cbd9db93,"https://issues.apache.org/jira/browse/AMQ-4103 - LeaseDatabaseLocker can not be changed from 5 sec poll - fix with test, default value now 10s to be consistent with other lockers and is also configurable. regression from https://issues.apache.org/jira/browse/AMQ-4005

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398238 13f79535-47bb-0310-9956-ffa450edef68",3,47
f1c4a320174511a1d78192fa4e6d6141caa002d2,"Remove the System.out lines from the test, use LOG instead.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398419 13f79535-47bb-0310-9956-ffa450edef68",7,17
9e94ee40a20cf8d71f724b46334f685a603129fc,"AMQ-3723: Upgraded to xbean 3.12

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398643 13f79535-47bb-0310-9956-ffa450edef68",2,2
76153ff24574fb91b474cca2f879b25395230786,"https://issues.apache.org/jira/browse/AMQ-4110 - web console sending messages to the secured broker - use default credentials defined in factory if not explicitly set

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398731 13f79535-47bb-0310-9956-ffa450edef68",1,19
47ee52e5d30ca94e40b6df3918edaefdc5eb84a0,"https://issues.apache.org/jira/browse/AMQ-4094 - revert inadvertent mod/regression to BTreeNode, multiple iterations of the test verify it is unnecessary and seems to be the root cause of some instability

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398770 13f79535-47bb-0310-9956-ffa450edef68",2,3
46824cedc7cbd17f60ed6f17495a21a5761127df,"Fix for: https://issues.apache.org/jira/browse/AMQ-4104

Let the protocol converter handle setting the version after it forwards the CONNECTED frame. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398833 13f79535-47bb-0310-9956-ffa450edef68",7,4
e9bf83fc92d9fcfb9bf01e5daa1dbeb378a9c8fe,"Fix for: https://issues.apache.org/jira/browse/AMQ-4104

Add the unit test for this

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398838 13f79535-47bb-0310-9956-ffa450edef68",0,29
021e35ad3ca70b1dea1c84684160d938376fb961,"Update the test keystore files as all the certificates are expired. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1398966 13f79535-47bb-0310-9956-ffa450edef68",0,0
5b63698924bbca5aeeccbba84427f5ebefe56c3c,"AMQ-4112: Upgraded to MQTT 1.4 and polished tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1399151 13f79535-47bb-0310-9956-ffa450edef68",10,19
a49e75ada09cdfb5def1890113201be2752ff962,"Update the test keystore files as all the certificates are expired. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1399294 13f79535-47bb-0310-9956-ffa450edef68",0,0
be8e58be14dd3f8bccc810e4fbe4d74b016e90a5,"https://issues.apache.org/jira/browse/AMQ-4094 - ensure list is split down to single entry before page over flow for a value, ensures the smallest marshall size for a page

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1399300 13f79535-47bb-0310-9956-ffa450edef68",19,20
b5e46ef9c56b075744cba00be145778133af7b30,"https://issues.apache.org/jira/browse/AMQ-4108 - master broker advisory topic needs to be retroactive

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1399302 13f79535-47bb-0310-9956-ffa450edef68",1,20
65af81e09ecbb38e43b1410b2e1bd9c02926fc88,"fix for: https://issues.apache.org/jira/browse/AMQ-3996



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1399438 13f79535-47bb-0310-9956-ffa450edef68",61,88
51eb87a84be88d28383ea48f6e341ffe1203c5ba,"https://issues.apache.org/jira/browse/AMQ-4115 - xss in web demos

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1399577 13f79535-47bb-0310-9956-ffa450edef68",3,8
5d9695c5ef76b89fa051c41a339665979b608835,"https://issues.apache.org/jira/browse/AMQ-4098 - additional fix; incluse wrapper.jar in unix distro as well

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400039 13f79535-47bb-0310-9956-ffa450edef68",1,1
2db73e2b7e3ac3c315631704469910a8760eeddd,"More AMQP impl changes.  More tests pass, initial cut of transaction support is in.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400116 13f79535-47bb-0310-9956-ffa450edef68",119,562
0fffe2172005f337412d5ec172cd92822395e239,"fix for: https://issues.apache.org/jira/browse/AMQ-3996

Updates TransportServer API so that JaasDualAuthenticationBroker can tell when its dealing with a TransportServer that will provide SSL connections and it can validate client certificate chains from ConnectionInfo.  Also updated the properties files to reflect the newly generated certificates. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400155 13f79535-47bb-0310-9956-ffa450edef68",125,177
652b47f943902fb3decfd60a5183e91000f4df18,"add little performance test for split values in the list index, disabled atm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400242 13f79535-47bb-0310-9956-ffa450edef68",1,38
2ad13d682a38dfebafb5a0c0801961bf593d8f63,"fix for: https://issues.apache.org/jira/browse/AMQ-4117

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400304 13f79535-47bb-0310-9956-ffa450edef68",82,71
4cf6151a8c10079d89969cef8c115fce52623a81,"https://issues.apache.org/jira/browse/AMQ-4118 - resolve with test. keep cache uptodate when overflow chain is released so new end page is visible as terminus

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400317 13f79535-47bb-0310-9956-ffa450edef68",0,251
f129a0be891bb9926fe949cca154c5dce60ad157,"https://issues.apache.org/jira/browse/AMQ-4118 - polish test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400319 13f79535-47bb-0310-9956-ffa450edef68",3,0
f6970c76aebd5847afe24695021f0f0057be800c,"polish test shutdown, jdk7 ci builds show regular failure here with jmx reuse

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1400839 13f79535-47bb-0310-9956-ffa450edef68",9,8
8a5f160fd2297bea9f0142157eb1e77257f44011,"Tests for https://issues.apache.org/jira/browse/AMQ-4123

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401102 13f79535-47bb-0310-9956-ffa450edef68",3,76
7cb7d188f98a7462525c2acba00658bfa8ab9ca6,"https://issues.apache.org/jira/browse/AMQ-3485 - make sure prefetch size of zero is a workaround

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401261 13f79535-47bb-0310-9956-ffa450edef68",0,27
79127ae4409c5137ceb3b037751800917d59b4ea,"Add a method for manually send a keep alive value to the broker. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401300 13f79535-47bb-0310-9956-ffa450edef68",0,6
78265ea2110c689047845878d006d45cf41e268b,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4106

NIO based transports weren't updating the receive counter in the TcpTransport which can lead to the inactivity monitor mistakenly shutting down the connection.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401394 13f79535-47bb-0310-9956-ffa450edef68",14,82
7a2293d7435cbe6fd8444849c997d3f4cb8c8db1,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4106

NIO based transports weren't updating the receive counter in the TcpTransport which can lead to the inactivity monitor mistakenly shutting down the connection.  

Forgot one. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401397 13f79535-47bb-0310-9956-ffa450edef68",1,3
692411e989e2e39182ead57f4e0c935cfafdcb3a,"Fix some spelling errors in the API docs.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401445 13f79535-47bb-0310-9956-ffa450edef68",7,7
d212d3c02aac12c1ac53575d990e8217eb420f51,"AMQ-4123 Improve MQTT Inactivity Monitoring

* Fixed broken MQTTTests
* Added more tests around Inactivity Monitoring / MQTT keep alive
* Removed the KeepAliveInfo check from the MQTTInactivityMonitor, clarified the PINGREQ/RESP frames in the inactivity check
* Implemented a grace period for the keep alive on the server side per MQTT spec
* Fixed clientId assignment
* Added ""default"" keep alive for server-side control of lingering MQTT connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401509 13f79535-47bb-0310-9956-ffa450edef68",36,145
f8f24e830772375fd7b9c8bbdcbdb7ce966a6c9c,"fix for:  https://issues.apache.org/jira/browse/AMQ-4126

Also relates to: https://issues.apache.org/jira/browse/AMQ-3996

Test case added

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401511 13f79535-47bb-0310-9956-ffa450edef68",31,381
6b44c3c9d1fdea972c97c7b874ee0f70eb94bd97,"disable jmx b/c we can't ensure the rmi server port is available - see http://svn.apache.org/viewvc?view=revision&revision=1382852 which removed the socket factory that set setReuseAddress - https://issues.apache.org/jira/browse/AMQ-4033

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401661 13f79535-47bb-0310-9956-ffa450edef68",0,2
d3571a61543362956948699f19601216d1b0c28e,"update for: https://issues.apache.org/jira/browse/AMQ-4123

make the test use the Wait condition instead of hard sleeps

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401666 13f79535-47bb-0310-9956-ffa450edef68",23,48
2a0a0b66f6e4ffbca72f2913d5ee5843ac5190c4,"initial amqp selector support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401674 13f79535-47bb-0310-9956-ffa450edef68",14,27
ba5fdc59158f8797002199600dd0a0a3544e43fe,"test case for https://issues.apache.org/jira/browse/AMQ-4122 - that does not show a problem atm

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401849 13f79535-47bb-0310-9956-ffa450edef68",11,105
ebd3d34e096806ec160e9b0f18b8cee564168135,"Implementing AMQ-4134: Add XA support to the LevelDB store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401881 13f79535-47bb-0310-9956-ffa450edef68",27,265
111635ea1c743b613cbb8cfda66dd67f405679bf,"Implementing AMQ-4134: Add XA support to the LevelDB store.

More test cases are now working.  Only the durable sub XA cases are broken at this point.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401911 13f79535-47bb-0310-9956-ffa450edef68",47,113
1978ac4573528545c82ac8cf2c6d909834b6c9d6,"Implementing AMQ-4134: Add XA support to the LevelDB store.

All XA tests are now working.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401956 13f79535-47bb-0310-9956-ffa450edef68",33,48
f81b52e28a31a2d1effbec9bb6386f6a2b77a9e4,"Updating readme since missing XA support is no longer missing.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1401957 13f79535-47bb-0310-9956-ffa450edef68",1,0
b8a6e5a6ca4e8ed6eaf342f0488be007d107e2b1,"amqp - support configurable transformers and populate message properties for the default native one

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402148 13f79535-47bb-0310-9956-ffa450edef68",137,228
556ee7b48e5a1f188d732c6ea22de1599150f769,"Fixed a spelling in an error message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402189 13f79535-47bb-0310-9956-ffa450edef68",1,1
838206ff925f9beb0a7cc5e3547f299883ba7a90,"fix for: https://issues.apache.org/jira/browse/AMQ-4132

Allow the transport to reassemble OpenWire commands from multiple chunks of varying size which can occur depending on the cipher suite.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402317 13f79535-47bb-0310-9956-ffa450edef68",24,181
e6285b74267903476b90e1fc826fd8ac8788f698,"fix for: https://issues.apache.org/jira/browse/AMQ-4133

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402354 13f79535-47bb-0310-9956-ffa450edef68",40,259
dc4ceb47e8cf3bad78abfcf1b9b8cbb9f265d390,"PLAIN Sasl is now working.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402532 13f79535-47bb-0310-9956-ffa450edef68",66,195
4a294080e364d075f19e46c824da5eb4b14bad40,"Support disabling the broker auto startup XBean behavior.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402651 13f79535-47bb-0310-9956-ffa450edef68",2,19
cfe5e98da30193c70befcba461213edfa8f0f71a,"Implementing AMQ-4137 : Create a store import/export command line tool to covert between store types

Usage is a simple as ""bin/activemq export --file=archive.tgz"".  All data is stored in the tgz in the format defined by the Apollo store export/import utilities.  Only export implemented at this time.  I have verified that Apollo can import queues exported from ActiveMQ.  Durable subs probably need a little more work.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402652 13f79535-47bb-0310-9956-ffa450edef68",1,2753
f0b3f1c6e0f36aa04eb10036b105e2d81754636a,"Polish up some old code.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1402661 13f79535-47bb-0310-9956-ffa450edef68",28,22
afe73c1861235b60b6416a06e557b8c8b7db1d67,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-3746

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403073 13f79535-47bb-0310-9956-ffa450edef68",24,181
7806807db12a4d62e221bee4adf118705b25e870,"Fixes problem /w amqp impl of message acks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403459 13f79535-47bb-0310-9956-ffa450edef68",2,12
8f19af70f43fc652f629be5e73768206de2d6493,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4142

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403466 13f79535-47bb-0310-9956-ffa450edef68",6,11
90eb05c0fb7975267f95bed5c0b19efd34773fa8,"Add fix for: https://issues.apache.org/jira/browse/AMQ-4119

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403496 13f79535-47bb-0310-9956-ffa450edef68",36,49
40182022268b25f131426a67636e56230d39883c,"Upgraded to Camel 2.10.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403632 13f79535-47bb-0310-9956-ffa450edef68",1,1
3b0b1fa7daa3ac80f6138a9be1c6a76e02a53b81,"Temp queues verified to work now.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403689 13f79535-47bb-0310-9956-ffa450edef68",47,61
8835535a949bf3c2febe0b4043b55e4a997aca2f,"Adding browser support.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403690 13f79535-47bb-0310-9956-ffa450edef68",6,10
b4a29250b4e4c4319ffaae7554ea9ea6129fc773,"Fixes AMQ-4144: When used in a message selector, the JMSDeliveryMode header field should be treated as having the values 'PERSISTENT' and 'NON_PERSISTENT'.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403751 13f79535-47bb-0310-9956-ffa450edef68",1,1
3c9c147e76f0c1490030031df7f993b88ec416d1,"Use the transformer default values for delivery mode, priority and ttl if not set on the amqp header.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403752 13f79535-47bb-0310-9956-ffa450edef68",17,25
822c4f37cba69c5c2b32053d0169b0d5723a2548,"Protect against a possible NPE in the selector handling logic.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403753 13f79535-47bb-0310-9956-ffa450edef68",3,7
2f258702f1ebbb8e64ec0fabee4f150394d7fd90,"Fixes AMQ-4146: String properties in JMS selector expression should not get auto converted to numbers per spec.

If you really want to auto convert string property values to numerics, prefix the selector with 'convert_string_expressions:'.  This change makes the last failing Joram test case pass.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403754 13f79535-47bb-0310-9956-ffa450edef68",12,32
6d08aca02476411dcadc468185bc21f3389a1e65,"fix for: https://issues.apache.org/jira/browse/AMQ-4129 Adds support for the STOMP v1.2 spec changes.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1403869 13f79535-47bb-0310-9956-ffa450edef68",28,649
f6a5c7bd470ef4b10aaf6cd43f3bec9760f5a4b2,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4140

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404116 13f79535-47bb-0310-9956-ffa450edef68",0,155
cb3392c307f0177da0372044ac2edd48b8b1bab4,"updated test case to check: https://issues.apache.org/jira/browse/AMQ-4149 could not reproduce issue.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404122 13f79535-47bb-0310-9956-ffa450edef68",7,42
9a6a83fe0d836f414922e58adc76257ef8936b33,"Improved AMQP protocol support.  All JORAM Selector tests are now working.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404158 13f79535-47bb-0310-9956-ffa450edef68",9,21
f7c799309dd0cac696b966aac2ab4e2a122da1b3,"https://issues.apache.org/jira/browse/AMQ-4145 IntrospectionSupport does not convert from primitive to Wrapper classes appropriately

Added two tests to show the conversion was not happening properly, and added an identity converter to the TypeConversionSupport to do a pass-through conversion on types that are the same after a primitive to wrapper class conversion

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404165 13f79535-47bb-0310-9956-ffa450edef68",0,144
34f18b6fc7493b7a1d8b1222c3a4246a627fb70c,"Update a couple things to latest patch versions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404178 13f79535-47bb-0310-9956-ffa450edef68",3,3
90beb3fb7dc2fd7aad71632a3102fe6f1dbdc5c6,"https://issues.apache.org/jira/browse/AMQ-4108 - master broker advisory - fix sub-test failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404196 13f79535-47bb-0310-9956-ffa450edef68",3,4
13270e4e74fa501d2f47120c72988e761ac4fc12,"AMQ-4056 - ensure we do a close

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404271 13f79535-47bb-0310-9956-ffa450edef68",2,4
0ad3cfc11e39c75482c9709125d96ce27cd5140e,"fix brokerSerivce instances left running if assertions fail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404348 13f79535-47bb-0310-9956-ffa450edef68",57,59
5207f02e6a2f96113183dc2da58a819d8ff0ac3e,"fix brokerSerivce instances left running if assertions fail

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404354 13f79535-47bb-0310-9956-ffa450edef68",6,9
aeffe6eeccda21a03c09e2f15ac4bf13016e4fd9,"amqp - TopicConnectionTest.class test analyzed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404567 13f79535-47bb-0310-9956-ffa450edef68",0,1
3656a3f3786ca31b09035fb488883362225c4677,"amqp - TemporaryTopicTest analyzed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404575 13f79535-47bb-0310-9956-ffa450edef68",3,3
c944f80b86afabadcbff3c151ed7668e848482e8,"reverting qpid jms client version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404576 13f79535-47bb-0310-9956-ffa450edef68",1,1
76a9c30be68c8bfafa1cb1439f849a8ce4779893,"fix for: https://issues.apache.org/jira/browse/AMQ-3261

change the port in configuration to match the default JMX port.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404618 13f79535-47bb-0310-9956-ffa450edef68",1,1
566039fa5bf9f43ffb89d2279fb255237275a334,"fix and updated test for: https://issues.apache.org/jira/browse/AMQ-4149

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404732 13f79535-47bb-0310-9956-ffa450edef68",6,23
539781ceef979a0eda08b452de7a1b3c626c7e6d,"fix for: https://issues.apache.org/jira/browse/AMQ-4054

Remove deprecated Axis 1.0 support.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404742 13f79535-47bb-0310-9956-ffa450edef68",167,14
ec231d38b168aa7048b8a74b2ba99de8ffe31353,"fix for: https://issues.apache.org/jira/browse/AMQ-4054 dont' need Axis dep anymore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404743 13f79535-47bb-0310-9956-ffa450edef68",7,0
af4edb335adcc4f19272f9c05f9801e5cf898795,"apply patch for: https://issues.apache.org/jira/browse/AMQ-3930

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404757 13f79535-47bb-0310-9956-ffa450edef68",6,15
5e03927da727e13c711d38e75516a58fd75dec2d,"fix up test case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404830 13f79535-47bb-0310-9956-ffa450edef68",2,2
b6347ee6d3b8da8dcb37db438d33c657e7840be3,"AMQ-4153: Fixed issue with ActiveMQWASInitialContextFactory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404896 13f79535-47bb-0310-9956-ffa450edef68",14,11
332c27a7cebc653a3ad18abf8ef25db9e0930086,"Upgraded velocity bundle to latest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404904 13f79535-47bb-0310-9956-ffa450edef68",1,1
3bf111ed2c4abef3683a1d79af95fa06165ecee8,"AMQ-4154: Fixed activemq to be installed as feature in Karf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404908 13f79535-47bb-0310-9956-ffa450edef68",6,11
ced33d2551a040813cb40bd6d36fdd322034fa73,"AMQ-4124: Removed last pieces of camel webapp from AMQ

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404962 13f79535-47bb-0310-9956-ffa450edef68",0,0
67744f7398e3ed36fe374ab293cbb38a1940682e,"amqp - UnifiedSessionTest test analyzed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404979 13f79535-47bb-0310-9956-ffa450edef68",1,1
6a253ebd3f422235a1aa9e504267785e41570301,"amqp - JMSClientTest with browser

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404980 13f79535-47bb-0310-9956-ffa450edef68",2,13
ae24f5ff255aad914e1fc83164f2b4be91957886,"Fix bug where we were not properly draining all the links.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404994 13f79535-47bb-0310-9956-ffa450edef68",1,1
80b4d171ca465c84a748e20a50bf7a52ceb10a3f,"Tabs to spaces

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404996 13f79535-47bb-0310-9956-ffa450edef68",5,5
437ea2f6e58d18837ae0e68dcd2fdadc1fff3723,"AMQ-4124: Disabled webapp demo from default configuration file. Need to run conf/activemq-demo.xml for demos. Also enable webapp authentication by default.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1404998 13f79535-47bb-0310-9956-ffa450edef68",26,164
32e009dd7b7a9271239cebfda44ae0d5a58741dd,"fix for: https://issues.apache.org/jira/browse/AMQ-4156

More defensive checks when queuing read and write checks to the static executor.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1405122 13f79535-47bb-0310-9956-ffa450edef68",46,68
cb71df57f5d1e05155adc75154e7117494162b40,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4158

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1405132 13f79535-47bb-0310-9956-ffa450edef68",2,5
ba0101882a1f6be6af949170005d7803b80c667c,"Update Joram test suite so that it's easier to enable the tests that are working against QPID 0.19-SNAPSHOT.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1405137 13f79535-47bb-0310-9956-ffa450edef68",19,25
dee9e932660d57147ada730afa31813b0d660373,"Refactor out common logic to keep things dry.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1405218 13f79535-47bb-0310-9956-ffa450edef68",55,46
c7d8715cd770bb3db0af3bfd49b8831abb863c29,"fix up regression from: https://issues.apache.org/jira/browse/AMQ-3746 - ensure broker is always non null for topicSubscription

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1405817 13f79535-47bb-0310-9956-ffa450edef68",2,12
7f0fd0aa0683bb96dc51fed20a36e64db6f2ba1a,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4159

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1405836 13f79535-47bb-0310-9956-ffa450edef68",6,164
1942324dc3c564d040783fea0e43df5804803234,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4160

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1405934 13f79535-47bb-0310-9956-ffa450edef68",13,326
19622d36a6a69cbc07444c73813f1dd1dec2afb8,"Fix for https://issues.apache.org/jira/browse/AMQ-4161

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406186 13f79535-47bb-0310-9956-ffa450edef68",5,15
7410257c2fe862ab38f662bf75ea27c53420a5ac,"https://issues.apache.org/jira/browse/AMQ-4162 - visibility on destination query string options, destinationView.options - useful for user metadata about the destination

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406210 13f79535-47bb-0310-9956-ffa450edef68",0,43
5c20b8ed72d49c2d5200aeeff04aa79208840121,"fix for: https://issues.apache.org/jira/browse/AMQ-3016

Don't count-down the shutdown latch early. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406355 13f79535-47bb-0310-9956-ffa450edef68",1,0
715010a1eabea3783e5f85a9730ff9cc41755803,"Merged the kahadb module into activemq-core since it's the only known user of the module.  Will allow us to eliminate dup util classes.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406368 13f79535-47bb-0310-9956-ffa450edef68",618,373
1aab71b2a7f6402b8b8749cfe8a5806f99f546cd,"Move the kahadb disk IO classes under org.apache.activemq.store.kahadb.  Drop redundant util classes.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406369 13f79535-47bb-0310-9956-ffa450edef68",1473,319
d5dd937b810ace28d073adc5e730082c185d7114,"Extract out a PListStore interface so that the broker can be decoupled from the KahaDB store implementation.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406370 13f79535-47bb-0310-9956-ffa450edef68",246,308
0484af1c61ca26ce8ea7e2decf953052e0a7ad1e,"Keep the broker.scheduler package free of kahadb impl specifics.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406371 13f79535-47bb-0310-9956-ffa450edef68",427,484
803c42d4da1a610bfb4c10c9fe0fc81c40dcc829,"Add missing lic headers for extracted interfaces.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406374 13f79535-47bb-0310-9956-ffa450edef68",0,64
8bae15a2a29450aef9b8a46f4a3427c8b41c415b,"Flatten out the module structure out a bit.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406463 13f79535-47bb-0310-9956-ffa450edef68",39,2
9a8f6e415db43a4e43ad42a87b3617b3641aa07d,"Refactored the classes needed to run an ActiveMQ JMS client out from the activemq-core module to the activemq-client module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406466 13f79535-47bb-0310-9956-ffa450edef68",353,768
58aca869816e893e7a2f34f0708c1d7fcbdca0f5,"Refactor all the core broker classes from the activemq-core module into the activemq-broker module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406629 13f79535-47bb-0310-9956-ffa450edef68",83,10
430c0f2a02bfa55a1979aae39ebbead61ad9196d,"Add svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406633 13f79535-47bb-0310-9956-ffa450edef68",0,0
8516331c963071351f6b81a2159fdad34d6ccac6,"Add svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406635 13f79535-47bb-0310-9956-ffa450edef68",0,0
8b84374cdbd39d7789303ad2414344805da599c9,"fix issue introduced in https://issues.apache.org/jira/browse/AMQ-4019 for XA connections.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406657 13f79535-47bb-0310-9956-ffa450edef68",1,20
4f0810acbf2509f142de1e12ef5ce4ea3ac8b602,"update: https://issues.apache.org/jira/browse/AMQ-4159 

Don't wait forever for test to complete. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406661 13f79535-47bb-0310-9956-ffa450edef68",1,2
c5cf03806d646045e01f6cd382504fa73dedfeee,"Refactored out the remaining plugins in the activemq-core module into their own modules.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406686 13f79535-47bb-0310-9956-ffa450edef68",940,2584
bfbe90b39929db4512be95d8931d8884c1c11c9a,"rename the activemq-leveldb module to activemq-leveldb-store to be consistent with other store modules.  Move more spring/xbean support bits into the activemq-spring module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406726 13f79535-47bb-0310-9956-ffa450edef68",111,202
9c39f4e40a2f4ef842e8b5e570232358e752361d,"Refactored out the legacy openwire marshalers to a new module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406732 13f79535-47bb-0310-9956-ffa450edef68",0,85
4dcf75f48204c830b86bc606522976da53645a04,"Add files that were part of my .gitignore.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406770 13f79535-47bb-0310-9956-ffa450edef68",0,879
fbb0a43218866944b87cfa72687cdc16cbb2d4c2,"set svn:ignore on new modules.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406778 13f79535-47bb-0310-9956-ffa450edef68",0,0
31c0a68c105d84c23a38fe665cdb53fbab22be09,"remove now empty project folders.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406779 13f79535-47bb-0310-9956-ffa450edef68",0,0
cd19db289b8607c5ce4b954143de328459176f9d,"Moving spring support classes into the activemq-spring module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406795 13f79535-47bb-0310-9956-ffa450edef68",9,8
2c8225821c2f5caeadc900ef057f2d6cb2cf3485,"Clean up activemq-client pom, removed un-needed dependencies and plugins.  Move XPath evaluator to the broker.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406814 13f79535-47bb-0310-9956-ffa450edef68",254,23
79687e8ea98503194fd05fbe4e69929d2ceaef41,"remove empty directories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406822 13f79535-47bb-0310-9956-ffa450edef68",0,0
1214c40ff0209b880f6ca058c3fc9ec406baa4e4,"remove empty directories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406823 13f79535-47bb-0310-9956-ffa450edef68",0,0
60853c9671fd4850b8e31c014e7b9294d6da9354,"remove empty directories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406824 13f79535-47bb-0310-9956-ffa450edef68",0,0
b0b50b5b637b9e9ba0300a2909e254d8e5e6f4c3,"remove empty directories

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406825 13f79535-47bb-0310-9956-ffa450edef68",0,0
804ad67d21d5c8e8fbf835172e8b0b722a42b97f,"update svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406837 13f79535-47bb-0310-9956-ffa450edef68",0,0
7c9fec6e252ff16cc22112780da7b8d67bdddd58,"Removed all un-needed dependencies from the activemq-broker pom.  Moved the remaining spring support classes into activemq-spring.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1406852 13f79535-47bb-0310-9956-ffa450edef68",378,234
1a2cbe764103c1096e47afa9be09624e501cbb17,"Fixup failing LevelDB XA test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407018 13f79535-47bb-0310-9956-ffa450edef68",7,9
e16295c561af15cbbda56a17d11579014288ab9a,"Fixes failing test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407019 13f79535-47bb-0310-9956-ffa450edef68",1,1
c2f35a027bfd658202a9658f5ea35ee4f50c6e11,"Setup the build to generate the xbean xsd and config files again.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407029 13f79535-47bb-0310-9956-ffa450edef68",16313,51
2fa95b33260546e49e2b247f54d400763e51eb69,"This perf test took way too long.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407066 13f79535-47bb-0310-9956-ffa450edef68",0,7
0dd8f2c4d0312d0c9ccb1463eed170d00dd48716,"Don't run perf tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407067 13f79535-47bb-0310-9956-ffa450edef68",1,2
ddcabe1a6a2eb2c9c7db757f83a61fa678248b54,"Don't need an openwire generator in the stomp project.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407102 13f79535-47bb-0310-9956-ffa450edef68",8,1
9a1ad8c8b32a90ec45bb4ade507bc0168550e259,"Split out the activemq-http and activemq-log4j-appender modules from the activemq-optional module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407139 13f79535-47bb-0310-9956-ffa450edef68",63,327
e61d32e5231ef7f8226e1699b6fdc66d65ffb228,"add svn:ignore and remove empty package folders.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407152 13f79535-47bb-0310-9956-ffa450edef68",0,0
5f9b11cd951fa4ebb4b1aa12b181b170866f1db6,"Move the JAXP XPath evaluator to the broker package.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407176 13f79535-47bb-0310-9956-ffa450edef68",0,0
60646c955b91eb3949bc227a5e02e738a394cf36,"Moved the amp-store related command to the activemq-amqp-store module.  Hand to introduce dynamic Command discovery to get this working and remove the compile time dependency on activemq-spring from the activemq-console module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407178 13f79535-47bb-0310-9956-ffa450edef68",285,327
98b985228ff586d3f3b62990439083bdd7091b1d,"Move the remaining interesting bits out of activemq-optional to where they belong.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407198 13f79535-47bb-0310-9956-ffa450edef68",0,0
ecaae53fe828e4376ed23f9c5cb52ae501f4baee,"Moved the remaining bits to the activemq-optional module to a trash dir that we won't build anymore.  We can clean it out once we are sure we don't need anything from it.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407199 13f79535-47bb-0310-9956-ffa450edef68",21,36
763aa74757660cc8a24d1460a6ec67c59468c3c4,"Protect against appending recursion (In case your JMS provider appends to log4j in the process of sending a JMS message).

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407200 13f79535-47bb-0310-9956-ffa450edef68",6,13
e8f12d83604fb885c2a163ca62f4cf276d5ba4d1,"remove the now empty activemq-optional dirs from svn.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407228 13f79535-47bb-0310-9956-ffa450edef68",0,0
a68916dcc5e6148304898f3972d40d0cc2f755c7,"Fixes AMQ-4167 and AMQ-4168, also changes the MQTT tests to use dynamic ports to avoid port conflicts.  Fixes SSL tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407497 13f79535-47bb-0310-9956-ffa450edef68",76,147
e6bfc94fe2826e75898747c655cc52b0bfd02cfb,"Update test to use full paths to data files so that it can work from an IDE too

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407512 13f79535-47bb-0310-9956-ffa450edef68",3,14
4702739db27a7c28f2e8630123d72a6bdda27898,"Restoring data files which got messed up during my refactors.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407519 13f79535-47bb-0310-9956-ffa450edef68",0,0
aa36bba9a0af0fcaa0973d2d83e6769b38fa7f1a,"Support being able to test against the LevelDB store too.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407523 13f79535-47bb-0310-9956-ffa450edef68",1,5
9a006376224879f08e995eb064eb1d54a612a0f6,"Clear out the failing tests in the exclude-broken profile, lets rebuild the list of actual failing tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407524 13f79535-47bb-0310-9956-ffa450edef68",40,49
0729dd88d650bd87e89ff08318770de8f61c1665,"Revert the last change.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407544 13f79535-47bb-0310-9956-ffa450edef68",56,47
aa2a6ddf313ee4a6ca5c4f9d49ab1cc3e7915ef3,"Default the directory setting on the LevelDB store to avoid test failure in AMQ2580Test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407589 13f79535-47bb-0310-9956-ffa450edef68",2,3
02ef3dc91846b209dbcf9b65cced501bda2d8280,"https://issues.apache.org/jira/browse/AMQ-4122 - tidy up duplicate use of brokerservice aware

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407614 13f79535-47bb-0310-9956-ffa450edef68",6,1
aac50fc57cbf2862a3ffa7b8566eaef09bf99e9a,"https://issues.apache.org/jira/browse/AMQ-4103 - fix default jdbc locker impl - same problem as lease after refactor from https://issues.apache.org/jira/browse/AMQ-4005

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407621 13f79535-47bb-0310-9956-ffa450edef68",12,19
fdd0534fcb46a7242c3b104a460fb54675a0b24a,"https://issues.apache.org/jira/browse/AMQ-4166 - fix processing of expired - stack-trace-1.txt was in error, expiry check should not have used the oneshot broker check, just checing the messages state is required

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1407640 13f79535-47bb-0310-9956-ffa450edef68",3,31
1236bbf6f455f429d3c1c5996474381a6a649d4e,"Move STOMP unit tests into the STOMP module and clean them up:

All tests now use a common StompTestSupport base class to remove cut and paste test code.
All tests are now using JUnit 4 tests.
All tests are run with AutoFailSupport on so they won't hang.
All tests use dynamic port assignment so they shouldn't clash with others.

Cleaned up the pom file

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408161 13f79535-47bb-0310-9956-ffa450edef68",1271,1482
7f346a8b7978c535e9b1d96d9913f2ac4a655f1c,"fixes for: https://issues.apache.org/jira/browse/AMQ-4160

Fixed the code to properly handle the active events adds and remove. 
Disable one of the test cases because the fixed code now invalidates that test case. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408415 13f79535-47bb-0310-9956-ffa450edef68",6,14
39ff4d9fd839f0e3b4a727f0df6f7e999e14a0ea,"Fix for https://issues.apache.org/jira/browse/AMQ-4165 - remove pure master/slave functionality

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408651 13f79535-47bb-0310-9956-ffa450edef68",983,8
478927e6b8dd2386d0658691b70392b919ec12c8,"https://issues.apache.org/jira/browse/AMQ-4165

Remove tests associated with the now removed Pure Master Slave functionality. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408881 13f79535-47bb-0310-9956-ffa450edef68",1330,0
11e0df8e04bea6166f000f281abc0c5ec4555317,"Fixing up activemq-amqp build a bit.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408917 13f79535-47bb-0310-9956-ffa450edef68",42,66
8387295adefec0cb80f2504380a2733f5d1cbfed,"Take the activemq-amqp module out of the ustable profile, include it in the default assembly.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408918 13f79535-47bb-0310-9956-ffa450edef68",10,26
914e177239f012a3794caaf6ee15f4b9764bfce8,"Use more sensible prefetch settings.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408919 13f79535-47bb-0310-9956-ffa450edef68",3,3
7a0c1f85abb0a5daf18a377fa8ddc65dc7f6aac0,"Improve format of the amqp trace messages, implement better producer flow control.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1408953 13f79535-47bb-0310-9956-ffa450edef68",17,16
dd0b16d38b92d052f74c95149a601f2f4a7134e1,"apply patch: https://issues.apache.org/jira/browse/AMQ-4160

Additional fixes and test updates.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409045 13f79535-47bb-0310-9956-ffa450edef68",13,153
cf70ce97ee338135b5c5aaa8c7fa20eefa0d7222,"make the protocol tracing configurable.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409417 13f79535-47bb-0310-9956-ffa450edef68",11,13
21b2f84399ddb450bb9674f58407935bb118e5a6,"fix for breakage caused by earlier fix to: https://issues.apache.org/jira/browse/AMQ-4062

Only reconfigure when keepDurableSubsActive=false

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409489 13f79535-47bb-0310-9956-ffa450edef68",11,29
6010bd3d979bb1547cb066491e91bc89b45391c2,"Move some of the KahaDB tests from core into the KahaDB store module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409554 13f79535-47bb-0310-9956-ffa450edef68",16,43
54a11b96dec51ec0a2c6bca9f5b76b4baa2755f4,"move the Kaha store tests into the activemq-amq-store module 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409621 13f79535-47bb-0310-9956-ffa450edef68",0,0
a6ebc8d1160dc9ff1cc35119dd6b22f6d534526b,"move more tests specific to activemq-client to that module from activemq-core

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409624 13f79535-47bb-0310-9956-ffa450edef68",0,0
8ba3dd8a06deaddf5a2fce7e1e09f9dc17e3f4cf,"Add a log4j.properties 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409820 13f79535-47bb-0310-9956-ffa450edef68",0,42
d16a6fc88328d600c6916fb4b6dc4e0c894ea7f9,"Move test to client and remove an empty folder. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409856 13f79535-47bb-0310-9956-ffa450edef68",0,42
fb62989e5e704d24f7af804722b6549f55b967a5,"https://issues.apache.org/jira/browse/AMQ-4108 - fix unit test regression, QueueMasterSlaveTest,  related to https://issues.apache.org/jira/browse/AMQ-4005 and the dual impl of broker service aware. the auto created locker was not getting its broker service init. flakyness in test related to exponential backoff tool long for reconnect

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409871 13f79535-47bb-0310-9956-ffa450edef68",1,5
a8a76939963bcaea69dbf9269b32624e13122074,"https://issues.apache.org/jira/browse/AMQ-4083 - update assertions in org.apache.activemq.usecases.ExpiredMessagesWithNoConsumerTest regression to reflect new ack strategy around expired messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409962 13f79535-47bb-0310-9956-ffa450edef68",12,8
daae3e65309b176add12771802560720a4baab92,"remove the unneeded m2e plugin mapping as its not needed in this module any longer.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1409989 13f79535-47bb-0310-9956-ffa450edef68",24,2
b928ccbf47e426aafcf3defb3e83e0a705976250,"Update the openwire generator so it can cope with the new module layout and separation of openwire marsahaler tests in activemq-core from the actual marshaler code in activemq-client

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1410119 13f79535-47bb-0310-9956-ffa450edef68",7,37
6c8e89652ffbb1973d452cb3e2b464d4dbf6e803,"AMQ-4179 - can't install activemq-extra feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1410325 13f79535-47bb-0310-9956-ffa450edef68",1,1
543935b6e9de37e5df22fa405b4c6a8b04abe003,"fix for: https://issues.apache.org/jira/browse/AMQ-4180

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1410580 13f79535-47bb-0310-9956-ffa450edef68",19,176
6f0a3355c40db0d5d90887f4238ff99c26fcf87d,"update for: https://issues.apache.org/jira/browse/AMQ-4180 remove debug code

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1410583 13f79535-47bb-0310-9956-ffa450edef68",17,8
a713e6a7d0aea88b3d8c1d952726352060b74804,"Fix for https://issues.apache.org/jira/browse/AMQ-4177

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1410767 13f79535-47bb-0310-9956-ffa450edef68",0,1
915333e1d5c0196ae58a32a5c118ca54cda98c72,"https://issues.apache.org/jira/browse/AMQ-4181 - jms queue browsing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1411632 13f79535-47bb-0310-9956-ffa450edef68",20,240
badc1868bb55a204083c3bb33afe268b2fe82a9a,"fix compilation error in amqp module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1411695 13f79535-47bb-0310-9956-ffa450edef68",0,5
72dfbfa283c117879a348887a113ba144ba114d7,"Fix test failures caused by https://issues.apache.org/jira/browse/AMQ-4180

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1411899 13f79535-47bb-0310-9956-ffa450edef68",26,133
2751497e386f0ca406131c623995fa6293be4218,"AMQ-4005 : Also support pluggable storage lockers for the LevelDB store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1411901 13f79535-47bb-0310-9956-ffa450edef68",27,13
d350ce6f61fbbf6da5aa05827cdfdca2149d1422,"Trying to fix CI test failures: Don't send anymore data down the transport once it's closed/disconnected.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1412087 13f79535-47bb-0310-9956-ffa450edef68",5,16
2727496c0027109acf8f55659396154099fff2a1,"Support the no-local option over AMQP.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1412127 13f79535-47bb-0310-9956-ffa450edef68",1,7
4951a55de4aca90ddb000dc48d26ede974c34067,"Fix StompSslAuthtest failure caused by https://issues.apache.org/jira/browse/AMQ-4180

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1412180 13f79535-47bb-0310-9956-ffa450edef68",23,51
51785b1472eaf3d4a1ba1cc798257d619c2dfb76,"https://issues.apache.org/jira/browse/AMQ-4186 - fix up duplicate contenty type declaration, fix up pom so main in web-console works ok with current dependencies

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1412825 13f79535-47bb-0310-9956-ffa450edef68",10,11
02538ed9061b1a57c1a8b0c5accff76465429da0,"ensure connection/authentication errors with broker facade end up in the log as referenced by our 500 page

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1412899 13f79535-47bb-0310-9956-ffa450edef68",2,14
f42d6bb1fbe7fdb4c90f357d469a9ce3c6f6451a,"Regen certs and use a signature of ""MD5 with RSA"" to match old versions to fix issues on AIX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1413691 13f79535-47bb-0310-9956-ffa450edef68",0,0
c899492af8205ac007a9295608d3af77615eb75c,"some fixes for: https://issues.apache.org/jira/browse/AMQ-4182

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1413703 13f79535-47bb-0310-9956-ffa450edef68",0,58
de30d11f947225dac27c65b6d617790d4289ac5b,"fix typo in O name and use a signature of ""MD5 with RSA"" to match old versions to fix issues on AIX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1413717 13f79535-47bb-0310-9956-ffa450edef68",0,0
30f531d7414f4a19c26e56c236eea08a77012a8f,"Changes for https://issues.apache.org/jira/browse/AMQ-4165 : Remove pure master/slave functionality

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1413846 13f79535-47bb-0310-9956-ffa450edef68",583,165
17b2b6c458e2dddef45b29bd9c6eba642235ed23,"Switch to new proton artifact id.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1414010 13f79535-47bb-0310-9956-ffa450edef68",1,1
1877a14a6020f5dbee6759eff62ae509a11fb54a,"Changes for https://issues.apache.org/jira/browse/AMQ-4165 : Remove pure master/slave functionality

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1414203 13f79535-47bb-0310-9956-ffa450edef68",235,5
fa250bf1bf6c71f6d8d424f038b49ac87cbeed1d,"Fixed test that was wrong

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1414727 13f79535-47bb-0310-9956-ffa450edef68",45,7
2a8427d7d5e97b2aa2bc6410fc329a5cf6566031,"https://issues.apache.org/jira/browse/AMQ-4195 - activemq-admin bstat command predefined query isn't even run

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1414852 13f79535-47bb-0310-9956-ffa450edef68",1,2
3016b392493a8eb55e57ce9e730c1b3de4caf36e,"Moved the JMS mapping logic into a proton module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1414990 13f79535-47bb-0310-9956-ffa450edef68",1057,120
ed96e2ec08d2f32f3bc8ad2576663cd6ccf7a1d9,"https://issues.apache.org/jira/browse/AMQ-4191 - prototype of the Status MBean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415159 13f79535-47bb-0310-9956-ffa450edef68",0,163
537e598a841fb89ddb06cea50749473a09ac511a,"reclassify the amqp joram tests which are passing/will pass and are still broken and why.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415182 13f79535-47bb-0310-9956-ffa450edef68",11,7
81a2c836082b34b80de5ca7da2e6a9d80ad5a6c7,"It's ok if we can load the SPI class, it just means we don't have the broker module in the classpath.  So lets not print out the stacktrace.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415275 13f79535-47bb-0310-9956-ffa450edef68",1,0
ec0a0a3ebe72bb78b6cbb3d14af558b723b55f4b,"https://issues.apache.org/jira/browse/AMQ-4180 - fix regression in org.apache.activemq.broker.BrokerRedeliveryTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415404 13f79535-47bb-0310-9956-ffa450edef68",0,2
78022e2b9d289842a46428a8e3de5b1fb5dddd15,"fix up use of wrong mbean object name for durable sub - use system assigned port

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415405 13f79535-47bb-0310-9956-ffa450edef68",12,8
27440aefc210bbc6c9d471458ed3bd5bbe688636,"https://issues.apache.org/jira/browse/AMQ-4196 - fix order of removedest and removesubscription commands in network bridge async advisory processing - https://issues.apache.org/jira/browse/AMQ-3038 revisit - temp dest should not be deleted client side before close b/c open consumers will not get advisories due to no destination - just clearing the map is sufficient; the broker will deal with removal of the temp dest as part of the removeInfo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415406 13f79535-47bb-0310-9956-ffa450edef68",8,30
fc706d074ae7992ff91cb1c428ed46662c6e6ab5,"https://issues.apache.org/jira/browse/AMQ-4196 - Christian nice test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415409 13f79535-47bb-0310-9956-ffa450edef68",0,264
3cf129a79fb54a75b7cf81779f6d6d353654b688,"added a more jolokia friendly statusList() method which returns nicer JSON for the status query

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415594 13f79535-47bb-0310-9956-ffa450edef68",2,27
915d66dec58c3183cf5b3db2b0724857e090b557,"https://issues.apache.org/jira/browse/AMQ-4198 Include username in ConnectionInfo for ActiveMQ.Advisory.Connection messages

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415631 13f79535-47bb-0310-9956-ffa450edef68",2,1
fb35648f8097a0105647288708afd19d274a0ad0,"https://issues.apache.org/jira/browse/AMQ-3894 - remove requirement for destination property enforced by spring - for a default entry there is no need for a destination

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415633 13f79535-47bb-0310-9956-ffa450edef68",12,0
c6cf88b836a4c7e31ce20b8dd307ef1ef07f111c,"https://issues.apache.org/jira/browse/AMQ-3894 - remove requirement for destination property enforced by spring - for a default entry there is no need for a destination - fix dependants

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415661 13f79535-47bb-0310-9956-ffa450edef68",6,6
1288df5ad44064c887cb7b65d2c3c4a838260514,"fix for: https://issues.apache.org/jira/browse/AMQ-4171 

use the getCanonicalPath() value to ensure valid pathnames being used on the platform. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415725 13f79535-47bb-0310-9956-ffa450edef68",9,11
9235028ca7264be08b4fdd42ca7fd1359cd1839b,"https://issues.apache.org/jira/browse/AMQ-3894 - remove requirement for destination property enforced by spring - for a default entry there is no need for a destination - remove validating test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415740 13f79535-47bb-0310-9956-ffa450edef68",60,0
321d9ef310f33626f79e660b601dcbd3cddc52c2,"tweak the xbean generate task so it won't error out. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415846 13f79535-47bb-0310-9956-ffa450edef68",2,8
81c167b205f98f4a866b8293bb494bae777457f3,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4158

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1415870 13f79535-47bb-0310-9956-ffa450edef68",54,83
dcbb19509435703ebb16e1da65a8029206fbbe66,"Fixes AMQ-4201 : JMSX* properties not included in the getPropertyNames() enumeration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1416515 13f79535-47bb-0310-9956-ffa450edef68",0,12
cbf2adb343f6624a539bc12101a37e4f800cedde,"When we transform JMS to AMQP messages preserve destination type info.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1416516 13f79535-47bb-0310-9956-ffa450edef68",1,19
ff0746c1909cd6d39bacf49a2be96a65a69d850d,"https://issues.apache.org/jira/browse/AMQ-4200 Update the websocket example to use the latest stomp.js which supports STOMP 1.1 (including heart-beating).
Also added a websocket connector to the activemq-demo.xml config file.

Thanks Jeff Mensil!!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1416524 13f79535-47bb-0310-9956-ffa450edef68",271,589
f5dff68d73b5d03dd2192a0626d88fa77fb1d5c1,"fix for: https://issues.apache.org/jira/browse/AMQ-4202

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1416541 13f79535-47bb-0310-9956-ffa450edef68",17,17
7461c78a19c9e819be9b698bb1223ebed7ddbcda,"Tag these as deprecated.  https://issues.apache.org/jira/browse/AMQ-4125

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1416959 13f79535-47bb-0310-9956-ffa450edef68",123,179
54d56df7058112c666c8dca92a9b1de284cacb8f,"fix for: https://issues.apache.org/jira/browse/AMQ-3833

Allows the store to detect changes in the Audit and only write if its dirty.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1416989 13f79535-47bb-0310-9956-ffa450edef68",47,128
87e878b2b59c9182d4ae5de34a0bff5f65621dd5,"fix for: https://issues.apache.org/jira/browse/AMQ-4169

Rename the activemq maven plugin so that they follow the maven plugin naming guidelines. 
Also update the code to use non-deprecated annotations for properties. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417041 13f79535-47bb-0310-9956-ffa450edef68",62,64
db1e6d1cb727310cb4ada286c0a32d402242a47a,"https://issues.apache.org/jira/browse/AMQ-3935 - always page in messages when browsing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417328 13f79535-47bb-0310-9956-ffa450edef68",1,1
5bfbc542b1349895dff5a52408302c59323f6aa4,"https://issues.apache.org/jira/browse/AMQ-4181 - remove the browser imidiatelly when finished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417331 13f79535-47bb-0310-9956-ffa450edef68",0,1
75f8f6970b29b5f5295dde59cad0a5a6ace167ed,"https://issues.apache.org/jira/browse/AMQ-4181 - don't let queue refs go negative

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417333 13f79535-47bb-0310-9956-ffa450edef68",1,3
69c1796c076915e65824ba63a90f8c5ba8c6e73c,"fix for: https://issues.apache.org/jira/browse/AMQ-4206

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417414 13f79535-47bb-0310-9956-ffa450edef68",1,1
763f32a842ae59fcbe50894f9fe23a5d2a7ac294,"fix for: https://issues.apache.org/jira/browse/AMQ-1469

renames run.jar to activemq.jar and updates all the scripts and wrapper.conf files to reflect that

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417658 13f79535-47bb-0310-9956-ffa450edef68",55,52
b489fc6f751638a0ec9af4194f1722ac8d8a2a0d,"fix for: https://issues.apache.org/jira/browse/AMQ-3215

Allow for longer names of destination while still imposing limit before a truncation occurs.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417993 13f79535-47bb-0310-9956-ffa450edef68",105,105
4321ae065d17e9fd18fe2407cdf950c31c224f93,"fix for: https://issues.apache.org/jira/browse/AMQ-3215

Fix the truncation logic to ensure all possible text is used.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1417998 13f79535-47bb-0310-9956-ffa450edef68",2,2
67252fe60da0d7f19a20c1a4fa79f83ba0b85e46,"fix for: https://issues.apache.org/jira/browse/AMQ-2740

Fix for NPE indicate possible CSRF attack instead.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418061 13f79535-47bb-0310-9956-ffa450edef68",18,18
8c5c33bfc2e581edcba0c164fb0cb7f892e65b3f,"AMQP: Clean up old commented code, pick up the trace setting from the transport filter.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418089 13f79535-47bb-0310-9956-ffa450edef68",215,6
7517dccd030774287ab63327ddd61675b60e4ff8,"Update the keystores used in the mqtt tests so that they work on Java 7.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418206 13f79535-47bb-0310-9956-ffa450edef68",0,0
76963e6adfdae0c74ebbb1150018067104b7d70e,"some work for: https://issues.apache.org/jira/browse/AMQ-4172

Adds activemq-spring into the rar.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418364 13f79535-47bb-0310-9956-ffa450edef68",0,134
25d396b58949df63a02aeccd0fef1d1a16f706c9,"Fix for:
https://issues.apache.org/jira/browse/AMQ-4209 - NetworkConnector and NetworkBridgeConfiguration have same named private variables for excludedDestination
https://issues.apache.org/jira/browse/AMQ-4210 -DynamicallyIncludedDestinations is not enforced for the other end of duplex bridge

excludedDestinations
dynamicallyIncludedDestinations
staticallyIncludedDestinations
Updated some tests: request-reply with temp dest is not supported with dynamicallyAddedDestinations ATM

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418373 13f79535-47bb-0310-9956-ffa450edef68",86,252
96f29456e9cd2f085b988a6f1b8a85fed6e081e3,"Fix for https://issues.apache.org/jira/browse/AMQ-4190 - Figure out what was intended with transactions and producer flow control for topics

Fix the counter so the logging happens

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418378 13f79535-47bb-0310-9956-ffa450edef68",0,1
a2cb4a88f75c5f2cc60a643cb03ce26a434ec7c0,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4213

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418454 13f79535-47bb-0310-9956-ffa450edef68",2,102
32e63dce28ceb23cfd339e93046f3e9676bac303,"Fixes AMQ-4215: Simplify PList interface and provide a LevelDB store implementation.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418686 13f79535-47bb-0310-9956-ffa450edef68",66,1079
3ef55fa82bcea94bec6368fd4fb9621046683b93,"Simplify LevelDB store build, use latest versions of leveldb.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418698 13f79535-47bb-0310-9956-ffa450edef68",86,11
77a679b03f573433dd5638806cdca7a2c0d1b15d,"Also run tests against LevelDB

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418699 13f79535-47bb-0310-9956-ffa450edef68",17,17
c65c25ddb6c5bb69d2342a061e8eca057248df9d,"Avoid Class cast exception in test case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418706 13f79535-47bb-0310-9956-ffa450edef68",24,32
4531001b23959c4ea8f702b6fd13d9bda51e73ed,"Make sure we close the plist db.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1418748 13f79535-47bb-0310-9956-ffa450edef68",0,1
1797ce98e3a4aa397e05811c207d763806c032be,"made minor update to the StatusView mbean to comply with these health mbean conventions  https://github.com/hawtio/hawtio/blob/master/doc/HealthMBeans.md#health-mbeans

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420092 13f79535-47bb-0310-9956-ffa450edef68",6,6
6a5069ad22afb8693249c2a57cc63218e2a65f08,"https://issues.apache.org/jira/browse/AMQ-3791 - update openldap example config to reflect changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420104 13f79535-47bb-0310-9956-ffa450edef68",2,4
401895a521656e9ed8bf2a6ce3c79f0d37c63204,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4218

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420262 13f79535-47bb-0310-9956-ffa450edef68",4,4
fbc4c17ca2d7050e7d5418843ca3a382bb359dd6,"https://issues.apache.org/jira/browse/AMQ-3791 - update openldap example config to reflect changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420624 13f79535-47bb-0310-9956-ffa450edef68",1,3
05fb2bbcc988286e00691cac0869f1148502934b,"Add warning about long destination names and mKahaDB for:
https://issues.apache.org/jira/browse/AMQ-4183 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420778 13f79535-47bb-0310-9956-ffa450edef68",23,62
44a7ffa94677b5791aee4979844cd4dceb681f7e,"https://issues.apache.org/jira/browse/AMQ-4219 - jolokia support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420809 13f79535-47bb-0310-9956-ffa450edef68",0,83
aaead5be21a0987ce03ec7d67abd43efaceb75a0,"Throw an InvalidDestinationException early on if the topic is null for better JMS compliance.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420820 13f79535-47bb-0310-9956-ffa450edef68",0,4
044e6bf18affb69fb79e565af945940bd29b62a7,"Make sure the JMSDestination is even on foreign messages.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420821 13f79535-47bb-0310-9956-ffa450edef68",3,3
b0d01e9791a882431c003dd0987395d66398e6ae,"fix for: https://issues.apache.org/jira/browse/AMQ-4078

Need to quote paths that are set using -D to ensure they can be resolved. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420823 13f79535-47bb-0310-9956-ffa450edef68",4,4
ba2d0c6fa69790481619df1b5d761b40fa48d098,"Make sure the JMSMessageID is set on foreign messages too.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1420896 13f79535-47bb-0310-9956-ffa450edef68",5,4
a1a973ca340a408dad358ab250c24d0a73736f12,"fix for: https://issues.apache.org/jira/browse/AMQ-4220

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1421059 13f79535-47bb-0310-9956-ffa450edef68",3,122
c73027da1af8a36b8a01a82a87c64a874729a3b4,"https://issues.apache.org/jira/browse/AMQ-4221 - fix dangling reference to free page

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1421373 13f79535-47bb-0310-9956-ffa450edef68",0,299
ebaacfd4f6c20304ce2d5f871b6ca8f0f1c83a99,"Convert to new proton APIs.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1421487 13f79535-47bb-0310-9956-ffa450edef68",30,41
f21992ef415dedca12e0165ce207478d612a91bf,"apply fix for: https://issues.apache.org/jira/browse/AMQ-4068

Updated patch for new layout and fixed size returned to only include the dynamic journal size and not the total disk usage since that accounts for the full log file size and not just the used portion. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1421557 13f79535-47bb-0310-9956-ffa450edef68",112,523
cdf05dcd1d95ec35514cd5acd26d6899a26c2a73,"Fix invalid assertion in the test which was causing it to fail after recent changes for compliance

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1421574 13f79535-47bb-0310-9956-ffa450edef68",6,53
652969e23093b513eee40c744a314a47c3ed60e1,"remove this test, doesn't really validate the issue and the timing problems in the test make it fail most of the time. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1421617 13f79535-47bb-0310-9956-ffa450edef68",146,0
e07d29c9629eb70cc3bed4084a97d69929f189f3,"Fix for https://issues.apache.org/jira/browse/AMQ-4222

ProducerBrokerExchange holds reference to ""region"" destination after message has been sent

Can cause leak with temp dests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1421994 13f79535-47bb-0310-9956-ffa450edef68",1,181
95e6d6074fe6e7ee5e95125bf9e5f8386b9dd00b,"https://issues.apache.org/jira/browse/AMQ-4224 - have broker update zero prefetch on consumer so that it can issue a pull request as appropriate

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1422873 13f79535-47bb-0310-9956-ffa450edef68",2,35
5a605c0fea3b2b0ba13446abc16b2ab68e1f8386,"https://issues.apache.org/jira/browse/AMQ-4213 - fix test regressions, add producer now correctly fails before a send

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1422875 13f79535-47bb-0310-9956-ffa450edef68",4,6
f65857ae97f9caea93e9f7dcc938f7b69fda5300,"remove superfluous jira ref in comment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1422883 13f79535-47bb-0310-9956-ffa450edef68",6,2
757a2f1d32ec8133be5c54487f85db5b5a8d5ad1,"https://issues.apache.org/jira/browse/AMQ-4226 - ensure potential error condition (starved rar endpoint listener) is flagged in log

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1422928 13f79535-47bb-0310-9956-ffa450edef68",5,179
973909ab44a4fdcbc11244adb42dfe78681de359,"refactored mbean name and properties to more comply with https://github.com/hawtio/hawtio/blob/master/doc/HealthMBeans.md#health-mbeans and make it a little more descriptive for users

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1422953 13f79535-47bb-0310-9956-ffa450edef68",37,46
bb03eedaeb9a8cbe8fdf78c3252b1edf7a54b345,"disable leveldb variants pending https://issues.apache.org/jira/browse/AMQ-4228

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423074 13f79535-47bb-0310-9956-ffa450edef68",3,4
36cc1756b297778cfc29d68a239a953ecddc5362,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4227

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423094 13f79535-47bb-0310-9956-ffa450edef68",29,160
22bc55b9487df98a3c3cb04f99f4618fcba364fe,"https://issues.apache.org/jira/browse/AMQ-4124 - remove camel example from security config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423458 13f79535-47bb-0310-9956-ffa450edef68",1,0
14e76891e2ca84e33359f4e1870d480daa830b6b,"Fix for https://issues.apache.org/jira/browse/AMQ-4233

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423481 13f79535-47bb-0310-9956-ffa450edef68",1,18
a4be10c146dd8079f56e9ccd54e0b736a5c15e95,"fix for: https://issues.apache.org/jira/browse/AMQ-3757
fix for: https://issues.apache.org/jira/browse/AMQ-3707
fix for: https://issues.apache.org/jira/browse/AMQ-4024

Add a strategy class for use in constructing the Published connect string for a transport connector.  Allows for setting whether the connector will send IP addres, hostname or FQDN along with configurable transport query options which allows control of client side transport and wireformat settings. User can override with their own version to further customize. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423655 13f79535-47bb-0310-9956-ffa450edef68",15,241
df2c7bdad42f6faa1ff89e4133f2fe7fc01150ec,"remove now unused variable.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423692 13f79535-47bb-0310-9956-ffa450edef68",3,0
0f3ce45cff995adf1f54b26013ed33ddf6c1f38e,"fix up test regression causing hang broker needs to be started and stopped for jdbc pa test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423828 13f79535-47bb-0310-9956-ffa450edef68",5,11
10e1c0c8d3dd67cd441161939ad08716c0778f40,"https://issues.apache.org/jira/browse/AMQ-4213 - fix up test that expected async producer creation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423833 13f79535-47bb-0310-9956-ffa450edef68",13,7
7400977609105ee5dd6cb6502f732574196d4ee1,"https://issues.apache.org/jira/browse/AMQ-4222 - remove region reference for all mutable producer exchanges (and some more refactorings)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423834 13f79535-47bb-0310-9956-ffa450edef68",191,39
d1292441a2687eca271b305c0f5db4a402cf1e3e,"fix leveldb variant of org.apache.activemq.bugs.AMQ2584Test - add rudimentary size calculation to leveldb

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423854 13f79535-47bb-0310-9956-ffa450edef68",1,3
5a0fd5d08671e1ab4886f27fc404b387a375a32b,"fix leveldb variant of test by configuring logSize

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423886 13f79535-47bb-0310-9956-ffa450edef68",1,4
3d6222d188e57f49f2e02a589b53a5ba9f10e501,"Remove dependency on fixed port for these tests. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423946 13f79535-47bb-0310-9956-ffa450edef68",13,20
73f0fc7820042d268ea56ac8224953d2b15c01bf,"Update to latest camel 2.10.3 release.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1423956 13f79535-47bb-0310-9956-ffa450edef68",6,7
d21b32e7487aaac374dd065eed633d914ce8086b,"Fix BrokerService no longer setting started flag back to false when stop finishes causing some tests to fail. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424019 13f79535-47bb-0310-9956-ffa450edef68",0,1
2aecbc48a041cef070d425f1b3d256fde3b5fe01,"bump commons-net to latest bugfix version. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424058 13f79535-47bb-0310-9956-ffa450edef68",1,1
075903cffc15a94f19e8f34ca032c8fc7badb37e,"Added junit test for HealthViewMBean


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424366 13f79535-47bb-0310-9956-ffa450edef68",0,107
87871346c2f228e1b6fe155948b87b34df4c0f13,"Added additional health checks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424367 13f79535-47bb-0310-9956-ffa450edef68",3,119
fb5a97276bc1d88c93f32d4e44aec5abaedcec64,"fix mbean test failure - get values in the right order from the pending list

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424435 13f79535-47bb-0310-9956-ffa450edef68",2,3
bf9c4c60d83b7ea96c5c731ccb3acfee9863abad,"https://issues.apache.org/jira/browse/AMQ-4222 - remove System.out.println from the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424436 13f79535-47bb-0310-9956-ffa450edef68",2,6
abf7adc0be110887160664e1e6d32ca0402b3d02,"prevent test from hanging build, add knowlege of health bean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424461 13f79535-47bb-0310-9956-ffa450edef68",2,6
9383e56043e48f84f22da6cfa4111ee87fa62f5a,"fix LDAPSecurityTest failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424462 13f79535-47bb-0310-9956-ffa450edef68",2,2
3a6bbfe51f20f8130b1f44c9c9d38ad7bc1a0a2f,"https://issues.apache.org/jira/browse/AMQ-4180 - force unmarshaling for maps and lists

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424587 13f79535-47bb-0310-9956-ffa450edef68",12,23
0704edab2e4c80e347b4023bd65976eac1181492,"https://issues.apache.org/jira/browse/AMQ-4180

Only force on nested Maps and Lists, otherwise we don't ever benefit from the UTF8Buffer.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424703 13f79535-47bb-0310-9956-ffa450edef68",7,18
bc45bf806569fbcc21a4765b69f46a463dd8b2bf,"https://issues.apache.org/jira/browse/AMQ-4234 https://issues.apache.org/jira/browse/AMQ-4235 - ensure prefetch set via consumer control gets interepreted by policy such that defaults can be overidden, tidy up default prefetch values choices for stomp so they can pick up broker overrides

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1424936 13f79535-47bb-0310-9956-ffa450edef68",31,199
49f16ce0eba6c83050ca80c96b9ef259c9245c6d,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4225

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425162 13f79535-47bb-0310-9956-ffa450edef68",17,274
0c2b35d6edee46a649e2387aae85d898b3c23c6c,"fix RestTest failure due to default broker name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425736 13f79535-47bb-0310-9956-ffa450edef68",0,1
1f8306b86104c3718ee5d6fa29e3981c60731028,"fix HealthViewMBeanTest failure when disk space is low

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425740 13f79535-47bb-0310-9956-ffa450edef68",1,1
c37859a80a8471e361ad47c47d1e2dce90010c9e,"Fix for https://issues.apache.org/jira/browse/AMQ-4237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425871 13f79535-47bb-0310-9956-ffa450edef68",117,106
cb7b657ce9471d93905d0f6433fc53e271ab2609,"Fix for https://issues.apache.org/jira/browse/AMQ-4237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425875 13f79535-47bb-0310-9956-ffa450edef68",146,129
26d70700b11d01776f7631a55b0f59c8ac87e64f,"Fix for https://issues.apache.org/jira/browse/AMQ-4237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425877 13f79535-47bb-0310-9956-ffa450edef68",32,13
dfaa05d55686d1cf2b3a6503acc23ac27b042d47,"Fix for https://issues.apache.org/jira/browse/AMQ-4237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425878 13f79535-47bb-0310-9956-ffa450edef68",10,3
47249132792d3528fe910d582036e7070ece6116,git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425879 13f79535-47bb-0310-9956-ffa450edef68,4,2
428a0631d3c3bba5436f4695ec15bacf4e65f18b,"fix for VMTransportWaitForTest test, prevent broker from being started twice

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425904 13f79535-47bb-0310-9956-ffa450edef68",3,3
d0fb549f2ce888eee72713a0d8b06ebc613a5d86,"additional fix for VMTransportWaitForTest test failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1425958 13f79535-47bb-0310-9956-ffa450edef68",1,1
f0baf856d7a579d5b271111204c3be727f516450,"re-applied fix by dejanb

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1426121 13f79535-47bb-0310-9956-ffa450edef68",1,1
650d2b4d52797359934b89b45a2e170c73d1da74,"Add a profile to generate a dependency graph of the modules.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1427860 13f79535-47bb-0310-9956-ffa450edef68",0,16
2d84bbd99267c8968fcf2b61ba309b812f8712bc,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broker the tests queue MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1427870 13f79535-47bb-0310-9956-ffa450edef68",20,52
64f3c55d8060e63e921fc9c4c991ec852573d925,"Clean up some pom dependencies.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1427874 13f79535-47bb-0310-9956-ffa450edef68",49,11
19bf943dd7ff16b5325d4c17051deb172dd44116,"fix test cases after changes in https://issues.apache.org/jira/browse/AMQ-4237 broker the tests queue MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1427878 13f79535-47bb-0310-9956-ffa450edef68",71,71
982943550f85ae3dcc9514e767e02661bc0092f7,"fix test cases after changes in https://issues.apache.org/jira/browse/AMQ-4237 broker the tests queue MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1427881 13f79535-47bb-0310-9956-ffa450edef68",9,19
7a95e1809b65b61ef9be44cde27583cfcd409e1b,"fix test cases after changes in https://issues.apache.org/jira/browse/AMQ-4237 broker the tests queue MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428029 13f79535-47bb-0310-9956-ffa450edef68",95,73
e60087608e9b13589eae1446a97e6da6e967c58d,"code fix and test fix for: https://issues.apache.org/jira/browse/AMQ-4225

AbortSlowConsumerStrategy was broken due to a malformed ObjectName being created when the strategy was registered on-demand. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428051 13f79535-47bb-0310-9956-ffa450edef68",32,40
e06c23e22a5b20e0aa9048bb4f3cd71bfcd1b0d0,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4225

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428053 13f79535-47bb-0310-9956-ffa450edef68",2,2
157aaf91677e52f26b85d047f6707355034c1d61,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broker the tests queue MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428093 13f79535-47bb-0310-9956-ffa450edef68",3,3
69d825830811e0088bfe61f57794defa2331e0d7,"fix up master advisory, advisories are only fired after broker is fully started so the nowMaster advisory needs to ocurr after start rather than as part of persistence adapter start, resolves org.apache.activemq.broker.ft.QueueMasterSlaveTestSupport#testAdvisory failures

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428397 13f79535-47bb-0310-9956-ffa450edef68",3,1
6335b7e3315750127b0af8c8697fb1e0197cdbd2,"fix up imports - resolve warn re permanently hidden defs

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428409 13f79535-47bb-0310-9956-ffa450edef68",9,1
60d7cdc1dd0ee77c52e0335cb1b30152980f758d,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428420 13f79535-47bb-0310-9956-ffa450edef68",53,53
a8da85f8a97baed65dde73df9b237dde46e9889d,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428422 13f79535-47bb-0310-9956-ffa450edef68",22,8
1a577283050662b7a9a36a6ebedd076de894622f,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428425 13f79535-47bb-0310-9956-ffa450edef68",9,11
4096f9109a19a93cb5b468df330e4d66cdbaa413,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428458 13f79535-47bb-0310-9956-ffa450edef68",26,25
d0d7231414768d919c570991b84841f65c495078,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428462 13f79535-47bb-0310-9956-ffa450edef68",5,8
450b509d58e0cdab12c10edd692ba7a79ea7cca2,"Add the slf4j-api as a dependency of the leveldb store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428535 13f79535-47bb-0310-9956-ffa450edef68",0,5
8dbfbb00950e3632cae2144d15a1c7d85d2a1ff2,"Make the activemq module just plain jars instead of bundles.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428536 13f79535-47bb-0310-9956-ffa450edef68",10,0
8eb11a3aa7ded1ec9b0f2c36b56f284d85689739,"Added a activemq-osgi module which is an uber OSGi bundle of all the ActiveMQ jars to make integrating into OSGi a little simpler.
Adding karaf-itests module.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428537 13f79535-47bb-0310-9956-ffa450edef68",7,771
9557e394e749cda81e12c3d54d7e2fbcac22272f,"Make sure we set the activemqVersion system prop for the karaf itest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428550 13f79535-47bb-0310-9956-ffa450edef68",0,2
0aedae6b1de1658d2056a9ed94f9976ed50948b0,"show test output in console for now.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428551 13f79535-47bb-0310-9956-ffa450edef68",1,1
123a5123707dd972ff943c768c27c9e09bb83f30,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428569 13f79535-47bb-0310-9956-ffa450edef68",2,4
5ddc7d65c38cfe6aaa8ff22a5fac354e558374a5,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428578 13f79535-47bb-0310-9956-ffa450edef68",13,15
7a7d55180ec3974d1f01453206fafd4fa2191ca6,"Add some defensive checks in cleanup method to avoid possible NPE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428632 13f79535-47bb-0310-9956-ffa450edef68",6,19
b2681b9a82d1e999430082b6716e1fe4e9a6fbcb,"Fix test breakage after latest round of broker fixes.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428663 13f79535-47bb-0310-9956-ffa450edef68",35,44
b6e3ca74ba68c6a9879076ecb5be468e881897cd,"fix test failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428673 13f79535-47bb-0310-9956-ffa450edef68",5,6
603dc66b445c094a548efc56215df1f7510d7535,"https://issues.apache.org/jira/browse/AMQ-4237 - first step at fixing web console to use new mbean name format

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428899 13f79535-47bb-0310-9956-ffa450edef68",2,2
e5d616da50634706d681ad4c26b9ecc22596cbdd,"https://issues.apache.org/jira/browse/AMQ-4160 - fix up multicast discovery regression - it was giving uniqueue events to add/remove. MulticastDiscoveryOnFaultyNetworkTest - added static variant to that test also to validate existing changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428901 13f79535-47bb-0310-9956-ffa450edef68",34,29
cbee1cc14761cfe27f5a1aceff257808261efc89,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428950 13f79535-47bb-0310-9956-ffa450edef68",6,8
f3407fe4b2ff64f144b382d22f771d066051c7a0,"Fix broken unit test, openwire.v*.WireFormatInfoTest max property size not set correctly. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428953 13f79535-47bb-0310-9956-ffa450edef68",2,2
8a6ebc20a3c2fb06700d386ac2183347b329ddcd,"cleanup and fix warnings. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428981 13f79535-47bb-0310-9956-ffa450edef68",10,5
8e9896825fbb2c0a90e059a3c338cc3b0cf6f9f5,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1428983 13f79535-47bb-0310-9956-ffa450edef68",6,1
b2de5f310f1566a86740e4c34d8f3af6b5e4158b,"code fix and test fix for: https://issues.apache.org/jira/browse/AMQ-4225

NetworkBridge MBeans weren't getting registered because of changes in the Broker MBean naming.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429064 13f79535-47bb-0310-9956-ffa450edef68",27,37
c61ee931f60e2d0b9a72117aaf99cdcf4940956a,"Add to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429065 13f79535-47bb-0310-9956-ffa450edef68",0,0
1949846c0a94ead0dabd3a097324dcf564681fbe,"Switch to scala 2.10

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429079 13f79535-47bb-0310-9956-ffa450edef68",29,19
800e0267fb90dc24870f34418fb952fc29f88c7b,"fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429089 13f79535-47bb-0310-9956-ffa450edef68",24,28
b5625e31ee5f4aa2b1fecd0cc94dcd444962baf2,"Add in a log4j properties file for the tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429141 13f79535-47bb-0310-9956-ffa450edef68",0,42
5a8ca0b8a8d31d1adcd48a3f16aac75a4f141488,"attempt to fix test case after changes in https://issues.apache.org/jira/browse/AMQ-4237 broke the test's MBean lookup, not quite there but close.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429149 13f79535-47bb-0310-9956-ffa450edef68",60,72
667237f72acd93e217e273884e7f89e7bf202336,"Fix instability in test cases

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429809 13f79535-47bb-0310-9956-ffa450edef68",12,46
f79f7ad426146983f21f0b42e6661816c6f33e97,"add queue priority with backlog test, disable cache and expiry processing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429818 13f79535-47bb-0310-9956-ffa450edef68",1,32
3cd8da80a687676167681f8e424e9648db79eb66,"fixes: https://issues.apache.org/jira/browse/AMQ-4246

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429878 13f79535-47bb-0310-9956-ffa450edef68",67,53
b79c9868ece707c83081797de8a5d8151434b90a,"fix for: https://issues.apache.org/jira/browse/AMQ-4241

Add a configuration option to control whether properties are set on every output message or only the first one. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1429909 13f79535-47bb-0310-9956-ffa450edef68",44,128
da4302921e300f660568fcc1788eaafad07824f5,"test can fail if the machine is bit to slow, give a bit more grace to the test timeouts. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430005 13f79535-47bb-0310-9956-ffa450edef68",3,3
4cbd91d4946b8e90a2b81b15bd6c6cc9607478fc,"https://issues.apache.org/jira/browse/AMQ-4237 - web console - connectors and connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430252 13f79535-47bb-0310-9956-ffa450edef68",9,9
e3626e19bccfedb6d147d23c071ef3b30fb2329c,"https://issues.apache.org/jira/browse/AMQ-4237 - resolve unit test regressions for dynamic networkBridge mbeans

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430266 13f79535-47bb-0310-9956-ffa450edef68",31,22
f4f033c91ac798efaeeabc5ef856f3b6f186954a,"https://issues.apache.org/jira/browse/AMQ-4237 - new jmx and web console - consumers on connection

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430283 13f79535-47bb-0310-9956-ffa450edef68",2,2
1cebef8a6b456816c87c00e5deaa8dda27eeed1d,"adding more bits to the pom

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430307 13f79535-47bb-0310-9956-ffa450edef68",1,37
0aa697605ec30d69be3efd70dcbf4691ada4c91a,"depedency order seems to matter

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430308 13f79535-47bb-0310-9956-ffa450edef68",36,36
351a339b0d2431b8064f38d82dc4bb232c2df058,"https://issues.apache.org/jira/browse/AMQ-4237 - new jmx and web console - network connectors and bridges

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430323 13f79535-47bb-0310-9956-ffa450edef68",2,2
6b3676ae72d79b31025b360e66163e0c0689ee54,"https://issues.apache.org/jira/browse/AMQ-3906 - make it so that java -classpath target/activemq-all-5.8-SNAPSHOT.jar org.apache.activemq.console.Main start broker:\(\) will work. We may want to remove persistence but I think it makes sense to have it in there

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430326 13f79535-47bb-0310-9956-ffa450edef68",1,4
9a3bd32e90b3c2d210cceef63256b1aace4c5823,"clean up imports.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430340 13f79535-47bb-0310-9956-ffa450edef68",4,5
3c83c17787e8a83633557c26cdadc2375cd668d1,"Fix failing test case, use the returned locator from addLast calls to perform the remove instead of trying with a String.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430360 13f79535-47bb-0310-9956-ffa450edef68",88,90
43da1ca798cf694d654cdf410c6a40bebd4dc255,"add LevelDB data test dir to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430361 13f79535-47bb-0310-9956-ffa450edef68",0,0
69ff572f8808892668aec8efdfaf725805e7c26e,"Switch to a released version of proton

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430373 13f79535-47bb-0310-9956-ffa450edef68",1,11
55fef7200a8263e3a8118bdde3bc51bfcd31510c,"fix up xml tests, xbean in a required test dep. fix up ref to removed master/slave.xml

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430380 13f79535-47bb-0310-9956-ffa450edef68",8,10
09c450015e668a3526c7708d710d8692f0d8bfa8,"Refactored to make it easier to test with multiple MQTT client providers


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430496 13f79535-47bb-0310-9956-ffa450edef68",356,474
dfd4c5680ff6a148bdf5fe5a08e0690cc6485a65,"start removing dependencies on activemq-core

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430498 13f79535-47bb-0310-9956-ffa450edef68",7,1
8ab1c8d551738061bd19b25ce6bba785e00f9aa0,"https://issues.apache.org/jira/browse/AMQ-4237 - new jmx and shutdown command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430817 13f79535-47bb-0310-9956-ffa450edef68",11,9
881c1b7005170ba2c43868f28fc5c8508b6591a5,"https://issues.apache.org/jira/browse/AMQ-4237 - new jmx and list and purge commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430862 13f79535-47bb-0310-9956-ffa450edef68",3,5
63a660ac04affba1d6f48da21b5de80b63a31a0a,"https://issues.apache.org/jira/browse/AMQ-4237

To support the bean renaming effort this pulls together the various code that create all our MBean names and puts them into one location which could later add supporting methods to create MBean queries for the unit tests etc.  This should make it simpler to iron out the naming as we go.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1430908 13f79535-47bb-0310-9956-ffa450edef68",144,368
0309eb33736f8dc3f905b90c8b1731cdadd3c872,"Fix test so it doesn't fail if the disk is a bit full 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431002 13f79535-47bb-0310-9956-ffa450edef68",21,21
e7242260337c0a4986c9c49a7fa64df95831fc47,"Don't use a fixed port and turn of JMX in the broker as its not needed in this test. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431033 13f79535-47bb-0310-9956-ffa450edef68",35,26
80c2f7918b44d0dd2c77c7c9cc765694967c68a3,"removing dependencies on activemq-core

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431077 13f79535-47bb-0310-9956-ffa450edef68",6,0
32c5a2cbaf0286b00c2fbcc5b912977b45b25da5,"add to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431098 13f79535-47bb-0310-9956-ffa450edef68",0,0
978f59e62829c4583e8798c93345446f3ffecfdf,"add to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431099 13f79535-47bb-0310-9956-ffa450edef68",0,0
95123fd20917b57963cf0bddd256345e38c2ab26,"add to svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431106 13f79535-47bb-0310-9956-ffa450edef68",0,0
3dd24195e64423e7359fa9a636373517e49624cd,"removing dependencies on activemq-core

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431109 13f79535-47bb-0310-9956-ffa450edef68",47,11
ac23437828555281ee61c4affbb7373b8a8c70e0,"Fix another test that fails because of https://issues.apache.org/jira/browse/AMQ-4237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431123 13f79535-47bb-0310-9956-ffa450edef68",126,125
dafc8254caa4bc6853c52a0ae02b506b915ac6c6,"turn off JMX, not needed in this test. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431125 13f79535-47bb-0310-9956-ffa450edef68",2,4
df72ec507943951ff41fed156b9d6d8de8f507d0,"remove some old empty folders 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431151 13f79535-47bb-0310-9956-ffa450edef68",0,0
1a1ebd965c3adf115625f0bb267aefda06648859,"https://issues.apache.org/jira/browse/AMQ-4237 - new jmx and query and bstat commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431295 13f79535-47bb-0310-9956-ffa450edef68",10,10
99682093d9cd63fb1613eb6b94a7f4bfe547a10a,"https://issues.apache.org/jira/browse/AMQ-3438 - update so we only register a conneciton mbean once, default by remote address or by client id - ManagementContext#allowRemoteAddressInMBeanNames=false (once connectionInfo is received)

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431319 13f79535-47bb-0310-9956-ffa450edef68",6,9
aaa81deb4061c84fcd2fb2184cb23833b7b4cf40,"https://issues.apache.org/jira/browse/AMQ-3438 - keep both mbean names, by remoteaddress and by clientid - as navigation between subs and connections uses the clientid but remote connection info based on address has real value to opts. https://issues.apache.org/jira/browse/AMQ-4237 - partition both address types using connectionViewType=remoteAddress|clientId  and add clientId to connetionView - now easier to see connections under a clientConnector

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431369 13f79535-47bb-0310-9956-ffa450edef68",31,33
7d7d6fa08a9831d81b18a9818dc4bb0d962336ac,"fix typo in utility class name

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431374 13f79535-47bb-0310-9956-ffa450edef68",30,30
20d3bdb4eb5474472f8d4decb09db1521e68878f,"https://issues.apache.org/jira/browse/AMQ-4157 - test case and fix. when an ack is in a tx we need to wait for the store sync as it may be a rollback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431463 13f79535-47bb-0310-9956-ffa450edef68",2,167
6e363216693a83225df878dc6b38027759b6101b,"https://issues.apache.org/jira/browse/AMQ-4163

Removed the journal component as its dependent on the now deprecated activemq-amq-store code.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431492 13f79535-47bb-0310-9956-ffa450edef68",499,5
7d2ac2d9363f01978e856d78a00cc3934b3a1c78,"derby on virtual hw can be very slow, so a query with an intentionally large backlog can take some time

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431494 13f79535-47bb-0310-9956-ffa450edef68",1,2
109cbe0993c377bc84a4337e3ebd2112b2a02563,"https://issues.apache.org/jira/browse/AMQ-4248 - ensure iter is cleared when we are done, i.e. on call to release

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431660 13f79535-47bb-0310-9956-ffa450edef68",2,20
86afe187c1edef91ff3610019092f29697e523bf,"fix warnings

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431699 13f79535-47bb-0310-9956-ffa450edef68",1,1
c0b39615d4d341f29ee32c7694e51edd8dd8705f,"fix for failing test, the check for inactive durables was waiting exactly as long as the housekeeping thread's sleep interval which could cause it to sometimes miss the very last run of the housekeeper and falsely detect leftover inactive ones.  Make the test wait for longer than the sleep interval and also provide a clean shutdown of the house-keeper thread.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1431700 13f79535-47bb-0310-9956-ffa450edef68",4,28
5b5bc45b17bd0b33ec302c5b8c4da6a2d8d34f4d,"fix for: https://issues.apache.org/jira/browse/AMQ-4238

ensure we clean up when the ManagementContext gets shut down. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1432112 13f79535-47bb-0310-9956-ffa450edef68",53,65
2a5d0821b181d7e784346776e60b2ab2e128c31d,"AMQ-4250: activemq-spring should not be dependent on spring-test at runtime.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1432401 13f79535-47bb-0310-9956-ffa450edef68",1,7
ae61847d025e76ba23876e1ba3f05f3d26f8a741,"https://issues.apache.org/jira/browse/AMQ-4248

Add expanded transmit callback interface so that a failure to transmit can be distinguished from normal operation and allow for no further attempts at dispatch fixing the current NPE when async dispatch is enabled. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1432487 13f79535-47bb-0310-9956-ffa450edef68",42,223
1958aeb069966b6d443d93418e1e4b767b937f8f,"https://issues.apache.org/jira/browse/AMQ-4248

Don't swallow the exception.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1432963 13f79535-47bb-0310-9956-ffa450edef68",1,2
a25df91fcd5c7df483cbe62024ecb72363476fb2,"https://issues.apache.org/jira/browse/AMQ-4253

update spring version 3.1.1-RELEASE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1432997 13f79535-47bb-0310-9956-ffa450edef68",3,3
af8f5f9ec9f43c8a163c952a3643c30da7e86d15,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4254

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433024 13f79535-47bb-0310-9956-ffa450edef68",12,32
15598081a1fa687dca800e37e665955137bed4d2,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4249

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433159 13f79535-47bb-0310-9956-ffa450edef68",39,283
4d37271c5ae8612e114e580b0bbfc9f442ec1b6c,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4254

Add call to broker.waitUntilStopped() to try to make this pass more often. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433209 13f79535-47bb-0310-9956-ffa450edef68",2,3
359d8ebcfadb2b8c6ddaadeb3cb9d0ea9d71fc76,"AMQ-4252: OSGi JARs in activemq-spring is provided and optional.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433323 13f79535-47bb-0310-9956-ffa450edef68",1,4
d8766963a9e20e6a8ba93affa06854b5fd5dae51,"AMQ-4256: Upgraded to OSGi 4.3.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433328 13f79535-47bb-0310-9956-ffa450edef68",1,1
38f24afbd569b7747c01a5bd415cc276d8069885,"AMQ-4257: Upgraded to Aries Blueprint 1.0.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433333 13f79535-47bb-0310-9956-ffa450edef68",2,2
85aa6b24012ac46ae11fddad711f7e6bf08c6030,"xbean version range for xbean should be 3.12 as minimum

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433335 13f79535-47bb-0310-9956-ffa450edef68",1,1
eff119471d5eef1325b06fe9cd2cfa3695808f26,"https://issues.apache.org/jira/browse/AMQ-4034 - first stab at karaf integration tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433543 13f79535-47bb-0310-9956-ffa450edef68",98,87
7011ea5b132509878e031c4347671904569c77c1,"fix for: https://issues.apache.org/jira/browse/AMQ-4254

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433683 13f79535-47bb-0310-9956-ffa450edef68",0,5
a0f785a758caf00ad9f98c298e8e10b2cb4adcbe,"AMQ-4252: OSGi JARs in activemq-spring is provided and optional.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433835 13f79535-47bb-0310-9956-ffa450edef68",1,1
1b27f9539360d3a60db25c017a1515510a753142,"https://issues.apache.org/jira/browse/AMQ-4034 - fixing activemq-broker feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1433970 13f79535-47bb-0310-9956-ffa450edef68",5,8
59d13ad913f9a129dcfc724b89b1090a06898d86,"fix test breakage after: https://issues.apache.org/jira/browse/AMQ-3833

The producerAudit is only written out on change so in this test it holds onto log 5 meaning there are two left instead of one.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434055 13f79535-47bb-0310-9956-ffa450edef68",12,21
f551570d4c069755cff3e6d6cd905c7380e1c490,"fix test breakage after: https://issues.apache.org/jira/browse/AMQ-3833

The producerAudit is only written out on change so in this test it holds onto another log file meaning there are two left instead of one.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434067 13f79535-47bb-0310-9956-ffa450edef68",2,2
735f2c034df30cbc768a9bd6cc381316f2d24a2e,"fix test breakage after: https://issues.apache.org/jira/browse/AMQ-3833

The producerAudit is only written out on change so in this test it holds onto another log file meaning there are two left instead of one.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434074 13f79535-47bb-0310-9956-ffa450edef68",2,2
90790952d65d2e8dea51e130461d9ebe9b713410,"fix test breakage after: https://issues.apache.org/jira/browse/AMQ-3833

Depending on timing of events in the test the producer audit can land on the last log file so there can be one or two left.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434514 13f79535-47bb-0310-9956-ffa450edef68",30,30
1898869fbcacfa343d50a4a786857b7498093986,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4121

Allows for more user customization of MemoryUsage if desired.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434849 13f79535-47bb-0310-9956-ffa450edef68",0,11
3bffaf7e4c7a845bac73770d76e0b726a9c39834,"rudimentary generic persistence adapter mbean view - help show data and transaction info - usefull when blocked on usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434903 13f79535-47bb-0310-9956-ffa450edef68",0,115
aa1310c70cb372f1ade9c3465c53d8ffc37ca06a,"add PersistenceAdapterView

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434906 13f79535-47bb-0310-9956-ffa450edef68",0,74
1cd3bd8d95c03da2c3e8ee5817ae0aacf6d267db,"add license header

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434909 13f79535-47bb-0310-9956-ffa450edef68",0,16
5d4d7487e4100db4ad4b9af1fe2cb61a5c05cb3b,"Add some methods for creating destination queries 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434926 13f79535-47bb-0310-9956-ffa450edef68",2,26
f5d8a05ed7957f42c3a734891bc7f36f60891889,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4260

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1434956 13f79535-47bb-0310-9956-ffa450edef68",24,40
94f71ccf40ed115cd370aff9d79bcd2454f244c6,"https://issues.apache.org/jira/browse/AMQ-4034 -first step on fixing features and creating a osgi service factory for the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1435065 13f79535-47bb-0310-9956-ffa450edef68",15,335
f5360a727d44a5590b49368d7ff9918ff01a646e,"resolve leveldb store jmx issues and use the proper mbean naming

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1435163 13f79535-47bb-0310-9956-ffa450edef68",4,3
0dcdab784b3473ba5d3b43387a4324bcd422294f,"https://issues.apache.org/jira/browse/AMQ-4172 - resolve with test. inflight transactions need to just protect a data file range rather than all subsequent data files. so gc can reclaim what is valid

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436291 13f79535-47bb-0310-9956-ffa450edef68",33,219
503d3c3fd132dbd09357c8aa847cf803025df082,"https://issues.apache.org/jira/browse/AMQ-4034 - adding dependency resources to the osgi jar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436379 13f79535-47bb-0310-9956-ffa450edef68",3,3
a30dd301149c68a911eec3b04378cfc1b82cd63e,"Add missing folder that's causing the build to fail locally and in Hudson. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436429 13f79535-47bb-0310-9956-ffa450edef68",0,0
fd46439e7e7aeeb4bde35fb942cb7882edfab548,"https://issues.apache.org/jira/browse/AMQ-4034 - adding logging and proper shutdown on destroy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436827 13f79535-47bb-0310-9956-ffa450edef68",7,16
33c564259c52a26b90146e9805e6fac4ee83bed7,"https://issues.apache.org/jira/browse/AMQ-4034 - moving service factory to activemq-osgi module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436831 13f79535-47bb-0310-9956-ffa450edef68",14,19
f0fce84c02036c3386878792df2a9e8fd8f34c86,"https://issues.apache.org/jira/browse/AMQ-4034 - moving service factory to activemq-osgi module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436832 13f79535-47bb-0310-9956-ffa450edef68",0,33
06e67e02bb338635d1a9ed0d183480193661f6b7,"Use osgi 4.3.1 which works better with java7

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436860 13f79535-47bb-0310-9956-ffa450edef68",1,1
a6bceeb6da065e91f23baf9fc0a5dd2b0b7c5eae,"https://issues.apache.org/jira/browse/AMQ-4034 - support configuration properties

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436956 13f79535-47bb-0310-9956-ffa450edef68",7,29
8bf0e43ed380f27c923c31aa910bf1eaa5a8d336,"https://issues.apache.org/jira/browse/AMQ-4034 - update data property in test config

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1436968 13f79535-47bb-0310-9956-ffa450edef68",2,2
144be7c2774dd67524684711d1824bb4790d1568,"Apply patch with updates for: https://issues.apache.org/jira/browse/AMQ-4265


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437038 13f79535-47bb-0310-9956-ffa450edef68",10,43
5ffb7a849a2df086612186287600367a5d296f2b,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4266

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437049 13f79535-47bb-0310-9956-ffa450edef68",0,1
77c0cf92061a08f22da8e087956401779b29a971,"https://issues.apache.org/jira/browse/AMQ-4034 - copy all neccessary resources to activemq-osgi bundle

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437368 13f79535-47bb-0310-9956-ffa450edef68",112,44
77312e5a6487dd2bd384bf3cf167cef6b61aa658,"Fixes AMQ-4258: Endless loop when received incorrect AMQP message

Applied patch sumbitted by Robert Balent.  Many thanks!



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437427 13f79535-47bb-0310-9956-ffa450edef68",0,1
3602973cae23384a6cf5ec4eedf4372379eafbcc,"Use an escape code for the unicode char to keep java sources using ascii characters.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437440 13f79535-47bb-0310-9956-ffa450edef68",2,2
0dfa5f483ce5386aa4e3b48fb929577a6e9af9a9,"Avoid logging error messages when an AMQP client gracefully disconnects.


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437550 13f79535-47bb-0310-9956-ffa450edef68",11,15
2dd8b61a4b3b6dcb3bf495cbb6af5bff00bc5e42,"Add one fix from: https://issues.apache.org/jira/browse/AMQ-4268

need to ensure at least one consumer cycle to ensure the redelivery flag is set. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437691 13f79535-47bb-0310-9956-ffa450edef68",3,1
6d2f262cebf44370f1c90192696ace9ff1567630,"On my old dual core Macbook this test sometimes fails because the listener has a four second wait and the test only allocates five seconds for processing of the messages to complete after the producer transaction commit is called.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437739 13f79535-47bb-0310-9956-ffa450edef68",5,13
d0823a337c9fa886b9fbcfaf18ad563ced49082e,"https://issues.apache.org/jira/browse/AMQ-4034 - add activator to support resources in additional custom modules

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1437943 13f79535-47bb-0310-9956-ffa450edef68",1,1
d0a06160e0fe25881669cfbef53d30432c4cb21a,"Upgrade the leveldbjni version to fix potential corruption issues.  See: https://issues.apache.org/jira/browse/APLO-282


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438024 13f79535-47bb-0310-9956-ffa450edef68",3,3
9fece8f3bc8e8a5e6ae50a7130c4a784c224f130,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4270 thanks!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438029 13f79535-47bb-0310-9956-ffa450edef68",9,13
61cbe46fc6c0e47402e04d608feae6518a120b70,"https://issues.apache.org/jira/browse/AMQ-4271 - virtualSelectorCacheBrokerPlugin support for consumers with no selectors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438032 13f79535-47bb-0310-9956-ffa450edef68",11,30
c5184983cf3453f4dfd7c8c2ad17ca3868b6c7dd,"apply fix and updated test for: https://issues.apache.org/jira/browse/AMQ-4148

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438123 13f79535-47bb-0310-9956-ffa450edef68",2,123
af9a1f0d0f5d00897e9ab42499245d138582a4e1,"apply test patch for: https://issues.apache.org/jira/browse/AMQ-4273

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438161 13f79535-47bb-0310-9956-ffa450edef68",27,28
6dce677baae882f5a933cbee66905bf99c907b6a,"Fix for https://issues.apache.org/jira/browse/AMQ-4275 maven plugin goal ""activemq:run"" cannot run in latest 5.8 snapshot

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438197 13f79535-47bb-0310-9956-ffa450edef68",5,5
80d06056821846d867335fc62ec6e79cd4eb6a92,"fix for: https://issues.apache.org/jira/browse/AMQ-4274

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438209 13f79535-47bb-0310-9956-ffa450edef68",21,37
6473236e34fc516b8a126b8ebfaca5f5e1d14ef1,"Add an information message to the assert so we can see how much it failed by. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438272 13f79535-47bb-0310-9956-ffa450edef68",2,4
37423d661c440fa5fe3420e9b0c0bf8c5d5d67ae,"When the AMQP source or target address is not set, close the sender/receiver and report the error.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438540 13f79535-47bb-0310-9956-ffa450edef68",130,157
15298cb1b4325e3cc8169356676027f21617bac8,"Switch to proton snapshot to pick up fix /w link closing.  Also make a link fail if the address is an empty string.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438570 13f79535-47bb-0310-9956-ffa450edef68",3,3
0cb78fa1dea3fcd8915cc8bbf4a2d926e0e60ee4,"Bump latest bugfix version of xstream v1.4.4

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438584 13f79535-47bb-0310-9956-ffa450edef68",1,1
095224f32708301060c0510f0e2030d31d5ae81e,"couple more bugifx version updates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438596 13f79535-47bb-0310-9956-ffa450edef68",2,2
43e2083f41206a88e28ead45cbfb97283f81b60d,"Fix Type --> type and BrokerName --> brokerName in RemoteJMXBrokerFacade + Test, related to https://issues.apache.org/jira/browse/AMQ-4237

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438666 13f79535-47bb-0310-9956-ffa450edef68",3,93
8012f2851120d5ebf840d0a4bbecc222f77369c3,"https://issues.apache.org/jira/browse/AMQ-4276 - deal with destnotexist for temps. support alwaysSyncSend for duplex. improve reporting of failures. additional test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438734 13f79535-47bb-0310-9956-ffa450edef68",110,808
91b0780af3135fbcd36a1a2a5b2ba246503b43d0,"pick up priton snap

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438736 13f79535-47bb-0310-9956-ffa450edef68",0,7
c441e3a66caede2236ce5936d329dd7772e470e4,"Almost all the amqp joram tests are passing with the QPID 0.20 client.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1438797 13f79535-47bb-0310-9956-ffa450edef68",12,8
2e622a4e15ca847bfcaf4c7c4c01f02519d4da27,"https://issues.apache.org/jira/browse/AMQ-4034 - initial work on leveldb integration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439086 13f79535-47bb-0310-9956-ffa450edef68",20,54
0bfa0cdf1a62b4b05411bd7d3b39fee895be1981,"Fix for https://issues.apache.org/jira/browse/AMQ-4272 updated queueConsumers.jsp to only allow the link to connection page for connections directly to the broker, but go to network.jsp for bridge consumers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439193 13f79535-47bb-0310-9956-ffa450edef68",3,22
9988fff773cf2390f37f211e17dba4fc047c378b,"tidy logging https://issues.apache.org/jira/browse/AMQ-4276

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439395 13f79535-47bb-0310-9956-ffa450edef68",3,3
8e6ce9f7d79c54c657fc458237d92de67886ea0d,"Added a test to the QueueBrowser to browse ""large number of messages (1000)""

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439420 13f79535-47bb-0310-9956-ffa450edef68",0,31
d87073b1440bba456168da442510069e02e5d87b,"https://issues.apache.org/jira/browse/AMQ-4278

Tagged the Transport classes as deprecated. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439458 13f79535-47bb-0310-9956-ffa450edef68",4,9
c57ac819bed3051aacd023d346c7b3d1216b8616,"https://issues.apache.org/jira/browse/AMQ-4148 - no unecessary remote consumer any more

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439476 13f79535-47bb-0310-9956-ffa450edef68",1,1
373ed3622c763d2f6ecf2336c9af869f5bf861ea,"Pickup release proton lib

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439499 13f79535-47bb-0310-9956-ffa450edef68",1,1
a55aae00e73aad844bbacd2afdd03c1459179882,"Scrub the pom files and remove old cruft and leftovers from the recent refactoring

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439680 13f79535-47bb-0310-9956-ffa450edef68",2358,1190
ef24cc9a045da960161fd0ee9f6839b2164e9333,"fix https://issues.apache.org/jira/browse/AMQ-4280

activemq-core module renamed to activemq-unit-tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439685 13f79535-47bb-0310-9956-ffa450edef68",404,16
bf787569d24f16eecb917b71ab03cbbda1722314,"https://issues.apache.org/jira/browse/AMQ-4276 - remove sub from conduit lis immediatly or weget duplicate remove avents as shown by org.apache.activemq.usecases.TwoBrokerQueueSendReceiveTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439870 13f79535-47bb-0310-9956-ffa450edef68",3,4
960481c7e881d58a7509b765a2a4dffcdd22bd2a,"Improve the osgi module so that the leveldb store can be loaded.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439910 13f79535-47bb-0310-9956-ffa450edef68",2,20
d6e8a5b988c9adc0911b4f43550a0b9397e130ca,"https://issues.apache.org/jira/browse/AMQ-1870 - have maxRows implement a limit, policyentry max page size can be used to extend the scan, https://issues.apache.org/jira/browse/AMQ-3557

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439933 13f79535-47bb-0310-9956-ffa450edef68",4,6
11083236137e5f7d4d5531a6d3ded6f9e556a2ab,"https://issues.apache.org/jira/browse/AMQ-4034 - cleaning up features a bit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439935 13f79535-47bb-0310-9956-ffa450edef68",20,1
70e2715d91da5b4242970e5ea43d0a783a1a1ca4,"https://issues.apache.org/jira/browse/AMQ-4034 - removing activemq-extra feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1439986 13f79535-47bb-0310-9956-ffa450edef68",6,0
0b09fde97cba544fb0f31de72ce89202bdb97c6e,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4281

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440012 13f79535-47bb-0310-9956-ffa450edef68",0,6
99c2b2e2d2767ee81ca0f3551299f436a289fa18,"fix for: https://issues.apache.org/jira/browse/AMQ-4282

Make sure that we don't allow advisory destinations to be marked as sync dispatch. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440018 13f79535-47bb-0310-9956-ffa450edef68",1,5
d977b0c9bb6dcf9b145964377be49a7c7c537764,"fix https://issues.apache.org/jira/browse/AMQ-4279 

mark the Udp and Reliable as deprecated.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440073 13f79535-47bb-0310-9956-ffa450edef68",22,52
e35c39bbcf7b11755990502d8ac0167eb4e02cc2,"remove unused imports and add override annotations.  Fix some spelling in the comments.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440116 13f79535-47bb-0310-9956-ffa450edef68",4,3
5fc2535edf979cdc2cf793b6f27188dadeb4d392,"Some additional code cleanup, doc fixes, etc. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440181 13f79535-47bb-0310-9956-ffa450edef68",218,225
a5dd237a601f798138d40eaa3f61be0bc778971e,"Wrap a couple of heavier LOG calls in quick tests for enabled. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440225 13f79535-47bb-0310-9956-ffa450edef68",7,24
bac12438409fe17c4ac31f75617f5bbaeb7b8ee3,"https://issues.apache.org/jira/browse/AMQ-3539 - applying suggested fix, it makes sense. thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440366 13f79535-47bb-0310-9956-ffa450edef68",1,1
94f1f27c356e1e044991376f23c9831a438e7b61,"https://issues.apache.org/jira/browse/AMQ-4034 - adding spring feature so we can be compatible with both karaf 2.x and 3.x

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440406 13f79535-47bb-0310-9956-ffa450edef68",15,13
30a9fe104dd9a716ce2cc901c18451b1aaa19bba,"https://issues.apache.org/jira/browse/AMQ-4283 - fix and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440415 13f79535-47bb-0310-9956-ffa450edef68",18,91
b1a7e750993832af401aaa841b9bfbb15234f8cb,"https://issues.apache.org/jira/browse/AMQ-4034 - adding activemq-http feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440444 13f79535-47bb-0310-9956-ffa450edef68",3,3
a8b6f8bb4536979535eed51d26f74c4739c6fe73,"quick sanity of non duplex case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440502 13f79535-47bb-0310-9956-ffa450edef68",3,8
f1eb92eaaceea888363e20e8e41cb6e0613fefc2,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4082

Reduces async work that's don't during network bridge startup. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440531 13f79535-47bb-0310-9956-ffa450edef68",154,263
1e86ac05089adc85c1ea9833ea92300af7b843ec,"Bumping surefire to v2.13 since it fixes some problems with empty report files that happens with some of our failing tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440594 13f79535-47bb-0310-9956-ffa450edef68",1,1
d2c901f0ca712d1d46b1cc8825485052cb62a9d5,"https://issues.apache.org/jira/browse/AMQ-4286

Cleans up test case and adds logging to help figure out what's failing. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440672 13f79535-47bb-0310-9956-ffa450edef68",19,37
0f3fdd7aa7b09775a036fcd5d8ba8d9b09d9f3fe,"Added in some more useful logging and cleaned up the stop code. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440733 13f79535-47bb-0310-9956-ffa450edef68",25,34
7e87cf26851c149c84d1fe8ef633f371aa167ffd,"https://issues.apache.org/jira/browse/AMQ-4285 - tidied up test to be tolerant of pitfalls of request/reply with temps over a network

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1440988 13f79535-47bb-0310-9956-ffa450edef68",20,75
dc3eb911fafcf2764e7d935a59a114068b5a98ee,"https://issues.apache.org/jira/browse/AMQ-4034 - osgi web console, fixing classpath

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441059 13f79535-47bb-0310-9956-ffa450edef68",2,39
0d27c49bbf0886f63662934a90247d8b0d2b0b6c,"https://issues.apache.org/jira/browse/AMQ-4034 - osgi web console, laying down foundations for config admin configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441064 13f79535-47bb-0310-9956-ffa450edef68",6,150
b8bbca6773343ef627d4e14f8f6470c310cd5756,"apply fix for: https://issues.apache.org/jira/browse/AMQ-4288

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441081 13f79535-47bb-0310-9956-ffa450edef68",2,4
f88b21613b9298da74c22188ebb10d769caec770,"apply fix for: https://issues.apache.org/jira/browse/AMQ-4288

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441085 13f79535-47bb-0310-9956-ffa450edef68",115,118
fe2489fc4be41be593403b6f0bf24c1789365a87,"bump versions of plugin and dependencies to latest patch releases prior to v5.8 release. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441100 13f79535-47bb-0310-9956-ffa450edef68",9,9
7f022c93795cc0c1e33309edcea8399d077ca578,"apply fix for: https://issues.apache.org/jira/browse/AMQ-4288

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441156 13f79535-47bb-0310-9956-ffa450edef68",38,43
75d4b7643f1cb690cd5f7a71d1bfb2cb958aafba,"add some commamd assertions to broker feature test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441209 13f79535-47bb-0310-9956-ffa450edef68",2,106
849baa6fbcfaab64de494888f5cf9e4346d15c05,"Apply fix and test for: https://issues.apache.org/jira/browse/AMQ-4116

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441212 13f79535-47bb-0310-9956-ffa450edef68",0,150
972176ea332be5da2f8af1c16eff84fe411e087d,"Add a fix for: https://issues.apache.org/jira/browse/AMQ-4147

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441240 13f79535-47bb-0310-9956-ffa450edef68",0,212
9a2d3d8613cdb2f6e4ce5a1616262700a752d946,"Fix for https://issues.apache.org/jira/browse/AMQ-4289 activemq-perf-maven-plugin is unusable because of bug in ReflectionUtil helper class
also added test to show error

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441270 13f79535-47bb-0310-9956-ffa450edef68",1,6
863f47997e6b48d97cf2040f567ce7b1e2818c05,"Fix for https://issues.apache.org/jira/browse/AMQ-4289 activemq-perf-maven-plugin is unusable because of bug in ReflectionUtil helper class

previous commit actually had fix commented out. this has the fix.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441277 13f79535-47bb-0310-9956-ffa450edef68",2,1
a3bfd17e7da907706b4b9ec3f2037c17fd91b4e6,"revert to surefire 2.10 for now 2.13 seems to have some issues

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441299 13f79535-47bb-0310-9956-ffa450edef68",1,1
e8deea92b67cc4024dd9be880c463f98e7970280,"https://issues.apache.org/jira/browse/AMQ-4034 - osgi web console, finishing config admin configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441375 13f79535-47bb-0310-9956-ffa450edef68",8,20
436ca9e1eb01c23d07b325444948533ad4e7f576,"fix Warning: Line 26, Column 3: Bad option name ""OPTIMIZE_TOKEN_MANAGER"".  Option setting will be ignored.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441407 13f79535-47bb-0310-9956-ffa450edef68",1,0
2ebba60265a46ba495a5598abe4330e3c255e830,"fix deprecation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441410 13f79535-47bb-0310-9956-ffa450edef68",1,1
d5056d5fdcc1f348fe485515796383abd8ff9c76,"fix itest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441411 13f79535-47bb-0310-9956-ffa450edef68",1,1
88beb15763c28b6392a2b3a9e479df37c75e62b5,"add produce/consume roundtrip validation

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441421 13f79535-47bb-0310-9956-ffa450edef68",66,20
acd1eda4026cd4f56cb0f0efd73fb92e32ec75b1,"https://issues.apache.org/jira/browse/AMQ-4034 - osgi restart broker properly when pid properties changes

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441435 13f79535-47bb-0310-9956-ffa450edef68",2,5
d84e8e182644b71564b79d13ac095b95ec41037b,"fix up client feature itest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441437 13f79535-47bb-0310-9956-ffa450edef68",7,14
e20234e2cb32139530a4274814d52e989adee080,"fix up property file ref

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441439 13f79535-47bb-0310-9956-ffa450edef68",1,1
964f8ca375fef2557cc38d2fc3baec98089a45cf,"add broker nd webconsole round trip itest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441459 13f79535-47bb-0310-9956-ffa450edef68",8,115
3527a4cfa0dfe60f08ee641e3eeaf1e33496b691,"https://issues.apache.org/jira/browse/AMQ-4034 - osgi web console, remove runtime osgi dependency

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441461 13f79535-47bb-0310-9956-ffa450edef68",22,28
081b823c2da319ad327fd1018555b09136bb404f,"https://issues.apache.org/jira/browse/AMQ-4034 - osgi, remove create-broker and destory-broker commands

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441470 13f79535-47bb-0310-9956-ffa450edef68",425,0
38a63c15fba4fe05f208be7e61ba1d38e81aefa6,"fix dependency version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441472 13f79535-47bb-0310-9956-ffa450edef68",0,2
6028ec4d3589bc4440c2a5a81704855c2d7c9a4c,"https://issues.apache.org/jira/browse/AMQ-4034 - osgi, add default configurations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441501 13f79535-47bb-0310-9956-ffa450edef68",0,104
f383ca1de40b2c9bf2b2957579cbd21be5fbfb24,"https://issues.apache.org/jira/browse/AMQ-3331 - make bridge alwaysSyncSend=true the default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441545 13f79535-47bb-0310-9956-ffa450edef68",18,15
4751a9c38cb13599110104f481301a2f07a62b1c,"fix for failing test: https://issues.apache.org/jira/browse/AMQ-4291

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441588 13f79535-47bb-0310-9956-ffa450edef68",10,33
856e5061d7bc4d73878c315225ef8db2a9f8a2b1,"Break up these tests as they are order dependent.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1441643 13f79535-47bb-0310-9956-ffa450edef68",69,107
c3724484718cb7c3404a9502b271eef0d45aac92,"https://issues.apache.org/jira/browse/AMQ-4082 - fix regression with org.apache.activemq.usecases.NetworkOfTwentyBrokersTest nd org.apache.activemq.usecases.RequestReplyNoAdvisoryNetworkTest - statically included dests in duplex case being ignored and unregister without register

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442122 13f79535-47bb-0310-9956-ffa450edef68",28,40
a34970a95941da4a69c77ee8fff938659c0aabde,"remove dup call to startRemote

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442144 13f79535-47bb-0310-9956-ffa450edef68",1,0
0d529af312c9bc1bd0560e67b549f0012cda5937,"https://issues.apache.org/jira/browse/AMQ-4034 - web console osgi itest improvements

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442162 13f79535-47bb-0310-9956-ffa450edef68",39,5
274d228114a04d363847dfece6f0bafc30ff99aa,"ensure connection is closed - fix intermittent failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442172 13f79535-47bb-0310-9956-ffa450edef68",1,2
7b19989e324c143567ac6f049bd71ead9a342523,"Disable the tests for now.  Will look at these as part of v5.9

https://issues.apache.org/jira/browse/AMQ-4296

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442191 13f79535-47bb-0310-9956-ffa450edef68",2,10
8d560fe39a453fdf0701917fd6fdd04e0160ce59,"AMQ-3914: MS SQL JDBC driver 4.0 fixed. Thanks to Petr Nídl for the details.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442517 13f79535-47bb-0310-9956-ffa450edef68",0,17
a57108cfa6cf017364357cfbfa8cdb2c3fc9c950,"StompTest - make it run more reliable on slower machines

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442537 13f79535-47bb-0310-9956-ffa450edef68",13,23
88d85ae552d6d0ee1b01c98d4750226783ac3d0e,"https://issues.apache.org/jira/browse/AMQ-3331 - fix regression in BrokerNetworkWithStuckMessagesTest - vm connector exposed some turnips in there w.r.t the response correlator

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442613 13f79535-47bb-0310-9956-ffa450edef68",2,26
5d9a6b67eb1cbde355f9814b3acc0f3930130e0b,"Fix test failure due to fixed ports used in the test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442619 13f79535-47bb-0310-9956-ffa450edef68",17,41
6b2786a191378f835f042e3402d631f5c2b6393d,"Make sure the first consumer is shutdown before moving on.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442642 13f79535-47bb-0310-9956-ffa450edef68",1,5
5b533c7c37c6f960a296f648b3ba51abdb684129,"Thin out the amount of synchronized code used in the test to make things simpler. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442657 13f79535-47bb-0310-9956-ffa450edef68",98,74
4650f998db6d1fc349b56840e5bd4e53893c4b0e,"Bumping the wait time a bit to account for older system and slow disks.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442681 13f79535-47bb-0310-9956-ffa450edef68",3,4
37ad85e3bdd9c8f27a3197342fb06008053638c9,"https://issues.apache.org/jira/browse/AMQ-4297 -resolve intermittent hang/fail of stomp tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442688 13f79535-47bb-0310-9956-ffa450edef68",11,17
4835bbc7246b55a3fa5e4f7d8333dd1207807693,"Update the svn:ignore props

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442692 13f79535-47bb-0310-9956-ffa450edef68",0,0
1c9626b5a3812f0a754ae0bb3c36fdc6205d5e57,"Remove use of deprecated asserts and add some logging. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442723 13f79535-47bb-0310-9956-ffa450edef68",11,17
5219fa1a177aba188a48c0d2447dbad17ead9e1e,"Fix warnings from use of deprecated asserts etc. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442736 13f79535-47bb-0310-9956-ffa450edef68",384,358
993377fedfa846a7f4a3bb0c47bed0d4f753445c,"ensure no messages get stuck inflight on pooled active consumers. A little tricky to get to the bottom of exactly why the consumer remains. it is visible in jmx on occasion when it hangs. prefetch=0 avoids any inflight messages, may need a revisit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442761 13f79535-47bb-0310-9956-ffa450edef68",2,6
7da4da0476bfe06932e4920e8ef61f30c9286162,"mute jetty log

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442879 13f79535-47bb-0310-9956-ffa450edef68",0,1
6a097b97fe0ae316de93280271f31dffddd4bbbe,"https://issues.apache.org/jira/browse/AMQ-4296 - disable leveldb durable bits pending more work for 5.9

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442953 13f79535-47bb-0310-9956-ffa450edef68",0,11
fc519e186a4d30265e74f24e8a31669e8fc8e32d,"fix up missing license files - our rat check friend

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442984 13f79535-47bb-0310-9956-ffa450edef68",5,248
09756d5ada9452738114325a2e66427d53fc91bc,"Don't use fixed ports on the transports and replace deprecated call in PooledConnectionFactory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442995 13f79535-47bb-0310-9956-ffa450edef68",8,12
8bb58947166a23eb1bcbebf41f30ae9d93b688a2,"fix up missing license files - our rat check friend

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1442998 13f79535-47bb-0310-9956-ffa450edef68",0,34
5e257808f31e0aa63a98d0e9c5030dd052964d2d,"[maven-release-plugin] prepare release activemq-5.8.0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443024 13f79535-47bb-0310-9956-ffa450edef68",114,76
56174e770dda4ec881c9ec56be64608db792f605,"[maven-release-plugin] prepare for next development iteration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443026 13f79535-47bb-0310-9956-ffa450edef68",42,42
dc33c5918f2c99287f03d5767a4737d63797aed6,"Add some additional try / finally blocks to ensure BrokerService stops are issued. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443034 13f79535-47bb-0310-9956-ffa450edef68",10,21
88b80e28ba71e02a4ea1655d61204b8fbd12ab9f,"Don't use a fixed port. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443038 13f79535-47bb-0310-9956-ffa450edef68",7,9
4a8033ed97e7e25b488531c6bd25e8716b735380,"Upgrade the leveldbjni version used.



git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443114 13f79535-47bb-0310-9956-ffa450edef68",5,10
46e67a10ccac3c1c6dd7fc20a8b03337b9655482,"Enhances the Http(s) and ws(s) transport Servers such that they can update the connectUri after starting so that test cases can use the any port option on their URI like ""localhost:0"" and get the connection string after the BrokerService is started.  This will allow most of those test cases to be updated so that they don't fail because the hard coded port is already bound. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443146 13f79535-47bb-0310-9956-ffa450edef68",57,114
c7d559fbcd5edd0be0b5079cceb7ba7df7e1ef5b,"Fix a bunch of warnings covering deprecated asserts and such. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443267 13f79535-47bb-0310-9956-ffa450edef68",1056,1128
4743a20be3807b9196ae0acf89884a50c52849d6,"Fix a bunch of warnings covering deprecated asserts and such. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443600 13f79535-47bb-0310-9956-ffa450edef68",1531,1560
600f209e4c00a480bf88fba7567c4cb5111b6854,"Don't use hardcoded ports.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443642 13f79535-47bb-0310-9956-ffa450edef68",152,166
9e9cce1dd9dc1caceeb871932f10cf2f3f0dbff5,"Polished README.txt

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443873 13f79535-47bb-0310-9956-ffa450edef68",3,3
bfde5c3bd682ca3d9bb748a4b459cde7accff290,"Polished

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1443877 13f79535-47bb-0310-9956-ffa450edef68",9,9
386b7bb844c981b949c776862059c80240fc2424,"improving building maven site

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1444071 13f79535-47bb-0310-9956-ffa450edef68",25,45
94b9d551b7091155edd9fb28fba792ba4c58a826,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4306

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1444193 13f79535-47bb-0310-9956-ffa450edef68",5,5
d9db37ee9553790ab2a86a97a6ba504c5f6be9d9,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4307

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1444194 13f79535-47bb-0310-9956-ffa450edef68",1,1
877f83bc441feafcf9dccb8bf6d9b00f19690385,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4308

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1444204 13f79535-47bb-0310-9956-ffa450edef68",2,7
cd5e1f3d998e17b47f2d0070db90a5d264ff59a3,"update the leveldbjni version

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1444823 13f79535-47bb-0310-9956-ffa450edef68",1,1
571d45205325655b1afa6523faa13dc59bace63e,"https://issues.apache.org/jira/browse/AMQ-4298 Add mutual authentication (needClientAuth) to https transport added tests as well

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445299 13f79535-47bb-0310-9956-ffa450edef68",6,379
2a64e88bd01d292d0ea296b3bb11572f65bc7d41,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4312

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445436 13f79535-47bb-0310-9956-ffa450edef68",1,252
2c3d947b69526a6382bede974208d60ed3a240fe,"Fix for https://issues.apache.org/jira/browse/AMQ-4309 Add usage limit check when limit for destinations is present

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445474 13f79535-47bb-0310-9956-ffa450edef68",0,4
f406e86b8a6b8bdb18d7de879307fde6f365c2d8,"https://issues.apache.org/jira/browse/AMQ-4303 Health status MBean - Feeling ill, hard to read ""ill"" in jconsole... changed to ""getting worried""

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445476 13f79535-47bb-0310-9956-ffa450edef68",1,1
dc86b87236a925e78e3d7c5ee5d7f2dd7e315c75,"Avoid building/packing legacy/deprecated modules.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445631 13f79535-47bb-0310-9956-ffa450edef68",2,12
b2fca262130eaec6af3f2f1caf938b5c96e00c3b,"Remove deprecated modules.  Converted many AMQ store tests to be LevelDB tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445633 13f79535-47bb-0310-9956-ffa450edef68",30057,314
7bc717889944f670de23d73361e628c2a4ec4407,"Fix for https://issues.apache.org/jira/browse/AMQ-4305 Support destination lookup by JNDI name in resource adapter, patch applied, thanks Harald Wellmann. Also added unit tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445642 13f79535-47bb-0310-9956-ffa450edef68",8,138
48effa8d2d0f1db28d59f8275641468923259357,"https://issues.apache.org/jira/browse/AMQ-4296

turn the failing tests back on.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445704 13f79535-47bb-0310-9956-ffa450edef68",10,5
eef380df62eb0e708db03188edf50c6b915e31cc,"Remove empty folders from the project tree. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445724 13f79535-47bb-0310-9956-ffa450edef68",0,0
aa32dbde8397b800a513253285b93e8191760267,"Added a test that shows using virtual topics in a network of brokers to resolve some of the pain that comes up with durable subscriptions across a network. This test demonstrates the use of Virtual Topics and ConditionalNetworkBridgeFilterFactory with replayWhenNoConsumers=true

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445772 13f79535-47bb-0310-9956-ffa450edef68",0,176
9d6cd8915de9f463e89b342cfafee11de20192b2,"Fix for https://issues.apache.org/jira/browse/AMQ-4315 duplicate files (leveldb and activemq-spring) in distribution

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1445995 13f79535-47bb-0310-9956-ffa450edef68",4,0
c9fcc006ed29a6b9913cabd2918abad4dad5d381,"https://issues.apache.org/jira/browse/AMQ-4317 - activemq-camel feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1446245 13f79535-47bb-0310-9956-ffa450edef68",44,33
ecd5c2f738552f534ab2c34e1ad532c79b258e84,"Fixes AMQ-4320: Destinations are not auto created when using Composite Destination configured on the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1446300 13f79535-47bb-0310-9956-ffa450edef68",1,5
7809e8067e4a6db1a36c26940fc8a83bc3e9d957,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4321

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1446348 13f79535-47bb-0310-9956-ffa450edef68",1,121
b7c32d924af5ada1a2068c77f3bf8e44267edea4,"Fix for https://issues.apache.org/jira/browse/AMQ-4000 Durable subscription not getting unregistered on networked broker, thanks torsten for the unit test!

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1446447 13f79535-47bb-0310-9956-ffa450edef68",40,175
cfe9e151c0c3a8e036413af8ef7598cbd2adbb78,"https://issues.apache.org/jira/browse/AMQ-4317 - activemq-camel feature

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1446543 13f79535-47bb-0310-9956-ffa450edef68",22,7
65bc9f3eaf797ab0db7930b55d8a9206ac55b2ed,"https://issues.apache.org/jira/browse/AMQ-4323 - fix nd test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1446577 13f79535-47bb-0310-9956-ffa450edef68",1,173
83b8df65747dc3c89f3a77026230e2768b4679f1,"Fix for https://issues.apache.org/jira/browse/AMQ-4000 Added test for multiple durable consumers across the network, per Gary's comments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1446979 13f79535-47bb-0310-9956-ffa450edef68",27,64
f08a178c1d18011fb8dbbbd0b1c013cde5a794b3,"https://issues.apache.org/jira/browse/AMQ-4328 - fix and test. With a large backlog the flow can block when the vm transport is sync b/c the async requests can overlap with acks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1447323 13f79535-47bb-0310-9956-ffa450edef68",1,97
3699e70433425bee237af256677004035da7b112,"fix for: https://issues.apache.org/jira/browse/AMQ-4331

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1447512 13f79535-47bb-0310-9956-ffa450edef68",1,1
548e52cde4d5f07f328b5ec56109026d9500ffdf,"another leveldb scenario that needs some investigation, but use case seems dubious - https://issues.apache.org/jira/browse/AMQ-4296

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1447700 13f79535-47bb-0310-9956-ffa450edef68",0,3
97655400e9b7b6455d24c38ff6d1f2174f0f7f27,"another leveldb scenario needing work - https://issues.apache.org/jira/browse/AMQ-4296

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1447701 13f79535-47bb-0310-9956-ffa450edef68",7,6
f4bed15738135474f2700ce3a202585a6325b104,"https://issues.apache.org/jira/browse/AMQ-4328 - regression in AMQ3274Test, need to sync demand sub creation on async vm transport

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1447715 13f79535-47bb-0310-9956-ffa450edef68",2,2
5b5a818f4db6a472b194b2d2679b9212952272d9,"more exclusions - https://issues.apache.org/jira/browse/AMQ-4296

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1447725 13f79535-47bb-0310-9956-ffa450edef68",0,2
def8c77c076a6c984b555c0f91b47c82a634ec3c,"Revert ""Fix for https://issues.apache.org/jira/browse/AMQ-4000 Durable subscription not getting unregistered on networked broker, thanks torsten for the unit test!""
added DurableSubInBrokerNetworkTest to broken test profile till we get this resolved.

This reverts commit b7c32d924af5ada1a2068c77f3bf8e44267edea4.

Conflicts:
	activemq-unit-tests/src/test/java/org/apache/activemq/usecases/DurableSubInBrokerNetworkTest.java

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1448161 13f79535-47bb-0310-9956-ffa450edef68",35,42
6bf22224dd375d1eb49901f7908d0b050ccbb263,"applied patch for: https://issues.apache.org/jira/browse/AMQ-4332

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1448299 13f79535-47bb-0310-9956-ffa450edef68",2,2
6e8bd4518074d3bf3e3821259581a24136fe5a95,"add patch for: https://issues.apache.org/jira/browse/AMQ-4338

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1448470 13f79535-47bb-0310-9956-ffa450edef68",18,14
56cfa302cfba14395a67c02ada11dd739352d8ee,"need a different fix for https://issues.apache.org/jira/browse/AMQ-4328 - AMQ3274Test failure, conflicts with org.apache.activemq.usecases.NetworkBridgeProducerFlowControlTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1448798 13f79535-47bb-0310-9956-ffa450edef68",1,1
806ec21eb6c5969c11f235111b00d5b808f00aef,"https://issues.apache.org/jira/browse/AMQ-4328 - AMQ3274Test, org.apache.activemq.usecases.NetworkBridgeProducerFlowControlTest - sync needs to be conditional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1448809 13f79535-47bb-0310-9956-ffa450edef68",1,6
d75e418c3dad4f3a6237a84d9bae924caf9346c0,"https://issues.apache.org/jira/browse/AMQ-4330

Merge back the isSlave() JMS API. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1449077 13f79535-47bb-0310-9956-ffa450edef68",3,94
bebffd0e8f56025c46da9376291126393db9424e,"https://issues.apache.org/jira/browse/AMQ-4333 - fix and ensure existing test is executed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1449080 13f79535-47bb-0310-9956-ffa450edef68",19,12
7a0b32b82baef74dca049f9d6510b8b0e60fab51,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4342

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1449157 13f79535-47bb-0310-9956-ffa450edef68",1,1
74bccd57c61fb6c088e7fd0bce982ca69facc663,"some more sanity to this renew test, https://issues.apache.org/jira/browse/AMQ-4122

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1449184 13f79535-47bb-0310-9956-ffa450edef68",2,16
0e148fb4ba9e8f75bd39a641b697ec975a340fcb,"Added tests for AMQP to JMS transformations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1449562 13f79535-47bb-0310-9956-ffa450edef68",1,227
8b3761c5752cd2efa6d0596f6ed48e5e77c61bb0,"fix for: https://issues.apache.org/jira/browse/AMQ-4319

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1449797 13f79535-47bb-0310-9956-ffa450edef68",79,179
7e61d56ca2aa2e44053a946fe61da6838a5f8643,"fix for: https://issues.apache.org/jira/browse/AMQ-4345

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1449904 13f79535-47bb-0310-9956-ffa450edef68",1,1
ef1d254e34a5f32f9f46161bf45020c48f555cdd,"AMQ-4122 - add log warning if lease will expire due to mal configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450213 13f79535-47bb-0310-9956-ffa450edef68",0,12
4d9f7080d4e2b217e3c357b2ba3a2747b120b565,"ensure test can find basedir

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450226 13f79535-47bb-0310-9956-ffa450edef68",0,9
aa88843e728183b54ea53fb1c515ef6ba3eef59b,"fix pom exclusion for failing test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450243 13f79535-47bb-0310-9956-ffa450edef68",1,1
122656a20d616f178fe5c4ad512d75358244d315,"corrected wireFormat option case. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450270 13f79535-47bb-0310-9956-ffa450edef68",2,2
f60da9866f3c05ab5275c30c53e07943c314f096,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4338

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450366 13f79535-47bb-0310-9956-ffa450edef68",25,25
2468be18fab2d36a912091409a65829915d427f2,"Move a couple methods into the test support class. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450378 13f79535-47bb-0310-9956-ffa450edef68",16,29
30b20b3f3888a4cd1a60328f0a33a602c3a80787,"https://issues.apache.org/jira/browse/AMQ-4341 - apply patch from ioannis with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450550 13f79535-47bb-0310-9956-ffa450edef68",22,112
af5f38797dbb8fc5d3090ffc5736c3f89ec55698,"https://issues.apache.org/jira/browse/AMQ-4341 - some more tweaks and tests from the feedback

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450824 13f79535-47bb-0310-9956-ffa450edef68",19,51
e5768c009b3b677099fd074b8d32f6d667877a74,"move pax exam itests after osgi and web console builds so they pick up the latest bundles

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1450840 13f79535-47bb-0310-9956-ffa450edef68",1,1
bba7b38d2fb1e268b5b09c66412e5efe0212739f,"Fix test name and drop the message count to 1000 which should be plenty. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1451009 13f79535-47bb-0310-9956-ffa450edef68",2,2
7a159152384c78ef1dc0d7a063b4118cd7609e8d,"Longer receive timeout to account for slower systems 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1451307 13f79535-47bb-0310-9956-ffa450edef68",1,1
d98c3e02490d9b4125fc63737264a03caf07ffac,"Older Windows machine have a slow clock tick interval so make sure the message immediately expires.  In case it still doesn't make it wait long enough for the next sweep to remove expired messages from the Queue. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1451323 13f79535-47bb-0310-9956-ffa450edef68",2,2
d8aca933283ffbde3ce6be839334875e7f9fd99d,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4355

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1451608 13f79535-47bb-0310-9956-ffa450edef68",16,23
03c79886a30dd976b4c261c99ec7a7ff7778cef9,"fix for: https://issues.apache.org/jira/browse/AMQ-4359

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1451649 13f79535-47bb-0310-9956-ffa450edef68",5,11
c46c0401223366fafae5a494133b7cb94c1310ab,"Don't use hard coded port for the Broker.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1452371 13f79535-47bb-0310-9956-ffa450edef68",13,13
a34fbb909c4c42895a8b8313bcbc4a2b4bec1411,"fix for: https://issues.apache.org/jira/browse/AMQ-4360

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1452979 13f79535-47bb-0310-9956-ffa450edef68",49,5
931ca1882e262773d885c2919d7e940813ff13a4,"fix for: https://issues.apache.org/jira/browse/AMQ-4360

Update spring pooled bean and config files to use non-deprecated calls.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1452985 13f79535-47bb-0310-9956-ffa450edef68",22,12
5bc37afb3be37e78a9459585ad04890403ff92a8,"test for some mbean queries

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1453871 13f79535-47bb-0310-9956-ffa450edef68",13,23
5abd154e1936c1ad7ffef96cb96ca9a9a7374693,"fix for: https://issues.apache.org/jira/browse/AMQ-4360

Update spring pooled bean and config files to use non-deprecated calls.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1453921 13f79535-47bb-0310-9956-ffa450edef68",3,3
2d46399ff3b4edc4af396be393967ff80bdf60d3,"fix for: https://issues.apache.org/jira/browse/AMQ-4363

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1453964 13f79535-47bb-0310-9956-ffa450edef68",2,9
fc15f130d12d78f317e50231bdc44a8bdb36b0a7,"https://issues.apache.org/jira/browse/AMQ-4362 - Broker-based redelivery plugin - support for maximumRedeliveries=""-1""

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1454330 13f79535-47bb-0310-9956-ffa450edef68",17,34
c6c3b2351ac1e1a50f634058c90046ac19f747a5,"https://issues.apache.org/jira/browse/AMQ-4364 - relevant test that works ok

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1454333 13f79535-47bb-0310-9956-ffa450edef68",2,2
885b8c97752c8ff81ff994a4b490cd991424a6ec,"fix up tck violation on xasession interface after close expectations

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1454422 13f79535-47bb-0310-9956-ffa450edef68",0,27
4e624b0393dbde007e09cb9fae3373b4b9b3666f,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4306

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1454501 13f79535-47bb-0310-9956-ffa450edef68",0,43
f664be74619c78429a183ea15d6fa184e8d06251,"Fix for: https://issues.apache.org/jira/browse/AMQ-4366

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1454514 13f79535-47bb-0310-9956-ffa450edef68",15,46
5795eb8b8b9c1d8b3972fc204ac404e9525a2fa1,"Fix for: https://issues.apache.org/jira/browse/AMQ-4366

Expand the test a bit 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1454522 13f79535-47bb-0310-9956-ffa450edef68",3,16
846cf7df3fdea5c27030ed77473aba3b5a4699aa,"Added at test case and fix for AMQ-4351.

Avoids deadlock by not holding on to the pending and dispatch locks when we try to detach a durable sub from a topic.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1455290 13f79535-47bb-0310-9956-ffa450edef68",1,240
4c5197711a38d49b5589db10e8f5d9f76cc16851,"Fixes AMQ4368.  Make sure we don't try to GC the database midway through a store operation.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1455661 13f79535-47bb-0310-9956-ffa450edef68",46,265
27c424ca19495fdbf5ffce3301e9d7813f3f3a91,"https://issues.apache.org/jira/browse/AMQ-4369 - ensure default handler in place before transport connectors are started

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1455944 13f79535-47bb-0310-9956-ffa450edef68",2,2
3293579e7c738ad77cdb56ba64ed7b6dc7096e68,"Update to the tests for better stability on some platforms.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1455981 13f79535-47bb-0310-9956-ffa450edef68",3,15
fbe632e968b16efb6ea841d3478cc42760918155,"https://issues.apache.org/jira/browse/AMQ-4341 - making package imports optional, so activemq-osgi can be used without all the deps

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1456415 13f79535-47bb-0310-9956-ffa450edef68",8,10
f87f56294df3d1494e9bb548fe989bb111e1c08b,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4373

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1456485 13f79535-47bb-0310-9956-ffa450edef68",2,27
1fdcf592b785b8f49c749f2001e7dbad79e62e5c,"https://issues.apache.org/jira/browse/AMQ-2098 - remove mandatory xstream/jettison dependency when using stomp

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1456940 13f79535-47bb-0310-9956-ffa450edef68",34,39
4276091e21ff4c4773aa614c45bd145b99a9d08f,"https://issues.apache.org/jira/browse/AMQ-4377 - bring back activemq-blueprint module

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1456991 13f79535-47bb-0310-9956-ffa450edef68",0,118
a42420d44473301b4a18b4c68524de5292a1907b,"Use the client and server keystore from the activemq-unit-tests module since the current ones in activemq-mqtt are expired. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1457054 13f79535-47bb-0310-9956-ffa450edef68",0,0
39c27f9ebb262f302c16170fd24537d4c7b677a0,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4379

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1457073 13f79535-47bb-0310-9956-ffa450edef68",1,2
ae62b70f309d4633db4b2d48a89862944a9c2fd5,"https://issues.apache.org/jira/browse/AMQ-4034 - change activemq-osgi resource plugin to properly include xsd and other spring resources

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1457730 13f79535-47bb-0310-9956-ffa450edef68",2,10
7d907768466e8f6c2a95c617e200b69db7b36bfe,"tweak to fix failing tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1457822 13f79535-47bb-0310-9956-ffa450edef68",8,0
95f17c2040552a81c5de20c6ad94756280088e45,"fix for: https://issues.apache.org/jira/browse/AMQ-4384

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1457917 13f79535-47bb-0310-9956-ffa450edef68",3,23
4cbfbbb10c482c969d9ddb694ad7a11f7b0cb321,"fix for: https://issues.apache.org/jira/browse/AMQ-4385

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1457943 13f79535-47bb-0310-9956-ffa450edef68",1,22
1d9b34715716d67fb2296edc962c05321dea9f13,"fix for: https://issues.apache.org/jira/browse/AMQ-4386

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1457996 13f79535-47bb-0310-9956-ffa450edef68",29,28
84eab9b5bbcd948fb6a40bb38981f449987f7571,"fix for: https://issues.apache.org/jira/browse/AMQ-4388
fix for: https://issues.apache.org/jira/browse/AMQ-4387

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1458015 13f79535-47bb-0310-9956-ffa450edef68",11,9
6cdf756e91018c4bb20778c1dcef5a813cf49663,"fix for: https://issues.apache.org/jira/browse/AMQ-4389

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1458514 13f79535-47bb-0310-9956-ffa450edef68",7,18
e80dc817418d0707dd6ab4fbcbd94d9ac3691722,"https://issues.apache.org/jira/browse/AMQ-4341 - fix activemq-osgi headers and dependencies; make javax.* non-optional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1458717 13f79535-47bb-0310-9956-ffa450edef68",6,6
7b5f9563cd75955b59cd3d7e2b14f5671038d845,"Fix for: https://issues.apache.org/jira/browse/AMQ-4392

Unregister the connection on the Broker side so client's with the same client ID can reconnect. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1458900 13f79535-47bb-0310-9956-ffa450edef68",10,45
0d58477039f01617c3f1287eb20c118bfa5e0522,"fix for: https://issues.apache.org/jira/browse/AMQ-4393

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1458920 13f79535-47bb-0310-9956-ffa450edef68",6,36
148ca81dcd8f14cfe2ff37012fd1aa42518f02dc,"https://issues.apache.org/jira/browse/AMQ-4397 - xss in cron expressions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1459265 13f79535-47bb-0310-9956-ffa450edef68",8,8
fafd12dfd4f71336f8e32c090d40ed1445959b40,"https://issues.apache.org/jira/browse/AMQ-4398 - sanitize header in stock portfolio servlet

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1459301 13f79535-47bb-0310-9956-ffa450edef68",3,1
9027d4951614707786b0f0fae081a49a32828d09,"https://issues.apache.org/jira/browse/AMQ-3883 - allow arbitrary group principal class to be used by authorization map

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1459834 13f79535-47bb-0310-9956-ffa450edef68",42,57
091ee37b8e6eae0fca3cdb6f4e9187b9f40469de,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4400

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1459969 13f79535-47bb-0310-9956-ffa450edef68",4,8
2f469c1744bbdec54d6c9b90a37ee726409f280a,"https://issues.apache.org/jira/browse/AMQ-3883 - refactoring to make authoriation module with arbitrary group class configuration easier

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1460766 13f79535-47bb-0310-9956-ffa450edef68",42,152
8a49bbe4b6738065775c0b5a4cc7e8930c294749,"removing some deprecated config examples

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461089 13f79535-47bb-0310-9956-ffa450edef68",212,0
9c909b59752aad9be9d3582d1376be7be9880b93,"https://issues.apache.org/jira/browse/AMQ-4406 - remoce command agent

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461133 13f79535-47bb-0310-9956-ffa450edef68",522,0
bcb768c14d309926184d6587c02a9ed4a3619445,"Updated to take into account scenario from mailing list where durable sub would connect.reconnect every second message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461153 13f79535-47bb-0310-9956-ffa450edef68",18,68
78bedd605ab543ba4f913765becec8c770031fa2,"https://issues.apache.org/jira/browse/AMQ-4408 - fix and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461362 13f79535-47bb-0310-9956-ffa450edef68",1,69
ed6c472601fe02c4f0f082e5c87f2c19b0d77835,"https://issues.apache.org/jira/browse/AMQ-4407 - thanks for the test, to fix we need to ensure a persistence adapter is started, b/c it is stopped when the last dest is removed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461528 13f79535-47bb-0310-9956-ffa450edef68",3,180
e1d4a0f986907f912640d85a695ece2fc2d8e644,"fix for: https://issues.apache.org/jira/browse/AMQ-4410

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461595 13f79535-47bb-0310-9956-ffa450edef68",1,1
7e60a2c6eda6f549203614554fd59d222bcc0008,"https://issues.apache.org/jira/browse/AMQ-4411 - make native deps optional in osgi metadata

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461608 13f79535-47bb-0310-9956-ffa450edef68",1,2
734b9babbae0dfc6f2d2ff2d89534d44714f7ab5,"AMQ-4412 - align jackson version with Camel

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1461819 13f79535-47bb-0310-9956-ffa450edef68",1,1
b52c371cd98806272f54ddfd08ebd990c434bbc6,"fix for: https://issues.apache.org/jira/browse/AMQ-4364

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1462210 13f79535-47bb-0310-9956-ffa450edef68",5,29
f7f294f059acc42a434c596ca51b666137f44352,"test code updates to address: https://issues.apache.org/jira/browse/AMQ-4415

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1462252 13f79535-47bb-0310-9956-ffa450edef68",87,146
14b91d41b5332fc7cabfac7962d0f06adec5fb8d,"patch some test code: https://issues.apache.org/jira/browse/AMQ-4296

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1462346 13f79535-47bb-0310-9956-ffa450edef68",2,8
0507ad380b8c01978c0dac0a76a1d9547467a171,"https://issues.apache.org/jira/browse/AMQ-4418 - refactor web demo to be war that can be ran in karaf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1462479 13f79535-47bb-0310-9956-ffa450edef68",400,144
719f5e89461422f22b203b08f8ad28e511fc40e6,"allow obr client dependency to resolve spring for blueprint pid factory in osgi-inf - https://issues.apache.org/jira/browse/AMQ-4341

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463526 13f79535-47bb-0310-9956-ffa450edef68",1,1
670d9d84a7ce193d578c5ebdf0f14293389ed21a,"https://issues.apache.org/jira/browse/AMQ-4426 - fix and tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463528 13f79535-47bb-0310-9956-ffa450edef68",1,100
2aed3a708cb026c85176ac65ecddabf54488a030,"patch for: https://issues.apache.org/jira/browse/AMQ-4427

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463573 13f79535-47bb-0310-9956-ffa450edef68",0,1
059fd2f8c427f9035d94ec87c2e539b2aab7670c,"https://issues.apache.org/jira/browse/AMQ-4426 - queuesender and topicpublisher need to delegate destination tracking, otherwise anonymous publishers return null destination

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463789 13f79535-47bb-0310-9956-ffa450edef68",3,26
07c3db5eebc1ec6f9ddc3b82eb636b828528a59b,"https://issues.apache.org/jira/browse/AMQ-4426 - allow objectfactory prop config via jndi, java:/amq/pcf config properties as strings in java:/amq/conf/pfc context

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463790 13f79535-47bb-0310-9956-ffa450edef68",26,64
a3578eb91beb7ae2ae2938b46af2a9ea25abe283,"https://issues.apache.org/jira/browse/AMQ-4426 - for cmt, ignore args to create session when tm and no tx, so session_transacted is not passed down to cf, avoid config error ex

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463908 13f79535-47bb-0310-9956-ffa450edef68",0,62
b65fd2710907863e6faa53de1a4b0acb963dbc49,"https://issues.apache.org/jira/browse/AMQ-4432 - itest with mods to support, spring.handlers is now aware of camel handler

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463909 13f79535-47bb-0310-9956-ffa450edef68",4,225
ef6beb78fe483cab855ec5f76052616890e06f71,"https://issues.apache.org/jira/browse/AMQ-4432 - ensure camel-*.xsd can be found locally

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1463923 13f79535-47bb-0310-9956-ffa450edef68",0,29
14a93811c6d3f491d59dcd68b7b879eba60c4110,"https://issues.apache.org/jira/browse/AMQ-4432 - validate camel spring route to deploy directory

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1464068 13f79535-47bb-0310-9956-ffa450edef68",56,177
8e388b86d6d392151cf686364cfcd21d62c78046,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4361

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1464165 13f79535-47bb-0310-9956-ffa450edef68",20,195
4aa87cedc5d9bd47684717ff3ef897c15df30932,"add validation of ws tranpsort in karaf

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1464419 13f79535-47bb-0310-9956-ffa450edef68",2,3
77fe814b9ec7970cec70833be0754fa8345eac38,"fix for: https://issues.apache.org/jira/browse/AMQ-4435

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1464568 13f79535-47bb-0310-9956-ffa450edef68",0,8
1b38caacf4eb73e92bd8f9db529d9939f0f4f49e,"fix junit warnings. https://issues.apache.org/jira/browse/AMQ-4437

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1464584 13f79535-47bb-0310-9956-ffa450edef68",204,166
0054941a53fae1494fbbff417a8e70feff8f8581,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4356

The actual Durable subscription wasn't getting removed from the Store so on restart they were recovered.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1464729 13f79535-47bb-0310-9956-ffa450edef68",12,224
2b5d9b152a8a353553e137c98d09d3eee197516e,"fix for: https://issues.apache.org/jira/browse/AMQ-4438

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1464760 13f79535-47bb-0310-9956-ffa450edef68",4,6
585a966a9b512d0e1709e067f82d1998a8701d2b,"https://issues.apache.org/jira/browse/AMQ-4461 - priority backup with multiple brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1465683 13f79535-47bb-0310-9956-ffa450edef68",1,43
858ab263d48be2a907b2ea33cbf97742938cbebb,"Fix and test for: https://issues.apache.org/jira/browse/AMQ-4441

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1465723 13f79535-47bb-0310-9956-ffa450edef68",6,116
a80c711d7881097a7042715cf05675ed7bb027bd,"fix for: https://issues.apache.org/jira/browse/AMQ-4463

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1465814 13f79535-47bb-0310-9956-ffa450edef68",9,19
2aff82c47a9667c20b8b4ea10252471f441f6084,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4464

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1466131 13f79535-47bb-0310-9956-ffa450edef68",3,114
32042a5b8bb89f31e1aeee66b0465fd82ddd6815,"update some deps with bugfix versions. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1466287 13f79535-47bb-0310-9956-ffa450edef68",7,7
e33e994f9172fef16c56ff522bc8488557338225,"Merge branch 'perf-tool-broker-gplus-thread' into trunk

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1466499 13f79535-47bb-0310-9956-ffa450edef68",18,23
c7308a1183e0ef6b3fbf58897f25424a555f0534,"Add a KahaDB trace entry for reference.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1467106 13f79535-47bb-0310-9956-ffa450edef68",0,1
15affd0755deeebcdc670039ec1d19fefe0d8c65,"https://issues.apache.org/jira/browse/AMQ-3706 - improve rebalance distribution which is more apparent when only two brokers are involved

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1467241 13f79535-47bb-0310-9956-ffa450edef68",8,92
2aba7845db261448c87b3b7a5968e0b88af76f2a,"AMQ-4212 Add KahaDB v4 data for use in testing the upgrade to v5 that this issue requires. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1467377 13f79535-47bb-0310-9956-ffa450edef68",0,0
3f9b6ed391784e75598fee1fa23ac897a98af57a,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4469

Rewrote the unit test as a JUnit 4 test and remove hard coded 61616 port dep. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1467510 13f79535-47bb-0310-9956-ffa450edef68",8,128
e6c6951bed5acc0a7cebc15f7cb55935030ba9d6,"https://issues.apache.org/jira/browse/AMQ-4275 - more improvements to activemq-maven-plugin; include all dependencies and use default value for the project

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1467950 13f79535-47bb-0310-9956-ffa450edef68",2,2
3bf9d0ccebbffc6a726e6251e78b88d5c240e58f,"fix for: https://issues.apache.org/jira/browse/AMQ-4212
fix for: https://issues.apache.org/jira/browse/AMQ-2832

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1468171 13f79535-47bb-0310-9956-ffa450edef68",101,780
893a1ce88c439a58e8db83e22abe7938185329bf,"updated for https://issues.apache.org/jira/browse/AMQ-4473 Allow enabling remote debug from newly created broker instance

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1468733 13f79535-47bb-0310-9956-ffa450edef68",0,2
7e53814928fa098adf8aabee9bfa4ed8f5e3921f,"Fix and test for: https://issues.apache.org/jira/browse/AMQ-4475

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1469013 13f79535-47bb-0310-9956-ffa450edef68",1,329
705b3c5f9d30b8d780af59bfb96aeb9717ba4dcb,"https://issues.apache.org/jira/browse/AMQ-4472 - test case that shows the problem with prefetched messages and delayed close till commit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1470459 13f79535-47bb-0310-9956-ffa450edef68",0,91
e1f170da6eeec43b3cc0a1d5b4bde08d52731ac9,"https://issues.apache.org/jira/browse/AMQ-4483 - improve dlq managment

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1471420 13f79535-47bb-0310-9956-ffa450edef68",0,92
163ad5d4a929667821ac11637202a12db0f1fd5e,"Fix for AMQ4472: We can eagerly close a txed consumer if it has not delivered any messages.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1471673 13f79535-47bb-0310-9956-ffa450edef68",2,2
66e8011e9e9921782de4744facb728a46cd538ce,"https://issues.apache.org/jira/browse/AMQ-4485 - ensure cursor updates in same order as store orderindex via beforeCompletion with index lock. The before completion tracks ordered work that first thread completes as a unit. All updates to a destination are combined to a single sync, such that there is no cursor contention between transactions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1475734 13f79535-47bb-0310-9956-ffa450edef68",69,333
f2b01a7f01eeb6d6d5c048ad58b6942576e823d6,"https://issues.apache.org/jira/browse/AMQ-4486 - fix and test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1475798 13f79535-47bb-0310-9956-ffa450edef68",16,25
7057e819eb9a8d6357410c89222c81f2fa0d5960,"Fix for: https://issues.apache.org/jira/browse/AMQ-4488

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1475842 13f79535-47bb-0310-9956-ffa450edef68",0,7
3039b67cb2bf5ec050ced6afee24c9b58373ce24,"fix for: https://issues.apache.org/jira/browse/AMQ-4351

Ensure the destination statistics are updated on durable sub deactivate. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1476433 13f79535-47bb-0310-9956-ffa450edef68",20,65
5c6b8ba11f2e77cd7fb6102f7ad0cb759ca26723,"Adding an initial spike of a M/S replicated leveldb store. Replication protocol is working nicely, just need automated M/S election bits.
Move tests in a test package.
Rename the HA* classes to DFS*.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1476719 13f79535-47bb-0310-9956-ffa450edef68",178,1816
ca814802ca35ec0f1469ab9dfd471a45fa71c32c,"Add more replication tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1476786 13f79535-47bb-0310-9956-ffa450edef68",38,102
1eeae773395220fe244f946a91d66e184d06326b,"Added an new ElectingLevelDBStore which handles the M/S election bits using ZooKeeper.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1477387 13f79535-47bb-0310-9956-ffa450edef68",154,1012
5cbb4bfc12256a37bd8a82881c1a793bbe562c94,"https://issues.apache.org/jira/browse/AMQ-4467 - cursor memory usage when pfc is off

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1477574 13f79535-47bb-0310-9956-ffa450edef68",1,91
e507461dbc96e471f2bbea51d9fecbe45a7fd36e,"Get the replicatedLevelDB element working in the activemq standalone config.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1477709 13f79535-47bb-0310-9956-ffa450edef68",22,85
d52e5910a51252b3091c543bb2a118f86661e58a,"apply patch: https://issues.apache.org/jira/browse/AMQ-4500

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1477830 13f79535-47bb-0310-9956-ffa450edef68",0,7
fbac51c8f8709b0e5a831c8dbbd2fae58bfc1ea1,"https://issues.apache.org/jira/browse/AMQ-4501

Partial fix, perform a proper URI comparison to avoid an unnecessary reconnect bounce.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478083 13f79535-47bb-0310-9956-ffa450edef68",25,60
4742c7d86f7312d2b023b8120064341051ab348d,"https://issues.apache.org/jira/browse/AMQ-4504 - ensure all dests in a composite get a chance to dispatch to a consumer after an ack

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478183 13f79535-47bb-0310-9956-ffa450edef68",0,88
e777126d3006f15868e890864ec795f1cfeff324,"fix for: https://issues.apache.org/jira/browse/AMQ-4501

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478184 13f79535-47bb-0310-9956-ffa450edef68",24,59
723e117b5faf20b2863d9b72cead20eb539914c6,"added sample config for replicated leveldb store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478231 13f79535-47bb-0310-9956-ffa450edef68",0,173
2a1bc72c0c7de2429dbb26c1aa86eea5d59709eb,"test to help debug hawtio not being able to browse DLQ...

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478266 13f79535-47bb-0310-9956-ffa450edef68",0,109
d6873244653bfea6aa569e0650799181593967b8,"https://issues.apache.org/jira/browse/AMQ-4507 - apply fix with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478357 13f79535-47bb-0310-9956-ffa450edef68",1,1
b9cc24bdb6c697e6b2d2da017e40cdcd73332441,"Swap expected and actual so that they match the intent of the assertion, otherwise the error message is misleading. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478395 13f79535-47bb-0310-9956-ffa450edef68",3,3
ede1705e34dac19d6e57940d5dc3a05d446e3881,"The replicated leveldb store will now stash the last known good replica before starting to replicate with a new master.  If the replication does not fully synchronize before a slave failure occurs, the store will revert back to the the stashed state.

If a slave connection encounters an error, try to reconnect again after 1 second.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478548 13f79535-47bb-0310-9956-ffa450edef68",47,160
943011e92ece2ba5d8d7fb9f3ca34c92ae5a2923,"Remove commented out tests.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478549 13f79535-47bb-0310-9956-ffa450edef68",277,0
7450a32ae7a7a34d2ddd68b7668afc82564eb61c,"https://issues.apache.org/jira/browse/AMQ-4495 - always get a max batch of messages from the store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478823 13f79535-47bb-0310-9956-ffa450edef68",18,219
3a8eb74a9fd422e9137ccb3bf75201b52dd809ba,"Fix and test for: https://issues.apache.org/jira/browse/AMQ-4505

When a broker was stopping it was sending out a cluster update after tearing down its bridges so any client connected to it would lose its awareness of other brokers in the cluster. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478835 13f79535-47bb-0310-9956-ffa450edef68",91,141
bf071376b576cb9a1d294822ba721b324070480e,"https://issues.apache.org/jira/browse/AMQ-3097 - apply patch with some additional unit test, with thanks

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478973 13f79535-47bb-0310-9956-ffa450edef68",1,1057
436f892c16cf00b27ac221ba4ee655ae3b1ba468,"fix for: https://issues.apache.org/jira/browse/AMQ-4468

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1478976 13f79535-47bb-0310-9956-ffa450edef68",10,21
864fdbebef4f77b2f5cd46b2463909eea64f0ba1,"https://issues.apache.org/jira/browse/AMQ-4428 - patch applied with thanks - errors are now logged and throwables propagate

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1479852 13f79535-47bb-0310-9956-ffa450edef68",4,5
866440dfb2535cd87cbc1be181989e69c2ad9fcf,"Fix for https://issues.apache.org/jira/browse/AMQ-4516 - Don't decrement topic enqueues when messages are expired
Removed the call to decrement the counters, and added unit test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1479925 13f79535-47bb-0310-9956-ffa450edef68",7,42
d7aaca50348f92c0dfe87d775da5021dd0763b4f,"Fix and test for: https://issues.apache.org/jira/browse/AMQ-4513

Makes the locking in RegionBroker a bit more fine grained.  We hold a lock only for a short time and allow destination adds that aren't on the same destination to continue on concurrently.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1479963 13f79535-47bb-0310-9956-ffa450edef68",66,236
ee97df7422b62b2ddb4ae55dfe3bb329382d757f,"fixed some small code mistypes in replicated leveldb.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480059 13f79535-47bb-0310-9956-ffa450edef68",4,3
5a299b76eb152cf30d9f48c928f582ed1a408fab,"fix for https://issues.apache.org/jira/browse/AMQ-4519 - MasterLevelDBStore does not shutdown its protocol server when stopped
made fix and added test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480060 13f79535-47bb-0310-9956-ffa450edef68",1,86
0bb9013769287809bb5d8339f4d21af01ecd110d,"Fix for: https://issues.apache.org/jira/browse/AMQ-4517

Don't send MessageDLQd advisory for Message that aren't sent to a DLQ

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480087 13f79535-47bb-0310-9956-ffa450edef68",117,521
ff9b80040b187bc3baa0c8604d86f52808c48221,"fix for: https://issues.apache.org/jira/browse/AMQ-4520

Load BouncyCastle if present in lib dir.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480117 13f79535-47bb-0310-9956-ffa450edef68",0,14
fc8c8d339ea740cead686de087a77ee8f0813f47,"https://issues.apache.org/jira/browse/AMQ-4522 - set timeToLive when sending a message using JMX

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480189 13f79535-47bb-0310-9956-ffa450edef68",4,12
b5f6bc3c90f1a337a53f72dea8fd98f3824ce489,"https://issues.apache.org/jira/browse/AMQ-4524

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480282 13f79535-47bb-0310-9956-ffa450edef68",5,0
4a16c1ff2769d042c90f204a71382d5817412a8a,"Implements AMQ-4526: ActiveMQ should automatically restart if a Locker looses it's lock.

* Adds a new broker config option 'restartAllowed'.  Set it to false to revert to the preserve behavior.
* Adds a new 'restart' JMX operation on the broker
* The default IO exception handler will trigger a broker restart instead of a broker stop.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480325 13f79535-47bb-0310-9956-ffa450edef68",109,89
3ef7911a1d39ef82201b0f8c495a13ff4f97cb0e,"Fixes bug identified in APLO-284.  Ported fix over from Apollo.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480709 13f79535-47bb-0310-9956-ffa450edef68",27,94
d98ac90f284ae75902cd47049729db21024ef929,"Suspend/Resume index compactions instead of closing out the index.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480710 13f79535-47bb-0310-9956-ffa450edef68",21,24
25356f2695c7fb47e3dfcf44ca552d17bb1d26e7,"Fixes issue identified in APLO-245 where index does not seem to get cleaned up / compacted.  Fix ported over from Apollo.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480711 13f79535-47bb-0310-9956-ffa450edef68",11,106
540b1c6a8917da7f59d3ca27385719eaada835f5,"fix for: https://issues.apache.org/jira/browse/AMQ-4518

Allow purge to disable message expiration check when paging in Messages to be purged.  Avoids attempts at sending messages to a DLQ during a purge operation and in firing advisory messages for expired messages which are being thrown out by request. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480731 13f79535-47bb-0310-9956-ffa450edef68",7,165
2c06326506b4b54218e227860ad35e064eab9dd8,"Fixes AMQ-4251: Scala compile warnings - Compiling activemq-leveldb-store

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1480811 13f79535-47bb-0310-9956-ffa450edef68",33,32
d344aa7a421de9fe8dcd07101ffc5160889fe7d8,"Fixes AMQ-4529: leveldb store NPEs when you send to a composite destination.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481013 13f79535-47bb-0310-9956-ffa450edef68",138,141
2572e2bd04f22499191782fcaa1fcb7d3c1ddcf1,"Add a little main class to the leveldb store module to make it easier to run a broker from your IDE.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481014 13f79535-47bb-0310-9956-ffa450edef68",0,36
e0ae445900a2a80b5368a9a5e6a9681c408abe95,"For AMQ-4338: Lets see if using a newer MQTT client helps.  Also hook into the client tracing and use the auto fail test support base class to timeout the tests if they take too long.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481092 13f79535-47bb-0310-9956-ffa450edef68",8,39
b820ac2bf9b34d2db463c275d488d2144f024127,"fix for: https://issues.apache.org/jira/browse/AMQ-4512

Usage and MemoryUsage sync fixes to keep state consistent during thread contention.  Test case added.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481106 13f79535-47bb-0310-9956-ffa450edef68",95,349
30038957b6ef6049a89bc12b6cd28adaead51a92,"Add a storeConentAndClear() method to message so that we can lower the memory impact of embedded broker usage.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481527 13f79535-47bb-0310-9956-ffa450edef68",3,41
875885dfa994609c78b8a03989c29e29bf4c11e8,"Increase the default auto compaction ratio.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481528 13f79535-47bb-0310-9956-ffa450edef68",2,1
87a29847bbe314773f162cff09800c2de6c6e213,"upgrading leveldbjni to 1.7

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481849 13f79535-47bb-0310-9956-ffa450edef68",1,1
2bd0e5703ebfd17eab0f640741604178298e9623,"apply fix and patch for: https://issues.apache.org/jira/browse/AMQ-4530

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481930 13f79535-47bb-0310-9956-ffa450edef68",18,134
e731c39af7b4bdd9e2e2947b0a11db0b1173eb75,"ix and test for: https://issues.apache.org/jira/browse/AMQ-4531

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1481984 13f79535-47bb-0310-9956-ffa450edef68",52,183
ce67624cd4cad15c7b0bbf9eb32d0788804974ed,"Fix and test for: https://issues.apache.org/jira/browse/AMQ-4484

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482017 13f79535-47bb-0310-9956-ffa450edef68",1,73
58b9a83fe8225b9661dcf3992d0021167160d14a,"https://issues.apache.org/jira/browse/AMQ-4532 - fix and test - ensure disposed exception is propagated to clients on vm server shutdown

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482117 13f79535-47bb-0310-9956-ffa450edef68",1,52
63c0ef179a3421632f8172478f702e3646e4136c,"Fix for https://issues.apache.org/jira/browse/AMQ-4534 When using ElectingLevelDBStore cannot delete all messages on startup

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482180 13f79535-47bb-0310-9956-ffa450edef68",0,9
1399cf9522a98e6b87a992b95e1afae854e657c8,"Fixing regression introduced by AMQ-4529 the JdbcXARecoveryBrokerTest was failing.

Switching the jdbc store to use the entryLocator instead of the dataLocator

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482334 13f79535-47bb-0310-9956-ffa450edef68",7,7
842630c8c74f33c8621d081e044fb06a2d3b71d6,"Implement some tracking of producer positions in the LevelDB store to help the broker to filter out dups.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482788 13f79535-47bb-0310-9956-ffa450edef68",3,42
8461158178c89565d9589a53bda9926a16243632,"Fixes AMQ-4535: Activemq configured with leveldb commit fail when accessed by PutGet from IBM Perf Harness

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482789 13f79535-47bb-0310-9956-ffa450edef68",19,24
e06685fe811e3aaa1817e8bdb4da4b32f71fcb41,"https://issues.apache.org/jira/browse/AMQ-4000 - as part of this feature we need to properly send advisories when durable sub unregisters

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482790 13f79535-47bb-0310-9956-ffa450edef68",29,75
0deda2501d2edc3d6de0ba57e84c5335e64dc4cb,"Fixing regression in last commit.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482794 13f79535-47bb-0310-9956-ffa450edef68",1,10
548c19496cdbdfb088c4053274e8c93a45f31100,"reduce the number of times the sendSyncs map is accessed.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482800 13f79535-47bb-0310-9956-ffa450edef68",4,1
c5788d24bcfc9d568fb7828d7eabb4f2eee1830b,"Reduce the amount of work done while the sendLock is acquired.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482805 13f79535-47bb-0310-9956-ffa450edef68",3,4
2ecb5eaa1bfe050320fedc57689d550828bddf00,"Don't delay flushes for now.  Seems to cause more harm than good.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482845 13f79535-47bb-0310-9956-ffa450edef68",2,2
5a192e790d4657a5cfb1cc337832d68abd56e462,"Adding a Promise class that can allow us to use callbacks to get future computation results.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1482954 13f79535-47bb-0310-9956-ffa450edef68",0,144
f46b184f6c41b1ca3e5f726c4dd451ffe7e4f4a7,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4413

For durable subscriptions the PrefetchSubscription can't drop messages in dispatchPending otherwise they are never added back into the pending cursor. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483111 13f79535-47bb-0310-9956-ffa450edef68",1,242
66c8f9c4b8932b24be53a1e721c8da19b84061f8,"Add missing license header

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483115 13f79535-47bb-0310-9956-ffa450edef68",0,32
086e9de9ac53b9e13d7d244d1811446e2d8d16ac,"Additional fix for AMQ-4535: Seems store was getting out of sync /w cursor due to thread unsafe access in the leveldb store.

Switched to a concurrent HashMap to track the transaction since that will be getting accessed by multiple threads.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483369 13f79535-47bb-0310-9956-ffa450edef68",8,20
e40d280115ca315349ebf890a97881474d43656f,"Reduce how often forced leveldb compactions occur.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483395 13f79535-47bb-0310-9956-ffa450edef68",9,14
b5505d462d9af2e0466b60dac744a038174a67b8,"Fix for AMQ-4296: Don't GC past LevelDB records pointed to by prepared XA transactions.

Also avoid double logging a LOG_ADD_ENTRY.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483530 13f79535-47bb-0310-9956-ffa450edef68",6,8
7071102b139114f8f85fdf593f991e1c75b1a855,"Fix for AMQ-4296 : add a LevelDB test for the AMQ2149TEst

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483538 13f79535-47bb-0310-9956-ffa450edef68",9,31
ef6df688311c3060dd36d2728da865bc1337666f,"Fixes issue in AMQ-4296: Implement a pure LevelDB test for the StoreQueueCursorNoDuplicateTest and fix the bug that was causing it to fail.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483582 13f79535-47bb-0310-9956-ffa450edef68",14,6
5bb563dd1cb01e019ac9bd323b535ccdabfaa9c8,"Send logging to console so we can troubleshoot the build failures on the CI machines easier.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483593 13f79535-47bb-0310-9956-ffa450edef68",1,1
6f124c16f7b0958550ef90dbdde5cbf1c80f03f3,"https://issues.apache.org/jira/browse/AMQ-4539 - add JMSActiveMQBrokerPath string property and brokerPath attribute via jmx message view, the list length is the current number of network hops

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483600 13f79535-47bb-0310-9956-ffa450edef68",1,21
3ded22df3da98ea08461d8dc8774e6a94451084e,"https://issues.apache.org/jira/browse/AMQ-4540 - wait for a max of 30 seconds for pending forwards to complete

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483605 13f79535-47bb-0310-9956-ffa450edef68",2,3
d43d08aa1cd9ed976018bd4fe7f5d9b07a69dd62,"Give the leveldb 3 broker virt topic network test a more appropriate file name.  Also add a  single broker test for leveldb.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483809 13f79535-47bb-0310-9956-ffa450edef68",2,46
1558cbbb556599ad8392de6c8c4d6c984ddcf9a9,"Support multiple local/remote syncing styles.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483810 13f79535-47bb-0310-9956-ffa450edef68",6,49
620523a5979162e57bd08d3ab679e0ce0f8e4030,"https://issues.apache.org/jira/browse/AMQ-4000 - initial implementation of keeping track of durable subscribers over network and unregister them appropriately

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483827 13f79535-47bb-0310-9956-ffa450edef68",36,85
d2d41805c5250148ff68c4c63bebd32556185503,"Add more logging to aid in failing test diagnosis.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483838 13f79535-47bb-0310-9956-ffa450edef68",19,8
b6703d6bd7b65cdd2175616bec59bcd1915f9a9c,"Fixes failing ThreeBrokerVirtualTopicNetwork test associated /w AMQ-4296

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483878 13f79535-47bb-0310-9956-ffa450edef68",0,12
2dd1335b206558b02ffb9d5b6ae0a6e8842460a1,"https://issues.apache.org/jira/browse/AMQ-4000 - bumping openwire version to 10

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483902 13f79535-47bb-0310-9956-ffa450edef68",3,9245
1ee9848d9be759d382bba17f6a3f0593e4d3af8b,"Also log SSL info.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483952 13f79535-47bb-0310-9956-ffa450edef68",0,4
be7cef64382f871b19c40db086198c53f0055af7,"AMQ2584Test was failing on linux due to kahadb taking too long to complete.  Scaled the test back a bit

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1483963 13f79535-47bb-0310-9956-ffa450edef68",5,7
f20e17ae32cd210c4d88bc0a6b9a6a35dc9db49a,"Latest hawtdispatch snapshot should fix the hang in the MQTT SSL test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484012 13f79535-47bb-0310-9956-ffa450edef68",12,12
57617b862fe30372b9e4c4454575d7b79bd68533,"Try initializing the replicated leveldb response_callbacks early on to avoid potential NPE.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484049 13f79535-47bb-0310-9956-ffa450edef68",1,3
2621463a28abc128444765533ec5c12af7904d96,"Fixes deprecation warning.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484141 13f79535-47bb-0310-9956-ffa450edef68",2,1
db08d6e404cca0b500e99ca457742db42511cdf0,"Fixes compile error.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484142 13f79535-47bb-0310-9956-ffa450edef68",1,0
4aac5a6bf3595ee17902ee8fc75e8374cdd3350b,"Fixes AMQ-4544: Cant send MQTT message to AMQP endpoints

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484143 13f79535-47bb-0310-9956-ffa450edef68",2,112
5e13c20707f717d465f66fb28eb06fcfd3a23b03,"Fixes failing AMQ2902 test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484306 13f79535-47bb-0310-9956-ffa450edef68",2,4
e168b3cd6eeae86b3244d36f831846778b64e7d6,"No need to send MQTT debugging to console anymore.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484318 13f79535-47bb-0310-9956-ffa450edef68",1,206
665c3ab33bea063a89ea6eadf2c6445874827b35,"Added a leveldb version of the queue browsing test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484319 13f79535-47bb-0310-9956-ffa450edef68",194,23
3e2dcc12022736949ba01270896974a1fdd62a6b,"No need to sync to the remote machines if a remote sync option is not enabled.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484480 13f79535-47bb-0310-9956-ffa450edef68",1,1
a259537d650a49e2c7201e93298218addf3539e6,"https://issues.apache.org/jira/browse/AMQ-4485 - adding LevelDB variant of NegativeQueueTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484484 13f79535-47bb-0310-9956-ffa450edef68",0,38
4ca6f230d53217ffe2aced57eebe348cb227e3c3,"Switch to released mqtt client version.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484486 13f79535-47bb-0310-9956-ffa450edef68",1,1
49a2d9656ecd53c5a83ab911ca47a378e1458310,"Convert some tests to junit 4 style and add test timeouts.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484496 13f79535-47bb-0310-9956-ffa450edef68",10,24
870fa687d5d97db70470d7fc2248a9f80f0c5805,"Added profile that adds console timestamps.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484510 13f79535-47bb-0310-9956-ffa450edef68",0,26
18eb6b239dd1e79f2110d64d12dd2ed528eaaec4,"Add the plugin repo since the plugin has not made it to central yet.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484512 13f79535-47bb-0310-9956-ffa450edef68",0,8
d9b54d6ae850f43e5211d48a83fdc5f67399deb8,"fix for: https://issues.apache.org/jira/browse/AMQ-4548

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1484999 13f79535-47bb-0310-9956-ffa450edef68",1,10
6e71964291af8662f3937c3f617e6c433e270c63,"Update the leveldb API version.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485209 13f79535-47bb-0310-9956-ffa450edef68",2,2
649876b93146cb8b04b687e14c665ce7066fcba5,"fix broken test after: https://issues.apache.org/jira/browse/AMQ-4516

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485262 13f79535-47bb-0310-9956-ffa450edef68",1,1
48b404869fd532caa6acf398d9a2b7f6782a8cff,"since https://issues.apache.org/jira/browse/AMQ-4495 always pulls in maxPageSize messages and allows for exceeding the MemoryLimit we must adjust the test case to account for that.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485383 13f79535-47bb-0310-9956-ffa450edef68",9,24
6a83487086e8d58cb6431cfcad9dd927d990217c,"AMQ-4552: activemq feature to install in karaf. Still some problems.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485655 13f79535-47bb-0310-9956-ffa450edef68",1,8
629c24ba65563560cd944c46fa5b0f42b52561bf,"Align osgi version to 4.3.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485657 13f79535-47bb-0310-9956-ffa450edef68",2,3
5b0749c4ba288c1015e18d00520369deaecbde94,"Fixes AMQ-4549 : The activemq-all and activemq-osgi modules should have proper uber sources.jar files too.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485809 13f79535-47bb-0310-9956-ffa450edef68",1,411
148909357f2d56a27fa8e56130da7ee35d504013,"related to AMQ-4296 : Fixes leveldb store cursoring.  It was recovering too many messages and sometimes not the right messages.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485810 13f79535-47bb-0310-9956-ffa450edef68",13,23
9200635eeb0708493001910c50b42261760285f1,"Add the uber source assembly descriptor.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485817 13f79535-47bb-0310-9956-ffa450edef68",0,83
75245da626c30318960164a57620dad1944a9a25,"Seems like on some machines leveldb index updates are delayed.. looping seems to fix it.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1485897 13f79535-47bb-0310-9956-ffa450edef68",2,38
02a58c2a34a1851dfbcb810519d6dc1ded43e4dc,"fixes for: https://issues.apache.org/jira/browse/AMQ-4555

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486063 13f79535-47bb-0310-9956-ffa450edef68",361,416
a3060d0c7d12ae6b5859801f5ee85f1dbb1ecf98,"fixes for: https://issues.apache.org/jira/browse/AMQ-4555

Only create update thread on demand. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486074 13f79535-47bb-0310-9956-ffa450edef68",2,2
3ff2d9294c6fe5b5d430a02de704e6c1fa30a4df,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4554

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486225 13f79535-47bb-0310-9956-ffa450edef68",7,130
b41121e359c44781554bd45fe9ad912cf3c11bb4,"This should fixed the problem with the delayed leveldb index updates.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486242 13f79535-47bb-0310-9956-ffa450edef68",33,1
300a26d35072205e31ff630b650634295177c963,"No need for the uber jar anymore since we are part of the distro.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486243 13f79535-47bb-0310-9956-ffa450edef68",51,0
c70d7735c04b3c70152a35d3951c89a780923747,"Add the amqp module to the assembly.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486248 13f79535-47bb-0310-9956-ffa450edef68",2,0
9490793f2ce32d1afd5f88cbb6b0aa2aab918979,"https://issues.apache.org/jira/browse/AMQ-4461 - priority backup should not be restricted by the pool size

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486869 13f79535-47bb-0310-9956-ffa450edef68",3,18
b62648b8d7e0ccd676eb2c76f87cb4947dcfe0b7,"fix for: https://issues.apache.org/jira/browse/AMQ-4560

ensure dispatched Messages are set to Read Only mode before passing onto the transformer. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486951 13f79535-47bb-0310-9956-ffa450edef68",16,71
0766a18953888defa54555d82f8671376da3efec,"fix for: https://issues.apache.org/jira/browse/AMQ-4559

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1486959 13f79535-47bb-0310-9956-ffa450edef68",9,17
d3790761963ca9957aff5bfe85748087ee3c8250,"Test for: https://issues.apache.org/jira/browse/AMQ-4468

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487008 13f79535-47bb-0310-9956-ffa450edef68",0,160
067660ce88739b00e80670f16caa3ecda016b034,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4542

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487018 13f79535-47bb-0310-9956-ffa450edef68",7,45
97e1edc20c62d2f68a8e4f4ce1f0483cc1ed486f,"Fix test failure

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487607 13f79535-47bb-0310-9956-ffa450edef68",1,9
646d0234d7cc4eb655b33dffee0e8faff0055417,"Fix test case, an additional log file is retained now that we are more careful about tracking acks that are needed for recovery from the journal.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487636 13f79535-47bb-0310-9956-ffa450edef68",2,9
0c08d62fa34664ba9a42f1879f1d81cabd624968,"fix test to reflect recent changes in how Topic statistics are updated. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487653 13f79535-47bb-0310-9956-ffa450edef68",1,1
c90322fff04ecc1c4737b0ac2ce3abaa0891a8bd,"fix for: https://issues.apache.org/jira/browse/AMQ-4562

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487874 13f79535-47bb-0310-9956-ffa450edef68",14,37
6fa059837f889ab50ffd889a29ac4cab64fe32ed,"https://issues.apache.org/jira/browse/AMQ-4563

Adding in test case to get this on our radar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487905 13f79535-47bb-0310-9956-ffa450edef68",15,168
03a2c5e81e871d65536c24e1a8cadbc2910752e3,"https://issues.apache.org/jira/browse/AMQ-4563

Updated the test case some more, shows that its a problem with the MessageId handling when we receive Messages from the AMQP JMS client, when we use our own JMS client to send the the IDs are correct and we can properly ack them

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1487950 13f79535-47bb-0310-9956-ffa450edef68",146,191
059258b19540a0842f769e12bf0753d476999c2e,"Add some more tracing capabilities 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1488048 13f79535-47bb-0310-9956-ffa450edef68",0,4
478d98244037009cf7e7607f19190a74a7e54935,"updates for the log4j config.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1488051 13f79535-47bb-0310-9956-ffa450edef68",4,5
b2b4fc81f7773183d13570b174a2a5d0a34de181,"Fix for AMQ-4563: Changes the KahaDB store to use a more consistent key for message ids.  MessageId.toString can change depending on how the message was encoded.
Support storing the externally generated message id of a message in the MessageID class so that Selectors can operate against that external message id.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1488353 13f79535-47bb-0310-9956-ffa450edef68",17,41
34e8331829bd151a5056e72730af684a9d7ac72c,"Part of AMQ-4563: Include the textView as part of the persisted fields in OpenWire 10.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1488354 13f79535-47bb-0310-9956-ffa450edef68",0,6
ec9975c36eddfeb7eb3c6339aac72dc0f71b3d5d,"Additional fixes related to AMQ-4563: You can now configure the storeOpenWireVersion property of a broker to control which version of openwire is used by the persistence stores.  This needs to be set to version 10 to preserve the original AMQP message ids.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1488375 13f79535-47bb-0310-9956-ffa450edef68",6,55
eec7d7404a8e4e94d34ee34d709209a4bc8d462b,"Related to AMQ-4563: Added test cases where we select against the JMSMessageID and fixed a bug that was causing it to fail.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1488376 13f79535-47bb-0310-9956-ffa450edef68",3,62
bb30abf774938e5f639b3efcf6d71fe0810342bb,"Try to avoid the 'short record at position' LevelDB error reported at: http://activemq.2283324.n4.nabble.com/Activemq-5-9-leveldb-replication-issue-tp4667495p4667674.html

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489019 13f79535-47bb-0310-9956-ffa450edef68",2,47
acc51e693ee566382e61c116059338716b833034,"fix recent commit requires leveldb-store as test dep.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489029 13f79535-47bb-0310-9956-ffa450edef68",0,5
3bfb4426b0569dd68f696b5ceb7c502073ac32c5,"Fixes compiler error in last leveldb fix.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489036 13f79535-47bb-0310-9956-ffa450edef68",5,5
bc4392bddea7d864b63cbeba0371e3846b5188d4,"Additional AMQ-4563: Since the version of the OpenWire marshalers is configured, lets persist what it was when the store was created and log a warning should we start a broker with an old store configured to use a higher openwire version than originally set.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489062 13f79535-47bb-0310-9956-ffa450edef68",24,115
37ede544868e2bf662f06dcbb2bffae5dd2f30a9,"some fixes for: https://issues.apache.org/jira/browse/AMQ-4487

Allow the maxProducersToAudit value to be set of Queue and QueueBrowser subscriptions which can help to workaround OOM errors on QueueBrowsers when there are more than the max number of producers audited.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489180 13f79535-47bb-0310-9956-ffa450edef68",30,38
a7f1180295eff26322ed3ad0c1c9ba763dd433e3,"wrote a test to answer question on mailing list, shows wildcard subscription with STOMP

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489275 13f79535-47bb-0310-9956-ffa450edef68",0,38
0e1431e9ae487cffe6d3da278275db86d0c3fd2f,"wrote a test to answer question on mailing list consumer propogation for virtual topics across a network of two brokers

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489280 13f79535-47bb-0310-9956-ffa450edef68",0,205
8bd40e76654cc5735d4fc1f47b399b30f4ad6bf8,"patch for https://issues.apache.org/jira/browse/AMQ-4568 to add a test timeout

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489465 13f79535-47bb-0310-9956-ffa450edef68",7,16
b8a7e9990bfe66ad9fb47768722fcb35388f107b,"some fixes for: https://issues.apache.org/jira/browse/AMQ-4487

Add test case to demonstrate the issue with audit depth and QueueBrowsers.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489468 13f79535-47bb-0310-9956-ffa450edef68",0,139
ba37cbb1dec632a018696a1dac4f7f64ee9a31e8,"Fix for: https://issues.apache.org/jira/browse/AMQ-4571

test case for AMQ-4356 validates this

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489471 13f79535-47bb-0310-9956-ffa450edef68",10,15
8a524d52ef868f0a5e16fcda352f084d92719636,"Fix for: https://issues.apache.org/jira/browse/AMQ-4571

accounts for nested Destination filters.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489485 13f79535-47bb-0310-9956-ffa450edef68",2,7
368dc8f26a3a2029b8b2a0f908360f070485d7b9,"Fix MessageId copy, wasn't copying the new textView field.  Fixes failing test.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489618 13f79535-47bb-0310-9956-ffa450edef68",31,35
6e57f3a346ece480d51c89a4b7591b770298f394,"AMQ-4571: JUnit test added

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489823 13f79535-47bb-0310-9956-ffa450edef68",0,282
b2a91b96c48f47507d00cbee319a28052a538f4b,"https://issues.apache.org/jira/browse/AMQ-4574 - EndpointCompleter functionality for camel component

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489843 13f79535-47bb-0310-9956-ffa450edef68",62,104
fd0cf387d6eaf2fcea3a3096eab59777a6afe076,"Fix up osgi bundle build since we don't build the leveldb uber jar anymore.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489866 13f79535-47bb-0310-9956-ffa450edef68",1,0
e5676f65d97c3b3eee8895da4354174523c86ca0,"https://issues.apache.org/jira/browse/AMQ-4574 - fix osgi range as well

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489869 13f79535-47bb-0310-9956-ffa450edef68",1,1
767a59dfc41338cab5925af2a110e6f6c83e9308,"AMQ-4571: JUnit test added with broker configuration

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489880 13f79535-47bb-0310-9956-ffa450edef68",0,50
66a99fb5807a7057d068c4c84c9fb38b437135ba,"https://issues.apache.org/jira/browse/AMQ-4571

unroll the loop. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489888 13f79535-47bb-0310-9956-ffa450edef68",6,5
1f5694ed60041d3b75fcb77070bdf1dae4996bd6,"fix for: https://issues.apache.org/jira/browse/AMQ-4487 and https://issues.apache.org/jira/browse/AMQ-4372

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489978 13f79535-47bb-0310-9956-ffa450edef68",27,29
01cda8582a834feeed50b97f7042bb2b94581b35,"Fix test failure after recent MessageId changes.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489994 13f79535-47bb-0310-9956-ffa450edef68",45,43
6ea84380713f6d3942c56e983f654c6e5dc79e2a,"Test fix, don't produce a StackOverflowException

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1489997 13f79535-47bb-0310-9956-ffa450edef68",1,12
2d544203f58ab35176a269cfeff921988a9dce14,"fix for: https://issues.apache.org/jira/browse/AMQ-4487 and https://issues.apache.org/jira/browse/AMQ-4372

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490014 13f79535-47bb-0310-9956-ffa450edef68",1,0
05796e76003de5220e33cc5baa1bde2c6cb26839,"Use the right Logger type. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490015 13f79535-47bb-0310-9956-ffa450edef68",14,10
d97f28c4906b2d7de391a4d813814013f831d3db,"fix for: https://issues.apache.org/jira/browse/AMQ-4487 and https://issues.apache.org/jira/browse/AMQ-4372

Additional testing and updates. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490032 13f79535-47bb-0310-9956-ffa450edef68",2,75
a0cc2af059923a363cec1f96f349df3c77bb923f,"Shorten the test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490034 13f79535-47bb-0310-9956-ffa450edef68",1,1
50e8795464e8c958cc466741a759471035976559,"Fixes a ghost messages issue where the queue cursor goes out of sync /w the leveldb store when transactions are being used.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490065 13f79535-47bb-0310-9956-ffa450edef68",66,27
c161033abb994997f87814ea4167a14dd3be7380,"Make the fabric dependencies of the leveldb store needed for replication as provided.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490271 13f79535-47bb-0310-9956-ffa450edef68",0,6
bfed9df3b740d08df3ebaf02a7c1e2fbbfc77087,"https://issues.apache.org/jira/browse/AMQ-4568

fix potential NPE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490311 13f79535-47bb-0310-9956-ffa450edef68",11,3
d338d8a0d63af8b8c0ac153f0346ea5c2f24f4e1,"https://issues.apache.org/jira/browse/AMQ-4568

fix potential NPE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490317 13f79535-47bb-0310-9956-ffa450edef68",0,4
539a5f162ebb328c068b214ad582e86b2a50e556,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4575

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490343 13f79535-47bb-0310-9956-ffa450edef68",0,236
ddbe83ac19b37ba7c44fb3146df2be74a1ca87e5,"remove override so it builds on 1.6 as well as 1.7 java

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490395 13f79535-47bb-0310-9956-ffa450edef68",1,0
7a11f59505d29f56bd23f45a8081595678119452,"fix for: https://issues.apache.org/jira/browse/AMQ-4337

Adds basic TX support for Messages that are to be scheduled. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490454 13f79535-47bb-0310-9956-ffa450edef68",28,203
b8518e0b911cb92d7bc140e9cea77a021c6c9054,"fix test to account for changes in how we carry along the textview of JMSMessageID

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490466 13f79535-47bb-0310-9956-ffa450edef68",2,2
0b8b230983989079bf30e67a48b54e71f99ad077,"fix for: https://issues.apache.org/jira/browse/AMQ-4577

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1490745 13f79535-47bb-0310-9956-ffa450edef68",5,15
6e7365640d96654b0e858aa09254e5d9bd75d1e8,"Repackage the hawtio webconsole in the standalone distro.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1491272 13f79535-47bb-0310-9956-ffa450edef68",0,27
5f301c40fa49722094c1b578fcea8661a5dd4065,"Help the xbean generate the proper xsd for the leveldb store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1491278 13f79535-47bb-0310-9956-ffa450edef68",1,2
c5344c9179e9cf91d6d3e0454410fb36a1e63a65,"Help xbean generate the proper xsd for the leveldb store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1491281 13f79535-47bb-0310-9956-ffa450edef68",0,40
7db8987ca6fdb3ce4f65d30a4178c0ccc483b525,"Fixup the assembly packaging so that the replicated leveldb store can be used.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1491287 13f79535-47bb-0310-9956-ffa450edef68",5,39
0168a826f7d426dde8178605317a2e459ba29f4a,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4581

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492214 13f79535-47bb-0310-9956-ffa450edef68",42,200
3513728f0f33ea6b65d8a79a135efd1ecfe79f54,"Add some more asserts to the test and clean up logging in the protocol converter, replace all the System.out.println calls

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492250 13f79535-47bb-0310-9956-ffa450edef68",8,22
6cd3bd06a76aff411f7aa56a0bb247054a69f89c,"Add some more asserts to the test and clean up logging in the protocol converter, replace all the System.out.println calls

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492251 13f79535-47bb-0310-9956-ffa450edef68",1,8
44e3c22652abfaa90c251c3c970f7cabf8c3654b,"fix for failing test case.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492373 13f79535-47bb-0310-9956-ffa450edef68",0,1
3845c7caa744dca4d9144f1c55842efa0bf437a4,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4576

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492447 13f79535-47bb-0310-9956-ffa450edef68",3,44
ada9e00b6dc23f95e21d1819b10f15ebf38bdee4,"https://issues.apache.org/jira/browse/AMQ-1870 - fix on missed maxrow computation. thanks Keith

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492698 13f79535-47bb-0310-9956-ffa450edef68",1,1
6ee4c66fc353f45ab254e6da2b91c2c1ad86312a,"m2e updates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492832 13f79535-47bb-0310-9956-ffa450edef68",14,0
8ab19345208cfbe87a182cad1dc3c575db9119f7,"update clean plugin settings to remove more test stores. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1492874 13f79535-47bb-0310-9956-ffa450edef68",6,13
205c6bec88b890e7044de315bee5910ad01fc38e,"Fix for potential NPE

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1493110 13f79535-47bb-0310-9956-ffa450edef68",1,4
bbab23ee7b17e97ff9ea8267a5c037ea474cbb27,"Improve logging.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1493136 13f79535-47bb-0310-9956-ffa450edef68",1,2
6e5f231a8a1f133cd71063be040d2db1810e40aa,"fix and test for: https://issues.apache.org/jira/browse/AMQ-4584

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1493950 13f79535-47bb-0310-9956-ffa450edef68",0,103
8db5d9599d55b89b22f145c41150a094c457dd64,"update svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1493956 13f79535-47bb-0310-9956-ffa450edef68",0,0
97502bd61edd9a7f817a243931efe914b6fdf28b,"Fix and updated test for: https://issues.apache.org/jira/browse/AMQ-3405

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1493958 13f79535-47bb-0310-9956-ffa450edef68",11,33
edd8166cb1a4f8fb90b0efdc97358c348fbecbf2,"https://issues.apache.org/jira/browse/AMQ-4574 - better initialization of destination source for camel endpoint completer

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494142 13f79535-47bb-0310-9956-ffa450edef68",68,80
21ddc985917edf7ceafa9f5c7ca81dfde5d85c07,"Fixes AMQ-4587: AMQP to JMS transformer fails to properly map AMQP specific property types like UnsignedInteger

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494216 13f79535-47bb-0310-9956-ffa450edef68",1,1
fec73ddbc1376f3bc5b323829d0d407142cfad9c,"Better debug settings for when working /w amqp.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494217 13f79535-47bb-0310-9956-ffa450edef68",6,7
7ef79f2d2a0d9a83f617555df4863633097d77e2,"Display who the slave leveldb store thinks is the master.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494218 13f79535-47bb-0310-9956-ffa450edef68",1,1
2484c67cb148a49376ce98b5d5327e010bff74e6,"test case for: https://issues.apache.org/jira/browse/AMQ-4585

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494222 13f79535-47bb-0310-9956-ffa450edef68",0,70
e2b932ef033187b6e54aef79c4b2567fc84a14af,"test case for: https://issues.apache.org/jira/browse/AMQ-4585

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494283 13f79535-47bb-0310-9956-ffa450edef68",46,61
5415f3a6aac887de8ddac3b0da0b1304c69f5e44,"https://issues.apache.org/jira/browse/AMQ-3447

Apply workaround patch for this issue, 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494680 13f79535-47bb-0310-9956-ffa450edef68",5,30
166ab43c90a8f1c14872621e6fb4ae97d6c2a2f2,"https://issues.apache.org/jira/browse/AMQ-4589

Apply patch to work around known race condition. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494681 13f79535-47bb-0310-9956-ffa450edef68",30,28
afe2e3ca08efc5150c334fd97fd9119a21bf7f56,"fix some osgi regressions

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1494934 13f79535-47bb-0310-9956-ffa450edef68",0,9
661801ebcd3c051f38044cb8936f17365caa3d8d,"https://issues.apache.org/jira/browse/AMQ-4592 - mysql_connector_java adapter support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1495049 13f79535-47bb-0310-9956-ffa450edef68",0,17
e8eb58ada3a2490415da9cbc686b551cac8416e5,"Improve how trace logging is handled in the AMQP transport.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1495057 13f79535-47bb-0310-9956-ffa450edef68",37,49
7938cc6943316f4b86022fb5b6e769329241963d,"Fixes AMQ-4376 - JoramJmsTest QueueBrowserTest.testSenderBrowser fails intermittently.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1495058 13f79535-47bb-0310-9956-ffa450edef68",3,30
06dae40d94618d4fedcc6fd262eeb1b3a57ccda2,"https://issues.apache.org/jira/browse/AMQ-4593 - upgrade snappy java

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1495392 13f79535-47bb-0310-9956-ffa450edef68",7,7
e3fb8be2ba5245a0dad037a35675a3d63ee0deb0,"https://issues.apache.org/jira/browse/AMQ-4598 - negative queue size after purge

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1496430 13f79535-47bb-0310-9956-ffa450edef68",8,21
baf8c499b33172ac7120c0ac53167a485ed2cbad,"Fixes AMQ-4599: Only package the pure java LevelDB driver by default

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1496514 13f79535-47bb-0310-9956-ffa450edef68",2,9
e1224436a7337d4056132abb74aeffe23ee818f9,"https://issues.apache.org/jira/browse/AMQ-4594 - make old jolokia api obsolete and redirect to the one started by hawtio

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1496904 13f79535-47bb-0310-9956-ffa450edef68",11,12
61ff5702612ca998a5cfa52e50e7c33b781f628b,"https://issues.apache.org/jira/browse/AMQ-4098 - fix favicon for web apps

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1497375 13f79535-47bb-0310-9956-ffa450edef68",0,3
a95c6dba1baef600fb97e0ffa9f468796a8da768,"https://issues.apache.org/jira/browse/AMQ-4607 - add network connector consumerTTL and messageTTL - split effect of networkTTL - allows a message many hops in a mesh while consumer demand is not repeatildy replicated. Rollback cursor aduit on forward so a message can be redispatched on redelivery. Additional test to verify multiple hops back to origin. Allow infinite ttl or hops with -1 https://issues.apache.org/jira/browse/AMQ-2180.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1497716 13f79535-47bb-0310-9956-ffa450edef68",73,562
6b1ffaeee31a59afe39e4c0b0c2faf25aa921b55,"https://issues.apache.org/jira/browse/AMQ-4609 - register network connectors after mbean server is properly started

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1497733 13f79535-47bb-0310-9956-ffa450edef68",3,3
4834cf15ecd9a8584e37f5c8d0c257e64b05250d,"https://issues.apache.org/jira/browse/AMQ-4605 - remove duplicate test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1497752 13f79535-47bb-0310-9956-ffa450edef68",27,0
16cd8c3954c40c2b83c8692fd24b35e272b6ee0e,"Expose the replicated store status via JMX.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1497843 13f79535-47bb-0310-9956-ffa450edef68",9,206
dd69af43bc02c99d05b384ff4deecb1e337e7451,"fix: https://issues.apache.org/jira/browse/AMQ-4604

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1498515 13f79535-47bb-0310-9956-ffa450edef68",3,3
b98067732b1feff34c5abf5b40fb8a1207396ea6,"Improve the replicated leveldb behavior when the number of nodes in the cluster falls below the required minimum.  The master node will switch to electing mode.  The master store startup will now also block until it syncs up with slaves so that we don't accept connections the master is fully online.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1498601 13f79535-47bb-0310-9956-ffa450edef68",110,112
6167c49fc116958c123bcdd0100bca50ffed8181,"https://issues.apache.org/jira/browse/AMQ-4567 - readonly web console

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1498875 13f79535-47bb-0310-9956-ffa450edef68",7,160
34f33293703d6274f45d4c90dcbc65c723adc787,"When the leveldb replicated master was shutting down the client would get notified of a failure and it would not be hidden from the client app.  We now suppress sending failure messages to clients when a broker is shutting down so that the client failover logic can kick in an reconnect the client to another server gracefully.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1498978 13f79535-47bb-0310-9956-ffa450edef68",4,17
d2836d1362ad262d2354530519f38cad4963c10b,"Applying patch and fix for AMQ-3303: Standalone web console crashes when accessing broker via master-slave failover.

Patch supplied by Arnaud BRAND.  Many thanks!  Fix confirmed by Jamie Goodyear.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1499141 13f79535-47bb-0310-9956-ffa450edef68",1,7
8302262e2e932d4b698faf9477b80e754a771f3a,"fix for: https://issues.apache.org/jira/browse/AMQ-4610

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1499143 13f79535-47bb-0310-9956-ffa450edef68",2,2
2019a21d96d9cd24164505f4b4ce9885fc462e53,"Simplify and improve the leveldb replication MBean

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1499754 13f79535-47bb-0310-9956-ffa450edef68",96,118
33ec1cf99b05b2ee59d1fff39fe1a7b476fabd8c,"https://issues.apache.org/jira/browse/AMQ-4617 - mqtt over ws protocol

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1499777 13f79535-47bb-0310-9956-ffa450edef68",6,2407
72e484c68fca3770bde4c9a9d39b955742210418,"fixed some failing tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1499843 13f79535-47bb-0310-9956-ffa450edef68",7,61
2f8381cbe4a31a985b24c74241d407fb92408b98,"https://issues.apache.org/jira/browse/AMQ-4617 - change desription of the demo

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1499974 13f79535-47bb-0310-9956-ffa450edef68",3,3
8335dfcf777dd03eb9ac8266f3272f8f3a52e6b6,"added test for unsubscribe

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1500057 13f79535-47bb-0310-9956-ffa450edef68",18,47
d57ebf88f0f99f93b3ed221041c3f7ca42a4dc6f,"fix for: https://issues.apache.org/jira/browse/AMQ-4591

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1500753 13f79535-47bb-0310-9956-ffa450edef68",1,2
b3e58a5b33ecf3c1c0c7a8a99e4cd9ec71097ccb,"Apply patch for: https://issues.apache.org/jira/browse/AMQ-4588

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1500885 13f79535-47bb-0310-9956-ffa450edef68",2,9
cb52dd47f471571f94679867e44dd2ba79d61ce2,"fix https://issues.apache.org/jira/browse/AMQ-4625

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1501340 13f79535-47bb-0310-9956-ffa450edef68",2,3
5f0dd8ab5348fd4f6e483debfcd2b68f8043b8ff,"Fix for failing LveelDB unit tests where only non-persistent messages are sent in a TX.  The preCommit wasn't being run so the Queue's orderIndexUpdates structure wasn't getting updated with the TX to process in the postCommit phase.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1501420 13f79535-47bb-0310-9956-ffa450edef68",14,16
840ca30e90d02dadda311f2c9ce44a8045bd6801,"workaround for issue: https://issues.apache.org/jira/browse/AMQ-4307

attempt to get around the deadlock by detecting and interrupting the locked thread.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1501488 13f79535-47bb-0310-9956-ffa450edef68",3,29
34ce33613cc6814d9d00bca544c6edd471d46708,"workaround for issue: https://issues.apache.org/jira/browse/AMQ-4307

attempt to get around the deadlock by detecting and interrupting the locked thread.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1501500 13f79535-47bb-0310-9956-ffa450edef68",1,1
1a4f47bf74e6cd7beb9701c18f56a44f2f93c2d4,"update svn:ignore

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1501784 13f79535-47bb-0310-9956-ffa450edef68",0,0
86e2426d1b78cf15fd20828951b07cfddee7bdf9,"Improve the replicated leveldb bits: Avoid dependencies on fabric-group stuff.  Makes it easier to embed in different versions of a fabric osgi env.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1501877 13f79535-47bb-0310-9956-ffa450edef68",26,1279
9988a3c94fc75163b55e2e7fb936bd8cc8a7ae07,"Adds a unit test that demonstrates how to properly unsubscribe and remove a durable subscription and what happen when there is an active subscriber.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1501878 13f79535-47bb-0310-9956-ffa450edef68",0,76
25d774b6dd48d6a0a44d871bc59e434064504658,"added a test to AMQP JMSTestClient showing selectors works

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1502092 13f79535-47bb-0310-9956-ffa450edef68",9,40
74ba0529d22b6aa9faa5680f6d18433bdc7f2399,"https://issues.apache.org/jira/browse/AMQ-4628 - first attempt at jdbc performance improvement; make xid column string and indexed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1502206 13f79535-47bb-0310-9956-ffa450edef68",16,116
25028b0bba29c2728ce079a5bdcbea4e13bd1c2e,"fix for: https://issues.apache.org/jira/browse/AMQ-4623

Use the configured _REALPATH variable to execute wrapper.exe so that it can be run either in console or from double click in explorer.  Tested on Windows 7 x64

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1502244 13f79535-47bb-0310-9956-ffa450edef68",4,4
bb7c33124b3d8d201c32f0cb99c516db5666606e,"Upgraded to Karaf 2.3.2

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1502430 13f79535-47bb-0310-9956-ffa450edef68",6,3
87b654a533fe09b91c6f6390c0a46089128fded3,"Fixed build of trashed activemq-optional

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1502509 13f79535-47bb-0310-9956-ffa450edef68",10,3
8abbfb2376c98fde9ce6cec1ec47348bb6599611,"Dependency upgrades and better aligned with Camel 2.12.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1502580 13f79535-47bb-0310-9956-ffa450edef68",13,14
c50b8e49c453748405a480a7bf466ae01eda6cca,"fix for: https://issues.apache.org/jira/browse/AMQ-4595

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1503263 13f79535-47bb-0310-9956-ffa450edef68",45,211
4b868f4700e6a97fdba6dcd279c5048b3dff626d,"fix intermittent test failure.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1503422 13f79535-47bb-0310-9956-ffa450edef68",1361,1355
ec11e82664459ccc47e8fbd5a999d19d63f8402d,"fix intermittent test failure.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1503426 13f79535-47bb-0310-9956-ffa450edef68",1197,1202
975b7819cfdeec74bc952180a0b1d97e681cd91e,"https://issues.apache.org/jira/browse/AMQ-4588 - id generator; some improvements in the socket close routine

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1503627 13f79535-47bb-0310-9956-ffa450edef68",3,18
f80071f65d7965d974b97437db3e9a75cce524a7,"Test updates, use a proper MessageId and add some logging so the level DB test errors are more obvious.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1503727 13f79535-47bb-0310-9956-ffa450edef68",3,7
de49f2e873dacf0338e3531562a942fc4bc62d73,"fix for: https://issues.apache.org/jira/browse/AMQ-4629

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1503736 13f79535-47bb-0310-9956-ffa450edef68",6,9
2b99f39a5be229d8982e9378248c7e32df9147a0,"Fix for: https://issues.apache.org/jira/browse/AMQ-4621

New SlowConsumerStrategy implementation for aborting consumers that haven't ack'd in the configured interval.  Can also be used to kick idle consumers if you disable the ignore idle consumers option.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504231 13f79535-47bb-0310-9956-ffa450edef68",84,527
1982d54224c4ca1613d44d6061f55ca38587f621,"Fix for: https://issues.apache.org/jira/browse/AMQ-4621

Also add a new MBean for the new SlowConsumerStrategy type and fix a compilation error in the tests. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504249 13f79535-47bb-0310-9956-ffa450edef68",13,143
1408e7f63bb08add9ad2dde64e4bb629de9019ee,"https://issues.apache.org/jira/browse/AMQ-4634 - create ack with known transaction context so that subesquent timeout triggers a rollback and does not leave a null transaction

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504279 13f79535-47bb-0310-9956-ffa450edef68",16,115
141052bcf5796e29fc63532459910413524e754d,"add connection factory admin-object, usefull for remote jms clients to pull from jndi w/o additional module deployments

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504422 13f79535-47bb-0310-9956-ffa450edef68",0,9
a971b648ea8f9fcaa376f93811a3abaee7c667e1,"https://issues.apache.org/jira/browse/AMQ-4637 - populate DLQ_DELIVERY_FAILURE_CAUSE_PROPERTY for messages that exceed a redelivery policy - makes it easier to identify in the dlq

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504423 13f79535-47bb-0310-9956-ffa450edef68",0,4
92b6bd23cf8f387ce1042f64b7f2a4a237898408,"https://issues.apache.org/jira/browse/AMQ-4415 - fix test regression, stop the autofail support

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504436 13f79535-47bb-0310-9956-ffa450edef68",0,1
07369531ea484cc3b11ba1b6c8357713500b51e3,"Add support for exposing information about blocked sends through JMX - see https://issues.apache.org/jira/browse/AMQ-4635

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504452 13f79535-47bb-0310-9956-ffa450edef68",83,235
cf9cccacf88a1c8e119b21967f66f71a5272163f,"Fix for https://issues.apache.org/jira/browse/AMQ-4638

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504506 13f79535-47bb-0310-9956-ffa450edef68",4,13
ae5abf143b93d388dfa243ab3ff982a50811f29c,"Adding a container property to the zk node data used by the leveldb replication.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504626 13f79535-47bb-0310-9956-ffa450edef68",0,9
dda5c93cd8b26effd83202ba7f37b97a48827d3b,"was having difficulty setting JMSreplyTo on message from jconsole. the header map operation is greyed out. Seems it needs a special ui to populate. I added a simpler csn=v string where body,username,password are special and where all other names are applied as properties. Jconsole can now set a reply to via sendTextMessageWithProperties(""body=hi,JMSReplyTo=Queue2""

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504660 13f79535-47bb-0310-9956-ffa450edef68",7,85
11ed6b0e18ba1023792365c05a4f8f5fdc271b62,"{LevelDB] fix for StoreQueueCursorLevelDBNoDuplicateTest failure.  When the cursor calls setBatch and then recovering the next batch its expecting the batch to start at lastMsgId + 1 so we were seeing a single duplicate message and since audit was disabled it was delivered.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504668 13f79535-47bb-0310-9956-ffa450edef68",1,1
6a3bbba09bd84f0ff80b2a2627244d7442920b02,"adding activemq-arquillian module with fork of https://github.com/hornetq/hornetq/blob/master/examples/javaee (licensed under apache2) to provide a framework and tests that validate the RAR in a jee container. The eap profile requires a manual download of eap 6.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504871 13f79535-47bb-0310-9956-ffa450edef68",0,9746
ac8e38fb69b91f5282cdb5e007551391e85231af,"update some plugin versions and ensure we use the property value in all child poms. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504919 13f79535-47bb-0310-9956-ffa450edef68",43,43
0826fdcf0645016f4a88fc785aaa21dce5855f75,"AMQ-4637 fix test that fails due to this change, also remove extra call to setPoisonCause

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504954 13f79535-47bb-0310-9956-ffa450edef68",23,20
17bf5c7d69dc3793a1dad26cf957f2977fd93716,"https://issues.apache.org/jira/browse/AMQ-4645 - fix and test. adjust lease correctly in both behind and ahead of db case

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1504981 13f79535-47bb-0310-9956-ffa450edef68",9,67
20f384ce59b758a0f3c1b0e0620e2efd58ca230a,"https://issues.apache.org/jira/browse/AMQ-4637 - track cause and policy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1505000 13f79535-47bb-0310-9956-ffa450edef68",1,7
194c6535cd807d680003bf5aa5cdb9cb40fd98fb,"[LevelDB]

https://issues.apache.org/jira/browse/AMQ-4296

Fixes remainder of failing unit tests.  The LevelDB wasn't incrementing or decrementing reference counts on messages added to the store which causes the expectations of certain memory limit based tests to fail as the memory usage was being updates after the store add instead of during so a message could get placed into the batch list of a cursor when we did not expect that it would.  This could also cause a browse to return fewer message than we want as the in memory messages would top out the usage limit so we'd never page in one batch of messages. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1505805 13f79535-47bb-0310-9956-ffa450edef68",2,4
1e5dac11fad48f4d909dbe85d2f7c91be4989e6f,"https://issues.apache.org/jira/browse/AMQ-4640

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1506078 13f79535-47bb-0310-9956-ffa450edef68",39,128
3940f2dffd7f6c26710b016b0065b1a5621ea61f,"https://issues.apache.org/jira/browse/AMQ-4640


git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1506079 13f79535-47bb-0310-9956-ffa450edef68",0,20
acbe5499b5ff07f1cbae42dd6ecdbcb9edaa64b4,"convert to JUnit 4 test and add a timeout

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1506149 13f79535-47bb-0310-9956-ffa450edef68",36,46
a2c297dc19fa4753f5750b4affd7489358befd18,"prevent stack overflow exception so that we can see the real exception that causes the test to fail. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1506214 13f79535-47bb-0310-9956-ffa450edef68",1,1
02185be527e3a28eee8c82031e6d8ad6c6736916,"Fix for https://issues.apache.org/jira/browse/AMQ-4648 - fix script created by ./bin/activemq create to be able to pass command line args and run in the background

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1506395 13f79535-47bb-0310-9956-ffa450edef68",1,1
b4f880a75c090be8166a77223d5ca70cef737ada,"Add more info to assert messages. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1506591 13f79535-47bb-0310-9956-ffa450edef68",11,14
563cc1bc6a79a76270d83bd34d52672131f36835,"Warn when there are too many replication nodes attached.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1506965 13f79535-47bb-0310-9956-ffa450edef68",0,4
c5c4caadcfcaa1a326f8018dbdd7ec05ddb232c3,"https://issues.apache.org/jira/browse/AMQ-4651

Some new tests showing existing problems with AMQP transacted consumer handling. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1507146 13f79535-47bb-0310-9956-ffa450edef68",1,157
4a270fe1f0bf78087e1f7ed342f30b80e06a1559,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4655

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1507346 13f79535-47bb-0310-9956-ffa450edef68",0,229
13bbe52646aa55d5e813446c687bb91bebae80d9,"https://issues.apache.org/jira/browse/AMQ-4643 - ensure handled ioexceptions are not propagated back to client when broker or transports are shutdown. additional tests existing tests refactored to reflect new determinism. IOException handler now throws SuppressReplyException which is trapped by the transport connector. If store exception need to be processes by the client, for immediate response rather than failover reconnect, then the ioexception handler should be configured to ignoreAllErrors

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1508602 13f79535-47bb-0310-9956-ffa450edef68",116,415
708be6d82222831be87e9da04a8f6d09a9b51b94,"intermittent hang of test for https://issues.apache.org/jira/browse/AMQ-2021 showed concurrency flaw in https://issues.apache.org/jira/browse/AMQ-3236 - properties are only applied to the message copy that is deferred till needed

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1508819 13f79535-47bb-0310-9956-ffa450edef68",29,32
55a8ef54b55bcea9c8110f2899c22d969e10701f,"allow xapooledconnectionfactory as an admin object - allows xa enlistment at the session level for jms style use cases with the RAR contents. validation of https://issues.apache.org/jira/browse/AMQ-3560 in eap 6.1

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1508958 13f79535-47bb-0310-9956-ffa450edef68",1,50
ed5d841c217aa2a0251dd09dded56f79e503c330,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-4651

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1509046 13f79535-47bb-0310-9956-ffa450edef68",63,198
5cadb04ad3dc25ab03ee2c9250810163410be9ca,"https://issues.apache.org/jira/browse/AMQ-4662 - kahadb default checksumJournalFiles = true - validate no migration impact as we currently store default checksum value of 0

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1509178 13f79535-47bb-0310-9956-ffa450edef68",5,23
0f6561bae087a6168fe465a5d42155aa02b546ad,"fix and tests for: https://issues.apache.org/jira/browse/AMQ-4651

ensure consumers get removed from the session on close. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1509291 13f79535-47bb-0310-9956-ffa450edef68",4,10
805d88af24c449d88011bf1293019deb5e9835e0,"don't limit the web console on jetty 7; it should be able to run on newer versions as well

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1509629 13f79535-47bb-0310-9956-ffa450edef68",1,1
0061f6f75538ede8fe3443925e64beb839abfb90,"https://issues.apache.org/jira/browse/AMQ-4000 - tracking subscription commands causes a problem with replay outside of activate - can reset a sub ack locations - regression in AMQ2149Test. Fixed by ignoring sub add during recovery replay

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511306 13f79535-47bb-0310-9956-ffa450edef68",0,8
82c4ab83eddff7b2dd6bb5884fb9cff181b0185a,"https://issues.apache.org/jira/browse/AMQ-4665 - fix auto ack on duplicate, now use poison ack. For client ack allow replay after failover. Additional tests to validate new behaviour

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511307 13f79535-47bb-0310-9956-ffa450edef68",35,219
45c399d8107715b8caa198044c69eae713ec1fe8,"fix for: https://issues.apache.org/jira/browse/AMQ-4671

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511321 13f79535-47bb-0310-9956-ffa450edef68",4,90
a7533ba92285a2910dfe8faad7d1492cf9ff7ab3,"https://issues.apache.org/jira/browse/AMQ-4656 - first stab at improving keepDurableSubsActive feature, by not stoping/starting cursor on subscription (de)activating

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511333 13f79535-47bb-0310-9956-ffa450edef68",17,33
ccde93a238b8882818d724c665787d547cc289e7,"https://issues.apache.org/jira/browse/AMQ-4656 - adding a test

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511334 13f79535-47bb-0310-9956-ffa450edef68",0,131
dd286e2381d163ef3a77833dcb5e7d0e36b42104,"Fixes AMQ-4672 - [JMS Client] Set the SNI field on SSL connections

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511335 13f79535-47bb-0310-9956-ffa450edef68",0,11
c45523fa4d8f6e0f425992e6f9872642ef78141f,"apply patch for: https://issues.apache.org/jira/browse/AMQ-4670

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511340 13f79535-47bb-0310-9956-ffa450edef68",2,13
aed6b0054a52d27d423a3a3f087414a8985b08a2,"fix up test failure - XBeanXmlTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511356 13f79535-47bb-0310-9956-ffa450edef68",1,1
ae84399b97071b1ed8046dd2628177da44ebfed0,"fix intermittent test failure - memorylimittest on jdbc

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511491 13f79535-47bb-0310-9956-ffa450edef68",4,10
90d6c2042d72738fb064826ff579a17caf8cf635,"https://issues.apache.org/jira/browse/AMQ-4212 - fix auto upgrade from ver 1 and 2 to 5 - regression in KahaDBVersionTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511711 13f79535-47bb-0310-9956-ffa450edef68",21,24
ddd4d9fff2c381e81bc44519777a37802b19df8d,"fix add missing file from https://issues.apache.org/jira/browse/AMQ-4655

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511780 13f79535-47bb-0310-9956-ffa450edef68",0,20
798eb1fc131cd34c0cf4ea31a5d787aba5f3c484,"fix up test case for https://issues.apache.org/jira/browse/AMQ-4268

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511788 13f79535-47bb-0310-9956-ffa450edef68",1,1
0ba311f14b13a15d121e607b1107d34a27c816a9,"fix typo in logged message

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511839 13f79535-47bb-0310-9956-ffa450edef68",1,1
c7aad77a166e4555d07a4a9c62e22352429b8ee7,"extend the lease period in the test to make more deterministic wrt timing

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511842 13f79535-47bb-0310-9956-ffa450edef68",9,11
42b4e0c8102ab5eb12d70f8ef15ad232eb54edcd,"fix for: https://issues.apache.org/jira/browse/AMQ-4675

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1511967 13f79535-47bb-0310-9956-ffa450edef68",1,3
1773e2c11cc3fdcc92e2d84bbc5ebb7c5a8e77f9,"fix for: https://issues.apache.org/jira/browse/AMQ-4582

treat bad enabledCipherSuites option as non-recoverable.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1512017 13f79535-47bb-0310-9956-ffa450edef68",0,113
7c50c1c7363f1b582075e7a54b0254bc1eff0b7f,"fix up failure - still leveldb variant problem that needs work - testQueueTransactionalOrderWithRestart - org.apache.activemq.bugs.AMQ2149LevelDBTest

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1512332 13f79535-47bb-0310-9956-ffa450edef68",20,86
7e28d2a948404df1d73be55a0fa4db81760fb402,"https://issues.apache.org/jira/browse/AMQ-4678

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1513609 13f79535-47bb-0310-9956-ffa450edef68",2,2
4dc1ddcd21e59de465d063a6a780dc2c241cd262,"added quick test for cleanSession=false and wildcard sub for MQTT from IRC chat

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1513655 13f79535-47bb-0310-9956-ffa450edef68",2,3
3630a41fc9d20745fb3943845dbfd70b3dbda8ea,"https://issues.apache.org/jira/browse/AMQ-4682 - implement runtimeConfigurationPlugin that will track xml config and react to changes. simple verification via test that adds a new network connector on the fly

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1513871 13f79535-47bb-0310-9956-ffa450edef68",3,746
65034359a560b8ccf93cd404e32eca53c7e85d9d,"Updated to the latest hawtio release for AMQ-4594

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1513929 13f79535-47bb-0310-9956-ffa450edef68",1,1
d0ab117a38b516833991793094fc9defb9025c1f,"fix: https://issues.apache.org/jira/browse/AMQ-4674

add transport options ""?transport.hbGracePeriodMultiplier"" which is used to add a user defined grace period to the read check interval indicated by the connecting STOMP client. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1514023 13f79535-47bb-0310-9956-ffa450edef68",29,46
5e05bae6097a980f3829092030ce4b049fd09e94,"initialize svn:ignore property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1514340 13f79535-47bb-0310-9956-ffa450edef68",0,0
894d988c491c2c5ea18d572304006fc5df4b69fc,"update svn:ignore property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1514341 13f79535-47bb-0310-9956-ffa450edef68",0,0
717345f499fb022bc5e82496b6ff1d29092aad0d,"test to show that: https://issues.apache.org/jira/browse/AMQ-4677 is not an issue.  Verifies that the LevelDB logs are cleared as messages are consumed.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1514502 13f79535-47bb-0310-9956-ffa450edef68",0,183
67273afa5af4473a962b70224afe3842abf04868,"update some plugin versions. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1514891 13f79535-47bb-0310-9956-ffa450edef68",5,7
25a1dd071a5e2d5c32b4998d69de306d2ea7dae0,"https://issues.apache.org/jira/browse/AMQ-4682 - implement network connector modification, match, stop, apply restart

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1515461 13f79535-47bb-0310-9956-ffa450edef68",15,140
f155083a61df2027638d128b1e954d6ab30f27ab,"use valid error code (in place of xa_ok) for xaexceptions in the absense of marshalled exception content from the broker

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1515783 13f79535-47bb-0310-9956-ffa450edef68",1,29
45e14626099467042b2d4df395803b6ac843b8e0,"Persist the latest producer position across restarts in the leveldb store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1515799 13f79535-47bb-0310-9956-ffa450edef68",23,38
4e4d072d6e7bffb1529349f7af11bccdf2d8ff86,"fix and add test for: https://issues.apache.org/jira/browse/AMQ-4686

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1515843 13f79535-47bb-0310-9956-ffa450edef68",2,69
40aa15ce529e48465cdb1fc55568d07e064ef427,"Make sure the LRUCache key is always a String.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1515854 13f79535-47bb-0310-9956-ffa450edef68",6,6
53ec6655b09cfe24a2dea94d4511183f4f0b2d1e,"fix https://issues.apache.org/jira/browse/AMQ-4674  don't apply grace twice.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1515908 13f79535-47bb-0310-9956-ffa450edef68",1,1
92860ae62288d18d491a4424e163ae6af7ba6b65,"https://issues.apache.org/jira/browse/AMQ-4682 - implement virtualDestinationInterceptor runtime updates

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1516451 13f79535-47bb-0310-9956-ffa450edef68",50,580
85bb229aa71564ab379fadac064464eb05bb8157,"fix for: https://issues.apache.org/jira/browse/AMQ-4683

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1516561 13f79535-47bb-0310-9956-ffa450edef68",51,237
8b8e726eec0534265de37876c4c540b412c87c7b,"https://issues.apache.org/jira/browse/AMQ-4682 - add jmx mbean, manual update, validation and test refactor

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1516650 13f79535-47bb-0310-9956-ffa450edef68",131,474
a52c014648f47a7a9c2c78d990079757bbb35e76,"https://issues.apache.org/jira/browse/AMQ-4682 - tidy imports and format

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1516652 13f79535-47bb-0310-9956-ffa450edef68",6,3
eb99e05d3aefc76bd1dbc021e237f9d70d79d24e,"Added isEmpty() on DestinationMap

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1516803 13f79535-47bb-0310-9956-ffa450edef68",0,8
2d861dae652bf47925893b8003645da4b1fb51d2,"fix for: https://issues.apache.org/jira/browse/AMQ-4683

Make scheduler job dispatching start more deterministic

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1516912 13f79535-47bb-0310-9956-ffa450edef68",108,183
174fe15b3058341b4d4c200c6e6fbaa786e44fda,"fix for: https://issues.apache.org/jira/browse/AMQ-4676 and https://issues.apache.org/jira/browse/AMQ-4673

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517052 13f79535-47bb-0310-9956-ffa450edef68",66,241
b3c132780b192ba1f74324a2156a93b3962dda4f,"fix unit tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517076 13f79535-47bb-0310-9956-ffa450edef68",83,102
01704eece00e82e3cd50206732e88b04cb46a9b3,"https://issues.apache.org/jira/browse/AMQ-4689

Allows for the persistence adapter to implement JobSchedulerStore and also allows for user set JobSchedulerStore to be used even when persitence is off on the broker.  

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517084 13f79535-47bb-0310-9956-ffa450edef68",2,25
8f4ebbb40eec530669fed031a3fc397b490caac6,"Added Interceptor to support 
https://issues.apache.org/jira/browse/AMQ-4690

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517222 13f79535-47bb-0310-9956-ffa450edef68",0,932
6585d5c874f10a9ab9bcd20d1feb0b566aa3ea6e,"check connection isn't null before asking for it's BlobTransferPolicy

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517230 13f79535-47bb-0310-9956-ffa450edef68",27,5
e59ea6d03fec9f62be45ab5995792c3d1b54e47e,"added test from mailing list to show MQTT --> JMS mapping works with BytesMessage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517556 13f79535-47bb-0310-9956-ffa450edef68",3,59
2b2bdd675d7ff7783ec687475ca0724f4beddfaf,"carry over fix from https://issues.apache.org/jira/browse/AMQ-3789 don't set temp dir unless starting broker. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517632 13f79535-47bb-0310-9956-ffa450edef68",3,3
8d480b451a2c5183de85b0f2f3961b60a4154e75,"https://issues.apache.org/jira/browse/AMQ-4682 - support updates to authorizationPlugin/map/authorizationMap

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517794 13f79535-47bb-0310-9956-ffa450edef68",64,452
4d3923a2427aa8f8e313fa13a9d3bb9d2a717241,"https://issues.apache.org/jira/browse/AMQ-4682 - remove stacktrace

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517795 13f79535-47bb-0310-9956-ffa450edef68",1,0
b92a315599d53b07e2ed4eff1c6f0345f048c0a8,"Fix for https://issues.apache.org/jira/browse/AMQ-4690

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517905 13f79535-47bb-0310-9956-ffa450edef68",0,690
61877f3477448b5cdda9c094de6f54a3d37037fe,"Fix for https://issues.apache.org/jira/browse/AMQ-4690

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517926 13f79535-47bb-0310-9956-ffa450edef68",0,69
8b61c3919c6b2487ff1594491fb2fb28ce4983e3,"fix tests

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1517978 13f79535-47bb-0310-9956-ffa450edef68",2,4
e8ea6cd95cf0ed287f4c9d42a47cad5401d212a1,"https://issues.apache.org/jira/browse/AMQ-4682 - add support for mods and additions to destination policy - primitive attributes only

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518009 13f79535-47bb-0310-9956-ffa450edef68",19,332
8635a06e4aac1af3c3d0d7e80e110fbd7988bc03,"https://issues.apache.org/jira/browse/AMQ-3024 - guard against null from stomp tests, npe regression

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518123 13f79535-47bb-0310-9956-ffa450edef68",1,1
56070afa01fe1720f1790699a9810e1d28b2d414,"tidied up the javadocs for MessageBrokerView and added a test case for BrokerDestinationView

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518145 13f79535-47bb-0310-9956-ffa450edef68",39,241
1160f1a221b99b4df8a12e29bd98c50f1d7669a6,"pull in latest spring 3.2.4 for 5.9

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518162 13f79535-47bb-0310-9956-ffa450edef68",1,1
f66e9a1f166ae4cde90e9ab0fbb99a08ab0606b0,"remove obsolete oxm version property

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518166 13f79535-47bb-0310-9956-ffa450edef68",1,0
65ba623c967b9def8acd13c0b08e6504c0a68049,"https://issues.apache.org/jira/browse/AMQ-2902 - resolve intermittent test failure when stop ocurrs while start is in progress

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518171 13f79535-47bb-0310-9956-ffa450edef68",1,2
ba2e8d4b073cbff3ea389b0c5c44bb83336762fb,"https://issues.apache.org/jira/browse/AMQ-4196 - extend limit on test for slower hardware

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518173 13f79535-47bb-0310-9956-ffa450edef68",1,1
0d98623b7b2d768e4374aead79e652856d6cbe5e,"Added SizeStatisicsImpl for https://issues.apache.org/jira/browse/AMQ-4697

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518217 13f79535-47bb-0310-9956-ffa450edef68",0,168
f71e2fe21a93552bf762f63fc0dc6605499143f8,"Fix for https://issues.apache.org/jira/browse/AMQ-4697

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518261 13f79535-47bb-0310-9956-ffa450edef68",9,102
feb71c3c6ef6e3c81e736a1ac4abbe1dcb922d9f,"https://issues.apache.org/jira/browse/AMQ-4482 - implement and test setPercentOfJvmHeap attribute on memory usage

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518263 13f79535-47bb-0310-9956-ffa450edef68",1,13
f4d51e092b7eabc5f34e001a911cc1e8a79ce413,"Adding a LevelDB version of the RedeliveryRestartTest. Implemented redelivery tracking in the leveldb store.

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518289 13f79535-47bb-0310-9956-ffa450edef68",24,127
3c776cfc444b145d6db294813bc24f49b38da075,"fix for: https://issues.apache.org/jira/browse/AMQ-4188

Adds dstat command

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518321 13f79535-47bb-0310-9956-ffa450edef68",0,177
30fc80ccc9c50df95e95e11f47bc2fb71f797919,"https://issues.apache.org/jira/browse/AMQ-4682 - include feature in assembly and osgi uber jar

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518333 13f79535-47bb-0310-9956-ffa450edef68",10,18
84ce96b2dd718848a1acb5333a3129f4ddc5220e,"Fix failing test case, things are more lazily loaded now so we must actually invoke the route before the URI will get used and the exception fired. 

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518366 13f79535-47bb-0310-9956-ffa450edef68",5,30
2ea02bc8fb4968f1fdf1a18b5d0596b4a86a9823,"https://issues.apache.org/jira/browse/AMQ-4682 - allow jaxb to validate with spring bean references - still need to pull schema from the classpath which needs a fix

git-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@1518373 13f79535-47bb-0310-9956-ffa450edef68",1,114
634a81898c4db442222ba58ec3ef779f2868dfd4,"https://issues.apache.org/jira/browse/AMQ-4682 - use spring.schemas for spring.xsd resolution - use brokerContext for configurationurl, support property PropertyPlaceholderConfigurer locations and system prop replacement, nested networkConnector elements - excludedDestinations,dynamicallyIncludedDestinations etc. lists and sets of destination",46,492
0525f88639b1a14686ed96a3507eccb238235144,https://issues.apache.org/jira/browse/AMQ-4705 - implement keepAlive with a delegation to channel lock isValid,0,9
3222767e796a23ed96478e68858774cb45740bfc,https://issues.apache.org/jira/browse/AMQ-3779 - add perDestinationLogger attribute - logger for producer send of the form: org.apache.activemq.broker.util.LoggingBrokerPlugin.<type>.<name>,1,96
9f26e0b6400b1a2a81e86122386b54c2e3e37d5c,https://issues.apache.org/jira/browse/AMQ-4682 - support classpath urls,1,8
0525772190019c6a012c007d1b39f1078b700a3b,"https://issues.apache.org/jira/browse/AMQ-4709 - add support for  <authorizationEntry .. read=""*"" ..> to match any group",14,140
a0c1781c4e909d35030d9762eaa70cf37639a569,https://issues.apache.org/jira/browse/AMQ-4711 - totalMessageCount stat is not decremented after destination removal,0,23
8d4fef8af2a29e1f81e39f088b6ceb893e131f01,https://issues.apache.org/jira/browse/AMQ-4682 - support values and list/values for PropertyPlaceholderConfigurer locations,16,84
1eca0313562c7e1d38b9d6f0c23478438b7f9943,leveldb replication Master was failing to give up being master after it's process is suspended by using ctrl-z.,14,66
ccc85af301366e9410b6b850f720dd887fe2f62f,Update the scm settings for the project to reflect the git repo,8,4
40af36e93443e4ae1a302530f52ca662f9ef79ab,add ability to do port mapping when publishing connector uris; important in restricting environments,0,12
29453d67935b4eff368c7ad87ab7d30aaed11cb8,Update .gitignore,8,11
b588d6cb9b3503343f9426caa6aa765d0cc1f83c,"https://issues.apache.org/jira/browse/AMQ-4643 - update to jdbc checkpoint to validate connection before declaring success, is more bullit proof in preventing an early restart even if start is now deferred till after stop completes",1,6
8320e66b5de42ce797708699bfffa6bb6c1b3fa1,Fixes https://issues.apache.org/jira/browse/AMQ-4704,3,16
a3a22efb257c76794becc6de02186c7abfecc440,"improving publishable address policy interface, so we can get the actual publish URI",2,9
a63a8320eabbe4e988b6d67eb6cf84aa0d294e0a,Fix for https://issues.apache.org/jira/browse/AMQ-4695 where user could not subscribe anonymously even though authn and authz was set up for it,2,51
d2f4d76f835258bc09b778519913dcca642532a3,apply patch for: https://issues.apache.org/jira/browse/AMQ-4696,3,73
74b35bc5dd75edb9d9e3250a4362b85d78023d76,https://issues.apache.org/jira/browse/AMQ-4705 - add check for lock file exist and use error in place of warn if lock is lost,2,2
ebe54c46b3103b40b1428dd18df08fecc3d72386,"Fix and tests for: https://issues.apache.org/jira/browse/AMQ-4596

Updates to proton 0.5",17,284
b47b9aa64a59d3446780c1f75227750c2b38f72f,update ignore rules,0,1
1f57a6408fe878424d0d32a963582f4befae7399,https://issues.apache.org/jira/browse/AMQ-4594 - fix hawtio issues; linkage error and authentication,7,8
ce5d2a9e9e075aad14c2a7fe1a19473f3419bb40,"https://issues.apache.org/jira/browse/AMQ-4205

Allow for tuning to thread pool keep alive times as system properties.",8,20
3d6065ea3ff2249b9e96ab1bb56ad3ceceaa91ca,AMQ-4702 - Error resolving org.jvnet.jaxb2_commons packages,0,1
0203cde15029bd2df8ff0efc87c54b598ddac9b3,https://issues.apache.org/jira/browse/AMQ-4702 - added additional bundlel jaxb impl,0,2
edc159901843a88cf6761f25b85c1ee81bacfc46,fixes for: https://issues.apache.org/jira/browse/AMQ-4641,24,72
d1446c3bca26cec7af963c0562b54f95f8e6b43e,fix and tests for: https://issues.apache.org/jira/browse/AMQ-4073,80,283
2eb0203f0271415dc66a8774bb3898be84ed0536,more gitignore updates,0,1
0a5b14386fee99ca9d435145dcaaa189728c19e6,Fix for https://issues.apache.org/jira/browse/AMQ-4714,6,85
8d31e44e8d0615632d428f0a6778ce36ba5e02ee,fix for https://issues.apache.org/jira/browse/AMQ-4714,41,114
5515b9be3fbbef3289844eefd1514e0ae37a5b01,Fix for https://issues.apache.org/jira/browse/AMQ-4714,1,2
6c5732bc5c8fcac4590590c3016b919f4d068d88,https://issues.apache.org/jira/browse/AMQ-2327 - resolve. key is not to conduit proxy/proxy consumers b/c the dependencies cannot be easily resolved without more network traffic on additions to demand subs. Maintaining the order of consumer advisories fixes duplicate suppression. thanks for the easymock test. while brittle it did help focus on checkpaths which was key,65,550
82766764696ad571fb27f8176fc76fa8be9d0c6f,Upgrade to the release version of Camel 2.12.0,1,1
272de3a146b602abe5f5679c6aca283af2be3d22,"https://issues.apache.org/jira/browse/AMQ-4621
some minor tweaks to the slow ack abort strategy, wasn't always kicking
in when it should have.",6,22
9c75fe7b61f4b6aac639eb692c0989372ab07594,Fix for AMQ-4717: populateJMSXUserID is not setting the JMSXUserID property on the JMS message in JMX,0,35
fd67eefad63ec1676734fefa1037c1d12bdb35c4,Improve test for AMQ-4717: verify that propertyExists also works.,0,1
0ff359341c3adc7404b8485ad90a21696da57139,"Fixes AMQ-4718: Extra options added to a failover/discovery URL that don't map to failover configuration settings, should get passed to the nested URLs.",14,32
16c1627ca0324b255b1dcd28105984d1f7faeabb,Fix for https://issues.apache.org/jira/browse/AMQ-4719,2,32
77bcffc9b96a5fafc174e0aa5d8a5a72d1a853ce,"https://issues.apache.org/jira/browse/AMQ-4621

Additional work, adds an option to ignore network subscriptions by
default.  When the ignoreIdleConsumers setting is false and the abort
connection option is true this can cause the bridges to be torn down and
rebuilt for no reason.",1,60
8f8aa0f5e25070fe27b3aa583c60530286211c25,"https://issues.apache.org/jira/browse/AMQ-4621

Improve logging and configuration",12,7
272b846b0cc0e865aba1731a27e8eef5ea744639,Fixes AMQ-4723: HTTP Discovery agent should only poll for broker URLs while attempting to connect a transport.,2,88
cdb7bb11ff9351fb342033a863ad626233613873,"https://issues.apache.org/jira/browse/AMQ-4621

Update the consumer / connection abort process such that when the
strategy is configured to abort the connection is only attempt to do so
once instead of once for every subscription in the map.  Also improve
logging to better indicate the subscription being aborted and the
destination that the subscription was on.",28,65
e1bbde7302d7d169bec978633d2dd85eba2e19cc,"https://issues.apache.org/jira/browse/AMQ-4721

Upgrade to latest slf4j library and update many LOG statements to use
proper calls (no string concats).  Removes many uneeded isXXXEnabled
checks to clean up the code.",964,590
25af8e62ccbe1abd1cdfed3347938a71523ee3e7,https://issues.apache.org/jira/browse/AMQ-4621 - some improvements to the AbortSlowAckConsumerStrategy,5,14
269d44cfdde82ba60f3f3b50b9eca18c29a38e5c,https://issues.apache.org/jira/browse/AMQ-4621 - return modified trace logging,4,4
a69379d5fb72fe3ac5fff8e8c1dccdeac20071dd,"https://issues.apache.org/jira/browse/AMQ-4621 - remove check for the inflight size, as ignoreIdleConsumers=true should do the work",7,2
d771ebb97e9c01e5751d76bd043dbd4f6ae73253,Fixes bug in replicated leveldb where log files on slaves were not getting GCed.,2,74
dd91e8592e6890a8863884250c7fe5ed1d8a85d7,https://issues.apache.org/jira/browse/AMQ-4092 - resolve by removing dynamic property modification - JMSXGroupFirstForConsumer is now a message attribute with a property accessor,25,26
29b90b58129e7a78cc00dabde923002da133efdf,https://issues.apache.org/jira/browse/AMQ-4643 - have keepAlive task trap the new suppressreplyexception such that it can stay alive and renew a lease on resumption,0,2
1bc55049e61d8e2eabf2bd010c38fa55fd5324de,"https://issues.apache.org/jira/browse/AMQ-4725

temporarily apply patch to disable hanging tests",104,108
5215fc21d6e4f973bc48110dd8f9aad7ed6b0ced,Fixing regression due to chagnes in AMQ-4718.  You now have to prefix option that need to passed to the nested urls by prefixing those options with 'nested.',3,3
e6e7ba7e448f48c9c1f8a6db891a410c7a0f5b8e,"https://issues.apache.org/jira/browse/AMQ-4725

Enable all tests now that things are fixed.",108,108
97bbd2dfe9a48b63be96fe0669747612155dc1b7,"https://issues.apache.org/jira/browse/AMQ-4726

Updated help text to reflect the proper workings of the durable option
when it comes to producers",261,261
8d5b9a55876ebaae2f05e037a947c2ee7a9f49f6,Adding hooks so that in the future we can more easily support handling older versions of the AMQP protocol.,29,200
fba8e25563a1d3368025891ffe2df46ea0767a0e,apply patch for: https://issues.apache.org/jira/browse/AMQ-4713,1,1
f6f22df4f48ce06e61882d980ad64f56f24c5a4e,https://issues.apache.org/jira/browse/AMQ-4594 - add log plugin to hawtio,0,27
c387522217da4921d3274ff4f1ab93277dface6f,"https://issues.apache.org/jira/browse/AMQ-4426 - default to client ack, so that if a tx aborts we never auto ack or start a local transaction",8,116
c7d33ad5e43a11c929d8840fd4f89a7eab13f8d0,"Logging cleanup, don't need all the if checks, use string substitution
more effectively.",40,18
0f90695db7b8edd08348f5772500e3605a8825f6,"https://issues.apache.org/jira/browse/AMQ-4729 - add lockableSupport to mKahaDb to isolate it from dynamically created filtered kahadb locks, nested locks are disabled when top level lock is in place. default to a sharedfile locker",10,129
efaa351db77f7fa52f29214c2d5e17f9e21d2eee,"https://issues.apache.org/jira/browse/AMQ-4365 - allow lease locker to be used by kahadb - remove deps on jdbc pa. LockableService now passes a reference to a locker so it can pull the brokerService, extracted some of the jdbc lock common stuff, additional test kahadb with jdbc lease",174,383
062adbbe7278f63d3b4102e063e3bfea213754df,"fix for: https://issues.apache.org/jira/browse/AMQ-4059

Removes deps on camel from activemq-web, code not needed for the
examples.",59,8
21420459535335bef22f8d1ced6d3ce5b92d9628,"https://issues.apache.org/jira/browse/AMQ-4731

Initial fix for this issue.  Uses a separate collection to track the
creation time of the consumers, might want to test just using a
ConcurrentLinkedQueue since that will stay in creation or naturally
although the remove operations could cost more..",26,88
8f7dbccf4cd19596c88c691e71c2dfd7c2ff4ebb,"https://issues.apache.org/jira/browse/AMQ-4731

Initial fix for this issue.  Uses a separate collection to track the
creation time of the consumers, might want to test just using a
ConcurrentLinkedQueue since that will stay in creation or naturally
although the remove operations could cost more...removed debug logs.",4,2
637197bcf72d750f30d93886111126cd5318dc1e,AMQ-4733: Upgrade to jasypt 1.9.1. Thanks to Jean-Baptiste for the patch.,1,1
488bd9c14d8e403232abfcda86eb6c1db11f3d4a,AMQ-4734: Upgrade to jolokia 1.1.3,1,2
792ba1fac3dff1dd61d0b3322ed5ddc7411fd179,AMQ-4732: Added issue mangement to pom.xml.,0,5
3657824692da34f2ab8cc10a3a75f8ffc03bc6f5,Require Maven 3.0.4 as other Apache projects do. Upgrade to latest Camel and hawtio release.,3,3
c64dffd6980147e462e6f3accbdba84dca73e834,AMQ-4557: Upgraded to karaf 2.3.3,1,1
4b0073da024906689a9cb13f7f6a980c71e4b3a5,AMQ-4343: activemq-web-console can't be installed on Karaf 2.2.x. Thanks to Ioannis Canellos for the patch.,1,1
3e58a5a4ebd4d311f6d82065f602ace911318038,Upgrade to hawtio 1.2M19,1,1
74dafd7f24028c3503758581166ec10bb3d5116a,"https://issues.apache.org/jira/browse/AMQ-4731

Just use a concurrent linked queue, makes the code much simpler and
doesn't hurt performance overall",75,8
21fe8cac7d05247c381fc351596c3a56b89a03cd,Make the mKahaDB store agnostic to the nested persistence adapter type.,114,130
70c698f9889d84fd574f324e791c41d8ac75c85a,Fixes NPE that was occurring.,2,2
28163a4065021165d1ba20824ff7fd32474e9fb3,Don't assume all persistence store use the same default directory.,1,7
f75520fc8b396167a2788f37d0cdf933c3408af8,Implementing AMQ-4744: Support using LevelDB as a nested store in mKahaDB,32,188
9edc5d05115dce7762daf4cb1099e9a3ed9eab44,AMQ-4745: Upgrade to json-simple 1.1.1. Thanks to Jean Baptiste for the patch.,1,1
124300a6bb16f9c9e47016511afc671d4c75a599,AMQ-4749: Upgrade to Xerces 2.11. Thanks to Jean Baptiste for the patch.,1,1
5c0c8039364a69f59d0a06de70cdae81abac3d41,AMQ-4751: Upgrade to commons io 2.4. Thanks to Jean Baptiste for the patch.,1,1
6725350e0907dc10604960cb1b423f3042c06ec8,AMQ-4752: Upgrade derby. Thanks to Jean Baptiste for the patch.,1,1
bdbe3d2d08bf2c208248403d82724bbb66867d05,AMQ-4750: Include details about 2 web consoles now in distro.,3,16
a24560c607ea758e803e76cd4f22e5129e1b517b,AMQ-4747: Fixed so AMQ dont log WARNs to system out on startup. Disbled the insight module as it need a new release with a fix.,1,2
6b9662440eedabc6bd749742276570af3d9b8798,"https://issues.apache.org/jira/browse/AMQ-4375

Remove hanging test from build for now.",2,1
b66559ee079bd55bfc49daae6b95b79706147fbe,https://issues.apache.org/jira/browse/AMQ-4757 activemq-jms-pool a generic jms xa pool derived from activemq-pool which activemq-pool now extends with amq specifics,1307,2205
25e6b9920b3f1793c496f40d0de50009b76097ad,https://issues.apache.org/jira/browse/AMQ-4092 - add unit test that reproduced,0,238
8cf7f660c24415794e3c65c9e5786ffa32475ee9,https://issues.apache.org/jira/browse/AMQ-4702 - make org.jvnet.jaxb2_commons*;resolution:=optional so we don't pull in a jaxb2 dep unless we want it,2,3
e64f83abcc96c4a0829e891db81fa74f90f8f4bd,"fix mvn warning on duplicate dependencies.dependency.\(groupId:artifactId:type:classifier\) must be unique: org.osgi:org.osgi.core:jar -> version 4.3.1 vs \(?\) \@ line 195, column 17",8,3
2a5ad365d7925705418a17c78ee253fa005ee130,https://issues.apache.org/jira/browse/AMQ-4758 - improve performance of pull consumers,12,19
45e7d3a21b4f944df9f2824f58fd135dd326ee59,"https://issues.apache.org/jira/browse/AMQ-4365 - fix up LeaseDatabaseLockerTest config, needs a lockable instance",4,5
8550f93031b93fc10a536f162ab606bc4346b1b1,https://issues.apache.org/jira/browse/AMQ-4682 - add original lastupdate time to info message,1,1
b8d5ca8383c9dd6468e7fdf348d571cdc089fea6,https://issues.apache.org/jira/browse/AMQ-4758 - improve performance of pull consumers; more improvments; removed obsolete code and added extra check for dropped messages,7,5
92ee5c6bab5c7b21bed6c0b3240670f305cfb276,Fixed the karaf webconsole test.,12,30
40ea66556ecf68beb47919a15b31a379d7c4271f,https://issues.apache.org/jira/browse/AMQ-4365 - ensure 500ms retry time is enforce for kahaDbJdbcLeaseQueueMasterSlaveTest,3,2
9883ecffc30fd512b0c0e5e9e20dc0cb1012f0c0,Upgrade to Karaf 2.3.3,3,3
f609c50fd0f7bf74602d79043bbd8d890c4c0a5d,tidy up intermittent failure - BrokerViewSlowStoreStartupTest,1,8
a80a1857d0ca86b3253f92c05134c31e8bb1e913,https://issues.apache.org/jira/browse/AMQ-2327 - fix regression in org.apache.activemq.usecases.TwoBrokerTopicSendReceiveLotsOfMessagesUsingTcpTest - statically included and dynaically included topic of same name. Need to conduit statically included (local networkSubs),1,17
ee8b51b27bcb81544d853c3ff8b67a6dc79108f0,AMQ-4760: Added dstat command to activemq karaf commands.,139,165
83f519cd657aea378c3d7a4452f71318a2dbdcdf,https://issues.apache.org/jira/browse/AMQ-2327 - fix regression in org.apache.activemq.network.NetworkBrokerDetachTest - need to conduit statically included durables when dynamicOnly=false (local networkSubs),0,1
8089e0d10608f48583883f9d343333f84e84535d,AMQ-4760: dstat command to have same set of output as in hawtio.,24,30
a5031726752418fc735f1a3984de1f2a34e76fa3,Fixed activemq karaf commands.,1,2
5ec5c525dda17a3e29fae7f90b886b81fc1ed9ae,remove duplicate pom dep -pool,4,0
0530aacff7a51ce1788d18aecea711efea575df5,https://issues.apache.org/jira/browse/AMQ-4606 - remove mysql in favour of derby and defer start in replicated-leveldb b/c spring auto start hides the expected timeout when no zk,6,19
4a01e40cb40f82b10f794ea5466f751eedf7f7f9,see to gets some more detailed info for jenkins intermittent failures of runtime config mods,3,6
e0f2dc9bd45012f2ba98287f4a5671713c582751,AMQ-4748: Fixed shutting down AMQ standalone does not raise exception.,1,6
a959ed92276608347b75f48fe1c544ba6df58868,AMQ-4750: More details in web console get started how to install and use it in karaf containers.,1,40
78a785eeccf270bae1e7733f6f85ce02b39581d0,https://issues.apache.org/jira/browse/AMQ-4758 - remove unreferenced mysql dep,7,0
887ac0ba49b1f91d5e63a5815bcd7706bc32f616,AMQ-4769: Connection.close() should not throw exception if already closed according to JMS spec/javadoc.,2,179
8804341c19f7f9450f22cef8fb842ffab31b5e5f,Adding more debug info to help trouble shoot election issues with leveldb replication elections.,0,4
afc0220147fccfa6a4597cd0413f2e1cb02dea9d,AMQ-4371: Added back rss/atom feed support in old web console. Thanks to Robert Balent for the patch.,0,10
0b66abcbfbf22f07ac65c4d8cc9b02cd7f75e122,Fixing leveldb replication bug where loosing quorum did not properly restart the master in a clean way.,0,12
b720b264e34885ed2cf94157ddd74349d2e7ac0b,The the hostname on the replicated leveldb store test so that the test works better on machines with weird DNS settings.,0,1
511f11b434b7448a2cdc4a0894d8cdf85527d5f9,AMQ-4780: Upgrade to qpid 0.24. Thanks to Kevin Earls for the patch.,1,1
d07a5a9dc65221e732fdeb9b90ea6f369a89ee25,Dependency upgrades,4,4
987769a62b0ad48118e1bb0ed0da277d37ba41c2,AMQ-4277: Added unit test.,10,109
ea1d02d06767afaf25d03f0e7aa1414b7aeeb67c,Polished and removed double space in logging.,9,9
531d67cd13d1fdb8c2e638040b4c635f16b264ca,https://issues.apache.org/jira/browse/AMQ-4682 - remove unecessary stack trace from info log re no mapping to getContents - usefull only for dev/debug,0,2
a5ac1a3630cd6af4f09d35dd63d45d3150ba9e53,Avoid logging ZooKeeper related exceptions during a replicated leveldb store shutdown.,2,7
f28ac6d5e42c8425dfe7725ac366fc2f60c612c8,Use karaf 2.3.3,1,1
ac5ba4082924fca214cf6f261d887fe3ebdffe23,Fixed karaf itest. Testing by hot deploying by copying a .xml file into deploy folder need to be done differently.,3,37
5eb4e6b8ae6604d1eb03bb82a70657e983c5b9e3,Disabled test,8,9
1fdc2c477ba5628123bbe7702635af69c333d091,"https://issues.apache.org/jira/browse/AMQ-4682 - take account of granularity of filesystem lastModified in tests, > 2seconds, resolved intermittent failures",2,24
8572bada7d729ee16c1f2559bc5bd822cfaa499e,AMQ-4784: Upgrade to jolokia 1.1.4,1,1
4f19f31a37ca719a92967272cd751ce0c3a539b4,https://issues.apache.org/jira/browse/AMQ-4785 - fix and test,18,79
e889e36335d22b1a9693479b1021b35212ff60a1,Upgrade hawtio to 1.2M20,2,1
84c4b9db56a08d81639d19a65db79a28f8f319ae,AMQ-7486: Log at INFO level on starting standalone broker the http url of the web console,19,77
66e101b1dab3b961010f50b5754ef5dd0e061370,Moved some jars from lib/web to lib as they are more broker dependent.,2,2
abaaf25d3090fda7c07497d027d3dc7467e03952,AMQ-4747: Fixed insight-log4j using a patched JAR so we can include it in the standalone distro.,4,23
75c659f122bc60a4e21da1f3bf3eadd227c49cbe,AMQ-4787: The welcome page of the web console should not be constrained.,400,20
0da02fca9d81c72052d7516e15a25ef00c6cd05b,Added details how to disable login in web consoles.,1,5
7c63788e1a60c7303103c54ff368ae128aca7933,Implementing AMQ-4788 - Add support for allowing the broker to partition client client load across a broker cluster using a partitioning config,0,1219
ce9be7b11a303d232c14a396677273b8a5876d33,https://issues.apache.org/jira/browse/AMQ-4594 - removing hawtio from basic auth and using it's own mechanism,2,60
1981adf429f1af1405f3cc7a0b60f94075a54550,https://issues.apache.org/jira/browse/AMQ-4594 - turning off debug for jaas module,1,0
f88f2803ac0a2a984137caa86ca9ef2b1199fbe9,Implementing AMQ-4788 - Lets give preference to consumers vs producers.,191,95
21edf2b5bb4e5a6b05429161eb5110ba33449c15,Implementing AMQ-4788 - make sure you can configure the partition broker plugin via activemq.xml,4,135
77a9ade2072ff1c582dc45c28039d76df4151c40,"https://issues.apache.org/jira/browse/AMQ-4682 - add support for mb/kb limit suffix and add karaf itest, fix up spring context in pid factory",17,326
ef64b057a6ac2e5f7d9995d8efb6c201da5a8e6e,Polished instructions in webconsole readme,2,7
25f70ad483ec8211b9269bf8a33c7bb2d750866e,Implementing AMQ-4788 - Adding tests for the ZooKeeper variant of the partition broker plugin.,19,182
26092f5a829b069b8e9a537087d61f1c6c1a9b06,Tweaking the activemq osgi jar so that it does not re-bundle the leveldbjni lib since the pure java version works fine.,30,40
d94c7da16bb3e5daf30d431d5082c8ae37722fcf,Make snappy lib an optional osgi dependency.,0,1
10391092a3fa976cec6e91c7bce1e7efe4818207,Make sure we keep the resource files embedded in the bundle.,2,5
3a0a9aae0540cf5e055f1c5c0c37337ae94b1296,Include the partition module in the assembly.,0,5
dc0291b290bc6d4a9d77eede1dd319ea7db8f903,https://issues.apache.org/jira/browse/AMQ-4791 - fix and test. removed the delay but left the warn if dispatch ocurrs before interruption processing is complete. Problem was a race between consumer close and sessions copy on write dispatchers list,37,180
0f9a34799630911b0d7906e166291ff5af0d852c,"https://issues.apache.org/jira/browse/AMQ-4753

Quick fix for getting past protocol discrimination and passing on proper
Buffers of data to the protocol converter.",27,145
981c8e247f11871265a20a48e463096028188f36,use proper hawtio config for all shell scripts,3,23
b1bf99425b08f92677e536a9127bdff8d32a7101,remove unused packaging poms,166,0
119fdab1d005064ad81c023674522e8175cb975c,Fixes leveldb replication bug that can cause read errors: make sure that log is flushed for records that are being read.,1,3
550393f702c15b43269899ef04772dfc76cc6707,Make sure the hawtjni package is marked optional.,0,1
9ee65d32186bba9b2bf7f18a3214534169ebe1ef,Upgrade to hawtio 1.2M22,1,1
5e63ddd337cd1df4c23c052a0c9c117a4e4e5a76,Fixing bug which caused replicated leveldb nodes to not recover from a ZooKeeper failure.,164,160
7319697da517aadd79896846113009312c9c0de5,"https://issues.apache.org/jira/browse/AMQ-4753

Adds more NIO+SSL test via Joram test runs.",10,212
d609d2ae38cb2c99fa3f3408107c5e099de727dd,Make sure the leveldb append log file is flushed to disk before it's closed to avoid data loss.,11,11
6bf168d52466e0627b9b026a1a6b8ee7c04f787f,upgrade to hawtio 1.2-M23,1,1
901867ec1007587d1d6a70cbb1062e00e8804778,fix karaf feature test; allow more time for feature to install,2,8
4f108cead55bf46128132b94a6b84a89f0eeab91,fix up missing license headers - keep mr. rat happy :-),0,177
4bfb80680ad22186aa48e86b8f0bcbeaf94fdf93,Upgraded copyright footer to 2013,7,7
05bc25cb8750ae9e116a8b3d95d0b6060e7909b5,revert addition on forked hornetq javeee examples - some of the nested driver files have the LGPL license,9753,0
8bfd36a1fd58897b465ddecdfdbc56d55340cba3,Polished,2,2
0e5ff6b48556afd649ebb204bef4605d70d92810,AMQ-4795: Enable amqp transport out of the box in activemq-karaf,1,3
211f566b54ab86bac04e538be8d2b8cf5d0a36e6,AMQ-4795: amqp transport doesnt work yet in osgi.,1,0
5bdcc19693627af0c1fd155d61e016aab283cfef,"simplify default config, remove vmcursor refs and default memory limits to 70% heap. hardcoded default 1g",51,10
49b0f74089051a97713970ad33039990ac9e6f6b,some more license tidyup from rat plugin output,0,19
e1b171e013942a3dbba34dce6007d15e2f1788b6,validate mqtt in karaf - add transport listener to test config,0,1
3ae37a9ba30c69b6f7aeb95406c14f1b400ad9ef,Align jetty-demo.xml with jetty.xml so we have the new web console included also.,7,47
03206300661c38194a6e455e92e46b3e29cfd459,Use openwire as transport name instead of default,3,3
2ecf41d02f8f858ef1af91fc06e9c276bd667753,Porting apollo examples structure to ActiveMQ 5.9.,172,14574
95fc0c0608eb40e4ba433e4c40502b31df4b2330,final rat exclusion,0,1
b4dafca8696e6f9ed5eb10ec41dae9fd36e81d45,Renaming to ActiveMQExamples,0,0
a912d6d5cedc60074ff85af06dfac6a4a070889b,Add in C++ and CSharp examples for Openwire,0,917
6773b8ff76f08f27e734ae385e038e4f48eadac4,Fixing the mqtt java example a bit.,0,4
51cf06be5472eeceea0c360048d809fb43aee535,Enabled the websocket transport by default and fix up the mqtt websocket demo so you get a random client id by default.,2,5
3345e6ca25a3143a2ce4e897d860321d5478ab11,adding proton-j-impl dependency,0,6
c643e7f631ff68f3fdaeaa5d99abf6f658c13e38,Make sure we test the examples/conf broker xml files.,4,10
e90ce1aabb5de8d671fdea4d1b97f0cb468637af,Don't display leveldb replication recovery progress on slave nodes.,21,24
ccb119d896620c4c44bc0e341496efc4b519b59f,Construct a ConsumerId from a String,0,11
e000471cf4aa4d75e5ded7435da7aa072c2833f9,Added test for MessageGroup type,0,82
468e69765145ddad199963260e4774d179ad5555,Fix for https://issues.apache.org/jira/browse/AMQ-4766,33,365
0214bfbfcdef3e68d02b23d006a6f039ef8e154f,Support weighting the leveldb store replication nodes so that some have a better chance of becoming the master than others.,1,10
59af7479b21017d254158f0c6858a5aaaf2362f7,Polished the logging,11,11
cd4b229f222d96c76753249baa323d0a2c89f287,support options on MessageGroupMap types,5,43
7f17f49d730b9e8cb465e79cd82728de08f9b1e0,Added test for MessageGroup types with options,2,13
db2121bfce291fdccf6d04f6f2cb58eac9a2ba55,add configuration of cache size,3,13
a33951d2eb1a2ef4fd4572008d7f7f795d2e7f49,MessageGroupMapTest fix,1,1
839b154cd24980f1c77fa89a37de42684f73d275,https://issues.apache.org/jira/browse/AMQ-4798 - limits are still high but there is no loss in percision so that chidren now match parent and there is no info message,7,17
74234ed797019d7aeb9f5e4a6721e5db1169e0f0,Embed the linkedin packages in the osgi-bundle and rollback to previous zookeeper version since newer version suffers from the following regression: https://issues.apache.org/jira/browse/ZOOKEEPER-1334,5,8
52f418d6c9e6c7df8313f976b8458c37c2a1a858,"Switch bat to the latest version of zookeeper, we can fix it's OSGi metadata using a wrap URL handler.",2,2
b276006911583ea62b4a24c4cc5df9697febe006,[maven-release-plugin] prepare release activemq-5.9.0,48,43
ee0933c71eb74ff724b08e0040ea258223874578,[maven-release-plugin] prepare for next development iteration,41,41
5b5133c28b98b3715fe955bd18d9481035a3f42c,Fixing up the user-guid.html that is part of the distro to reflect changed paths.  Moving the camel.xml to the examples conf dir.,5,5
bc2bc86a1dd27980be4b7d803f21d4aaa9851d98,AMQ-4799: ws/wss connectors should also log uri when starting like the others do.,0,6
b7921117cf49f2e50cc3465dc0e3ff38fa5f1ea2,"Upgrade to the latest hawtdispatch, mqtt-client, and stompjms releases.",3,3
d02f696dd03c23ef56066564239bdc0219504777,Updated (c) to 2013,2,2
98803a594920ae0d94ea70f3f2cf756b787e7317,"AMQ-4803: Updated instructions in examples how to start, as the files has been moved.",22,22
6d15c348ba5f4f9e6e708c0114ee59a3921e19bc,AMQ-4801: Fixed chat example to not log ERROR on initial connection.,9,9
d44c8968c4320dde1e60685b538c58bfaef1cb9f,"Expose a JMX attribute to show when the last leveldb replication log entry was recorded.  

This can be used to get a time estimate of far behind a master a slave is.",1,28
afcb5fbe77870c3f335e3ad815e8519a25697393,https://issues.apache.org/jira/browse/AMQ-4798 - reflect new 1g default,1,1
031611ed22cbb523a816a98ca6cdda0cd519759b,https://issues.apache.org/jira/browse/AMQ-4798 - reflect new 1g default so set expected value in test,0,1
ff3bad1ae985fc209ffc76e6bb1939e6f90a0499,https://issues.apache.org/jira/browse/AMQ-4798 - reflect new 1g default so set expected value in test,1,2
9815b9dc75b2fa7d5df40edc449db2bd15bae240,https://issues.apache.org/jira/browse/AMQ-4798 - reflect new 1g default so set expected value in test,0,1
87c9bbebacfe1d2248b4a55d601f0b089d40b742,[maven-release-plugin] prepare release activemq-5.9.0,41,41
864aa6798f30bdb57affc9167fed265a3ebd00c0,[maven-release-plugin] prepare for next development iteration,41,41
ee65ca4ee5fb277204bd084eab356479ff1f05d8,Fixes AMQ-4806: './bin/activemq console' should 'exec' java so that way scripts calling it can get the pid for the broker's java process.,3,5
ef45a5f8ffa0c5c36f1fb98f377ca0cb54b9cbd7,Avoid NullPointerExceptions that can occur during leveldb replication M/S state transitions.,10,48
f5dd1256e467966f14a7447a4cd1fc45f21f19a3,https://issues.apache.org/jira/browse/AMQ-3303 - test that validates fix,0,144
1896d27409d1fa6941f6c1744a1fa6f6899f3a01,Update to the latest leveldbjni release.,6,6
d4da85f39bb4f58293817cdd1703ddea66f66a3a,apply fix for: https://issues.apache.org/jira/browse/AMQ-4816,133,132
c015a98e0ac54fa82a889d3e48396550a5905196,Adds a little test case for Http based discovery,0,70
598f206a58d1dc14fbe48812ac28266789722dd8,AMQ-4819: Fixed spelling.,7,7
092bc617080ebb1c7870b1878de6abf45b9790f6,avoid jvm fork console popup on osx,1,1
85bc9ce9d01cb1174572ed23372e18d753837eec,"modify fix for https://issues.apache.org/jira/browse/AMQ-4181 - apply maxBrowsePageSize, when > 0 it will limit a browser dispatch; related to https://issues.apache.org/jira/browse/AMQ-4487 https://issues.apache.org/jira/browse/AMQ-4372 https://issues.apache.org/jira/browse/AMQ-4595",10,137
ae1da749b780520fad4a444f4b8babdfcb9a583d,remove some javadoc warn,3,1
0f09f78f3e04a712b0b066d0b2710c3d0af749e4,fix for: https://issues.apache.org/jira/browse/AMQ-4740,1,2
043a4ad4ff235ce28bc1bcbd594c50a262caf373,"https://issues.apache.org/jira/browse/AMQ-4820 - find elements by ns and local name to deal with namespace prefix. Ensure we trap all errors on plugin start so we don't cause a failed broker start, and trap no broker element with a better error",7,174
ec97d0aad024890251d4105001f17c56d6090658,fix for: https://issues.apache.org/jira/browse/AMQ-4822,4,5
c2eb4863a8cc4de79a7f63fea915bf9397981bb8,Fix for https://issues.apache.org/jira/browse/AMQ-4823 NetworkConnector not registered in JMX when created from Broker View + unit tests,1,69
da45d994ac31cb8ef78ff429fd7e26e5f6834749,https://issues.apache.org/jira/browse/AMQ-4821 - refix; we now use any referenced factorybean for default properties,27,186
dc290ecb457d74cadf7286083e955cfe4b29bf94,AMQ-4829: Fixed activemq:dstat command and also sort the listing A..Z by default.,8,50
1dbb06f53035d992b35ace4363dada2a21a830d6,Upgrade hawtio,1,1
928068dfd49f719beea2d9dbe589efa68d7d35ca,remove unneeded deps that pull in older amq versions,14,0
aaa1a74dfb4c1b30686f9cf74d97565edd1b3621,Add a toString() method to the replicated leveldb store so that it displays a nicer message when the broker starts it up.,0,5
22dc6d444a49c5fa5f47eaa4a8d155c28123b4d3,https://issues.apache.org/jira/browse/AMQ-4471 - Fixing bug where stomp ws example allows remote JS execution.,2,4
f7311567a022dcdfb00126b4931a485a8afdb134,Fixes https://issues.apache.org/jira/browse/AMQ-4840 - Invalid STOMP frame sent on websocket connections with heartbeats.,0,3
2a59294909d0d0ede024533bca04c86a46c14411,Makes it easier to launch activemq from an IDE in debug mode.,0,2
17415ceecde675cc925a83c80ba4558b60b81e6a,Only register the leveldb store MBeans in JMX if jmx is enabled on the broker.,4,4
3ed52ef8a247496c7333ed0ded72f5bb8fda4e91,Working on a test case for https://issues.apache.org/jira/browse/AMQ-4837 : LevelDB corrupted in AMQ cluster.,82,300
7dfb0a2a3c86528d3b7bfeef1fe2df38339b450b,"AMQ-4433: Validate socket.xxx transport connector options, to detect invalud/unused options and fail. Thanks to Christoffer Sawicki for the patch.",5,75
24d5490e57f06bbf1384d828fc3448bf7c1f5b70,"Fix for: https://issues.apache.org/jira/browse/AMQ-4837 : LevelDB corrupted in AMQ cluster.

- Log rotation was causing a pre-mature index snapshot to be taken on the slave (snapshot while the slave was still synchronizing).
- Also fix issue with the append position displayed in JMX for the master not being correct.",45,156
582af3e74adca7efbf7d88d092764325341b719d,https://issues.apache.org/jira/browse/AMQ-3725 - allow kahadb to recover from failed file system,18,425
855419359cefbdb31be38510db121b17170af42d,https://issues.apache.org/jira/browse/AMQ-4832 - apply patch from Matthew Walker with thanks,4,6
8a8fcb6ef4a8e7c5a35e03a8ea043e0984ef2cf8,"AMQ-4841: Fixed JDBC leased locker to allow being configured in any order in the XML file, being able to use the defined statemnts. Otherwise you would have had to define the locker last in the XML file. Thanks to Pat Fox for the test case.",11,121
5dacae368b125cd6371bc5d74cb1820ba0a5ca5a,https://issues.apache.org/jira/browse/AMQ-3725 - close delegated file only if not null,1,3
ec4c2d946427c37a184b71aa172b01834754f681,Upgraded hawtio,1,1
190da29691cbebaf8bd315ad6b8be02f64cbb6b2,"Fix for: https://issues.apache.org/jira/browse/AMQ-4837 : LevelDB corrupted in AMQ cluster.

- The tracked flushed offset was not getting initialized to match the initial size of the log file.  This invalid flushed offset was being used to do the initial sync /w the slave and then things went downhill.",1,1
70e2b998d2941b4568e8da54bc1fed851b602d77,AMQ-4668: REST API only accepts non-form content if content type of text/xml,1,2
20747eedca6577af2031c107d4b1ec3b69724731,AMQ-4685: Improved LDAPLoginModule to support ldap alias when result is absolute. Thanks to Igor Podolskiy for patch.,7,40
6e49ef3a600f9b6602dfc205137775b97c6e9e19,"AMQ-4746: Fixed ClassLoadingAwareObjectInputStream to load simple types first, using same logic as in Camel. This helps with AMQ clients in other runtimes such as Applet based or whatnot.",25,75
5469d806e8a8a94f774528fb65d6c52352ebce6f,Polished camel broker component,48,25
65be281c16b277c0adb647ec864414c4e36bcb03,"Removed not use class, which neither has ever been documentated, or used by end users. Also they can implement their own spring JMS message converter if they want.",213,0
1ad6bd59ee60b622fc25749fe42a7570e105e92a,Removed non existing AMQ journal Camel component which was removed a long time ago.,18,0
48d615d3113cf3d2a9d33bd5264c4f334d34b5c5,"AMQ-4325: Fixed ActiveMQ Camel component to support username/password being configured when using ActiveMQ factory method. Also fixes the factory method would eager create plain connection factory, instead of using createConnectionFactory method as otherwise, which is optimized for AMQ.",3,223
5907459fc341008b4310a5f66170e373c14cff01,AMQ-3350: Fixed chat web demo which may swallow first message. Thanks to Ken Seiss for the patch.,1,1
a6c14b41814552152df335cb7f811088eb7eb160,AMQ-2536: Default xpath selector using xalan now uses pre compiled expressions which is faster. Also avoids previous issues with swalling exceptions if xalan is not in the classpath.,56,38
06356db1c4dda514be086961a891aff8765c63be,AMQ-4826: Failover transport - avoid floating-point issue on other JDKs.,1,2
af1edf45888d559bf3b3e34e560b59c73fd16324,Polished,0,3
d0f48b3ee504650330425707c363ea103be3c3dd,"AMQ-1063: Fixed journaled JDBC checkpoint which would mark inTx eager, which was wrong, as getting the JDBC connection may fail. So the mark inTx should only happen if getting the connection was succesful.",6,8
4ddbb8546d7ca50b57213da45f3fbd021ef7fe69,AMQ-2960: Fixed potential NPE in pooled connection factory in activemq-spring when using spring-dm in OSGi. As spring-dm may call getObject before postCostruct has been called.,1,4
4109b790595339e92306f00056746034e5541417,https://issues.apache.org/jira/browse/AMQ-4843 - implement and test for composite virtual destinations - forwardTo,17,100
85fc6860062db2c6245382e1562288b95d5b6804,https://issues.apache.org/jira/browse/AMQ-4844 - introduce activemq core karaf features,44,73
2824a94af4040552feba3818b84ac2fdf1f4dffe,Continue to append to the last leveldb log file on a store restart.,15,19
dea38e62f893a3ef3aa7cc21b87aef357f6fcae2,leveldb replication: Lets always download the current append log just to be safe,13,4
b1d8cbe4cd91c53ac44db57f9952dc559a1db742,Fixes for leveldb replication: make sure we only apply index updates when we encounter a UOW_END_RECORD so that we don't end up with an inconsistent index if a partial UOW is replicated.,5,37
a907fc9e942db4cdb58e3cfb6b366aaa9497e00e,leveldb store: Add more log traces for when we need to get more details on what's going on.,6,12
4e3595d488efccd529c8b0164a00a42c8481f901,move to shade 2.1 plugin version to fix some random failing builds.,1,1
d872994260df2f7591f35d6a260cb474e9508e4d,polish,48,48
4367ec1b829f46da60bd592a671ea1ebc8aedcd7,"If a replicated leveldb slave's connection gets slow, lets merge together journal write events to avoid them queuing up on the master side.",49,187
67a7d30b4702647a8b51758e61aa628618f42fa9,https://issues.apache.org/jira/browse/AMQ-4849 - runtime modifications to simpleAuthenticationPlugin plugin implemented with test,16,286
002ef968674488d93522c558d6eb64810c669ad6,replace fabric deps with linkedin zk to reflect revised deps from leveldb replication,9,9
ec5b15cc27bd851d11c5b9b503655e49eccdea33,update ignore settings,0,1
50ec158e25d1ee81e788e29e15366e3955c8295f,https://issues.apache.org/jira/browse/AMQ-4852 - ensure clientId view connector mbean visible for duplex network connectors,2,47
982b728f24415513a18cb51097b5a10d2f9b66db,Increased timeout to fix AMQ-4854,10,38
0d38840051490b37eba61df0be791fbdc7f1c346,"Commented out UnifiedSessionTest because of CI hangs, see AMQ-4375",1,1
42e1c463d4df7b210c9694aaf9dbe36c3d29a01b,Replicated leveldb slaves index snapshots were being labeled with higher journal positions than what they really contained.,45,68
692428eee5f7af1118881c1140ff45cd33e99d18,"Fix for AMQ-4857, added test for null before accessing protocol string",1,1
8f078a3f4ce0599f958c1363e55fbc966013cdba,"https://issues.apache.org/jira/browse/AMQ-4853

Add hashCode and equals override so that this object can be used in
collections properly",0,29
38ab4b10a47614a07bb2e3be6e98ee4b23074e7e,"https://issues.apache.org/jira/browse/AMQ-4855

Deprecate the misspelled subcription named getters and use the correctly
spelled versions where the older ones are in use.",44,118
6552287221c1706684fb2babe5d9777aabd09531,"https://issues.apache.org/jira/browse/AMQ-4853

adds a little test and preserves some performance tests if needed later.",0,300
b0b3a169ce2cbec5353e3d625a94f9b6cee4765c,https://issues.apache.org/jira/browse/AMQ-4869,123,101
bc9751ac234d6db138b5b4f4dec786952f0b23ff,Adding an mqtt test that uses the eclipse paho client.,299,378
7e000d5a40f8bbb817dec42a8f9fd03de0f972d7,Fix for https://issues.apache.org/jira/browse/AMQ-4719,1,33
47d198513915532e1e8a3bcb0f9a6f98f5a794dd,Fix for https://issues.apache.org/jira/browse/AMQ-4719,0,14
d2ddd1dcadffc6f16901f634a6b04314f48f9d8d,Fix for https://issues.apache.org/jira/browse/AMQ-4719,2,19
4183e6e47c29f6d34313a83cb748b4c137b8a353,Fix for https://issues.apache.org/jira/browse/AMQ-4719,0,9
4f1754bdc242e2cd8766607908024891fe20bcde,"Commented out testOrderOnActivateDeactivate, see AMQ-4874",1,6
497fbfc04b1fd8ab1db6afe72742a0755842a73d,Fix for https://issues.apache.org/jira/browse/AMQ-4719,10,100
61fadba43a0af97f99c58f25e33899ad3a7fd2df,Adding Paho over NIO tests.,1,142
6540f04a40a4edbfc212033811af73f2c42488d7,"Changed timeout, see https://issues.apache.org/jira/browse/AMQ-4876",9,18
0ed2ddb3df687f5e977b21b0394139efbfd8846f,Added timeout for AMQ-4877,2,1
02a821defec2da85396fe737b4d0603be09b5fc1,"Improve the Paho over NIO tests, allow scaling the test using a -DPahoMQTNioTTest.CLIENTS=xxxx mvn build arg.",5,12
2fd52c9dcf6740d35ed78c0a5d88937a13416412,https://issues.apache.org/jira/browse/AMQ-4682 - add removal modification test,0,19
b977f24c79e3d98255477457bf7a80460ed36ccb,AMQ-4881: Upgrade to xbean 3.15. But keep the activemq-spring maven plugin at 3.12 as otherwise the generated schema is changed. See JIRA ticket for details.,1,1
a7895ae34e7afe096488feb7c929685d18dca77c,Some dependency upgrades,4,4
e1a363f96e35a1b8054e0c6abc3d154198b7b689,AMQ-3580: Added unit test,0,66
6ed8f43d8d0d6a8f846ad5695f74ada014aa3f5e,AMQ-2505: Sanitize hostname in Id generator to only include ascii chars as otherwise this can cause problems in openwire protocol.,7,54
5e5458ec38f7a204bb40174e13262c7b892de89b,"https://issues.apache.org/jira/browse/AMQ-3388

ignore unknown fields in openwire commands to allow interop between
openwire versions.",6,14
13ba3008d488161d0e18934614cf244cbc5ff722,AMQ-4883: Remove not needed repo. proton is in maven central.,14,0
bd414b70f7fa7d935bfb5f34d00dee5b38fbca0f,AMQ-3101: Removed start from bin\activemq.bat so windows users need to start the broker like on unix.,2,2
99278dfb9c31a2c73a3d798e17fe44e33fa8965c,AMQ-3922: hssqldb adapter should use BLOB as its binary data type.,1,1
2a6aab40b4def2add11755868b3bb17fe45908e8,Added testcase for  https://issues.apache.org/jira/browse/AMQ-4884,1,28
7f639a60473c903333b0b0adabdc5473f54cf5ce,Fix for https://issues.apache.org/jira/browse/AMQ-4884,19,40
c55a66692126c76b81cfd20c66749e3bf1bb8606,"https://issues.apache.org/jira/browse/AMQ-4706

add setting warnAfterReconnectAttempts to FailoverTransport to log a
warning after every N retries.  A value of <= 0 will disable the
warnings.",2,38
291ec5ea17817cb374c1a2342dd280ee986ebaa3,Fix for https://issues.apache.org/jira/browse/AMQ-4884,0,47
0a67b12c647bc3fb42542b640dfb698fcf802456,Fix for https://issues.apache.org/jira/browse/AMQ-4884,2,20
e57aeb3786e952ec469f4aec80cc3bfd1d00125d,Changed timeouts to 1 minute from 30 because of occasional long runs on CI boxes.  None of these tests takes more than 5 seconds on my mac,15,15
c60af641653d69a0a7fce6088f2954f41b204a0a,"See AMQ-4886.  Updated tearDown so it can't hang, reduced timeouts, updated to JUnit4",15,64
ff593bf3dd942b3072d9f6608f1ec6cedd3d5421,add debug logging for mkaha destination to persistence adapter mapping,0,1
a46db89b2a691f979d722e51a9540e7dfd61a845,Added timeouts after seeing this hang a CI build.,5,5
030c2cca31fa41dc938b7a6a5904c90bfce6dfac,Fixing AMQ-4892: MQTT clients disconnecting due to socket error do not publish the configured last will and testament message.,3,4
511b60c6f650650b24df34ac55dd174006b4cd43,"https://issues.apache.org/jira/browse/AMQ-4485 - resolve - non transacitonal work interleaved with transactional work needs to check for and integrate with cursor update ordering. Key difference in latest test is 3/4 of messages getting produced via network connectors, hense not in transactions",30,427
de58386607f6c080ae5466a17d5c9cdbd25b8df8,Fixing som e typos.,5,5
bc4f4e92a6e38032c91748764e5ef4f03b5d4140,Fixes AMQ-4896 - MQTT does not properly restore durable subs with the Paho client.,57,139
bc1ca6c8cf3cfb36f552c6315f1a2ec359e3bb6b,https://issues.apache.org/jira/browse/AMQ-4897 - race condition in failover transport,14,11
898abca0281c86f3406392dc25df6d6d9383b5e8,Upgraded to hawtio 1.2.0 GA,1,1
a3e3d487a33e48d0ef697340c5deacd7ba59bffe,AMQ-4856: Use application/xml as content-type in web servlet. Thanks to Fernando Ribeiro for the patch.,2,2
25f4e874eb893c7ff24d0747e2b26006578ac80f,Polished,6,3
c0090f6f0c94b502d8043ffaea20b57500188156,AMQ-4885: Renamed some API methods in MessageStore due typos.,15,15
00cb9a566816357f3712e0de1ca0ee80815ddf0f,AMQ-4858: Moved scala source file from java to scala dir. Thanks to Jaromir Hamala for patch.,0,0
b0e91d47f5fced59c89a34d993f4d87c7986b04b,Have the leveldb store thorw SuppressReplyExceptions instead of IOExceptions so that the clients retry try the operations instead of giving up.  Also retry the problemantic getMessage() call which seems to fail at times.,7,32
a6e306437efafc13cf2c2e9d681d5685fdfbcfce,fix for: https://issues.apache.org/jira/browse/AMQ-4893,0,77
a7f57b5407c47479f3b6b39bf6b1ce28c1c2b688,Upgraded to Camel 2.12.2,1,1
927be0ce7af57daca70084574101ccfe506409da,AMQ-4903: AMQ Karaf should depend to http feature instead of jetty to support both Karaf 2.x and 3.x. Thanks to Jean for the patch.,2,2
7d98b320509ab460e337e54afd8043297164777c,https://issues.apache.org/jira/browse/AMQ-4904 - ensure transports are not restarted without a store lock,3,117
eead6e511083fa1c1a9595f8671a722630afb1e2,https://issues.apache.org/jira/browse/AMQ-4905 - resolve by embedding spring xsd,15,23
e3fed4b57a295c73fcc98f2abbdd98d3a67baaba,Add some methods for stoppng and restarting broker during tests.,4,26
11781d3cf2a351ea5f3ef80f29f351ac42d3538e,Added Fix and tests for https://issues.apache.org/jira/browse/AMQ-4906,89,102
06f24e2e0ba4dd6d8920d188482b9eb1e08ab888,https://issues.apache.org/jira/browse/AMQ-4907 - sanity check on the index when checkForCorruptJournalFiles - test and check that validates the orderindex makes sense,2,23
b9f0783af5f50bedfa316aade9ce577af4bc9c0f,ignore test pending investigation on new SuppressReply from http://git-wip-us.apache.org/repos/asf/activemq/commit/b0e91d47,0,13
cfeea7797d9f3cbd5c0685f39d8b2a9cef77d8bb,Test to reproduce AMQ-4914 with the failing part @Ignored for now,0,119
61e13fa6ce03029df2eb78762d6bf11b07a36dd3,Fixing regression caused by changes to SuppressRelyException in commit b0e91d47f5fced59c89a34d993f4d87c7986b04b.,5,2
f0334862a20c73ae82cc15003719838f40dccfe6,"Adds several test cases which show some JMS client issues, most are
resolved by moving on to v 0.26-SNAPSHOT",0,135
5fa462a08acd40b130fb98ad359a838def690450,Adding assertions to make sure that we only append to the log from the write thread.  Found a code path that was appending to the log from a different thread.  This might have been affecting https://issues.apache.org/jira/browse/AMQ-4882,6,14
07ec890372feb58ae69578fcc8f76483de178c70,Fix for https://issues.apache.org/jira/browse/AMQ-4916,1,66
3a8ee81154dac524840152c7a2ed56bd835420c4,update ignore settings.,0,1
69e35d6c4a77c1c693587dd84b9032118fa7b7bd,"https://issues.apache.org/jira/browse/AMQ-4889

Improve the stream close logic in the init method to ensure we don't
leak and resources.",3,12
8378cb1ffc77715d3c9c8a173805f037afa2935a,"Fixing https://issues.apache.org/jira/browse/AMQ-4917 : LevelDB store can fail when using durable subs.

We were browsing durable sub entries which had been concurrently GCed causing leveldb store failures which then caused the broker to restart.",96,104
02ef9445dddcffc5f701dcb43ef0fa3d6acbc307,"Fixing bug where the DataByteArrayInputStream was not throwing EOFExceptions when reads were going past the end of the byte array.

This would make it harder to figure out when things went wrong.",27,35
489f929686f29190e7a3aba252767ba38159bdde,Fix for https://issues.apache.org/jira/browse/AMQ-4918,3,312
9b889024596dc47dea4917551a2d5813796a6b19,Fix for https://issues.apache.org/jira/browse/AMQ-4918,13,42
374cab9cd528ed9f456addc2ef247ebfae68f2c0,Fix for https://issues.apache.org/jira/browse/AMQ-4918,15,116
8b06c44cc0028565b1de42bebad024f20fbc1a00,Added test to reproduce AMQ-4887,0,81
7cf5c240a260c30572729b3a1b29863b64935a44,Test to reproduce AMQ4920,0,162
3b5fa4bf8955f15dd1f52703c7578a054beb74e6,Implementing a dirty stop method for the leveldb store that might come in handy for testing.,1,10
044c2d98ff8be9a731ef477fc704ac196863f684,fix for: https://issues.apache.org/jira/browse/AMQ-4910,2,2
ed8e4eae8f79b6f88562d3008292a1927b21786d,Fixes https://issues.apache.org/jira/browse/AMQ-4923: Replicated LevelDB: Loss of broker Quorum fails to fully stop the master,7,199
30f3a9b7f39573b89a86302d69782b4a2a35a4eb,Default flushDelay on the replicated leveldb store did not have the correct default.,1,1
d0f1dd6668ed56c2369525818031096cd87cee98,"https://issues.apache.org/jira/browse/AMQ-4887

Update test case to show other broken scenarios.",20,104
b21dc69e815a97da922f5122d124d317aab7b78e,"added time unit for ""send timeout"" in the javadocs",4,4
3797da64fcd13f2b8a6458fddc02a11c8f0c1fb6,Fix for https://issues.apache.org/jira/browse/AMQ-4912,0,5
b7c430d0683c8f682c5a88a063a8bbdda0ebdf07,"https://issues.apache.org/jira/browse/AMQ-1063 - revert delayed change to inTx flag, now cleared before exception is thrown by getConnection, this ensures jms transactions can use autocommit=false",3,4
71e45856897dd96d403e01fdf1f912b1420444c8,Fix for https://issues.apache.org/jira/browse/AMQ-4825,2,80
fe36820b86c891217db83130e8ab3e42cd762baf,https://issues.apache.org/jira/browse/AMQ-4926 - karaf version range,0,2
6683eb652f0f4efe6130bb72410ae36e93b6868a,Fix for https://issues.apache.org/jira/browse/AMQ-4927,47,208
ff0dd5a91703ac55cb6c7be7cbbf002fd7685254,Upgrade to latest hawtio release.,1,21
2bbfbcfb29463f9723a0efe548d46af7ddb3fbb6,Fix for https://issues.apache.org/jira/browse/AMQ-4924,57,452
6258ce1761538035059399b605ee10d4a2316263,"[AMQ-4931] Use auto-export=""interfaces"" in the Karaf commands service definition",30,6
0b581104c71c28006f482e4e3557e2c66bdf1f2d,pass along the ssl system properties if they are defined on the command line for the swissarmy example,0,6
26c41d0362d9f4bf27568e6ce7fcfd7e2e59fde8,https://issues.apache.org/jira/browse/AMQ-4909,16,8
e64da4a71fd3d5d1e9b59a62727af72ee577e8bf,https://issues.apache.org/jira/browse/AMQ-4909 - add jms credenitals for the console,1,3
78c4e43372baac8fcc93a7093f4006d8205117ae,Allow the createBroker method to be overriden in other tests.,1,1
e1e8c5b083e0c9f6e6c6f4dd25d35ad039fc4ca1,"Some additional JMS Tests focused on Topics.  Useful when updating the
AMQP JMS Client version as it shows some new problem in the latest
SNAPSHOT builds.",14,168
dcedd9fe96a208d9465c73c370821525e148d398,https://issues.apache.org/jira/browse/AMQ-4934 - jdbc persistence adapter traped messages,8,342
cb5c29d02d02dc7f7fa4f5c1a97bd2a59078bccd,"https://issues.apache.org/jira/browse/AMQ-4887

Fix for losing message content when reusing messages.",1,94
257710ba1a40e0ac78f5f8035d9663775e122d41,"Fix for AMQ-4889, potential leak of ProxyConnectors",23,210
a6d05daba6135dc3096b906643451950cd577d2f,"Make sure there are Topic consumers online before starting to send
otherwise they can miss a message and the test fails when it shouldn't",23,33
7c01c9b5818f10dcf92dd6696b736605d7dc17e8,"Ignore the TTL test for now, needs fixes in both AMQP JMS and in Proton",0,2
c387e842ee16dcfc6d4de7bd3acf9f0f5595775d,"https://issues.apache.org/jira/browse/AMQ-4920

And code to prevent concurrent writes to a message when dispatched to
multiple Topic consumers.",4,19
a64976a3774eeecc2830bdfc3bf70499f9cfccb1,https://issues.apache.org/jira/browse/AMQ-4930 - fix reference count and limit expriy/browse to memory + 10%,47,163
57f5d49ae9a76f2a3a17fa7c7966130c7a7352fe,"For AMQ-4874, broke into multiple parts, and converted to use JUnit4 Parameterized instead of CombinationTestSupport",893,1243
7656e8262c0c0871190c01753e8b0bb8a600d8f4,https://issues.apache.org/jira/browse/AMQ-4946 - put -pool and -jms-pool in -all jar,0,16
c50b6c39babb9e0c4265e632aabf9c38f69c6730,Fix for: https://issues.apache.org/jira/browse/AMQ-4947,12,28
14d24cca30bbbde9c515004fd72234c7a1fe3039,https://issues.apache.org/jira/browse/AMQ-4930 - fix regression in MBeanTest - need to page in up to max messages if they are present for a browse,2,17
44b25cb7a1385ba0e019db97e9fe9899737b2d0f,"https://issues.apache.org/jira/browse/AMQ-4819

Slightly modified version of the patch since it was not against latest
code.  Trimmed down the changes by breaking out the logging checks into
a separate method.",3,15
7db0fe6a3859cadb4658318e7db262a34fe36b17,https://issues.apache.org/jira/browse/AMQ-4819,15,87
760ee2677a55131a09306ddda9bcb058beab6ab3,Remove hawt.io console and restore back to just the old console,126,14
96bdda716a2f4f15620528e9869c00a11242bb98,Added timeout in teardown because of intermittent test failures,9,4
6509b1f8114e326293b76def73a66790bd4feb90,Added timeout because of tests failing intermittently,1,5
f69cbd8ec6ec7cfa78a83892d32c7bb3bbd3a7d1,"AMQ-4950: java.lang.ClassCastException: org.apache.activemq.command.ExceptionResponse cannot be cast to org.apache.activemq.command.IntegerResponse, attempting to automatically reconnect",4,188
ed66e3b3410ccc81bf52b158b1b0ec86f6300951,activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ4950Test.java was missing Apache license agreement,1,14
97b12c7245be24356314fbe333491461eb9b892c,"Revert ""Fix for: https://issues.apache.org/jira/browse/AMQ-4947""

This reverts commit c50b6c39babb9e0c4265e632aabf9c38f69c6730.",28,12
04c6d9dd69402038d78104f1cc48c22e30edfddc,"https://issues.apache.org/jira/browse/AMQ-4958

Don't swallow evidence of interrupted state.",4,9
cf2083f06b1dcc2828d1e053030f63a9760c6344,"https://issues.apache.org/jira/browse/AMQ-4962

Test that demonstrates the issue.",1,56
3af70ba285057e3a82d68bb6d8825a05f16fcdb6,"https://issues.apache.org/jira/browse/AMQ-4962

ensure immediate removal of connection MBean",0,2
f92d45bec1be76b1e38d3be2d9700bbdd9054d17,https://issues.apache.org/jira/browse/AMQ-4952 - deal with duplicates by redirecting to dlq when they are detected by the cursors such that they don't linger for redispatch after a restart. Networks are the main culprit for such duplicates b/c the producer audit traps regular failover resends,24,578
0f0c0d676a852db0d5dae5863d3464ea23a3085d,fix leveldb version of org.apache.activemq.bugs.AMQ2870Test#testSize,1,3
283cdd0502d61e5ee339c80de5c0ff27f05c239f,"https://issues.apache.org/jira/browse/AMQ-4914

Up the max frame size to a value of 1mb so that we are restricted by the
default in the QPid client which is 32k.",20,46
be8990e06d53eebef8db7404e4cf4aa71df13590,"Removed @Ignore and updated timeout on testOrderOnActivateDeactivate, fixed by AMQ-4952",2,1
efc51fa4487f80027a1ff95de7e5bd7479eaab47,"https://issues.apache.org/jira/browse/AMQ-4741

Set state to accepted if message received is properly handled.",17,17
cc47ab6d002a0810f44b1cd8c40ed97c822b7e08,"https://issues.apache.org/jira/browse/AMQ-4952 deal with jdbc store, cursor audit=false case, also relevant when cursor window is exceeded. Treating duplicate into pagedInMessages as an error, silently ignoring leads to trapped messages or deferred dispatch after a restart, revert change from https://issues.apache.org/jira/browse/AMQ-1957",6,399
a33a4e769335300556f938b1da803b07078f881d,https://issues.apache.org/jira/browse/AMQ-4741 - revert factory.setSyncPublish which seems to need .026 of qpid jms client,1,2
efb988655cbad639bba5e83475310ee702f501ee,https://issues.apache.org/jira/browse/AMQ-4741 - move to .26-SNAPSHOT for qpid jms and reinstate factory.setSyncPublish - amqp tests all pass with that which is smashing,3,2
ef619b6a9bb9fd215a3996c8dc49f21e04380547,"https://issues.apache.org/jira/browse/AMQ-4947

Updated fix for this issue allows for enabling non-forced metadata
updates to the file channel via FileChannel#force(false)

enable this by defining
""org.apache.activemq.kahaDB.files.skipMetadataUpdate=true""",112,134
6377d49a1c2e501b7f9daa39a4ed91e8cf4114b1,"https://issues.apache.org/jira/browse/AMQ-4967

Import activemq pool explicitly",0,1
2a7c3499766c961c6996429af82c3ee374d24a33,"https://issues.apache.org/jira/browse/AMQ-4968

Add non-caching mode for Session producers.",43,358
5c9dcee7ed4b4a13f54e9221be4891d2ac0f0f9e,https://issues.apache.org/jira/browse/AMQ-4757 reinstate brokerUrl prop to allow rar admin-object init of xa pool,0,50
08f21ed71d44a819e969174596f3118ea318627c,https://issues.apache.org/jira/browse/AMQ-4952 - remove scala ref from test,2,2
11ae61f5398445c05da2b5dc0c32d2633921335e,https://issues.apache.org/jira/browse/AMQ-4969,33,15
6044c4c059d25adae3d4ccb37f10751e1b3824a9,move to spring 3.2.5.RELEASE - to pick up latest security fixes,1,1
3d63ca75fbd5251328323d49987eba8da5d7f6e8,"Use the AMQP JMS client's setTopicPrefix and setQueuePrefix on the
ConnectionFactory to make the JMS client usage simpler.",19,22
40c09ed5e5ba8b3f647d765a8cec1e298c871bfc,add flags to xa_* debug logging,2,2
6549342061eae34da8f25460e70d832666d730e2,"Ignoring failing test cases, see AMQ-4973",0,18
612a816d986d74eaf23b4b07ba0adb26a135098a,Changed commented out test to use @Ignore.  See AMQ-4974,3,5
5e42bd64bcf3c1557f2f108f57124e3e066ec158,"Added no-op version of testVirtualTopicFailover, which is covered by AMQ-4842",0,5
e56c062f279dc110df4707024654b2b7c40f6c1d,"Added overridden no-op version of testSendReceive, see AMQ-4975",0,5
a2ede974b95261885404a02f32a918dbd9213f51,"https://issues.apache.org/jira/browse/AMQ-4938

apply patch with cleanups",65,134
082d2634952b48a93077644f7b88872c1fa3635d,"[AMQ-4976] Revert addition of hawt.io console

Merge branch 'pr/6' into trunk",126,14
0918430dc20b6d2952ce393d218c355135de466e,"Removed test, it has been commented out and not run for over a year. See AMQ-4974",73,0
e7703f70e0f679d0534379be26aa3de612747f93,"https://issues.apache.org/jira/browse/AMQ-4977

Don't increase the cache size for repeated pull commands for the same
destination + consumer combo since we only keep one instance in the map
at any given time.",32,192
9b00a0947e2cf8e603b89070afebf22123867f4f,Add missing license header,81,98
82cd2566830ac2b523387f441b0771c6ef408721,Commented out most test cases because of CI hangs.  See AMQ-4978,29,29
48d25adfc834c5a8502f22354edad31374763053,Removed. See AMQ-4972,118,0
f7cbe9fa173f1f3cf91d016ed340f90a2bd61242,"https://issues.apache.org/jira/browse/AMQ-4970

Prevent multiple start / stop operations on a queue from having any
effect.",38,66
a50f01127276f45797cbe8623790aa2de818841d,"https://issues.apache.org/jira/browse/AMQ-4509
https://issues.apache.org/jira/browse/AMQ-3452

Adds stop goal to the maven activemq plugin.",180,278
d29bab50e5f110f677f041c4f3602dc3ce5d76d4,"Updated to JUnit4, which seems to have fixed intermittent failures.  See AMQ-4980",14,13
18e163de5e12fe8b88e5ce0b60cec461948573a5,Added @Ignore to testReceiveMessageSentWhileOffline as it was failing regularly on both.  See AMQ-4712,0,28
286a5a6b498a456be73efd19b20289f1c6d2abe3,https://issues.apache.org/jira/browse/AMQ-4979 - put jolokia back in,0,11
e366917efc28a4da29e8b4220220c1005972ed87,https://issues.apache.org/jira/browse/AMQ-4979 - password protect jolokia api,1,1
90104943b28cac1a95b037fae8e338ffe04398fd,"https://issues.apache.org/jira/browse/AMQ-4839

Deprecated the streams functionality.  Remove in a later release.",5,33
dd0c9c414449406266c72712aea65472b5a2f63a,https://issues.apache.org/jira/browse/AMQ-4988,12,11
d8cd37030ba51a14623abc4fbe168454b36c2970,https://issues.apache.org/jira/browse/AMQ-4989,1,11
3826a23ed5e77115170f3ac57dc2385234473f1b,https://issues.apache.org/jira/browse/AMQ-4486 - rework to open/close connection arround each xaresource op so there are no leaks during periodic recovery,18,21
dea05884710b451bbdf74d91719e7c8be95af7b4,Added @Ignore to testSendReceive because of NPE.  See AMQ-4991,1,11
a6edc416d6e1ae7b1a05db3f8f3fba8a40974a3e,Added sleep because of intermittent CI failures,0,2
770539d530acc7fcf38b946318e49c76cab0114b,Added some logging to try to help debug occasional CI failures,0,9
95d20e5b47aeb179493fba5b1f40df9f237538db,https://issues.apache.org/jira/browse/AMQ-4991 - fix npe and reinstate test,8,1
ad3041034b3a0d126575297821425f7bbca977f0,Implements AMQ-4990: Add support for the changes in MQTT 3.1.1,6,19
55da9bc821184a320fc551ec8e131d1dcbf0d2bb,https://issues.apache.org/jira/browse/AMQ-4995 - reapply destination interceptor after change,0,59
713250f5f0439e4f83de1550fe21068184f17f87,https://issues.apache.org/jira/browse/AMQ-4995 - more fixes,11,19
fde22a8496a160fc746c6f193dea3f29d113c6e3,"https://issues.apache.org/jira/browse/AMQ-4754

Add connection counts to Broker mbean",47,170
907660d2cfa5f5a6d67c93ec62dffd4ff2e87ff0,https://issues.apache.org/jira/browse/AMQ-4995 - add xml config file for the test,0,36
bec711c7db420ab23b9eb284bd57b3c4ec0fce36,Converted to JUnit4 and added @Ignore tags for failing tests.  See AMQ-4286 and AMQ-5001,179,665
4273b1301dc6315c28fb9841b97a0bf77b81515b,"https://issues.apache.org/jira/browse/AMQ-5001

testSlowConsumerIsAbortedViaJmx failed due to issue in the test setup.",20,15
cce75e092665060dad6675b91300e832ebb252a4,"https://issues.apache.org/jira/browse/AMQ-5001

Fix all failing tests.",9,24
8b993b4dc6de85199f2ac19b178275180859ed15,Couple of changes to allow for some performance analysis.,10,13
19344991af148ea46ef0492c1f9561a93f610448,Add some additional logs,0,3
2f9c43f11fe0fed5939512c48e611e6ae0b117b6,don't trace frames,1,1
c7d66e944d94c7452273d8ca998e7c506e385ade,"https://issues.apache.org/jira/browse/AMQ-5003

Gate the session clear in progress code so that overlapping
transportInterrupted calls don't start consuming lots of memory for no
reason.",11,30
f5e54cf75cbf7dc48fc894a8f6db5880c2abcd49,fix typo in enum where tests were commented out.,15,1
c027552035afe8bde9db7fc277cc91c749746eb3,Upgraded surefire plugin to 2.16.  AMQ-5006,18,34
fa6aaf9360df15a1fbb332ebaf5a2e09f0901d3d,"Bumped up test timeouts because of CI failures, also cleaned up imports",12,12
e0e14e087bf42bc193df6cdbc90e98b932dfbc8d,Removed some code I had commented out but forgot to delete,30,16
875822de5172607496e7bd219a177213df92b7cd,Fixes AMQ-5002: Support receiving AMQP messages which do not have the timestamp set but the expiration is set.,0,10
bcd89e8d15de4a072758ca22f195d594d2b3d89f,"https://issues.apache.org/jira/browse/AMQ-5007

Updated to proton 0.6",1,1
69e6ad8cf3b43e1e1eb12d6c9c2e87d72a4aa789,Add additional tests for connection loss exception handling.,12,168
d36e3c0e952643eccdfdf075d32dbf41eeb2aa71,AMQ-5005. Fix for scala plugin,2,3
d4d985503e79334b45cc13d5757a47a7afbb68da,https://issues.apache.org/jira/browse/AMQ-4526 - prevent JMX restart if restartAllowed=false,2,6
f4e768760f2e66f155baf83f76cdb24af828a5fe,AMQ-4994. Fix OOME while browsing deep queues,18,279
da3775302c68c628138a221409910ff9c4ca48a6,https://issues.apache.org/jira/browse/AMQ-5011,0,16
cbc227cd1c626cf0ba74ff7d8eafe4d0deb1ab40,[AMQ-4994] Remove site-mesh,288,0
bdf7aa4823fd6bf7d2e3e1ae32158542b05b9ed3,Converted to JUnit 4 and added timeouts.  See AMQ-5013,4,39
127f82a4392caeec2913144a72a61f53c79d5625,"Remove sitemesh jar from assembly, not needed anymore",13,0
f222741fdc5e5b8b5dc401e054abbf5a77ff63dc,"More updates for removing sitemesh, remove activemq-all.",24,14
f74a65f4f5e712051c33ed7b44605dc3cbb93f7f,Merge ../activemq into remove-sitemesh,282,0
5a80cee9608fdf93fde7d5b132d6ddd8a9eba946,"Converted to JUnit4 because of CI hangs, see AMQ-5021",0,12
9eb7fb9062651e0db04430ee497639b054dd6da3,"https://issues.apache.org/jira/browse/AMQ-5017

Enforce max prefetch limit even in setAll and set inputstream using all
value.",22,30
e102e64e9da9477494e73fe7291f15cf50b4ad70,"Use non-deprecated output methods for proton to allow for faster bulk
sends of outbound amqp frames.",10,27
146fb121086f5aee41c58785e57199ee7a6a95e4,ensure stack trace is in trace logging of exception,1,1
43a88a9367e3680ed427f6bcbe03f87f3f7bac91,Get mvn eclipse:eclipse work for the leveldb stuff,0,47
3321f99643edc5ebc4bd8f4b9eaea90744fc6d60,"[AMQ-4174] Redirect back to queue overview after delete/moving message
Patch from Robert Balent applied",6,10
17d1489c62b6bc33b77bce38eeecdc357f9c61bf,[AMQ-5029] embedded webconsole broker does not resolve activemq.data system property,0,5
2e5a64652d57020ca6cb6fbd03bcf61ceb65b93d,Update a couple of dependencies.,3,3
5f9aca837a14e719c94c330238c920997046ef90,Merge branch 'easy-fixes' of https://github.com/dkulp/activemq into trunk,6,15
dacc03747de6d53dfdf7f82a6619f92bb683686b,Revert version upgrade for mqtt-client as it is not yet available in a public repo,1,1
4cc526112e6d0e051fb5da7832d5d209ab495dcb,Added timeouts because of CI hangs,3,3
50e4d07842a67de6fdde44758cef32b7e7a6e638,Small change to verify repo access.,1,0
3105e4d91a6ab5aaf073057a789822a5853cc433,"Redo upgrade to mqtt-client, it's been synced to a public repo.
Also use new releases of stompjms and hawtdispatch to pick up bug fixes in those components.

Upgrade to patched version of qpid-proton to fix bugs that affect performance and TTL handling.",4,13
117f86e10e18dd2767520eabc2d7d56bc4db292b,Merge branch 'leveldb-eclipse' of https://github.com/dkulp/activemq into trunk,0,47
221a751d0a67e8d1f240d30a2f56c71a31d7627c,"https://issues.apache.org/jira/browse/AMQ-5031 - add connection factory rmIdFromConnectionId attribute to allow resource manager identity to be mapped to the connection id, thus overiding the default broker identity association. usefull is a TM does not end a start with the join flags. We may want to implement join but it is not trivial to determin the existing associated state and clear it",8,84
04b721e3fbf7371a2dd12bd163d93f6da28b6779,Rollback proton patch jar change.. waiting for asf release of the jar,1,1
4985e08ea8140b787817904cb99112a48c907928,[AMQ-4813] correct the URL encoding of message IDs.  Use <c:url> to format <a href> urls.,3,8
ae37bb1d59d5290cc21940a31d54e7511c1ceb18,Merge branch 'trunk' of https://git-wip-us.apache.org/repos/asf/activemq into trunk,11,143
c4e56f1f582a59a8aea373805cfce6781644142d,Update velocity version to match Camel,1,1
b807f28c5d4ebb1393323c8d053914a35de194a2,Update jasypt bundle version,1,1
f88043eaf7fc1c089b4ffe2770743e28e7b8f6fb,AMQ-5028: merge update from dkulp: strip unused dependencies to reduce the size of the WAR file.,10,9
afded924ffde28c1f491db761774e14c5e954413,Fix for AMQ-4899,21,224
0c4790bb946127ebb9a153c1fba1e3140917aad6,AMQ-5033: webconsole url and html encoding missing,70,76
e80cb78616b8e36f58bc1490e145901ec4889e53,"Increased timeout on testSendHugeMessage, fix for AMQ-5036",1,1
3df943ce0e47dea19f1a9446084fc46825c1b2c1,Removed some old JUnit3 references,7,4
519d8f7db0d3243cb3b60b156369f3f069e20e52,https://issues.apache.org/jira/browse/AMQ-5038 - close active sessions on deactivate to ensure consumption stops for an endpoint,22,171
1e7dc12c3098061a421ba709b00aaf07d3e63b69,Add test case for session with local transactions.,0,34
cdfb56245510682b97f71a336c054bb39dcffbfd,Add a timeout in case of hang.,1,1
301866d151aaea008b20be92605c82a9314c756e,enable frame tracing in few more test cases,2,4
42d006f2b67278c799d5103683b75f365743a674,"Enable some of the NIO joram tests so we can get an idea of what the
state of things is now that Proton and QPid client's are updated.",15,16
4c38b03d14f2d8e803d79272ae08d79b52105959,"https://issues.apache.org/jira/browse/AMQ-5035

Fix and test for variations in configuration settings that result in a
non-region broker as the AdvisoryBroker's next instance.",2,222
314b6e1fd703902cf1b3e14759dfd4db58ca7afa,Use better test KahaDB location in configuration.,1,2
fbd72d6d70bd840f0bb7f6e3a2d124e62036d4e7,Place data dir in target,1,1
a165054df9c354ff17856fe8e6390c09bfdf6a2d,Added multiple @Ignores to keep this test from hanging and blocking CI builds.  AMQ-5041,0,18
be6b4830ecf96e68d0523615b378b4a5c3f99ff8,"AMQ-5041 fix mistaken change of test to the nio port and revert ignored
tests.",9,1
d8c2eda6e8354ddbfd5f30072cb907b1d68877f9,"Add a NIO variant of the JMS clent tests for working through NIO
transport issues.",5,148
99d533c060f771633369ea3b6247a48438a5e667,Add timouts to tests that currently lack them.,4,4
973580603097f5e620e4d7f375dbbbbbb3581c84,Attempts to fix many of the compatibility issues with MQTT highlighted by AMQ-5043.,25,123
084d606d897cc625836a82e6eeaaa2e80cad5477,"improve failover transport failure message to include client port, which makes will make it easier to debug things in multi-connection clients",1,1
e2a7d6af5a447330e3e180e681c9964332c36558,More improvements for AMQ-5043.,11,45
6e68a3711561ed24bd78603453c81c5bbaf99f24,More improvements for AMQ-5043.  Reworked the MQTT inactivity monitor so that it's more accurate.,76,49
706830268e1cecfe165feb444ee5b62e954e7d33,More improvements for AMQ-5043.  Drop all messages sent to topics starting '$' to honor MQTT 3.1.1 spec requirments.,0,17
a116960f340c6634ff1d718df5de8c1cc0d8e42a,"https://issues.apache.org/jira/browse/AMQ-5049

patch applied.",2,6
190a44bf25a7484e3a0c6178890c953824fbdf3c,Implements AMQ-5050: Populate a 'Host' header in the WireFormatInfo of the Openwire protocol to let multi-tenant proxies route connections.,0,114
a059bf4a9013539899bfdf49aebd868b867e2b82,"https://issues.apache.org/jira/browse/AMQ-5051

fix potential NPE",2,9
4350ded2c507be6c02ac769456a37e180ba29fc6,"Fix for intermittent failures, see https://issues.apache.org/jira/browse/AMQ-5053",1,1
ef82a4b8b469761eb2c995617b64c5ce95acb008,"Added short sleep to tearDown, see https://issues.apache.org/jira/browse/AMQ-4854",9,5
93ca04468bc4e586ea3b271268355c91d3228e31,Implements AMQ-5054: Display the number of active transactions and age of oldest transaction on a Connection's JMX info,7,88
7b555c28986c93aea74cd8b6ce2839f11a2c58b2,AMQ-5047. Fix packaging issues related to maven version,48,28
c8402a6e34d85f5ada7685f56983fb5501358baa,"AMD-4175: applied patch from Torbjørn Skyberg Knutsen: added webconsole retry operations for messages on ""DLQ."" and ""DLT."" destinations; sort queue names for move or copy operations.  Also added confirmation dialogs for all message operations not already covered.",5,88
ec249f4dac29b0b566703b9235f25aacfa2b6ac6,"AMQ-4175: correct the syntax on the message-view ""move"" operation so clicking the link works properly.",1,1
f42d56c1f8601d96fa53ff59ce69f9a97dd31e9c,avoid ugly npe post endpoint disassociate and add additional trace to recovery,11,20
b679787917fe3cbf42f6dcd6bc8e9d7e853e5659,https://issues.apache.org/jira/browse/AMQ-5058,2,14
b97fa15d53b2240b3d9059a311cfcede7f6ff0ee,"https://issues.apache.org/jira/browse/AMQ-5059

apply patch",1,2
da63f3f20a348b29b43ef84bb7a4f6b02d2cd35c,Fix for https://issues.apache.org/jira/browse/AMQ-5042.  Handles receiving multiple frames at once from an nio channel,113,52
7453b77cd7b01fde66a905ada86d4525c25e22d5,"Added UnifiedSessionTest, fixed by AMQ-5042",1,2
3a48b654c6d370eaf40a1925e9ce673eb53a6d11,"Uncommented UnifiedSessionTest, it's now working",1,2
2ba6689ee5bc717536fed46fdc731463ac6a3b92,"Removed AutoFailTestSupport and changed surefire fork behavior to help with some runtime issues with AMQP tests, including AMQ-5062",5,0
dc0996d1e5e133b4b112ee09871c905767668081,"Restored most of the tests, see AMQ-4978",15,30
1b3b989d0c541401c2d114b97098000b7f26f5fd,https://issues.apache.org/jira/browse/AMQ-5064,2,2
c1cedb5c34857f99108e58e806de02cc8f9d6620,AMQ-5060 - Upgrade to xstream 1.4.7,2,2
28c565c266cffe2c8ab92bfdd75e972e568022bc,See https://issues.apache.org/jira/browse/AMQ-5062.  Added @Ignore while I work on these tests so they stop causing CI builds to hang,1,6
0db7e69b4eddda219c1623b94636d07ee47a0648,"https://issues.apache.org/jira/browse/AMQ-5065

Patch applied.",10,68
7e56f348bc92488700b8e4484cd9260b1de1b5d8,"https://issues.apache.org/jira/browse/AMQ-5066

apply patch after review",15,80
f364b8a391f9597913e7b16bcf8376ecab68eec6,Fixes regression caused by the implementation of AMQ-5050,0,10
4ca5519e9bd0d2c970e735624adf1033e4b4ab15,Reduced timeouts from 60 to 10 minutes to avoid long CI hangs,6,6
dcbac84a8c4d9dabeb793081557d3bb5c6694d51,"AMQ-4998: apply fix from Guilhem RAMBAL.  Added use of ""<c:out>"" to propery html-encode the output.",2,4
c6fe94ec0388f2acb169c9e3839ade5dc7c2c65f,https://issues.apache.org/jira/browse/AMQ-5070 - broker blocked on shutdown,21,137
546714550fa08e9ab910f7bc203d767820507bb9,Upgrade to latest releases of mqt-client and hawtbuf to fix some MQTT issues.,2,2
232b8c51e97903a9a4da64633d3a80a0afaf250b,Implements AMQ-5072: Support configuring a different directory for the KahaDB index files.,3,16
914beaeb4cc713c558098b0694fdb48fdfab473c,"https://issues.apache.org/jira/browse/AMQ-5071

fix bad logger",3,7
2b3c4777523f1ff19ab3a36ff8441fe2e22dd35d,"https://issues.apache.org/jira/browse/AMQ-5071

fix log statement",4,8
e7e317dc7ed00de26ba905c34debaf38184f497b,"Applying patch AMQ-5074: MQTT paths with empty levels are not handled correctly.

Thanks Dhiraj!",56,148
f9451e56e20f8d1712ed09c579d493feee514898,"Fix for https://issues.apache.org/jira/browse/AMQ-3621 - Integrate Apache Shiro with ActiveMQ as ""security solution"" - many thanks to Les Hazlewood (lhazlewood) for the patch!

Commit dev changes to branch.

Signed-off-by: Christian Posta <christian.posta@gmail.com>

Added shiro support to 5.9.x

Signed-off-by: Christian Posta <christian.posta@gmail.com>

Added Shiro deps to dist zip/tarball and 'all' .jar

Signed-off-by: Christian Posta <christian.posta@gmail.com>

updated version number to reflect correctly packaging Shiro features

Signed-off-by: Christian Posta <christian.posta@gmail.com>

Handled case when adding a producer might not have a specified destination.

Signed-off-by: Christian Posta <christian.posta@gmail.com>

Merged latest Connection API changes from trunk.

Signed-off-by: Christian Posta <christian.posta@gmail.com>

removed accidental addition of Stormpath's m2 repo

Signed-off-by: Christian Posta <christian.posta@gmail.com>

reverted accidental deletion of <distributionManagement>

Signed-off-by: Christian Posta <christian.posta@gmail.com>",1,5698
da72aa65700d14285617477b8958b5bd5924d1b7,https://issues.apache.org/jira/browse/AMQ-5075,1,8
c3d8ca7160194a209d98316d5521ab34f5648eaf,https://issues.apache.org/jira/browse/AMQ-5078,3,29
dc607bbf3565bd955b7f5237047fdf3bec4cb7bd,Enhancement for https://issues.apache.org/jira/browse/AMQ-5076 -- pooled session creation blocks,4,261
2360fb859694bacac1e48092e53a56b388e1d2f0,"Fix for AMQ-5073, updated AmqpNioSslTransport.java to propery handle frames.  Also fixed bugs in amqp test, as seen in AMQ-5062",34,320
e8818fafea0c46fb9fc3029b27f5740f55616eef,"https://issues.apache.org/jira/browse/AMQ-5080 - fix up rar transacted delivery and redelivery processing, xarecovery and transaction completion afer failover - using failover maxReconnectAttempts=0 to avoid blocking periodic recovery and negate replay of aborted transaction state",63,306
69c0d399fb374700b1b7351671fcaf897a1d3e16,make perpared xa transactions visible in kahadb persistenceadapter view mbean,6,46
9d76668f7b2acb891f907a73251e7ae2f3dd1648,use sensible param name for paramaterized tests,1,1
5d511975fcac4aaefe8615de5d8c069e8d6ffb3d,remove duplicate shiro deps https://issues.apache.org/jira/browse/AMQ-3621,15,0
ab01ae3818cabc4155e35bc5d18d05066f9f588c,fix build revert extras in MessageDatabase from https://git-wip-us.apache.org/repos/asf?p=activemq.git;a=commit;h=69c0d399 - sorry,13,2
be94865c445b27069d5ac67f07010caa914ad1c1,[cosmetic] Remove unused constructor from abstract class,3,0
efcef4533e31191f097791e9a99d15a35573c453,speed up stopping the tcp transport (saves 2sec for each @Test method),1,1
a7ff5975eecf2e8dd9eb27c1d67e9f1370a4de6c,move derby test db to target/ so that mvn clean doesn't leave it behind,3,3
cfe099d1cccf6655894eceaa29ce6a54ceaf21be,"rework https://issues.apache.org/jira/browse/AMQ-3305 in the context of https://issues.apache.org/jira/browse/AMQ-4952 dlq processing of duplicates, also possible missed dispatch with interleaved xa completion and new messages - recovered transactions are now individually tracked by the store and replayed in the next batch, which negates the need to flush the cursor and avoids duplicates",40,258
9c4621da8c37f15917f1e189f51ba04c084c2788,fix and reinstate skipped xa jms/jdbc test that sanity tests xa recovery - remove the load variant that was also skipped,145,8
c34f8426ab6504af4c8ce592be77706029ff8c50,Exclude failing activemq-unit-tests to re-enable CI,0,8
df0c195941537589d7cb224443f40899e2cda5bb,Fix OOME errors in tests,30,43
87daed76b26464583ede1066d77656823623da43,Upgrade to camel 2.12.3,1,4
52a2733535477c9464d4e15eea68cef826ac5738,remove exclude of deleted test,3,0
f555d90e9246c34aad3d26d72c22b143eeea5314,Adds a test for anonymous Producers,1,34
33b88d34a9c242787c5878c9192f77bbb163e446,https://issues.apache.org/jira/browse/AMQ-5087 fix and test,14,32
8188f7f884c96fe2174315be784bea2e560a09ba,https://issues.apache.org/jira/browse/AMQ-5090 - improve failover transaction tracking,8,13
82fb18d0d11bfaaa3c98da02e5e5f6fb43886560,Allow to access server log,0,7
37eb6b0c6efaee01e8c8b8baede8dee12c951746,AMQ-4831: Use long value for average message size on borker (JMX) like min/max values also is.,3,4
ddf0b2a309125ebf5ff3e3a517ef50831810fab1,"Adds a basic request / response test using temp topic and temp queue for
reply to destination.",0,223
da5d0d819ecbcec8ee65a5fa54e8982744fd6594,Clean up some imports and get rid of some warnings throught the code.,21,14
d793db44404f8fa92246b09b57199443b2351fda,AMQ-5091: Upgrade to jolokia 1.2,11,4
570dbb437210b6190920932257fcd1b255155a66,[minor] Use MemoryPersistenceAdapter for testing when choice of persistence adapter is indifferent,12,11
87420cc455f6e02d5249bfe29b105f4e1e345969,Fix for AMQ-5093. amqp+nio and amqp+nio+ssl were failing on large messages,185,229
a3a41dae3711f01e13110ed266e9e825b710e986,https://issues.apache.org/jira/browse/AMQ-5087 - fix up test use of initial delay,1,2
c8a5fb769e9acc68f7a83c9d8b37682a4225de25,Fix for https://issues.apache.org/jira/browse/AMQ-5073,2,2
6aaf859d22bd0e3ab27a3e74d7b9402521d10573,https://issues.apache.org/jira/browse/AMQ-4656 - fix regression for FilePendingDurableSubscriberMessageStoragePolicy,1,24
67f151fe0bca5f69a912fe0e707c528ae8c450b6,https://issues.apache.org/jira/browse/AMQ-5092 - apply patch from Dhiraj Bokde with thanks,7,258
128921e687cdedfe86c035b88f84e506fa8bbb9a,"some more info to this test to help diagnose intermittent ci failure, works fine locally",6,13
9c247160440ecb4aa91903895e7fabb8ad9c92e5,https://issues.apache.org/jira/browse/AMQ-4930 tracked hung org.apache.activemq.usecases.ExpiredMessagesWithNoConsumerTest#testExpiredMessagesWithNoConsumer - when using lower -Xmx than maven run - looping on browse due to no page when hasSpace fails. Browse picks up this state now,4,6
1671523076327ba822caa5d1f1a2567e757999eb,"https://issues.apache.org/jira/browse/AMQ-5096

Return proper error code for unathorized access.",6,16
ac23b017497a297c73a0e8ce11980cad3e16c546,AMQ-5101 - MQTT SUBACK packet MUST use return code 0x80 to report failed topic subscriptions,8,85
7d194a1e7f57906d13531d360efbc005f7611ffb,remove transitive test ref to old amq version,0,6
caae68a1ba4ea8fb410e4d6b70dada870689ce54,compaction or gc can effect this test - make it more tolerant and dumpthreads on error so we can validate,21,10
4e79e43905989549c8c75cc2364e1b16c22301ed,Added @Ignore for AMQ-5102 until proton 0.7 is released,0,2
adb49f562725087865ded9a773ee6901423c870b,ignore transacted and ack mode in the rar - closer to jms 2.0 semantics and fixes tck cached connection issues. in the absense of a transaction their will never be a commit so using a local transaction is totally broken. transactions come from rar local or xa or none,4,5
db1e3fc9e375f6fa2692c2cc3d539af563063be7,AMQ-2429: Add pages listing producers for Queues and Topics.,1,282
ae2504ab8e4c3410b2c12aa8d7f938d7df638892,"AMQ-5104: Add non-durable subscribers to the subscriber page, and topic-specific subscriber view for individual topics.",8,230
1026dc5a28b8d546cc8fa8f3f61b50150095ec72,Upgrade to mqtt client 1.10,1,1
47d72dd32a40059d121ecc33f892d38065f99c71,resolve intermittent failure in this test - do a valid wait check once,4,11
bf8eb0e6ca595308d5a20b4301d985e68903a3dd,https://issues.apache.org/jira/browse/AMQ-5108 - MQTT subscriptions for cleansession=true MUST be non-durable - patch applied with thanks to Dhiraj Bokde,57,143
89446c7af078cd9fa45d1272b037c125fb0fa003,fix intermittent failure - exceptions that result from broker stop need to be ignored as this test forces a restart,0,8
2efb6df6197e87743f8ef2c8e22fbbb1851b162c,speed up this test and improve logging in the event of failure,1,3
b136df177ff879de495c8908a5ba6a1e5c2778c9,"https://issues.apache.org/jira/browse/AMQ-5089 - fix and test, respect client ack for topics and only decrement counters when ack is received",27,89
6056fde7ed0f47505b9ad84728bd9c3399a9d32b,https://issues.apache.org/jira/browse/AMQ-5106 - apply patch with thanks from carlo cancellieri - This closes #17,0,4
e06e23b9f331facd3bdb44980a206a367bd47b52,"https://issues.apache.org/jira/browse/AMQ-5110

Set accepted outcome for successful commit and rollback.",0,2
a3701fcb924594e5888d9ef266f10500e6953be2,"Fixe for AMQ-4977, removed dead code",12,6
5e14eecce6420390e8bfe1a12870bbdd20a2df03,"Fix for AMQ-5099, removed dead code",57,40
6972d37e63cc92698673b34832d10b2d77b09e33,Add in transacted producer rollback test.,0,28
4ba4aa21d36f86554812d85a2b0143a6b8790d6d,https://issues.apache.org/jira/browse/AMQ-5112 - mqtt transport thread safety,65,22
cbb46ea7d3d4bea81a86b85c85110872b839e83a,Fix for AMQ-5113. Fixed race condition in onMessage for testSimulatenousCron which caused intermittent failures,5,34
cb6941ee0b49358ee4ad0700e3f672e7ffae5dcb,https://issues.apache.org/jira/browse/AMQ-4886 - think the sync on shutdown issue is resolved and the test will no longer hang,10,14
af9134a4faf9b97d852b63c51d5b4a419543a106,sanity check test of local host/port syntax with failover,0,26
13b33da37b0c884b61a7923e1b4947f60b2d9f69,"Remove use of deprecated use MessageImpl and load the Proton
MessageFactory instead.",2,8
9c67f0df713ff4df0ca0d824889ca9ae962077f7,https://issues.apache.org/jira/browse/AMQ-5112 - improving mqtt tests,37,26
9bf9e1c052e3e0cf080a0bc851f2b537b5d6a530,"https://issues.apache.org/jira/browse/AMQ-5114 - force local removeInfo after connection controll consumer remove command so consumer is always removed from the broker, independent of the consumer state",79,145
f594cdab107ca4dfde92f39e670f1d7ad26d7f7d,"tidy up test completion, allowing consumers to exit gracefully from blocking receive",0,3
ab64241354ea30651f59a13df9357c4492a9d783,Enabled jolokia discovery and removed hawtio dir,20,4
2ccc3495429ae078d569c3544ef7020de72c0625,Enabled jolokia discovery and removed hawtio dir,0,4
db321727c9d68156cd82d92b74f3752cc118c0cd,Fixes AMQ-5115: LevelDB sync=true is not being honored.,10,5
ff409b6f2c790b15a7b9078fe49be896e71f1006,"Applying https://github.com/apache/activemq/pull/18.patch to fix AMQ-5116: batchStatment is misspelled for JDBC adaptors.  

This closes #18 @github.",16,41
afddc1a8321a1e73277003d5793551e7ff80fc5c,"https://issues.apache.org/jira/browse/AMQ-5092

Apply patch3 to fix packet id generation",44,194
45c0dfb2bc2134d790d6af5b19a328f990a0a27e,"https://issues.apache.org/jira/browse/AMQ-5092

Add patch that fixes the missing test case.",20,164
17458134a453660c54ae0488bfc1d9651595be1c,Upgraded to Camel 2.13.0,1,1
751fc2363cf911cfe8a073869c967b8f2adf5868,Upgrade Spring to 3.2.8,1,1
266d23ef794e79bb48f81314295640421772808c,revisit https://issues.apache.org/jira/browse/AMQ-3519 with more durable solution https://issues.apache.org/jira/browse/AMQ-5068 - JMSRedelivered header now persisted before dispatch so that it is a reliable indication of a possible duplicate delivery. The option is enabled via destination policy persistJMSRedelivered,188,313
75eb814ca7f05a78129628606488d47d89f7cf85,https://issues.apache.org/jira/browse/AMQ-5068 - don't rewrite durable subs as the message instance is shared,9,51
7a0168a4f5368183d912c3e94bfe98bb59cb9a74,https://issues.apache.org/jira/browse/AMQ-4636 - tidy up commit failure case to redirect via IOExceptionHandler - failover still suppressed the commit on recovery - resulting in rollback exception the client due to indoubt commit,44,114
79ba2a79c18d80bb251b3110e6db39efd8427b6e,have kahadb journal transaction commands respect enableJournalDiskSyncs - so consistent with leveldbstore - syncs off breaks the jms durability guarantee across the board - no good reason to distinguish transactional from non transaction ops; the server qos can override the client,3,3
29f34f4dab68ceb3138a6194617fa8f13f4d3875,AMQ-5107: Do not resend messages while the broker is shutting down.  Includes junit.,1,256
c07514f5709eaefd7aea1beebbbac75e93708312,https://issues.apache.org/jira/browse/AMQ-5119 - fix (pfox thanks for the test) the marshalled properties were being retained so a property removal was being ignored before the schedualed resend,1,181
359ec25e215c49d2e53fcd8ae36530329c0acad6,Reduce the use of QPid JMS specific types in this test.,11,12
6d8449f0530cc53e0f7648c7c7182fdf392dd699,"Speed up these tests by only creating the connector needed for the test
so we spend less time starting and stopping the broker for each test
run.",28,104
da07a11760e18edb52035129495edc97193e3fe3,"https://issues.apache.org/jira/browse/AMQ-4563

Fix for client's that use a message Id similar to ActiveMQ's version
which can throw off the ack later on when a stored message is
dispatched.",10,16
bc470202dac2d9efe35170ce70a7a810de76f1fb,Fixe bug were exception was being thrown on start up if a optional command could not load (for example if the jasypt lib was removed).,0,10
5da7ab3c0ee027a29c328e48614ffe1a69401577,Implements AMQ-5123: Optionally support encrypted passwords in ActiveMQ users.properties file.,4,84
4faf11d821f6ca0a8bd9cd0e9df78ec2b2f6d9b2,Added @Ignore because of https://issues.apache.org/jira/browse/AMQ-5126,4,19
3f5d17f5933ce7a806938c6bc5ea7fbcc368738f,AMQ-5124: Disable jolokia discovery as we need a new jolokia release so it can broadcast the correct hostname.,2,2
cd47a3651988a13c3261d4a9dbf5c8d2c671321c,AMQ-4999: Disable jar indexing as suggest in the jira.,1,0
4927c54a0aa6b19995d60b8b5ab840fd8ef6eb1f,AMQ-2388: Enanched log4j logger to include exact versio number.,0,2
d77014aa5d8b8c9869c8ab7ba9f27edabb052496,AMQ-4399: Allow to configure checkpoint interval on jdbc persistence adapter.,2,20
f5ddcf06d714d2eebefabd288909a8530a0c54c6,https://issues.apache.org/jira/browse/AMQ-5128 - provide SSL_OPTS to all tasks,4,4
f4a8b117cefced1a0eeadf65efd60c96f99ff144,"https://issues.apache.org/jira/browse/AMQ-5127

Add test case to show this is now fixed in 5.10",116,155
bc326c8e5764c791fc4bb2c7e1aecb258c8212ad,"https://issues.apache.org/jira/browse/AMQ-5122

tone down logging of warn to just exception message, full exception
logged as debug.",1,1
a554c7ca84a7ed7f9957cbdb7abaaeb9c309f227,"https://issues.apache.org/jira/browse/AMQ-5052

tone down noisy log",2,32
ed11b067c5a1f0f3b20b2b2e0526dce285b8bee3,Add missing license headers in preparation of releases,46,140
997bbb7a01ae256e72469786e4cc3d44ff0589cd,Update spring.schemas for the 5.9.1 release,0,1
1999ddfd01a4ea12fbe73c2e2f93488590da23f7,AMQ-2354: JCA adapter. Default the ServerUrl to vm://brokerName?create=false when an embedded broker is specified with brokerXmlConfig. Thanks to Michael McKibben for the patch.,0,4
10394734f67069db813669c92735ee7cfd927bbe,add a sanity external tm xa rollback test,0,305
a71457856d4fbe5c490afa281a624ddf95f39dcd,https://issues.apache.org/jira/browse/AMQ-5131,2,3
3adffc18e1d747a710eee5a0e648e74c2fc8bdc8,"https://issues.apache.org/jira/browse/AMQ-5131

remove trailing comma.",1,1
307005ab4fbaff36c1ff1be6959c4a3371d62a85,https://issues.apache.org/jira/browse/AMQ-5138,1,20
2eaf675c73d233f842d88a4e59d86ddfc9c6c75e,"Fix for AMQ-5135, added amqp karaf verification via roundtrip test",6,84
81141b03e22e14839d14d51a4d12541f13f7c618,Use xbean 3.16 like Camel does. 3.17 does not work as it requires asm5.,1,1
7646526c0a6bf406e66751a7f1be8af353462c13,https://issues.apache.org/jira/browse/AMQ-5141 - send messages to dlq using broker security context,9,141
e947927511796484e2ae0a066df7fa7b4800a578,https://issues.apache.org/jira/browse/AMQ-5149 - potential deadlock,56,75
fad1dd0f1727af8ce6e0d05a51c32cc63f658e24,"https://issues.apache.org/jira/browse/AMQ-5146 - validate redeliveryPolicy excess pre dispatch, fix and test",16,252
44bb9fbeaec91ea4fd81bbc387706c45229185a7,"https://issues.apache.org/jira/browse/AMQ-4182 - explicitly comporess/decompress byte messages, so we can avoid using finalize() to close streams",102,87
08bb172f3c6fc39e5164b5ee8f875a809faa126b,"https://issues.apache.org/jira/browse/AMQ-5077 - provide concurrentSend option to composite destinations such that fanout can occur in parallel, resulting in write batching. little perf test that shows a large improvement in send rate w/o concurrentStoreAndDispatch",15,205
fdc2551eb8c314602a0cc4d4ded9a7fd15e3ec76,"https://issues.apache.org/jira/browse/AMQ-5159

Fix an NPE condition",1,35
f70dc74312499d9b0c24f02a5bfcf316af4edf3d,https://issues.apache.org/jira/browse/AMQ-5146 - durable sub redelivery test regression https://issues.apache.org/jira/browse/AMQ-5156 - pre delivery check for max redelivery should only apply to transacted sessions,2,3
ec35588e566e2ea2e50980ff89618740ae8d5157,https://issues.apache.org/jira/browse/AMQ-4182 - remove remaining use of finalize(),17,4
d60022ec65060619262b498c44854fd6a6e5e5e7,https://issues.apache.org/jira/browse/AMQ-5162 - handle io exception in lease database locker start,3,87
a88e19e7cda1f21de119db2672d1727453f552d3,"https://issues.apache.org/jira/browse/AMQ-5163

Allow for durable topic consumers to use individual ack mode.",37,107
b0bf144e7a6473f207e4897f9a0971665f0e2b66,"Ignoring testAdvisory test for now, see https://issues.apache.org/jira/browse/AMQ-5164",0,12
3f32507f7893bdc27b5dee985aeb5f86ebc49e04,Use autocrlf consistently for line endings,13801,13801
3845aaa43b8e6d790396539736ed04349fac1233,"Ignore crashing test in stomp, improve test timing",8,12
0b7d9420cd5599723e6c3fe09f967eac4262baad,Upgrade to jolokia 1.2.1,1,1
4eb5097f22a1ca2a3901a343f4dbb1e4b5a45b4a,https://issues.apache.org/jira/browse/AMQ-5165 - fix for destination stats name,2,31
8498136f5e96764ca598dfcacc554b17145af782,fix for: https://issues.apache.org/jira/browse/AMQ-5004,22,14
ad1f751a412ddb258256c1e8d2e72858b52f43ca,https://issues.apache.org/jira/browse/AMQ-5077 - reduce reader thread work when client uses async send; async store updates can now queue up to the destination memory limit b/c they don't block the send thread. Pending store writes are now tracked in memory usage. This allows a client to quickly provide a burst of messages to fill the destination cache bounded only by network bandwidth,89,334
c5c1495330dbad20c2f25e4b44f017005fb97a42,https://issues.apache.org/jira/browse/AMQ-5136 - fix and test (thanks barlabanov),0,100
4215db2f26702b35f8ece4d1fc93b2825b046ffe,Temporarily disable failing test,2,5
89e8767973e84828d1c5513884b0b8eeaa895aa4,fix shutdown order on close - broker may be gone before client,6,3
a38a7c00933b001578a5fe54c8d91746088b5f47,Initial fix for AMQ-5160 to support subscription authorization for destination filters,8,143
94b404d0aba15b6963e66f18ae31393cb64bfe79,"Fixed AMQ-5160, allowed wildcard subscriptions for future destinations, added tests for wildcard authorization, fixed consumer and producer AdvisoryTopic names for composite destinations by replacing ',' with '&sbquo;'",15,207
53b12820c20ae69116ae7447f2b5f54bb023cbd1,"https://issues.apache.org/jira/browse/AMQ-5171

Make the type suffix configurable.  Clean up logging calls.",22,32
541ed8cf0c3fbe0dd4346253d22a08c4ddae5c12,"https://issues.apache.org/jira/browse/AMQ-5140

Add some checks to prevent any chance of an ArithmaticException because
of divide by zero.",35,33
64baf092f073f8c2256a2f2ed704f708562d65a5,https://issues.apache.org/jira/browse/AMQ-5160 - test for retained messages wildcard security issue,9,55
810ce35f559473e3ab5eaf659b879a7de178ebf5,"https://issues.apache.org/jira/browse/AMQ-5175

Exclude the BouncyCastle jar from the tests.",0,12
bfb1778211f573700d07261a0601b4f17c7916a4,"https://issues.apache.org/jira/browse/AMQ-5166

Apply fix for tracker settings.",3,14
a20c3a07a25dd9238e18e9781b840cf0bdb767e9,"https://issues.apache.org/jira/browse/AMQ-5175

Substitute a working bouncy castle lib for needed by some of the ldap
tests.  This one works on newer JDK 1.7 releases",0,12
bdb24ee7c78aa037a085bc7ce90bd216a3a13d3d,Fixes AMQ-5176: Support building ActiveMQ using Java 8 JDK,18,36
d43e709565998d5c8478beda1ff2022bcb0a6259,Build fix; upgrade to newly release hawtdispatch 1.21,1,1
210e39df8b553f1b2f5e437ae49f7418e862c1d4,"https://issues.apache.org/jira/browse/AMQ-5144

Fix issue where the writer would go into a cycle of adding delay for
writes of large messages where each packet ended up as the same size.",32,45
d37786ea130a111407e8c8afe1fd3b9bbe1b9bec,Add Jetty host property to resolve URL message,2,17
7af9bce8a7ee7eb77077dba10db03e264e77644e,Added close destroy-method to Postgres data source. Thanks to Jakub Korab for reporting in https://github.com/apache/activemq/pull/19,3,3
683fcda55da06a82a336914e03700526bd62a15b,Turn down default logging to DEBUG for tests.,1,1
1dd34a13b258048bb54e27b1c01f14f66fa29ef0,Pull out JMS client common test bits into a test support class.,136,143
38a86b470f26e2f6ab10fdfc16486d897926b2ed,"https://issues.apache.org/jira/browse/AMQ-5183

Swithc to using Proton's Evet collector for processing engine state
changes.  All tests passing locally with this change.",56,65
8f3e08c7b66571f2b2247c0fe35a4bb9a8dd3ce9,"Add an option to allow test cases to easily change the transformer
instance used by the AmqpProtocolConverter.",4,12
0c0fadcdce47c78d6f6de6a8105a72f984f14c5c,Upgraded to Camel 2.13.1,1,1
ff64b14bc78466df96d16b1d04e862a7ddef3204,https://issues.apache.org/jira/browse/AMQ-5186 - remove amqp producers,52,62
b83a3d4388cebf9583319a074f3457ba0e8d980b,Add option to turn on an OpenWire TCP endpoint.,0,11
b9d51bf1d4dc9e4fd9f4275356ac03c2fe652c54,"Use a fixed buffer to handle incoming deliveries from proton via the
receiver.recv method instead of allocating a new byte array each time as
the contents are copied out to create the complete frane",3,4
9b6f419d441458a624ffc7a1f4132021dcdeb88a,"https://issues.apache.org/jira/browse/AMQ-5195

Set session incoming credit value and improves the flow handling to
reduce chatter on each message send, improves overall producer
performance significantly.",8,25
ba519d8bd3e1f17d5885a48da0b58999eebd2e12,"https://issues.apache.org/jira/browse/AMQ-5195

Use largest incoming capaity value, broker will do flow control based on
destination policies.",1,1
bcb60a482cdc1cd2d2de9b4dba6a38ef831b2fa4,"Partial fix for AMQ-5160, attempts to resolve retained messages using subscription recovery policy, but fails to resend retained messages for duplicate subscriptions",63,215
a581d010aa96a5e98e107435a242fc55679042a9,"Fixed AMQ-5160, Added RegionBroker.getConnectionContext(), made Topic.recoverRetroactiveMessages() public to force message recovery from MQTTProtocolConverter for duplicate subscriptions, added new tests for retained messages and JMX interoperability",19,145
5576dc5d74e8ccb284dda19d60872a1efb03fcd0,"Fixed AMQ-5160, fixed browse() to include messages from wrapped policy",2,12
b36adffe71f782d676bcddf41997fec4d1f831d2,"Fixed AMQ-5160, removed redundant MQTTRetainedMessages",95,0
8947a09eaa075cb8f5e86599404198e0a5c91910,"Fixed AMQ-5160, force durable subscriptions to always recover retroactive messages",10,6
88c6ee97e0fc8652f2dba16786cb8cbd7b80a1b7,"Fixed AMQ-5160, remove durable subscription in onUnsubscribe()",19,31
0a39782bf5d95fc0ae6d54a7fa1469b230621358,"Fixed AMQ-5160, polished MQTT tests",9,22
70f7c5805c0a39034fd1f4f9b76b6e7b293b33ed,"Fixed AMQ-5160, fixed test testNoMessageReceivedAfterUnsubscribeMQTT",2,0
78950ec596377fc3417fc99ba67b03ec10e89cf9,"Fixed AMQ-5160, changed DurableTopicSubscription to only recover retroactive messages for retroactive topics or consumers",4,7
c915b19a205d37c2faad05178de716dca64981d5,"Fixed AMQ-5160, removed producer's retain property from retained messages",0,1
8644090377eeef09a5afb2e46594c4fa4c311aae,"Fixed AMQ-5160, fixed race condition for retained messages",5,11
42ad1039cb51b47a16f46f3d8f0fe8bf36ffdd1d,"Fixed AMQ-5160, restored previous DurableSubscription behaviour of only recovering messages when cursor is empty, retained messages are always recovered",1,14
6c859676b3995334e96c16c47653ec72fa70f729,"Fixed AMQ-5160, fixed durable subscription retroactive recovery",21,55
9d656731ab00280368a212b17c2d538b66d0e91b,https://issues.apache.org/jira/browse/AMQ-4555 - fix regression that groupClass cannot be set on <cachedLDAPAuthorizationMap/>,1,13
b5c6c1eaeb6eddafd5e0ee7020b4d152eb8c4979,"https://issues.apache.org/jira/browse/AMQ-5162 - introduce handleStartException configuration parameter, to make stopping of the slave broker optional",1,14
f2653e69362cef9de49e6b0a5a248c7ad0602b6b,"Clean up a bit, remove commented out code from other transports.",201,189
9f78f823784e4bde3bfe45b6aa298d6523319c1d,"https://issues.apache.org/jira/browse/AMQ-5189

Set all session properties back using a session listener close event so
that the returned session is not modified after it's already been
re-dispatched from the pool.",8,24
e9126f3513a7a074c423b0ed25e0cbb530af63ab,ignore JmsClientRequestResponseTest until we have qpid/proton libs with appropriate fixes,8,19
7bfbce9a54053be1643a805528d9972c4f0ba5b3,minor cleanup,4,4
3ba129561c28b3ac36a7d8a8b677cf13797bec9b,https://issues.apache.org/jira/browse/AMQ-5160 - start/stop wrapped policy,0,6
aa2dfb60aa1a48fb81f317cf7ad1eca525a89fb8,https://issues.apache.org/jira/browse/AMQ-5160 - fix XBeanConfigTest test,6,7
a4682fcb476b1122d719e3b3a6e2fcac918cfed7,https://issues.apache.org/jira/browse/AMQ-5176 - use scala 2.11 in karaf,4,0
14fcd7cbea6fb2ac5dbde98ae218f9d7bef968e3,https://issues.apache.org/jira/browse/AMQ-5160 - make runtime configuration plugin work properly with destination filters,11,14
15919608873c6d833842b2a70b04cb0d9c2b178e,fixing licenses,1,92
09c470ac9963c899fbc70e46c06f42a1208d7b5b,config release plugin,0,2
e23519b06aab590df6398ce378ce2864f863f4d7,release plugin config,0,12
5bc741f227e7f3e17862db5d3543b445dc746869,[maven-release-plugin] prepare release activemq-5.10.0,42,42
c2cf78542fe6ff98aa3148bdb6d52a4564ed64a0,[maven-release-plugin] prepare for next development iteration,42,42
be0311bea07610f017ba7ea9653aca4f3fb1bc0f,"Add a couple tests for concurrent create an unique connections being
created.",0,54
6c703ac6ee58bb27fa3a16a4e695a3b50c50a9f7,"https://issues.apache.org/jira/browse/AMQ-5209

Add MessageId and original destination info to the advisory message
properties.",3,22
35aaed479964706153755a3f6184b740cce3560d,"https://issues.apache.org/jira/browse/AMQ-5193

ensure that java source files are excluded from the shaded activemq-all
jar, these files are included in the uber-src jar",273,259
25600944e662279ec1113acd4d27e9c64ba8415f,AMQ-5167 ActiveMQ web-cosole fails to start in Karaf - missing import,0,4
58dd93e42e7405768fd89154ff94b45ac71f151f,[maven-release-plugin] prepare release activemq-5.10.0,46,44
fa086396a744b3fc16396c35dc35287f9e828239,[maven-release-plugin] prepare for next development iteration,42,42
25f1fe8460242530b7d2deb7ae9a48a85a90662b,"https://issues.apache.org/jira/browse/AMQ-5213

Adds a Log4JConfigViewMBean for use in configuring runtime logger
levels.",33,594
707940f1a6f3b80d3e340cbbb7baeb3d8a5057bf,"https://issues.apache.org/jira/browse/AMQ-5214

Check for security error on responses and log a warning so there is a
record of the event",2,47
b8830ddab15bd5739f8ec30de81d9e98908727aa,"Convert to JUnit 4 test and add a timeout, also remove the tcp transport
connector on a fixed port as its not needed.",22,26
07dad1cd558f9f14d3520018c0da20dd0e6e81e5,Fixed config file paths for Windows AMQ-5216,3,11
b1d46e45c6e770b91e48917684f529dcae1c616f,"https://issues.apache.org/jira/browse/AMQ-5211

Throw an exception if the destination name is empty.",36,64
845e62af76a836eb41a3b6457fdbac161e6de6c9,https://issues.apache.org/jira/browse/AMQ-5218 - DestinationsPlugin,0,199
785faa06be29a6075ef47556a89bc3f8a748d4aa,disable autofail system.exit - it kills a surefire forked test run,23,10
27b3a7c3440e3e04fae1a1eb766ed13733c27949,"https://issues.apache.org/jira/browse/AMQ-5212 - ensure uncontented access to concurrent destination map avoides deadlock, rerework https://issues.apache.org/jira/browse/AMQ-4952 to differenciate duplicates from send and recovered messages from the store. https://issues.apache.org/jira/browse/AMQ-3454 benefits from getDestinationMap(destination) to get direct access to the map to determine existance. Additional test",17,258
736ffc9b965bff26745f77b4eb31e69c2393dd8d,"test case that shows something is wrong with start logic on pooled connection factory, the vm test variant was getting serialized on the broker vm transport server",33,43
77713d9d1a91ca711c4716617280ef33514d76a6,Convert the JUnit 4 test so that the ignore is honoered.,32,24
5016c4d4f2fb2a62d8f38732be0f14d96426d921,"https://issues.apache.org/jira/browse/AMQ-5086

Ensure that wait for started on vm transport factory actually waits for
start, currently it doesn't really check started or wait porperly.",11,99
cfce36197e27a6758d592737c448dc01d7acc75e,"https://issues.apache.org/jira/browse/AMQ-5086

Avoid a possible uneeded wait.",6,7
1c75360deda2bde89d0c99c92d0e1c1695adf3a0,remove duplicate slf4j-log4j12 dep b/c it is in activemq-all from https://issues.apache.org/jira/browse/AMQ-3715,4,0
91a004191595b1048583d921d9bfe3bcc5fdd81e,"https://issues.apache.org/jira/browse/AMQ-5016

Added test and a fix.",74,88
f395c706089bc0e38b2af133fb7bcfbc8d3010f0,"https://issues.apache.org/jira/browse/AMQ-5015

Refactor the way sessions are pooled.  We don't need to keep the
PooledSession instances around since the state is unique to the session
it wraps we only need to keep the Session instances in the SessionPool
and create a new PooledSession on borrow to manage that session.  This
allows the PooledSession to have a real closed state that protects
against multiple close calls placing duplicate PooledSession instances
into the SessionPool.  This also simplifies the code in the
XaConnectionPool since it doesn't need to try and reset state in
PouledSessions before placing them back as it gets a fresh wrapper each
time with the correct state.",52,153
878e3a16cad1a00e1f820c3480eed4015cc19b9d,"https://issues.apache.org/jira/browse/AMQ-5226

Ensure that connections are returned when created and then handed out as
FIFO after that.",31,32
9ae22642dc14ef70563b858a9359ab47c69ebeda,"https://issues.apache.org/jira/browse/AMQ-5224

Fix some JavaDocs",4,4
459593c4277637e1a5186d823c04f6afebc21858,"https://issues.apache.org/jira/browse/AMQ-5224

Ensure PooledConnectionFactory implements QueueConnectionFactory and
TopicConnectionFactory",27,35
577b29c0e5ef666c5c8112031d7a9d2f3ce94935,"https://issues.apache.org/jira/browse/AMQ-5224

Support for XAConnectionFactory that do not implement ConnectionFactory",39,81
7ceb4d0c8e55364c21e798918eaf1fdb18b95138,"https://issues.apache.org/jira/browse/AMQ-5223

Added the bundle packaging option",0,1
58ad7954fb970e6ecf913b652a98a1695dea625c,Upgrade to jolokia 1.2.2,2,2
d694984077a6becfb48654dc53171d0c14cc88fe,Some dependency upgrades.,2,2
8824ac9fcb245c0191471ac9190fbf9ef652589c,"https://issues.apache.org/jira/browse/AMQ-5231

Only apply timeout to the Message sends, other commands are handled
separately as needed.",3,46
ce911bafbfc4bab88fbd0827273ab4e9ee2de0f7,https://issues.apache.org/jira/browse/AMQ-5241 - track window between sending shutdown info and doing local close to avoid race with broker on normal connection.close - needs two jvm to reliably reproduce so no unit test with the fix,1,11
fe1d05082860cff8fd2585e6dc3c3e04477e29f8,"AMQ-5242 excluding text because of failures/hangs on AIX, Solaris, Windows",0,66
bbd61084e099048357e3f0ed50dc8ed3471ec66b,Change logging from TRACE to WARN to save space on CI nodes,1,1
d9b03acffbbab90dc0b0a1922d28c60893624348,"https://issues.apache.org/jira/browse/AMQ-5239

Add a getter for the BrokerService map.",12,20
0fdd4611a0918fadadc9e6ecf594c9d97b8f5ca3,Fix the getProxyToTopic method.,5,5
1c97a65b45a69c4bb1af11bb49b147b197511f08,bump to the latest patch version of hawtbuf,1,1
106f759571a242ab4cc0b35d1098eb4f52149394,"https://issues.apache.org/jira/browse/AMQ-5251

Synchronize method and remove old deprecated schedule method.",19,7
5aef16ad0600f525f4515e55f296a987bffa8058,"https://issues.apache.org/jira/browse/AMQ-5256 - fix spurious amqp ioexception on concurrent connection protocol discrimination, client would see a hang on open. additional test",1,69
6521549ec8858cfafe2f791023d1e7212b542ab7,AMQ-5086. Fix the timeout arithmetic,3,3
aa79c7ec7b47e79692697c990d1b59a4c37c5b14,Upgrade to Camel 2.13.2,1,1
74846bb2b40e6183f2accdcab388c2d309c1eaad,"https://issues.apache.org/jira/browse/AMQ-3758

Refactor the scheduler store into a more KahaDB style store that can
recover from various problems like missing journal files or corruption
as well as rebuild its index when needed.  Move the scheduler store into
a more configurable style that allows for users to plug in their own
implementations.  Store update from legacy versions is automatic.",911,5584
c6d0aaa81b8385209507b0ab22a107ea247be587,"https://issues.apache.org/jira/browse/AMQ-5258

Fixed, early created connection is closed so that it can expire or error
out as needed.",1,1
e62e90abafdfb42a2c74f07a333ed26365936b54,"https://issues.apache.org/jira/browse/AMQ-5125

Fix for potential deadlock when external classes synchronize on the
LevelDBStore instance which can deadlock the hawtDispatch runner thread
if a task also attempts to take the lock to protect some mutable state
values.",9,11
ccf4b9f34f0fe68c3e0ae3acc790f58299f1db99,"https://issues.apache.org/jira/browse/AMQ-5262

close connections when the connector is stopped.",7,24
d4a376d8859fa3578746d198ec17d9ad00307b55,added/updated timeouts to help resolve CI failures,7,22
bf1c57b33d2c013a8096b5a1982a00c20ce25909,AMQ-5265 - fix race condition for task,20,12
eae21120284b6841b5cd3c4e340d5cbe853f1644,"Exclude some MQTT tests on HP-UX, see AMQ-5267",0,22
13581c9aac65fd1bfa113f159ec78dd00d216a72,"Exclude leveldb tests on AIX, Solaris, HP-UX, and Windows as they cause problems with CI",0,384
11185c205e29a27b517584b8e360d5f3c824c908,"Update for AMQ-5242, exclude tests that hang on AIX",1,3
6348d11976fd16e74e0b36b5e76e8ba2bf48db4a,"https://issues.apache.org/jira/browse/AMQ-5266 - fix ordering of concurrent transaction completion in jdbc store, avoid skipped message dispatch. additional test",23,600
0709c2cc1d2c3d78a2e40a9728db7aa08674d38f,https://issues.apache.org/jira/browse/AMQ-5213 - fix failing jmock test - resolve inconsistency in camel case attribute naming in a few mbeans,7,11
2b53036b27591ad62db16516bd682e811ffae719,"Excluding some tests which hang Jenkins on Windows and Solaris, see AMQ-5270",0,45
433912f79a3ffb2323bc0060a980e77122f9a204,"https://issues.apache.org/jira/browse/AMQ-5271

Add an in-memory variant of the disk based JobScheduler store to allow
for an embedded broker to have scheduler support without needing to use
the disk based version.",141,1061
06bb7a2716f0cea216381b03f555dd497cb627ef,Update poms to fully load into M2E,63,254
5b7bc9057f7183f2cf8d132c7d4e836a9755ad44,Update poms to fully load into M2E. Thanks dkulp,50,4
a498bffdd10dbfb98f7b1e0a65b7007fdff8f271,Update to use Java7,17,3
7fe431b21f70f2187afe6f28ccb3e78140c4719d,"Cleanup in ConnectTest to do two things:
1) connect/disconnect 500 (which still seems high) times instead of as many as possible in 25seconds.  On fast machines, this is MUCH faster.
2) Actually call Thead.start(), not Thread.run() in cases where it should be on a background thread.",25,15
e957937f08628a2a9284d872b2ebc35ef12c6f72,"https://issues.apache.org/jira/browse/AMQ-5269

Use a selector based accept when the transport socket has a selectable
channel which is the case for all the NIO transport.  Can reduce the
time it takes to close down the transport speeding up tests.",54,111
b432173cfcbf5dfbfad00849be4cf47021b455df,"https://issues.apache.org/jira/browse/AMQ-5268

Explicity set the properties from the generic JMS pooled
connectionfactory as the introspection based tools can easily get stuck
on getters that cause recursion or on inner types that have methods
which allow chaining.",3,73
318d52c53b4ca960c7980c530dd63ac41437db07,Merge branch 'ConnectTestCleanup' of https://github.com/dkulp/activemq into trunk,25,15
ee08fc1e24b8b034f1e5d6aae0a97dfa3e0f4bb1,fix up to respect normalisation of mbean attribute/property names from http://git-wip-us.apache.org/repos/asf/activemq/commit/0709c2cc,8,10
a9b8d98ed73793e544228c6f37c54a01a390eaf8,https://issues.apache.org/jira/browse/AMQ-5086 - init of broker got dropped after mutex wait - testWaitFor was failing,2,3
3b5d89a78b12e63f998f239a155f71a557a87ea9,https://issues.apache.org/jira/browse/AMQ-5277 - jdbc store make use of entryLocator on ack,3,7
8f4079b438221a9f8c126f53245b980d6b2a5bf6,"fix javadoc creation, now running javadoc:aggregate work fine",36,33
6ac3138daff50b8ba0620d31f5b36d83d0316540,"https://issues.apache.org/jira/browse/AMQ-5222

Add test to show this is working as it should.",0,38
4d4766e3a3a9c6e4178b0b0b9cd625ada9d2f427,"Fix small typo in the docs

    This closes #35",4,3
4da588d4fcc65dd8d31f751746b8ef42d86aad1b,https://issues.apache.org/jira/browse/AMQ-5105 - problem starting broker with leveldb store,50,87
c34851fd57bc7ef3fc2c847d71ae4cd8f32670e3,https://issues.apache.org/jira/browse/AMQ-5279 - ensure poison on failover redelivery only when delivery is not pending else where,42,60
3c69127524048d358eb467aff98b61e1a30e0d69,https://issues.apache.org/jira/browse/AMQ-4349 - stopping leveldb throws NPE,14,108
d54e0d6ab590b6a6148a5e2629c45b95d3f40eb8,"https://issues.apache.org/jira/browse/AMQ-5198

member variable scheduler assignment escapes the synchronization block
before the scheduler instance is fully initialized.",2,3
0ebbd5d9749a3dc631e50bf11ec02b249a0c7a61,https://issues.apache.org/jira/browse/AMQ-4000 - fix is good enable test so we can close the issue,2,0
3653f81b5b11217217afb4a372abbf6ed804e05e,"https://issues.apache.org/jira/browse/AMQ-5233

Return the right code when a client connects with bad credentials.",3,742
4de5219a8f10e8bbaf034bd1081a3e57207ec308,No point in waiting around for 5 seconds to prove that nothing will be received.  4 minutes off tests.,5,5
7fe23bce626535d60c1080fcf3d13ed5cf34547c,Change some of the amqp tests to be more event driven reducing the time by several minutes,115,161
b9fd189d5639269f0f5983c39975a3254fba1680,"https://issues.apache.org/jira/browse/AMQ-5253

Add accessors with the correctly spelled name and deprecate the old
ones.",22,121
9e139017e43cbcd11cbdf32e0bc609dab1236e47,https://issues.apache.org/jira/browse/AMQ-5264 add useSessionArgs attribute to allow transacted session creation - where user does demarcation using plain jms api. Default behaviour is to only allow container local or xa transaction demarcation,8,84
d223ea979f23130b2af2e0bb896456f62666683b,"https://issues.apache.org/jira/browse/AMQ-4818

added patch with addition of getter for link stealing enabled and a unit
test.",7,125
93f686c5cf13ee555ff76941f6825c19ffb0c3e3,Test code cleanup,34,26
fb569e3fbcc11d7a3d8a24a4d43680055c383f5e,"Refactored MQTT test suite to use parameterized tests and ensure that
the various tests are run on the currently supported transport
connectors.",914,577
e1cd19e86e0623987618e1281d3c09a73be7c4bf,https://issues.apache.org/jira/browse/AMQ-5080 - some additional trace logging,6,15
619864dd4257a0ad4a0d7801071c1ad95680d630,"https://issues.apache.org/jira/browse/AMQ-5288

Fix MQTT to return meaningful error codes on connect fail.",4,143
25e3c1b3c6f0702b6a60bbaa29465e3dbb1b8c76,https://issues.apache.org/jira/browse/AMQ-5289 - add forwardCount to destinationStatistics - allow local consumption to be accounted with dequeueCount - forwardCount so forwarded messages are not accounted for num hops times,3,57
60bc08953143672a2110a02491acef27212bb470,use plugin version to avoid mvn warn,0,1
66a689df0e78397433bc856ad2c798abba5798e9,"fix up karaf-itests , related commits https://issues.apache.org/jira/browse/AMQ-5224 https://issues.apache.org/jira/browse/AMQ-5105 Update poms to fully load into M2E - 06bb7a2716f0cea216381b03f555dd497cb627ef",8,11
207d4cdee682b65f3c434b51f440b1b6c28eefbd,https://issues.apache.org/jira/browse/AMQ-5080 - revert short circut of recover when failover transport is not connected - using maxstartupMaxReconnectAttempts=x provides a better alternative. tm recovery need not start a managed connection or call getConnection before a call to xaresource.recover,11,2
73908d6498504dec2e23fcbbc8f27ab56f6c4a79,https://issues.apache.org/jira/browse/AMQ-5292 Added support for publishDollarTopics transport option for MQTT to support Topics with '$' prefix,10,66
8d04e2be8ec66ac54a1d62f2a2ba50320bfc0802,Remove unneeded broker stop / start at test begin.,11,9
e8c5a9fdb47e9a3918e726362e075eab6e90fe3c,"https://issues.apache.org/jira/browse/AMQ-4719 added enableLinkStealing=true for MQTTSslTransportFactory, test for duplicate client ids for MQTT",2,64
bba026a42eec8f9a880e80375e8e7b913232884d,Removed redundant broker stop/start in unit test,13,8
27a5f6b9d596f2afd7fefc73686c2cec621d1931,remove some hardcoded version strings and pull them in from props via filtering,11,13
b11fc8faf4c1a24da6f893dbb9e9d3d2059d5b3c,"Updated link stealing test to account for isConnected state not being
immediately updated which can lead to failure on a very fast machine.",20,33
f55edcfa25de1b55659a7113be60360c531ffa8a,"https://issues.apache.org/jira/browse/AMQ-5187

Allow virtual destination to recover retained messages.",36,477
e47e0e046350a8325ef5948c2c12b0dc4f053916,"https://issues.apache.org/jira/browse/AMQ-5294


This closes #36",233,599
829a186f2a05ac50eef389bea5c407559cdccef0,"Revert to using non-parameterized tests, makes it simpler to debug.",41,106
1ee5108be6e3ec0b84af72f413ce54c9edfeea45,"Disable JMX on the test brokers as it's not needed in these tests,
prevents some failures and speeds things up a little.",4,9
c0f28e8e0a2707c6e2e3b94bbbfb093ce347fdd4,"Web-console does not initialize under Spring-4.x because dispatcher-servlet.xml has very old bean definition.
This closes #37
Signed-off-by: Daniel Kulp <dkulp@apache.org>",13,16
b550fb77420f4f3f57966736ccd76b4f97b92121,"fix up line sep, use generic unix",539,539
4b0e3e57bacf9e4ca6e692cfad314b2ba67ac8c1,"https://issues.apache.org/jira/browse/AMQ-5290

Add some utility methods that are useful for restoring past
subscriptions.",9,125
2cd54248c693b7b561bec8ef124d8ebde90fd1a0,"https://issues.apache.org/jira/browse/AMQ-5290

Reduce memory overhead of the MQTT Protocol converter by not storing the
UTF8Buffer instances and instead simply store the needed String values.
We always access the String value anyway so all of the UTF8Buffer object
we store carry the overhead of both marshalled UTF-8 bytes and an
unmarshalled String object.",16,17
efa55278ec3a7045240c56bbaa74fcbcff837159,"https://issues.apache.org/jira/browse/AMQ-5299

Fix duplicate call to unsubscribe.",15,9
47ebd80b6ba3cf2e753a47cab4bbff9576e840f7,"https://issues.apache.org/jira/browse/AMQ-5301

 This closes #38",24,26
5de0c8e2fbdc992e0873d92fceac3ffcd5a5e468,"https://issues.apache.org/jira/browse/AMQ-5298

Fix the NPE case",6,9
d8f9686d2a671b69bb16d1b529988dd2adfd21fb,"https://issues.apache.org/jira/browse/AMQ-5290

Clean up some code to make future work a bit simpler.",60,165
9743dbddb6ed175045fbc5c6246c4fb6c0f946fe,move to pax exam 3.4.0,47,52
7c04ead460f646517f39b365ed6168dd1c1e556c,"https://issues.apache.org/jira/browse/AMQ-5307

Fixed the MQTTCodec to properly handle frames that come in split up or
bunched together.",115,407
6dd47bb63fb37a4d1ff491188e75f613b6b81935,"https://issues.apache.org/jira/browse/AMQ-5306

 This closes #39",34,282
c99e2d83721d1d2397384c2121c4cb9052f35db4,https://issues.apache.org/jira/browse/AMQ-4719 - allowLinkStealing was not set/used properly by default on mqtt connector,5,8
052d2931434fae255450887e9be288362e17b6fc,"https://issues.apache.org/jira/browse/AMQ-5308

Improve performance of the codec for large message processing.",41,185
acf84b43e9b7c8aaf92784569075f00e83cf4809,https://issues.apache.org/jira/browse/AMQ-5304 - providing test case,0,21
6bdce73d838abccd8495c979c45bbff8a8bdfc5f,https://issues.apache.org/jira/browse/AMQ-5304 - ignore the test for now,0,3
41659725f4c4fa027386148077aa76c31d8853af,https://issues.apache.org/jira/browse/AMQ-4930 - ensure we page in messages for browse/expire when destination stats are disabled via config,8,28
58ae402b1d61e74511cfd29e1aea7e9597b3a76b,"https://issues.apache.org/jira/browse/AMQ-5016 - evolve the class in a serialization compat way so that exiting kahadb stores can be read, long field addition",12,12
fff3c839712a6fc11931236d9e2158cc25a770cf,add amqp transport module to rar,1,5
413e4840d64fa8377103ce431a2a2c6cef6e0c20,"https://issues.apache.org/jira/browse/AMQ-5290

Adds a subscription strategy model where the default is the normal
durable topic subscription based approach or a strategy that maps all
subscriptions and publish operations to a Virtual Topic model.  A
network of brokers can network the Queues instead of having the durable
topics subscriptions repaeted on each Broker.",240,1038
c42b874972672bbf1ba80d3de4926a0d262e9353,Test for https://issues.apache.org/jira/browse/AMQ-5290,2,246
0d9eedc658a84b15cee9efcd0fe991a5345324da,Updated test for https://issues.apache.org/jira/browse/AMQ-5290 after tbish commit for enhancement.,13,19
98f707bd1e733821a02e13b6ae0fe9bc8a0ed9b0,https://issues.apache.org/jira/browse/AMQ-5304 - still missing unit test case,0,18
56484823110d39b33d36b594c42b3ba2317889ec,https://issues.apache.org/jira/browse/AMQ-5304 - applying groupClass to <tempDestinationAuthorizationEntry>,7,7
f1f1233cf3eb2765f13bfad4d2f3b969695d52c8,include mqtt transport in rar,0,4
8fb690f17c64f78ba11500e32d107c0f8caf469e,Merge branch 'trunk' of https://git-wip-us.apache.org/repos/asf/activemq into trunk,0,4
ab1e9c78ef45fa6b8702a0890c2ae3edf9824a86,https://issues.apache.org/jira/browse/AMQ-5311 - encode xaErrorCode in xaexception message,16,28
960186af89d0fb6601ba147c5aa7216cc769aa7f,AMQ-5312: Reduce logging noise for activemq-pool if its stopped.,6,18
533cedc4fc555b4df573c8e17594941019f5e50b,"https://issues.apache.org/jira/browse/AMQ-5220

Fixes empty message bodies from responses to statistics plugin queries
over the STOMP transport. 

This closes #41",98,174
1f9a2d6f6859f60c2340439d7188f70b8fa00ee0,"Fix test failure under Java 8.  Root cause is in CombinationTestSupport
and only shows up in Java 8 because iteration order of the options map
changes such that the expandCombination method gets an empty value for
an option and returns immediately without evalutating all the added
options.",10,8
ec2a3c750bbfb33763ac56b8b0a660bdf8542145,https://issues.apache.org/jira/browse/AMQ-5304 - re-enable the test as the fix should be fixed now; amqp version of the test is ignored until we have temp destinations work properly with amqp,1,5
7c2735d0f4af9cfcb5c94690d03e2a8a7cdf59bb,https://issues.apache.org/jira/browse/AMQ-5317 fix and test,3,33
e5ab933d2d741d6c9a16ac5756abc4bba680e791,"Fixup  the code around building the test combinations to better account
for a combo option that has no actual values, in this case we just throw
that combo out and let the class default be the value used in the test.
Before the order of iteration drove the combo build which caused early
exit from the loop if the last enties in the list were empty combo
options.",8,12
999385ea539c89240bc4b7949c5aa38aa51c3b77,"https://issues.apache.org/jira/browse/AMQ-5316

remove unused configuration entry to reduce confusion, can be added back
if ever needed to control additional logging.",13,0
4a2af3ab072c67408e477f3e41388310f8f414db,"Add try/catch blocks to prevent client shutdown errors from preventing
Broker shutdown.",24,36
c391321d1b5b59542d847717654b0d4dba54cf2f,"https://issues.apache.org/jira/browse/AMQ-5315

Fix for potential NPE on transport error.",0,2
f158e7da6752e4a48b12547ad09f1ae90a0d452d,https://issues.apache.org/jira/browse/AMQ-4930 - need to track paged in for queue count to match stat view - thanks MBeanTest and JmsQueueBrowserTest,2,2
145b64ac2ae6a700ee4fec1909e9aef366ca1633,Fix test name so it gets included in the surefire test runs.,4,4
01ee9444c5752b6a2214d5c709878a879b532011,Upgrade to xalan 2.7.2,1,1
8b64e139f83b66c61f4e38b3d6224f8c12acaa8c,"https://issues.apache.org/jira/browse/AMQ-5318

Check for auto-commit and don't call commit if enabled.  

 This closes #43",2,512
ec049a0882172b2ed288036f36876a8925b8c1bd,"https://issues.apache.org/jira/browse/AMQ-5290

Some more refactorings to allow the strategies to have more control of
the subsciption model in use.",146,195
59f8cfc6049ff2d9cd7b50b1f558259943db4b8d,"https://issues.apache.org/jira/browse/AMQ-5290

Minor cleanup, change transport option from subscriptionStrategyName to
just subscriptionStrategy.",34,40
eaed01992efcea43fde36142d55a02a894afd439,fix the test builds.,1,2
9a6d444e0a492231ad1f4833448b3bbacd839bce,"https://issues.apache.org/jira/browse/AMQ-5320

Clean up API docs.",14,14
00921f22ff9a8792d7663ef8fadd4823402a6324,Remove unused ConnectionControl handling.,4,0
14678e1c446e5563bcd51c590a0667fe5bedec01,"https://issues.apache.org/jira/browse/AMQ-5295

HTTPS Network Connector doesn't work with Mutual authentication-
HTTPSClientTransport uses wrong SSLSocketFactory",30,46
582fc08019c5cab275c4abc054d0fb69c72b7fe2,"https://issues.apache.org/jira/browse/AMQ-5072

Add accessors to the persitence adapter class and a test to validate.",0,182
deee04015105b833553d0fe8d0ae4eaead60a3bf,Make comments match reality.,2,1
b1bc59393122888dd7dfe2c24026d7a0bdf54141,https://issues.apache.org/jira/browse/AMQ-5323,3,51
bf5305e2ee207a415318e4375cf98c8521fc56c5,Add ldap auth unit test,2,49
6e9ecdfe21b8bb894ae9a4473a76eb3548e84b87,"https://issues.apache.org/jira/browse/AMQ-5281

Apply patch correctly honor JMS selector behavior for unknown values.",10,200
3aec42db4f5b360c35959c8b555f1ecf8cda34bf,"https://issues.apache.org/jira/browse/AMQ-5237

Ensure that the allowLinkStealing option gets applied to the
WebTransportServer",6,127
9b017fdb391ae1c5ef890e3824a77d63a490dc11,Ensure all resources shut down.,5,14
aae7aeaf39e028afb5097a25a2caffbfd98b1b99,"This test does not need a management context, disable JMX",8,17
858ab40203e51054bcb5814a29d8e36b1ad7937b,"Make the test more tolerant of slow machines by replacing fixed length
sleep with a Wait condition.",9,18
d510b8b334bbf2b668cf97cd0e6be5690704fa44,"Remove some unneeded repos, move one to just the module that needs it, add a defaultGoal",28,11
6ae576cafb4351bc9043e53845e7f71310eb9acf,Minor cleanup to use a c:out to output the data,1,1
4fa10356f09908d8cfb9fd4448983ac6d7e80ee7,"Fix test, remote broker only dequeues the message if it is ack'd
otherwise it remains in-flight.",2,10
b9696ac80bb496b52d05c3884f81b0746d9af9e2,https://issues.apache.org/jira/browse/AMQ-5333 - make xpath parser features configurable,37,94
b76d8318d7b87f6d121d485a62ea63e7601d574e,Support configuring a connectUrl on the leveldb store in case your running in a system like OpenShift where clients connect to a different ip:port from the one that the sever binds.,3,11
bbc039fceb85239667563f8c852db6ed016b73f8,https://issues.apache.org/jira/browse/AMQ-5305 - modify <destination> element with runtime configuration plugin,624,1409
60bdfc061cf3ced688a6b5aca9f00c4a3390312a,"https://issues.apache.org/jira/browse/AMQ-5315

Fix for possible NPE during start with immediate bridge failure.",7,10
b2afb8c9698875ca4b6f2ef4f1f18abfcf9fc15e,"https://issues.apache.org/jira/browse/AMQ-5337

Switch to LinkedHashMap with R/W locking for concurrent add / remove
protection",11,34
54e2e3bef290d7455d9d1ba3420d12dc4805b339,rework cursor store sync w.r.t to index order. resolve issues with skipped dispatch and duplicate dispatch. https://issues.apache.org/jira/browse/AMQ-4485 https://issues.apache.org/jira/browse/AMQ-5266,350,1152
862f50355f8fc97814ffd44e76c23e14f781b473,give test more gc wiggle room - AMQ-4930,1,1
8a37f97315425d51744ea5fd139f8ab91469d2ca,AMQ4677Test.testSendAndReceiveAllMessages - demoed the lack of reference increment for transacted send and the non completion of transacted futures in leveldb,6,11
e8f8155141e75ba10c1ba03d9031b6128a735507,reflect need for store to set messageId.setFutureOrSequenceLong for journaled jdbc,4,9
0b5231ada5ce365b41832ba8752ee210145d1cbe,https://issues.apache.org/jira/browse/AMQ-5345 - improve ldap communication,10,225
644b96a68a8631f5c65ff4709fc61355d2d5c107,"https://issues.apache.org/jira/browse/AMQ-5346

Prepare for the move to Proton 0.8.  Use the 1.0-SNAPSHOT builds to
start testing against the changes coming in Proton 0.8",16,12
1abc95b6a443c8c923e515dd552f6f525cf689d3,"Use the defined sources version otherwise we get an error when
generating sources now that we've started using 1.7 code features.",1,1
3afde7bac7d6bf536f69abb25f5705eac9e968ae,"https://issues.apache.org/jira/browse/AMQ-5346

need to call free on the amqp resources now to ensure their state data
is all cleaned up.",11,15
b2e6a41661c52f35259dba8a7a3c58934513b533,"https://issues.apache.org/jira/browse/AMQ-5350

Don't link the AMQP max frame size to the TransportConnector
maxFrameSize value.",13,15
7ca25965db5b9ffdfba11b914dafbb36a3504162,added CamelRoutesBrokerPlugin for https://issues.apache.org/jira/browse/AMQ-5351,0,540
c70d75213ee630e8e1328fd573397a24ce47a4e9,"https://issues.apache.org/jira/browse/AMQ-5352

Applied and tested, all tests still passing after this change.",2,11
b1ede0559e12e39ae8dc7d4eb0c1c5f8cb73be29,[AMQ-5353] Use the same version range for the imports and the features.xml,2,3
26807cd4524460e22844d16136f03bc96fa9b4c8,https://issues.apache.org/jira/browse/AMQ-5274 - we now only check expiry on non inflight messages so there is on contention on ack with the periodic expriy check thread - related https://issues.apache.org/jira/browse/AMQ-2876,17,170
5861d86ad39cac1644b1a48157bd6c799a586ac4,https://issues.apache.org/jira/browse/AMQ-5266 - fix edge case with optimizedDispatch=true where a single message could be pending till the next page in event,15,20
8cdb5c2c1d36416a827470661679087bc9e9a108,https://issues.apache.org/jira/browse/AMQ-5266 - remove err message print on iterator limit,1,0
8ab9a56d3594b40ecc4ae202200b635877088e82,https://issues.apache.org/jira/browse/AMQ-5146 - fix test regression - with 20 rollback consumers the messages can exceed default redelivery policy,1,2
a0c42a61dd1af5a6f0d3a65862310dd9728d4ffa,https://issues.apache.org/jira/browse/AMQ-5354 - patch applied with thanks,1,4
f19add11deb07ce31c5f9bfa5aeccf6960b22f12,add info log message for a queue purge event,2,39
357d491cbe5e97e36e6bf0731bcedfd8a1c67ec5,https://issues.apache.org/jira/browse/AMQ-4705 - verify lock sanity on acquire so master cannot start and immediatly fail with a keepalive failure,1,1
fb684db4a87c7025b3a1947740d4f8ef50019ec7,https://issues.apache.org/jira/browse/AMQ-5121 - use jmxLocal in karaf only for jmx-based commands,1,5
4ff5a3e48e312fe10bae206027646e8a5f6b1002,improve trace logging on failure and tidy up future - try to nail down intermittent duplex bridge half start,6,7
f54e771df08dc5354fb4b104dff8a027704ff589,AMQ-5366: Upgrade to Camel 2.14,3,4
4efd5c54b7164011b6dec4664230f6400ba1bfcf,JAR upgrades.,3,3
023b0f1987f495a3e84269f5c1164cf12ac39fe4,"https://issues.apache.org/jira/browse/AMQ-4485 - test case hangs on 1.7, subsequent tests fail with port in use - disabling pending some investigation",0,1
8163b0b95ea66a01ec7def01b709ffc05eacaeed,Handle exceptions described in AMQ-5372 to avoid cascading test failures,2,8
8f138473de8ced1a8a8522b0bd2c92a397419a6c,Updated to no longer use deprecated junit.framework.Assert,4,1
025c2316d9c12afc3e39df2a66ce8e2576c728b2,Added timeouts to prevent hangs during CI builds,2,2
80322ce00d530c3075beb0bdf2a88945ec403693,"https://issues.apache.org/jira/browse/AMQ-5373

Use dynamic ports for the test to avoid clashing with other brokers.",21,25
2d9475c4f022d3fbf498692f1bb64841d30feb35,"https://issues.apache.org/jira/browse/AMQ-5346

Apply patch for link detach event from @gemmellr",0,1
fc3d90e8b740c1621ee1b51ac8d7ec6bec4c55fc,https://issues.apache.org/jira/browse/AMQ-5377 - mqtt wildcard conversion,2,45
838bbebeeba7e217cafa0f081d125efdc9faf0ad,https://issues.apache.org/jira/browse/AMQ-5379 - amqp prefetch size,4,33
57fc29b6ce5b80930021733c313862b817e6b537,"remove npe when no jars on classpath, in ide",5,7
c1c82beb2d6cea17eb5a8164a42dde1bba2ef77c,fix deadlock that blocks remote broker start in duplex case with durable sub recreation on restart - dynamicOnly=true works around,11,244
140ce1bc8f447552c6a6dbfc1d3284da96386d2b,"https://issues.apache.org/jira/browse/AMQ-4485 - reenable test. concurrentStoreandDispatch case cannot be reconciled via setBatch, best we can do is trap duplicates from inflight messages as they occur. tagged async stores to support this. the revert of serialization with tx and non aysnc send brings perf back to where it was. https://issues.apache.org/jira/browse/AMQ-5266",141,85
b5581166be0eb2ccf66ad16ad521351d0169db47,https://issues.apache.org/jira/browse/AMQ-5182 - apply patch from colin mondesir with thanks,1,1
ad770ea79d9eaf9e40216ed2e116b2544fcd8e3e,https://issues.apache.org/jira/browse/AMQ-5384 - apply variant of patch from Tomasz Skorka with thanks,7,4
a56996dd6cc1249223899555ae2e6c66d7acb9e2,"avoid npe on network bridge failure, dispose when not started on vm transport",1,1
97c127d2d4086709a50a9da6f17773d6b1a5fc33,https://issues.apache.org/jira/browse/AMQ-4485  - fix test regression with browse test - AMQ4595Test - reduce replay window when sync and asnyc cursor updates flip message order - concurrentStoreAndDispatch=true -  https://issues.apache.org/jira/browse/AMQ-5266 - increse default audit depth to match async jobs for concurrent store,37,92
62c20ebdcfcf4307a4379b39d8352891f8824d56,"Apply fix and add test for:
https://issues.apache.org/jira/browse/AMQ-5385",15,56
0cf7c0bc4709a68cd7dbc972d5ba55863053c601,add trace logging to cursor page in,0,3
78446ad1759706df7662018571e68bc471a6ac28,"https://issues.apache.org/jira/browse/AMQ-5395

Check for the presence of a prefix before asking for a substring",1,10
27833d025e220492d5c3494a8d46b6c61ea24ee1,Remove unused imports,12,2
78cb1120b7b93957c36e0abc12e1d22f0f0d7390,"https://issues.apache.org/jira/browse/AMQ-5391

Allow for an anonymous relay using a configurable node name when
creating the new link, default is $relay.  Message's that arrive without
a to field set are rejected as this is required for a relay.",4,62
e90f1decb2bac727378b4754b101fa9f79faeed4,"https://issues.apache.org/jira/browse/AMQ-5391

Fix temp queue creation.",17,11
41ca0d94647ad303c22eb1e86796203fd69dbb44,Add a test case for durable topic unsubscribe.,0,45
8216e7f4d5e275cc41a3d21dea8d7ffaa430719e,https://issues.apache.org/jira/browse/AMQ-4930  - limit browse page in iterations in case cursor and store are out of sync - avoid a spin when store does not return messages,1,8
5f865f0f8078dfcf2ada84f7096a49bd6f52487e,fix off by one in this unit test,1,1
2050498c6788a925efa24630803328286468c079,ensure vm transport is started in this test so that stop does some work,0,1
243db1c289e8e1394adc7751a7a545af6df06fc9,rework npe avoidance in vmtransport stop to resolve thread leakage test failure,15,19
9c2b1d257288fb85138a37e30e1216251ca13eaf,https://issues.apache.org/jira/browse/AMQ-5266 https://issues.apache.org/jira/browse/AMQ-4485 - store has messages must be aware of pending also kahadb setBatch for async sends. additional tests and tidy up of cusror sync with store to reflect async/sync additions,54,1249
51a2596c52fcfba753dfd3b3956fe857a55a6ca3,run leveldb tests on osx,20,0
76e29bdf9c296d74b941dba85fdf5f077536353e,Changed or added timeouts to try to prevent CI hangs,63,40
4705f95becc983101d3534d573a45b157b400191,"https://issues.apache.org/jira/browse/AMQ-5266 https://issues.apache.org/jira/browse/AMQ-4485 - tidy up exception trace and async check, fix leveldb async test regressions",4,13
1a0bd45a4e549e74029f7bf7cd2640460544b27c,https://issues.apache.org/jira/browse/AMQ-4485  - leveldb version - shows the need to flag async adds so they can get suppressed as duplicates \(and not go to the dlq\) when the cursor order is out of sync on cache full,1,40
28b45341d19e26d098565ec365f5fb0400ab6161,https://issues.apache.org/jira/browse/AMQ-5399 - mqtt - out of order acks,6,131
1d39f08c12de9590e31006fae421abb1ee2cca90,"https://issues.apache.org/jira/browse/AMQ-5266 https://issues.apache.org/jira/browse/AMQ-4485 - fix warn logging from kahadb on set batch when message already consumed using seq from messageId, additional single dest test that hammers this case",15,622
226e012d88b1d5149433554e1473eed26e7c78a0,Restore test case removed last commit.,0,45
004568234b3964441fa122b04bdb509e754585f4,"https://issues.apache.org/jira/browse/AMQ-5401

Ensure that the sender is closed on error and add some tests for
unsubscribe failures.",1,61
5a6129b51241449a7310bbd812b24274ec8d7914,"https://issues.apache.org/jira/browse/AMQ-5403

Remove now unnecessary workaround for older proton-j TTL issue.",10,1
4881a848dc9c8170ab82267a6bdedd4d3adcc372,"https://issues.apache.org/jira/browse/AMQ-5402

Add support for encoding the destination type in transformed messages as
a byte value to supoort future JMS->AMQP spec mappings.",0,28
6885ff0a62602207e22ff8737a193c702f29ee18,"https://issues.apache.org/jira/browse/AMQ-5365

Trap VirtualTopic names that leak from messages sent across a broker
network.",9,10
3873ecfe5dc213949a6bb3d7a58f36bd612d19ec,"https://issues.apache.org/jira/browse/AMQ-5396

Reviewed the patch and it looks good, I made a small change to prevent
logging in the case where no old context exists so we don't spam the
logs.",15,20
ab3de0c4c2b8af83090558ebbea4ef91ce04024b,https://issues.apache.org/jira/browse/AMQ-5379 - amqp prefetch; split producer and consumer prefetch settings; allow consumer prefetch to be adjusted using link credit,34,48
67ead201e1cb0e7dc019002d7a2e4be53184261d,https://issues.apache.org/jira/browse/AMQ-5266 https://issues.apache.org/jira/browse/AMQ-4485 - single dest test with low limit exposed ignored setbatch in kahadb when sequence was not found in the index due to acking - resolved and validated with test that verifies dlq is empty,47,21
6c4f15e2208ba3461508327fea5be81c6e53db7d,"https://issues.apache.org/jira/browse/AMQ-5381

Apply fix and test for error when restoring old content and treating it
as compressed when it was not.",9,185
d9d9d5b666c87bf54d0814471133677daec92aa6,"https://issues.apache.org/jira/browse/AMQ-5389
https://issues.apache.org/jira/browse/AMQ-5387

Fixes some issues around processing of back to back frames and reading
of null blocks between messages.",5,4
74d2c2425fbcbdf38f910f3c321d89780ba2ab6c,"https://issues.apache.org/jira/browse/AMQ-5390

Adds a test case to show that things work as expected.",0,51
8b8f6300801f318ce0ce365c4ae600fce3548244,"isolate cursor storeHasMessage logic into durable topic sub cursor b/c only durable sub cursors have selectors that won't match, otherwise we should always read a page if the store has messages",16,21
e3377edb0605de409a98fc98c60d4f6ef47be1c4,"https://issues.apache.org/jira/browse/AMQ-5401

Free the broker side sender right away so that client's that don't close
their end properly after error don't prevent future remove attempts.",1,27
642cc432160067a11ff36dcadd4aeb7c4cbbccdc,"https://issues.apache.org/jira/browse/AMQ-5406

Add support for disable of consumer expiration checks.",2,224
3042797b41d04a682c7687c0589214f5a2f2e4ba,https://issues.apache.org/jira/browse/AMQ-5266 tidy up leveldb impl with additional scenario tests,132,93
33089f3fbba390e2cefccd4aa0d2f72c7ee82862,https://issues.apache.org/jira/browse/AMQ-5266 track cursor pending additions size in debug logging,3,3
1948fe41a35d895589dfd14d85aee75078a8415b,"https://issues.apache.org/jira/browse/AMQ-5407

Allow config of enabled protocols for nio+ssl and stomp+nio+ssl etc to
match the capability of the non-nio transports.",0,20
350889c1eb3bdb55335721649dda02780f251674,https://issues.apache.org/jira/browse/AMQ-5266 - fix regression in levedlb xa recovery and durable sub scan - org.apache.activemq.broker.mLevelDBXARecoveryBrokerTest and org.apache.activemq.bugs.AMQ2149LevelDBTest,2,3
135226533f9c21e33fccd19df6b1ad506a15a1cb,https://issues.apache.org/jira/browse/AMQ-5394 - applied patch for kahadb lastUpdate tracking from Jesse Fugitt with thanks,3,5
adafdfe97d9522d399ebe32f6c28fe31619b15a9,"Make BrokerService visible to the protocol converter so that in the
future we can use it to better manage durable subscriptions and link
reattach behavior.",24,47
dffccb1c7dc8e4b4a6282fd5056dfd854d2d2a9b,https://issues.apache.org/jira/browse/AMQ-5417 - use proper classloader in TaskRunnerFactory,0,9
0b148ade32e58b83ed6ec9a1d04ff606b717d158,"https://issues.apache.org/jira/browse/AMQ-5402

Revert the changes here as the mapping is moving in a different
direction.

4881a848dc9c8170ab82267a6bdedd4d3adcc372",27,0
52e1a05aaadda40eb2ce63f610937981f96506c6,"https://issues.apache.org/jira/browse/AMQ-5347 - variant of patch and additional tests applied, prefetch=0 test without restart exposed ordering bug with fix for https://issues.apache.org/jira/browse/AMQ-2719",18,447
914d3939c93f7fb69f0eecfb3ec2a55e980f6bd6,update to released Proton-J 0.8,1,1
b70fc9a0760a34761dd43240d885eab2c4eca131,Added timeouts because of hangs and very long runtimes on some CI boxes,10,10
7d136de422be6cea54c5615833e242908cb0d2dc,"https://issues.apache.org/jira/browse/AMQ-5421

Ensure concurrent access to the destinations state data does not cause
errors.",5,127
52d95ee01cf57ad5cba63a8d2c809948aa432990,"https://issues.apache.org/jira/browse/AMQ-5423

Ensure that pendingAcks map is cleaned up either on a single message ACK
/ NACK or on TX commit or rollback",7,6
2842cbd5b610247304fab515e9609576049cffdf,Skip all Joram tests on Windows because of CI hangs,0,2
dfd168b0b6f1b8168faccc0fb4d82c8d7e7fc5cb,Use the Camel apt compiler for the activemq-camel plugin to generte component details.,5,24
0e98ed6f537a9a1fc7917e3f75f3a6e99386b6ad,Polished,0,5
7c1ca63d4d5a3f82748acafc91d06bc1d2f0ca6b,https://issues.apache.org/jira/browse/AMQ-5378 - shell script improvements,77,87
741b739da88a72cc9bb0f8314b6a2e39a60b78da,"https://issues.apache.org/jira/browse/AMQ-5391: use null or empty address to signify
 anonymous-relay node, in line with expected direction for the Addressing spec
 underway at OASIS AMQP TC",27,1
162f9fc5590b1403fb4e9b1fb23d249929d8bc62,"https://issues.apache.org/jira/browse/AMQ-5391: offer the ANONYMOUS-RELAY connection capability to
 signal support for the anonymous relay",0,12
8533a9242b1761dd58cd1adac2f3d5163155128b,https://issues.apache.org/jira/browse/AMQ-5450 - ensure default any destination is not chosen in favour of wildcard matches for mKahadb,1,195
b9cbd93a68d3777379b67b4d47db9d93823b8f66,"Fix mqtt-client artifact missing from eclipse repository

Add alternate repository

Signed-off-by: Hadrian Zbarcea <hadrian@apache.org>",0,10
08b1bedc6d421c09733c6f0576dcfe737970d1d0,[AMQ-5455] Use a working repository for the paho dependency,12,2
5cd56e7fb10b5651704009c74b0d180b047add29,"https://issues.apache.org/jira/browse/AMQ-5431 - prevent NPE when a Detach frame is received for a
 link that didn't get as far as setting a context during creation before being
 detached/closed",1,4
c5f183548eb486bac3061a25c5f108bf52d18636,"https://issues.apache.org/jira/browse/AMQ-5456

Apply patch from gemmellr to ensure that TX messages accepted retain the
TX state until commit.",5,10
74f530a6410522df76e842a3f2498a3442db5281,https://issues.apache.org/jira/browse/AMQ-5457 - fix and test - we now peek first in redeliveredWaitingDispatch,0,58
ebafd5c19388ce183299c2c41c966c5580e87821,Implements https://issues.apache.org/jira/browse/AMQ-5458,5,232
51566104abd46722c73d71534e7576b5377d799c,"https://issues.apache.org/jira/browse/AMQ-5447

shutdown the scheduled executer so that any scheduled tasks are canceled
and removed on stop.",0,3
46bc26cea50f4917ad8ecbf79416a62e5cd4bbb3,"https://issues.apache.org/jira/browse/AMQ-5436

Add support for temp topics and queues to perf tests.  This closes #49",14,157
0514fcf8826efdba7544034d0000915f25f61437,"https://issues.apache.org/jira/browse/AMQ-5442

Add check to avoid any NPE from stop without start called.",13,21
4141d6a2231f459cbed3c9b5fce7b54f1cdf3860,"https://issues.apache.org/jira/browse/AMQ-5444

fix missed sync of recovery file",1,1
f4149c0a46a3ab92eebbeb1895fd484d3ad29ebb,Implements https://issues.apache.org/jira/browse/AMQ-5458 - Also needed to update the slave since it does writes slightly differently.,1,11
4e3499e41bf1158b4b3b9a46cf58263d695cc097,Implements https://issues.apache.org/jira/browse/AMQ-5458 - Lets make sure we register the Test mbean when in slave mode.,3,13
0ca376d540e1f73da92494ed1ce34d4b64746480,https://issues.apache.org/jira/browse/AMQ-5379 - amqp prefetch size and redelivery header problem,36,74
9797d3b9575c49d2ed3b5eef1aea51d70d3d508e,"https://issues.apache.org/jira/browse/AMQ-5464

Apply patch from gemmellr to allow Configuration' TerminusDurability to
imply a durable subscription as well.",2,10
9edf907aedb8c0337577235467061aade237d72d,"https://issues.apache.org/jira/browse/AMQ-5467

Apply patch to use individual ack for messages in a TX to avoid
unmatched ack when ack range is non-sequential",23,73
a58b00872ca5ae2dabf5d15181e61a7f8be35a01,"https://issues.apache.org/jira/browse/AMQ-5472 - deterministiclally propagate root cause exception to listeners on force close due to security excepition on connect, fix and test",40,93
23052aa9864b90c929fdba2965baa4e083d87ee8,remove angles that won't compile on 1.6,1,1
7bafa7da50a6b05945d0da8218b1c32a00533f83,"https://issues.apache.org/jira/browse/AMQ-5405

Move to v 0.30 of the QPid JMS client.  Allow the CI tests to exercise
these to see what might be broken.",24,60
5d77b395f60252644574aef2088e170e19f01c41,https://issues.apache.org/jira/browse/AMQ-5379 - use zero prefetch if consumer credit is unknown when connecting,3,3
802e527ea4f634ffb10e23cef02235ddfb0397fe,https://issues.apache.org/jira/browse/AMQ-5438 - improve kahadb archive logs. This closes #50,23,50
60ad053486d49d7cc9065b16270577604e69a9c9,https://issues.apache.org/jira/browse/AMQ-2719 - resolve possible skipped dispatch - https://issues.apache.org/jira/browse/AMQ-2106 - remove overload so that distribution order is not compromised when consumers are removed with a valid last delivered sequence. Additional test that uses consumer recreation to redistribute groups,22,227
a876a34141a487b2609d61de1d69b6e4b6b5104f,tidy up test code layout,12,5
bbb2acca2fe75ce3b40f6d1092440355ae148610,https://issues.apache.org/jira/browse/AMQ-5476 - fix and test - https://issues.apache.org/jira/browse/AMQ-2790 - default messagePrioritySupported=false,2,85
3858faaf9dcf203b6fc37f5ffbcf8e10064399ce,"prevent test from pulling in persistence adapter from default location, persistence is not required for this test",1,1
80a4fb7cb709507fb88bef59f28b48e4da74fdc3,"https://issues.apache.org/jira/browse/AMQ-5378 - shell script improvements; removing setup, cygwin fixes, refactoring",93,68
db65c2e02714a542e83690b36aca312b962b8bcf,fix JMSClientNioTest close timeout leaving broker hanging about,8,9
919099b419c2d2e355883c6d01df6a9854735d6d,more realistic test with short lived groups rather than single entry,1,6
bc3587cfc9a3a6d5c4bc9f0afa35cbe8e4653fe3,fix failing RecoverExpiredMessagesTest - remove duplicate ref to secedualler task in jdbc pa inheritance and fix persistence adapter ref in test,13,15
f75857fbbf0e11d6d2680d677463dd2a72285321,remove unnecessary broker durability from this test,1,1
61a3eab8ab4a1280c285229830820dea4db1d7f7,"https://issues.apache.org/jira/browse/AMQ-5475

Ensure that client's connecting with non-supported AMQP versions or
client's with invalid AMQP headers are sent an AMQP v1.0 header and are
then disconnected.",225,1070
164e303e216ebbc4c7728cb34a47e4ed87c07da9,"https://issues.apache.org/jira/browse/AMQ-5473

Apply patch that allows for durable subs to migrate when links are
stolen.",7,21
12481abb98f33743343e028048b54c33b3a9b56f,"https://issues.apache.org/jira/browse/AMQ-5479

Fix script output not reading JAVA_HOME",1,1
90afa245493143dcfc8f6377662cc23a4a1ccf38,Restore test disabled by mistake,25,25
994d9b26a05685bf075a74645be1732b77493468,"https://issues.apache.org/jira/browse/AMQ-5033 - revert changes to the rss and atom feed links, as c:url doesn't escape value",8,2
1409acb36e0cca388e408fdd321c3f9532e8265d,"https://issues.apache.org/jira/browse/AMQ-5480

Give the user more rope.",1,9
15eba485643d710a55e82c9ed10516374b1ae857,fix mvn warn on deploy profile,0,1
d25c52ccb2c9c23535f9d4488fe8be8600148852,https://issues.apache.org/jira/browse/AMQ-5483 - fix and test - assigned group counts are updated when lru map evicts a group assignment,27,96
9bd070a8f6337a3452a8529a0647970cc8c6deae,"https://issues.apache.org/jira/browse/AMQ-5484

Ensure that the subscriptionByConsumerId map gets cleaned up when a
sender is closed.",0,3
411c7547ac707b462f3005d8c14bfc289855d991,"Adds a test used for checking memory usage in the AMQP connector, test
is disabled and not intended for normal test runs.",0,95
2d9959a6f6f33f7138606073e425a74261ec3125,https://issues.apache.org/jira/browse/AMQ-5476 - ZeroPrefetchConsumerTest regression - fix default in connection factory and refactor prefetchExtension support -  https://issues.apache.org/activemq/browse/AMQ-2560,38,38
13c207292f9df7e730b778ac00e4fe30394ff687,fix failing DbRestartJDBCQueueTest,10,3
30d3fae323b53e2bd96c19cdcfd27e5e1bedd9c7,reduce test duration to match existing fork timeouts,4,4
fc3bb5c659acec2a02b7f7842349d468cb939459,Upgrade to latest Camel release,2,2
f57fd7daad85fc72e1b5a86ab45199aea462a53e,fix intermittent failure of LeaseDatabaseLockerTest and fix log messge with lease expiry time,2,3
b969358445fca71011d3d45b8e8a68a39d671145,add test more time to clean up on slow machines,3,3
9927824c277a75e9b3a9f75d1ebd55d0e5a99a28,give test some more time,3,3
a090472942df3b61b5a738e20ea6b12034f08dc6,"Add properties to the connection that indicate what the proper
destination prefix value should be for Topic or Queue destination types.",0,18
d91bdc4cfffc2301d41c9a388120c818650257d4,fix test failure on slow ci boxes,2,2
e16815ad3bae86f4e5c970db3c4647793d185416,https://issues.apache.org/jira/browse/AMQ-5174 - apply patch from paulGale with thanks replace jdbc specific lease io handler with generic lease io handler - closesThis closes #53,37,112
02d974c40940969eee7d7f4f3d519bd2335093e6,https://issues.apache.org/jira/browse/AMQ-5493 - apply patch from pedro with thanks - prevent spurious thread start on shutdown,1,1
815e0ec5bf5dbda4eb0cae2b385729aef033ad16,https://issues.apache.org/jira/browse/AMQ-5495 - apply suggested changes to allow keyStoreKeyPassword to be specified in ActiveMQSslConnectionFactory,1,18
7100bf377ae3e2e537a789fb4566dfc72c8f8261,https://issues.apache.org/jira/browse/AMQ-5378 - shell script improvements,28,26
83631e30687ba6fc269eafda9167e38e4877a103,https://issues.apache.org/jira/browse/AMQ-5378 - shell script improvements - remove hostname from pid file,1,1
c266b1069b767b74308e5b1f59789c28d448bf69,https://issues.apache.org/jira/browse/AMQ-5378 - shell script improvements - revert stop pid renaming,1,1
531538908095332f702bfeddfbf0731d7c01f604,replicated leveldb test improvements,12,20
9752e1dc9365ff23448f6933c978e7f71f857518,more levedb test cleaning and turning on debug logging to try to figure CI failures,12,65
c646fac75a33eeaab75272797eeb00408ac44874,increase test timeouts,3,3
5c199c3d9f6e8a51d0266573f6048c2f5a250e32,improve test behaviour on slow ci boxes,5,5
54f6508d44e7c9acf6eb4d41d84d226ca833ffdf,Update spring.schemas for the 5.11.0 release,0,1
9f53e2bcae28bf30c9628a7e85aa9b95a5080bc7,adding missing licences,0,96
90822a585155bc98bb39cce4352cb1ac0f8cf0b6,adding missing licences,0,15
48b0cf396c18216899ceb94ee57c01685104223d,[maven-release-plugin] prepare release activemq-5.11.0,46,46
7b285c6f523d9b7574c47a2cc2781b24d365a04c,[maven-release-plugin] prepare for next development iteration,42,42
c0eae1bfff646075a52067a7a060a68dbb0d9508,"[AMQ-5499]

Register the ""publishable"" URI of every connector on the broker as a maven property after broker startup.
Added unit tests.  Reworked singletons to allow clean unit testing of StartBrokerMojo.",22,736
a14af92dc3e1feeb8faafb9b8f9b1671a74df39b,"[AMQ-5499]

Correct StopBrokerMojo to use a default broker manager.",1,1
8dea161d55cd74b10199e26e56e037d85ae451a0,AMQ-5491 - Standalone Web console Session timeout with user/password input.,0,153
89995f472330a4aa8673be6e2304ae9b5ae545b3,"Revert ""[maven-release-plugin] prepare for next development iteration""

This reverts commit 7b285c6f523d9b7574c47a2cc2781b24d365a04c.",42,42
aedcae139bd2d733d34594efe67b5da016ead582,"Revert ""[maven-release-plugin] prepare release activemq-5.11.0""

This reverts commit 48b0cf396c18216899ceb94ee57c01685104223d.",46,46
8e0865d5d115774f2cabd79e3378b9c3730567d3,[AMQ-5505]. Add getUptimeMillis to the BrokerView MBean. This closes #56,3,23
9ee7bbb0afd2b0d0faf2b6db2a86f2b9d5a56e05,This closes #49. For some reason didn't register with commit 46bc26cea50f4917ad8ecbf79416a62e5cd4bbb3,0,0
5ebe71cec9ec48622914f1140ced19e9f307d756,"improve reliability of leveldb replication test org.apache.activemq.leveldb.test.ReplicatedLevelDBBrokerTest - ZOOKEEPER-1751 fixed in 3.4.6 is releated, also the default 2s session expiry with a 500ms tick seems to be problematic with porpotional ping intervals. With 3.4.6 random client session expiry due to ping timeouts are avoided but unexpected server side expiry still ocurrs due to missing pings. Upping the session expiry to 15s avoids the client - server mismatch in session connection cleanup",3,10
4d8489ba386996b6172ce3dc6b0d0fca15f2f246,"https://issues.apache.org/jira/browse/AMQ-5506 - fix typo in leveldb attribute ZkSessionTmeout - now with the i, store.setZkSessionTimeout",5,5
6c2e2f54461380a9e97792a2f4cd0a1e7bd86c96,using a more sensible session timeout sorts org.apache.activemq.leveldb.test.ElectingLevelDBStoreTest#testElection also,0,1
4b7131ff852e9c8bbf20c1c41ae0b6640b7d001a,"https://issues.apache.org/jira/browse/AMQ-5468

Add a connect check in the inactivity monitor to account for opened
connections that might drop but not be spotted, in the case where the
connect frame is lost this can lead to connections that aren't fully
opened and won't be cleaned up until the broker detects the socket has
failed.  

By default the connection timer is set to 30 seconds, if no connect
frame is read by then the connection is dropped.  The broker can be
configured via the 'transport.connectAttemptTimeout' URI option, a value
<= zero disable the check.",40,243
4bf5d0fc132ba4712f89009b4d23a2023f0ccbc1,Test cleanup: use available port instead of hardcoded,8,31
7ebc6ceef8f97e2d0002df6a4befe04d528d8275,"https://issues.apache.org/jira/browse/AMQ-5481

Add some additional logs to MQTT at the trace level.",0,16
5616d39d82196432d843ae019f396bbf8e0ffb43,see if a stronger sync will sort the ubuntu ci test failures of leveldb - i cannot reproduce,0,2
a52bfe62a4c10ba4d4c6397548dd4a5900c4d3a3,track first missing message - to see if there is some consistency to the ubuntu ci failures,1,10
c5cebd5ec660a40025317270ac0400a8c1ab4b8f,More test cleanup: use available port instead of hardcoded,50,101
f1df9f8b82a27b42fe1def368def335d6286b60e,ignore errors on dir cleanup,1,1
b54606b12417c371af6589b96b72f7110de26b34,https://issues.apache.org/jira/browse/AMQ-5300 - fix and test that verifies recovery in the absense of an index,5,151
726bc97bae8874ff14fba1bf7ae326ba4c3568f9,more logging for leveldb tests,2,2
6588aea8e1b5e72a8bc12f6963556632faad8d96,"avoid npe causing hang on shutdown, sync shutdown of log",11,13
81d83718ae56441dcf3cd6619af963ab4880c15e,Upgrade slf4j,1,1
f303f85ce33e1183c5cc4f4fb03ce2f26345024a,remove inadvertent test mods,7,7
7948d69056be9021e07fbdb1dd158f75f52b7bf9,https://issues.apache.org/jira/browse/AMQ-5511 - retained message for zero-byte clientId client,1,28
383c27e245ccd1ea9b8fbf59de8aa7a5d0f0b8b4,add some more diagnostic logging to test,1,3
05f6cd6cfc9db677df89fe470f4c3a58bc036d5f,ignore intermittent failures for 5.11 - leveldb can be a focus for 5.12 - https://issues.apache.org/jira/browse/AMQ-5512,0,4
dbb1d8b83d2ee5c5a38c55834a70cd21a2dd2ad0,"https://issues.apache.org/jira/browse/AMQ-5513 - have lastDeliveredSequence -1 indicate nothing was received, respect this value in queue sub remove and durable sub deactivate. 0 still constitutes no info - so old clients see same behaviour as before",12,61
3e007d89a27f4c74d33862b9967676c683faec51,[AMQ-5514] Add the 5.10.1 release to the spring.schemas file.,0,1
8dbb48a23fc6170afd5c3c855e8d385297042e57,https://issues.apache.org/jira/browse/AMQ-4107 - apply patch - resolved intermittent failure of TwoMulticastDiscoveryBrokerTopicSendReceiveTest,23,20
849987e5dd1ad35a17711c19a3e51c5eefeae6f3,https://issues.apache.org/jira/browse/AMQ-5513 - remove inadvertent change of statement log level,1,1
869c193d1f0c1b5d04f89bcfb4d5dc12d0d258c2,fix mvn warn on missing plugin ver,0,2
cf62d58ae73e71d3407ccb83dd4fe5cf627df284,https://issues.apache.org/jira/browse/AMQ-5515 - tidy up jetty deps - fix jetty maven coords,77,58
2a9f8a3632c5e9a0586a2be4247efb14005f6083,Added the key for Arthur Naseef.,0,78
60f9b020cc61ac010697b27ee5cd82c702cacd24,https://issues.apache.org/jira/browse/AMQ-5515 - update to 8.1.15.v20140411,8,8
2c6811615848e361c26d55b3963994a0a397b44c,Update to import into m2e without a plugin error,0,13
bc2e2d9a414e3f672bb3250111fe81508c6878ef,[AMQ-5517] Start stubbing in some of the extra params and such that will be needed to support jetty 9,39,14
3f826250775c6c022ebad1de57db11770c9cfe1a,"[AMQ-5517] Runtime support for Jetty 9.  Build/compile with Jetty8, but tests pass with Jetty 9 for runtime level support.",110,562
d4aff4da6410d3ee593a91b9841315b9f596e543,Update to import stuff needed to run in karaf 2.4+,1,2
2128d4d246f4d9021ef33599279a92fa0b979b5b,Fix some itests due to the servlet import range being inadequate for the version of karaf we are testing with,8,15
ffa396ca2d119c58657e3647f37710e79d33cd10,"Fix several eclipse warnings of unused things, and other compiler warnings",6,4
5b7213eb82b3d7c6fc30a17f2d3f2e42e392ffe7,add jira ref - commit message had incorrect url,0,1
6466ae2bcfa8831d79f71e94709b0511dc1367cf,"AMQ-5519: use the NOT_FOUND error condition when failing to find a DurableSubscription

https://issues.apache.org/jira/browse/AMQ-5519",0,3
0d815642c1c441b3bbca69c4987430a14e28c441,Add a jetty9 profile to help with testing,0,6
f4eade2bb3bb83131f17d2768d2218770f0123d3,[AMQ-5520] Use a network interface that actually supports multicast and is up,0,25
3ec36818eb440037ec0e351c656e7f1168bc44a6,Get more tests passing with Jetty9,9,7
dbf2c28b96e2e13a20ea682f758c6cb85227dd79,AMQ-5521: Average message size attribute on destination mbean should not have decimals,4,4
5c7985c695407faecaced0cc147f7940dc901a05,AMQ-5523: Average message size attribute on statistics plugin should not have decimals,2,4
efe68aa0327d71a92a78751c924d97997752ed6d,upgrade derby,1,1
548aa1e41557f00f894fe160219bd155464f6c06,"https://issues.apache.org/jira/browse/AMQ-5525 - worked around the issue with blueprint converter - all. All of the activemq commands have the same single arg signature, so the conversion should be trivial, doing the conversion inline in the default case",0,19
25f18ad20d16361629335e6ea7256a14a25a6bb9,"https://issues.apache.org/jira/browse/AMQ-5526 - tidy up karaf-itest, features amqp now work,still issue with camel and bundlecontext null",356,267
c93b6614b47c4d01d6b9a683f78f1ab8d1180028,"Adds a test case to validate that JMSXGroupID and Seq are retained over
time while messages are produced and consumed.  Older ActiveMQ releases
seemed to have an issue in this area due to the Proton-J library used.
Test should help to ensure this does not reappear.",0,102
7ce5be44d8a39e87088c7d648244aaadec63fd44,wait for bundle installation to complete - makes obr test more robust,1,8
bedb2078830cafe21db523c00706cd1357a63a48,"reduce test duration, mem limits still reached as before and temp store utilised",4,4
189a75afdc8862d783591d623286c7939d3ba9d7,fix AMQ4221Test failure on low disk space - use warn level when resetting to available. Test checked log for error messages,2,2
b53d8ea2954fd0eaf64981b10b00542026b06b8b,https://issues.apache.org/jira/browse/AMQ-5534 - generic jms pool reconnection,6,67
4648dbee41a84420418d68526d30051d2e461d22,resolve intermittent faiure - make deterministic intervetion and assertions,42,22
2a62b74232fc2210eb9c80afbeefb6133dee72a4,resolve intermiittent failures related to broker start and async mbean registration,7,16
c28d520727854e933c45a05eb55336abbfe4dc59,resolve intermittent failure verifying connector restart,8,16
216626569a3a907a32410eb2e680c2f2dab163c3,"this test can take more than 2mins in ci env, adding some more diagnostics and giving it more time",2,6
35115fece7c0f5c6c8c4af8b45b811d1710b9c9d,"use a bytes message, I think default encoding may the the root cause of variation of message size and limit checks on ci boxes",4,7
981c0f20fa96b9d30c362cae779cfbe60a5f5e5b,fix hang on org.apache.activemq.network.FailoverStaticNetworkTest - network connector vm creation clashing with broker stop,0,1
c9c1f587ad19f1c38a0c46cd5f5ef4d199ba5f41,prevent hang if os muiticast is disabled,2,2
de549f8926988ab436084225cdcd6595f1657262,https://issues.apache.org/jira/browse/AMQ-5535 - allow close state reporting w/o contention,0,4
f38cb588d3d85a1f7bb3e9a98308c9aeef4c5c2d,allow multicast to work via perfer ip4 and more sensible delays,2,3
a2c5c22ec5e5f30816f0cf3d0f1d192267f7e25e,https://issues.apache.org/jira/browse/AMQ-5513 - additional test for reconnect/rebalance case - indicate the absense of delivery information to the destination,1,39
d5470254afc9f83ed5718fd710f871936fd4992e,https://issues.apache.org/jira/browse/AMQ-5530 - default mqtt subscription prefetch,5,20
6cebd2c79e939ae45b4cd94b6433b9d96d2bae8d,https://issues.apache.org/jira/browse/AMQ-5513 - interaction with - https://issues.apache.org/jira/browse/AMQ-5068 - need to ensure broker cached messages state reflects delivery attempt - RedeliveryRestartWithExceptionTest regression,4,24
a620b403f4df4e5c8392b2b827942f0c11db35ef,fix regression - warn level on reset to available limits,1,1
3a6d67e8f95320bea91b7c7106173c9b34773bc5,https://issues.apache.org/jira/browse/AMQ-4727 - use OsgiBundleXmlApplicationContext from service factory so that an embedded camel route can find a required bundlecontext,3,30
f47fbe4b8952f425c091754439e86011b99e5a84,[maven-release-plugin] prepare release activemq-5.11.0,47,47
64fa706d54873321e41f2be9239e4959dbb8c86c,"Revert ""[maven-release-plugin] prepare release activemq-5.11.0""

This reverts commit f47fbe4b8952f425c091754439e86011b99e5a84.",47,47
eec2955bde07ed292a992f5b97a57bbcc416acee,[maven-release-plugin] prepare release activemq-5.11.0,47,47
bf5a2997c7dbe9acb86ace160f21f3cf67205da5,[maven-release-plugin] prepare for next development iteration,42,42
60c9d03e1df55bd93201901038887a221af0e717,Fixed bug in cron test. #58 - patch applied with thanks,1,7
6c5dd2543ea4b60d74f209ff39977214b75946ec,StoreDurableSubscriberCursor don't set its inner cursors' maxProducersToAudit correctly #57 - patch applied with thanks,1,1
1e5d2127685a267ba341c90a80d575cea681523c,https://issues.apache.org/jira/browse/AMQ-5513 - fix stomp regression - dependency on redelivered flag between stomp and jms is tenuous - but can be reliable via policy as shown,1,12
bae0e60a7c2361d57164dd77269f769f511e1a27,fix intermittent failure,0,5
dc25f2a8f9d4e54c2349946b1337eb4b72890e07,"https://issues.apache.org/jira/browse/AMQ-5541 - support preemptive redelivery for non persistent case, fix and test",5,60
4ba1a1689f33d81bd2349a2bb8c66f0c95b04d1d,[maven-release-plugin] prepare release activemq-5.11.0,42,42
ae595c95b16cd1fefa624c8cc16fa5ed7e72e90b,[maven-release-plugin] prepare for next development iteration,42,42
2a0be3b0f09a5473e5bd7944fce5286742c80a58,"https://issues.apache.org/jira/browse/AMQ-5550

Ensure that the consumer and producer context instances are marked as
closed when creation at the broker end fails.",1,12
b35b8e37f601bd2842a432f897c0b6b648e5989f,https://issues.apache.org/jira/browse/AMQ-5378 - document shell script configuration and enable using environment variables,6,18
b0a1bd833c2ea8e4ce2063636b0ee638f3f97f9b,"https://issues.apache.org/jira/browse/AMQ-5542 fix (via revert below) and test case applied with thanks.

Revert ""resolve https://issues.apache.org/activemq/browse/AMQ-2736, logic issue in code that keeps data files with acks around pending message file gc. thanks jgenender - test case to follow""

This reverts commit dd68c61e65f24b7dc498b36e34960a4bc46ded4b.

resolves: https://issues.apache.org/jira/browse/AMQ-5542 and applies test case that nicely demonstrates the defect, thanks",2,52
9f0ab46e293e6d31369f06f6669cd3d63db906fa,https://issues.apache.org/jira/browse/AMQ-5558 - add producer/consumer commands,167,828
f91abd3d46ac1f7ded399ce3bbc36fdfb70a91cb,"https://issues.apache.org/jira/browse/AMQ-5564

Fixed session in the pool losing their reference to the anonymous
producer created when useAnonymousProducers is true.  The anonymous
producer stays live for the life of the pooled session.

Also added some synchronization safety to some methods that could get
into NPE trouble.",70,193
3155c625c69e3251e3ecd73d50f1dc5ed48387d3,"https://issues.apache.org/jira/browse/AMQ-5567 - fix and test - issue was eager dispatch with concurrent sends, recovery and outcome delivery now assign a new sequence id to message additions which sorts sequence order in the xa case",101,339
35683c1c1c68dc5160c574af78878b74eaf1d719,Upgrade dependencies,7,8
01d0155149388f7107b00086c8fe90878b45d93f,https://issues.apache.org/jira/browse/AMQ-5558 - enable producer/consumer commands in karaf,4,47
c6837acefe8ca466d8cd9b3bd9adf297372b65b8,tidy up some jdbc directory usage - move into target,8,38
8cf98a070f0fb60857e85cb74c4969d0256ebb0e,"rework  https://issues.apache.org/jira/browse/AMQ-3684 and https://issues.apache.org/jira/browse/AMQ-4532 to avoid intermittent hangs, processing shutdown wile shutdown is in progress - AMQ1936Test and AMQ2021Test - using just TransportDisposedIOException to propagate exception response and start shutdown process and ignoring broker side for logging",40,9
95f7262cb198fa25bf58f2790584be0f0a230228,https://issues.apache.org/jira/browse/AMQ-5578 - implement for kahadb,124,39
25376afac1d504e5c068ca44d6a47cedf188cfe5,"reduce test duration, relax derbydb durability - AMQ5266SingleDestTest",2,10
07338e7553279aff45ac2b13ec8ea19f98c9069a,https://issues.apache.org/jira/browse/AMQ-5520 - fix org.apache.activemq.spring.SpringTest.testSenderWithSpringXmlEmbeddedPooledBrokerConfiguredViaXml regression,8,10
8d4234345bd5a03194032acd7af1e03d6b2f7711,"https://issues.apache.org/jira/browse/AMQ-5573

Allow configuration of max size of STOMP command body via
transportConnector option transport.maxDataLength",9,216
2b17fd805098e0c42821dacd5695db067ce594f6,"https://issues.apache.org/jira/browse/AMQ-5580

Use a CopyOnWriteArrayList to ensure that traversals of the adapters
list do not generate ConcurrentModificationException if a new adapter is
added during that time.",2,8
7d14ddb0d15c9221f35318661c98f4993b94e3bd,https://issues.apache.org/jira/browse/AMQ-5558 - make activemq-all jar executable,51,236
b60bfbbeb4cc25e38c6c82e0d94e22e31fe96da3,"Revert ""rework  https://issues.apache.org/jira/browse/AMQ-3684 and https://issues.apache.org/jira/browse/AMQ-4532 to avoid intermittent hangs, processing shutdown wile shutdown is in progress - AMQ1936Test and AMQ2021Test - using just TransportDisposedIOException to propagate exception response and start shutdown process and ignoring broker side for logging""

This reverts commit 8cf98a070f0fb60857e85cb74c4969d0256ebb0e.

seems there are a bunch of network tests that don't conform with the new approach - back to the drawing board",9,40
db084ef776b8870456b76392706ec66e89294bfc,"fix AMQ1936Test,AMQ2021Test timeouts - hitting unnecessary 1s wait on shutdown command completion",3,2
1cab7138640bcc075ba6f752728d2aa99f094106,https://issues.apache.org/jira/browse/AMQ-5585 - move messages on memory limit,7,68
8b36701fc351080b5a278f7a88f62f65886c645e,"https://issues.apache.org/jira/browse/AMQ-5587

Add a connect check in the inactivity monitor to account for opened
connections that might drop but not be spotted, in the case where the
connect frame is lost this can lead to connections that aren't fully
opened and won't be cleaned up until the broker detects the socket has
failed.

By default the connection timer is set to 30 seconds, if no connect
frame is read by then the connection is dropped.  The broker can be
configured via the 'transport.connectAttemptTimeout' URI option, a value",18,410
94937e855a51d831c78729ef3063cce4cfde3e3c,"https://issues.apache.org/jira/browse/AMQ-5589

Reduce the overall time to run the AMQP tests",166,139
388c16d0844816ba672d501b29cab236dfe683ea,"https://issues.apache.org/jira/browse/AMQ-5590

Reduce test time, add timeouts etc.",92,131
6e693196068d10d177a57e01c823da0ecaaed9a6,"https://issues.apache.org/jira/browse/AMQ-5592

Initial drop of the JMS transformer code to be reworked.",26,1840
141ad4cb8f302c16d64d2ee95480ce2897dd5f80,Reduce test time by disabling the unneeded broker features.,4,17
05c31124021d18db8248f0a260d794e3b5d11823,https://issues.apache.org/jira/browse/AMQ-5594 - virtual topics and wildcards,49,200
e6597c460411e790fb609a17c5675c9a21237bc3,"https://issues.apache.org/jira/browse/AMQ-4441

Cleanup the test suite, disble unused broker features and add timeouts
etc.",351,468
8858dc294cf3f992fc77053d9fc92f0422cf6605,"https://issues.apache.org/jira/browse/AMQ-5596

Remove the deprecated JMS Streams code.",1365,1
45e59e6e839ae89ffc099d32a4180ee307543aae,"adding options for https://issues.apache.org/jira/browse/AMQ-5578 to
allow configuring the allocation strategy at finer grained controls
including zeroing out, OS copying, or sparse file",15,248
37b1b6a211b75a376014620624ca6fe046d3f7a6,"AMQ-5592: remove some unused stale functionlity, bring into line with latest missed commits from current almost-0.9 codebase.

https://issues.apache.org/jira/browse/AMQ-5592",314,61
023b2ac04501a97452eb8a23b6024fd336cb6cf6,"Updated for https://issues.apache.org/jira/browse/AMQ-5578 adds unit tests, logging, and removes the preallocated batch stuff that snuck in there with commit https://github.com/apache/activemq/commit/45e59e6e839ae89ffc099d32a4180ee307543aae which was by accident.",60,93
2949e8dbf73b316b1c2f3794eef59cfb29d2183d,https://issues.apache.org/jira/browse/AMQ-5578 - remove timing deps from the test,7,15
4c272e308130db6152ea29c46a16e5fb6e01e6ae,Should just be turning off the connector not just the bean server.,1,1
2c92c34132d72f013ffe4a867187099714f7b231,Fix for https://issues.apache.org/jira/browse/AMQ-5551 The DiskBenchmark util doesn't sync (fsync) to disk for sync writes,4,2
a2b78fdeb0c55f9bf039557861cb0b4400411462,"https://issues.apache.org/jira/browse/AMQ-5604

Clean up test start / stop to streamline things and make the tests run
at a bit more reasonable speed.",81,17
101b7123faf1cf217186a778f10e64485a508dd6,"https://issues.apache.org/jira/browse/AMQ-5607

Some cleanups of the tests to speed things up.",128,136
1406d40ac34fedb0be2e5bc5998844a46ff15760,"AMQ-5608: dont NPE during authentication attempt if no users were defined for the SimpleAuthenticationPlugin

https://issues.apache.org/jira/browse/AMQ-5608",4,132
85b9c81a3f2431b8272c19acf4e4b1cddeb25c5e,https://issues.apache.org/jira/browse/AMQ-5229 - implement ability to pause/resume dispatch of message to all consumers of a queue,6,123
05b401993b215c55e277776f2e3143ec5758bfc6,"Clean up the test, use more sensible waits and don't create JMX
connectors since not needed, reduces runtime by one third.",24,20
02dc6ce982211ab56ac8f4c9fae401121302bb14,"Clean up some tests, reduce resources used and reduce runtime, convert
to JUnit 4 when possible and add timeouts.",130,138
441973b48305ad0997ddb0ff80c5c910c73c75cf,"Bump logging to see if we can tell why the session commit hangs in the
transacted consumer test.",1,1
be919fbc94230ba48a4bc762a9d69df86c70066a,"https://issues.apache.org/jira/browse/AMQ-4483 - rework to use destination option to indicate dlq, dlq strategy is typically not in place for dlq dests, option is set when a dlq is first used via region broker sendTodlq, fix and tests",46,44
0142c4dc89855d78450e64572abbac90e9432870,https://issues.apache.org/jira/browse/AMQ-5614 - additional expiration attribute on dead letter strategy and tests,4,214
f988ca6e49851120fb0f89203637a24bd9b4fa47,"https://issues.apache.org/jira/browse/AMQ-5615

reorganize the connection response code to only pump once all state is
process.",14,18
36bd069e8f65a7b615a188d34ad0b951ec086732,"https://issues.apache.org/jira/browse/AMQ-5617

First pass removes most direct usages of the qpid client bits and cleans
up some tests so that they all start to use the common test support
class features.",361,427
f00d2fbde4b4dca72a8fd961ef8d5895e1b80584,"Remove the AMQ option from the PersistenceAdapterChose enum as that one
is long gone.",2,2
79568f16cc4ce476f5325f3373f7f3c4f19239af,"https://issues.apache.org/jira/browse/AMQ-5621

Cleanup a couple to show what can be done to reduce test time.",47,136
7a8085c0a49c0cac865ea4a6a91777c49790664d,"https://issues.apache.org/jira/browse/AMQ-5617

Remove this older test as the test in JMSClientTest ->
testProduceConsumer covers this accross all four transport variants.",73,0
12202c9702452b36a6cea66fc5516c94ebdd60b9,"https://issues.apache.org/jira/browse/AMQ-5617

Rename these and move to the general tests folder as they cover specific
use cases that are applicable beyond the issue the were created for.",0,254
4fa420bbd198167281cacf96313fa5a04da055ae,"https://issues.apache.org/jira/browse/AMQ-5617

Absorbe these into the general JMSClientTest that covers all four
transport types.",326,38
8f0bf6060a8f93a5bda57e8f152139dbb9aad8d2,"https://issues.apache.org/jira/browse/AMQ-5617

Refactor as a general test case that covers the scenario accross all the
transport types.",161,213
240278dbef63816cce91f34e1cd53cd16618fd46,"https://issues.apache.org/jira/browse/AMQ-5617

Consolidate remaining dirct JMS client type usages to the context.
Rename some tests so be consistent.",58,61
276ef15024d43038a5db23ed9044309a691104f2,remove a warning.,1,0
eaf773da578a2827f9fe87be05676148ac31e90e,"https://issues.apache.org/jira/browse/AMQ-5617

Fix test failure and give it a more meaningful name.",2,2
b5ef92814e68742ab61bf6bebd7045ff5dcf2427,"https://issues.apache.org/jira/browse/AMQ-5617

Direct all the JMSClient tests to use the indirect calls to create their
connection, the Joram tests are a bit harder to make generic and can
wait for now.",67,5
5667e4ddcc44e1331cafea2c1537afeaa550a2cd,"https://issues.apache.org/jira/browse/AMQ-5621

Disable the JMX bits on some additional tests that don't use it.",20,28
7af7c0143fd86767035d79746a9d4e7b740fff29,"https://issues.apache.org/jira/browse/AMQ-5597

Clean up the durable subscription unsubscribe handling to be in line
with the AMQP JMS mapping spec and switch to the QPid 0.32-SNAPSHOT
build for now to allow us to track and other changes we might want to
feed back there before release.",71,120
84c1419c3dbc5c8ba95629b11798ca05d4f14e37,"https://issues.apache.org/jira/browse/AMQ-5621

Add the ability to toggle the default value of the ManagementContext
createConnector variable and set it to false for the surefire runs of
the unit tests, this should resolve failures of tests for no other
reason than a previous test failed to shutdown its broker.  Also speeds
up tests as they don't need to create this resource in order to use the
MBeans.",1,14
0683d8be94506c3d6a619daa9a252609810c86c9,"https://issues.apache.org/jira/browse/AMQ-5621

This test doesn't need to bind to the RMI connector to create Queue via
the JMX MBean.",27,29
709b64b3d2b1141a42d746a8f47e1810f5adfd0a,"https://issues.apache.org/jira/browse/AMQ-5621

Remove need for hard sleep",16,49
adef03e5a4b03a7d235459c5f8d41110ed6e654a,"https://issues.apache.org/jira/browse/AMQ-5617

Fix tests to always set an client ID for the durable subscription cases,
the legacy client doesn't seem to care but the new one will throw an
exception if not set.",10,42
4f577449344334ed95403317f06332d33429ca4b,"https://issues.apache.org/jira/browse/AMQ-5594 - mqtt and virtual topic subs; more refined removing of destinations, as we don't want to remove all descendant destination in a wildcard case",24,53
260e28ecadc654ce3f0a5b6c7058788235265574,"https://issues.apache.org/jira/browse/AMQ-5620 - avoid potential deadlock on shutdown - waiting on connections to stop before stopping the pa would be an alternative but may block for ever, auto rollback ensures there is no need",12,17
ecebd2413b878ba87710db9541f6bf353ceeb96e,"https://issues.apache.org/jira/browse/AMQ-5626 - fix and test. on restart, next index needs to ingore priority to find the last used entry",19,226
bb83bf5746df6a4089d0b73ec90457b77bda4c39,"https://issues.apache.org/jira/browse/AMQ-5606

if the client throws the correct exception type, don't fail the test.",0,7
4fe2bd534a6b8b256790ce148dbad21f704e86e5,"https://issues.apache.org/jira/browse/AMQ-5622

Fix some issues with STOMP v1.2 protocol support.",7,106
741e3aad3eb455220759afdd8001311727083882,"https://issues.apache.org/jira/browse/AMQ-5630 - add rejectDurableConsumers boolen attribute - when true, requests to create durable subscriptions will fail with a JMSException - not allowed",0,136
2ec586f2671488e1d9b6a48cc91e81046a480a54,"https://issues.apache.org/jira/browse/AMQ-5593

Add support for JMS mapping compliant temp topic and temp queue creation
as well as responding correctly to authorization errors if the
connection has no rights to create them.  Also cleans up code to use a
consistent createDestination implementation that uses the names only and
not attempt to interpret the client only destination annotations.",153,246
ad57cc6fcb9c5b5e663e02abd17b56dea12fa581,"https://issues.apache.org/jira/browse/AMQ-5631

Support for temporary topic delete",31,87
6e038d5ffd20678efac42c410fd7c2e0266b4416,"https://issues.apache.org/jira/browse/AMQ-5632

Return null from getBytes if no value present.",134,101
4b346360be63d5b60d94eb47f86d24e1d20dd2fe,"https://issues.apache.org/jira/browse/AMQ-5628

Fix getDouble to use Double.valueOf instead of Float.valueOf for
conversions.",11,24
4d5bb4ab7b09ba48d605850ab1aaac594bb66f65,"https://issues.apache.org/jira/browse/AMQ-5629

Fix exception string to reflect type being read.",3,3
257a4fa416ec2b5ad757d78c71504830ced70963,"https://issues.apache.org/jira/browse/AMQ-5621

Clean up test, don't start JMX connector as it is not needed, add
timeout.",86,27
ac24a08b8b102fc90c34cb6d467c4dd7092a276c,IDERunner util class that can run full distro from IDE,0,46
7fdfdeba79d849623d3e82beded4786c1e337dea,"https://issues.apache.org/jira/browse/AMQ-5621

Turn off JMX, switch to JUnit 4 style test with timeout, actually
shutdown the running broker and clean up in tear down method.",22,50
cad1a2a8cd82801c9d7b639d6c98916413d88d19,Open up the xbean osgi import range to include 4.x,2,6
6b18857b530db6b94bb25650b52dc0f54ebafa16,"AMQ-5637: support mapping between the AMQP Subject field and JMSType header

https://issues.apache.org/jira/browse/AMQ-5637",12,47
67ccfcad88266aa58066d5427e35820f162b9b55,"https://issues.apache.org/jira/browse/AMQ-5470

Allow for early SASL authentication and failure if credentials not
valid.",101,248
fe9e38622da184968e1ac24f1579e535b586c9a1,Merge branch 'master' into amqp-sasl-auth,14,53
11afd5f0bcb129300cbb6944bbceccbc026dfd2b,https://issues.apache.org/jira/browse/AMQ-5639 - implement and test - relaxing the restriction on advisories to those that are relevant to the bridge,1,130
5313ad8a96279c63fb1b6a97513c142eba778643,remove stack trace from auth failure log warn - stack trace is already covered by debug service level logging,1,1
6380bf37627bc6792ac62e11a9880ec2444b387b,"https://issues.apache.org/jira/browse/PROTON-833

Clean up a couple more tests.",35,30
00e4b25357c5be5a72fa735305f00ffe6e81eeab,"https://issues.apache.org/jira/browse/AMQ-5621

Test cleanup",24,51
113a3815b0fef93ccf9b2dcf7ccf9f196e182f0d,remove deprecated usage of junit framework,2,2
8c66fba0aab96a5f842b52b634690a8bff0b03b3,https://issues.apache.org/jira/browse/AMQ-5568 - fix and test - only delete lock file if lock was held on stop,2,72
42b606da9d9f4fa9f9c926f7c04d2fa134fb334a,seems 3 or 4 journal files are needed - on occasion test fails with 4,1,1
ab28b771e367d8fa4f9591fb88cb9c29ec41c25a,"https://issues.apache.org/jira/browse/AMQ-5640 -  fix by ensuring parent stat is updated on dest init, thanks for the nice test Torsten",1,187
58ed95d7c8c60a439f205a13eb5906ef1b199d9f,AMQ-5636 - Update DBCP to a much more recent version,10,10
ace101a03aea845e3e118abb0ba565aa97563191,"https://issues.apache.org/jira/browse/AMQ-5560

Use the type descriptor and not the key, also check object type since
Map from Proton is not enforcing.  Remove some dead code and uneeded
mutex locks for id generation.",41,43
aea771faf6719b5e581bf205efd7a5b3470f59b3,"https://issues.apache.org/jira/browse/AMQ-5560

Check both the symbolic and numeric id values when searching filters.",8,21
3ef8f492a7cb9c056ac1883ccb069e9559fc6b22,"https://issues.apache.org/jira/browse/AMQ-5563

Added fix to update the documentation to reflect correct defaults.",4,5
8e551b4c3bab232353e133b0443224262f2aa999,removed logging that snuck in there for https://issues.apache.org/jira/browse/AMQ-5578,3,0
84c7c3cdf8baea922ac8c7c9a2269b9a5129266b,"AMQ-5560: fixes typo in exception and drop extra cast

https://issues.apache.org/jira/browse/AMQ-5560",2,2
9ca4dfaac398bd1a580f9975426ad7729f7dc568,https://issues.apache.org/jira/browse/AMQ-5642 - apply patch with thanks. This closes #67,0,8
ad39fc00fbd9556deac2b7ed3646dae598c00125,make the browse more deterministic - awaiting result of acks,4,11
7777744dc256c11d2545056c8afb2049bb0ae165,https://issues.apache.org/jira/browse/AMQ-5644 - authorization map for wildcard subscriptions,1,32
6f1e48d86647fc0e13a59c45614162d92f2dc8bd,Added dbcp config,3,3
528c25c6d81e6827ea4afb208756a2bf8382b119,"https://issues.apache.org/jira/browse/AMQ-5648

Add new destiantion type annotation on outbound messages through the JMS
transformer.",19,69
939c8a14df63dec92bcd807285595bfbdb5cfacc,AMQ-5636 - Update old openjsb tests to more current DBCP2 XA Camel tests,43,28
6efafbd7f1606c7968595d372f4e5540ebebee4e,"Commit applied with thanks to Jeff Genender.

This closes #66",56,41
24c2215f4e47aafac01c28fb14e2f70ae94e81b2,"Revert ""https://issues.apache.org/jira/browse/AMQ-5644 - authorization map for wildcard subscriptions""

This reverts commit 7777744dc256c11d2545056c8afb2049bb0ae165.",32,1
dd35e357e375b0aa74d88f8e42b736cf801cde3f,Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/activemq,32,1
1c72579d7a0017bd22e800e47d34e3f748601a9a,"https://issues.apache.org/jira/browse/AMQ-5598

Parallel connection test, could not reproduce issue.",0,36
e25a6aa8a18fbd1e0ada5bfa2b5655b80b053b9e,"Fix for AMQ-5652: IdGenerator not optimal in port restricted environments.

We now support configuring via system props activemq.idgenerator.hostname and activemq.idgenerator.localport which are used as the base part of GUIDs.",6,19
b9b566918e4e0ce0c33e0a4f73aff7551b7d6c66,Add MERIT.txt and give thanks to Mark Frazier for his contribution.,0,15
638c1e44b15f425d71e2c203c43ca104b8a9a16e,"Fix for AMQ-5652: IdGenerator not optimal in port restricted environments.

We now support configuring via system props activemq.idgenerator.hostname and activemq.idgenerator.localport which are used as the base part of GUIDs.",1,1
7738e862ae5337cb9d8d07092e57520e8368f912,AMQ-5645 - Updated DayOfMonth cron to roll to next month properly.,1,47
864dcc32ae5f558e380db6364fae352ad78ea700,"Revert ""Add MERIT.txt and give thanks to Mark Frazier for his contribution.""

This reverts commit b9b566918e4e0ce0c33e0a4f73aff7551b7d6c66.",15,0
a99bd093038360b654513e1fc412be334c26a7d7,"Commit 3ef8f492a7cb9c056ac1883ccb069e9559fc6b22 with thanks to Mark Frazier.

See also https://issues.apache.org/jira/browse/AMQ-5563.",0,0
3b39d2cc2a20f42e43b2699a76c0d007e7ec5dd9,https://issues.apache.org/jira/browse/AMQ-5644 - authorization map for wildcard subscriptions,9,137
55f040e616899262d19c2bd1178826a65359516c,https://issues.apache.org/jira/browse/AMQ-5568  - ensure directory exists - fix ci,0,2
185213b44a00a5f5f89ba5fa733f229a48ac9868,"https://issues.apache.org/jira/browse/AMQ-5655

Provide the open failed property when the broker sends an error
response, otherwise send the normal connection properties on the open.",4,24
6097401c50568ebf3561a41eb40a00b30bb89fdf,AMQ-5657: Upgrade to Camel 2.15.0,11,31
10c47d69d7545157f79d9b1dff15eabca147754d,https://issues.apache.org/jira/browse/AMQ-5644 - fixing the test as many assumptions in it are not correct and were working previously only cause of this bug,57,10
72839b78a727bdec96dbd0a824a9f39a745b4d87,"https://issues.apache.org/jira/browse/AMQ-5602

Functional client with added tests to start to cover various
expectations of an AMQP broker and some tests for expectations of a JMS
mapping compliant broker.",88,5730
6a6ef45ee04d332ed3905f79ea87527fa6264d94,"https://issues.apache.org/jira/browse/AMQ-5661

Always honor the link credit as true prefetch value for the
subscription.  Enables previously failing test to verify.",45,16
559f52a2aa1e30d945d48d8de3bfbff348dee463,Upgrade year to 2015,4,4
934ad44add2a73b9bc3b5ac4e9ce2925f747f8a1,"https://issues.apache.org/jira/browse/AMQ-5666

Add some initial tests for durable subscription handling.",19,268
1a0f73ed193fce9152bad866b4116d5f0f437337,"https://issues.apache.org/jira/browse/AMQ-5666

Add some tests and cleanup of the testing client",31,258
ca456c4601c5e659f9864041af87f489a0e63e4b,"https://issues.apache.org/jira/browse/AMQ-5559

Fix and tests for filter handling on attach.  We only support JMS
selector and NoLocal type filters for receivers so only report those
back, all others are dropped to indicate we will not honor them.",39,167
20832f1f1b5bf028d43256a8b2172f2795b0c02d,https://issues.apache.org/jira/browse/AMQ-5674 - initialRedeliveryDelay not respected,5,32
4228e3d3e812436585ea7e7746f8eb42a7a45493,"https://issues.apache.org/jira/browse/AMQ-5666

Tests around durable subscription lookup and reattach.",39,156
8e6a404d5e15c3be2fcacfaa929b272d692012d7,"https://issues.apache.org/jira/browse/AMQ-5666

Create some tests that exercise creating temp destinations using sender
links with dynamic targets",7,211
85d9d4e941a08f31630df13e8aad5e967363a361,"https://issues.apache.org/jira/browse/AMQ-5666

Test that a receiver can also create temporary destinations when it has
a Source configured as dynamic, also test that link close destroys the
temporary destinations.",0,94
df3ff9c65e0567dc6bc18de769c47e65623ccb71,https://issues.apache.org/jira/browse/AMQ-5558 - some more options for producer/consumer tools,28,109
3051882f926851572c3755a9c0002441b5a2fc65,"https://issues.apache.org/jira/browse/AMQ-5606

Switch to the new QPid JMS client v0.1.0",160,128
ebb3df7681dcf4a17ed0036ec14cab22d2ab3bdf,https://issues.apache.org/jira/browse/AMQ-5558 - support durable consumers and ack modes for consumers,34,103
197dcb162ee837bcca7c691f014225b04f6044d4,"https://issues.apache.org/jira/browse/AMQ-5606

Enable test for temporary topic creation now as the new client supports
these using JMS mapping defined creation methods.",1,0
cdb60d74b8f2f75f05c191ed0424cea74592187d,"https://issues.apache.org/jira/browse/AMQ-5606

Clean up Joram test classes and enable all tests now using new client.",44,54
e33b3f5939c1b48a35df54eae13757f44a179650,"https://issues.apache.org/jira/browse/AMQ-5686

Call into the delegate for asyncAddTopicMessage to avoid a stack
overflow.",2,1
3306467a6407e164fb7b8304eb6c0dc5cb67a696,"https://issues.apache.org/jira/browse/AMQ-5591

Refactoring of the AMQP protocol stack to allow for more flexibility in
adding support for some additional AMQP semantics and group together
common functionality handling to avoid having to fix simillar issues in
multiple places.",1727,2599
b5856501975ddaeb409c1d1e18e3421575643e8b,https://issues.apache.org/jira/browse/AMQ-5558 - deprecate old ant-based examples,0,2
05ff52dc15ed1229972c0c6000b6b1aba789d2ad,"https://issues.apache.org/jira/browse/AMQ-5413
https://issues.apache.org/jira/browse/AMQ-5433
https://issues.apache.org/jira/browse/AMQ-5647
https://issues.apache.org/jira/browse/AMQ-5684

Adds support for AMQP drain and fixes some issues around incorrect
dispatching and credit handling.  Should resolve several issues that
have been seen using test suites from AmqpNetLite and other AMQP
clients.",51,95
f56ea45e58a17fa3aad46cbe8fc605ef4ffdbc81,"https://issues.apache.org/jira/browse/AMQ-5684

Adds a new test case to use when investigating AmqpNetLite test failures
with the 'JMS' transformer used on the AMQP TransportConnector.",13,234
efc9a8d5782143b8c1e86750d34ce74af5a2940a,"Fix for https://issues.apache.org/jira/browse/AMQ-5689 Queue dispatching hangs when there are redelivered messages that dont match current consumers selectors, refactored out the pendingDispatchList in Queue implementation",50,252
af1329291687d4aed4755d67e4e7bcf640c2a3e1,"https://issues.apache.org/jira/browse/AMQ-5684

Whem possible restore the orignal MessageId value from the incoming
message.",4,11
0fd174b928d2b37dcd0279b9e74c8b2a49657af1,https://issues.apache.org/jira/browse/AMQ-5008 - certificate revocation list support,6,193
e333fd957b117282dd3fca8c7237fa6c82e3c77a,"https://issues.apache.org/jira/browse/AMQ-5591

Clean up SASL authentication code to make it easier to add new
mechanisms.",150,418
351d4b9dea128a1faedd55fab448931f374922eb,"https://issues.apache.org/jira/browse/AMQ-5666

Add some additional tests to validate AMQP behavior",0,104
a39e51e0519852332f7779443c3db09b6e691d49,"Fix for https://issues.apache.org/jira/browse/AMQ-5082 ActiveMQ replicatedLevelDB cluster breaks, all nodes stop listening.

Many thanks to Jim Robinson (jim.robinson@gmail.com) for the patch!",10,188
8bb58036a0251aa03301dc2c79d24076e0e8c8ff,https://issues.apache.org/jira/browse/AMQ-5697 - authorization map and composite destinations,2,36
b9ed01fa56d7bb5be80bdc2a1c48d37ebdae46e1,"https://issues.apache.org/jira/browse/AMQ-5698

Ensure that wireFormat transport options get applied",11,35
516c9db43b25a9a5679dd854af9a22b7104d27be,"https://issues.apache.org/jira/browse/AMQ-5155

Modifed version of patch supplied by Claudio Parodi to handle incoming
ping frames correctly.",6,66
6df02555fde8bfcee003b1d248bcfcc454ad2c6f,"https://issues.apache.org/jira/browse/AMQ-5680

Fix typo in getTempQueues method.",2,2
a7178a46b7b596d5ce425d51c6c2a4a387ca46ce,https://issues.apache.org/jira/browse/AMQ-5703 - fix and test. We now skip past known corruption on a journal replay,3,314
3d6bb7c392013a6425b37e647cc8cc1b25101f85,"https://issues.apache.org/jira/browse/AMQ-5704

send correct order of preferred SASL mechanisms.",1,1
a6243225c5be2f8eaa7121e9616315e1b5661483,fix the inconsistency with ElectingLevelDBStore.isMaster() under AMQ-5082 unit test conditions,0,1
299410820e92797abbf00db5c97827d37d1c2052,"https://issues.apache.org/jira/browse/AMQ-5155

Attempt to fix additional EOF problem",6,6
9f040144f2bdd0075eb0766325bdf81bb51080a4,Upgrade to Camel 2.15.1,2,2
94f1e98adc81cb3a4f13c1316e992296d212248a,AMQ-5693: Include component documentation for activemq-camel,0,31
7741e02622f97eb63d0870caefd8ad81f46248c7,https://issues.apache.org/jira/browse/AMQ-5606 - reenable the karaf itest with the new amqp client - ActiveMQAMQPBrokerFeatureTest,14,16
1d71cb70367859223edfab65405d999a0ef21f7d,https://issues.apache.org/jira/browse/AMQ-5674  - revisit change - use single redelivey delay attribute for both initial and subsequent delays - resolves regression in BrokerRedeliveryTest,18,10
e16d054362b51786576b71d01031aec1550653db,https://issues.apache.org/jira/browse/AMQ-5697 - fix regression in SimpleAuthorizationMapTest,3,16
61da1faa4c4e49191b373049ee36434aaad58897,https://issues.apache.org/jira/browse/AMQ-5672 Added an option for allowing only a single selector for the virtual destination selector cache. also added some JMX views into the selector cache that can be used at runtime. includes unit tests,31,1042
25c99a6c367fe3c80cfee24a8118f6b782b4f69e,"https://issues.apache.org/jira/browse/AMQ-5707

Add support for aborting a slow AMQP consumer and some testing.",43,349
c705523cd047fcdd6231cb936abc4ef5b4cf5816,https://issues.apache.org/jira/browse/AMQ-5710 - connection cleanup should not remove connection from the broker,8,2
89c75ca28aae1e6a5b62f159350d29a5f7782e71,"AMQ-5709 Reworking Logging on Locker

https://issues.apache.org/jira/browse/AMQ-5709

This is about changing how the Log is done in case of not being able to lock (log only once)",9,129
0a161380f8e171b386b30960d274b4ba21439599,"AMQ-5709 Fixing tests

https://issues.apache.org/jira/browse/AMQ-5709

This is just fixing a test properly",3,35
f2837bac037569d77660c9f997b07918e02d5671,"fixing a small test leak

TearDown is supposed to remove the getRootLogger(), at the same place it was added.
This appender was living the entire life cycle of the JVM after this test.",5,5
ab8f54b0661755a3b5d8afbd18341e15ab4fe38c,fixing a race on SharedLockFile,5,35
69767a2f2f91707cfe45f46651d4fdf0e55add41,https://issues.apache.org/jira/browse/AMQ-5665 - memory store don't propagate connection context,10,10
b29eb384b8e6b24f2b11242f1ddb464413301e5a,"https://issues.apache.org/jira/browse/AMQ-5710 - rework fix to resolve some unit test regressions, change now confined to rar usecase",10,51
2562cf21a2fdfd3b0301160e28b7109d85f38cfe,https://issues.apache.org/jira/browse/AMQ-5718 - don't add messages to subscriber while it's discarding,14,47
f0ebda7ef97b0f71ece0a703a86454811f04c865,Add a bit of logging for link and session level events.,2,6
ec9a92f6fc5554017e1b3551b24e2e19e0da8fbc,"https://issues.apache.org/jira/browse/AMQ-5649

Ensures that max producers on a connection includes anonymous producers
in its count, based on patch from: Christopher L. Shannon (cshannon)
<christopher.l.shannon@gmail.com>

Merged the test into the existing ConfigTest that validates the max
producers functionality.",1,11
2852a8bdb1c6a09f6e59087630ea9d1ebbe02176,https://issues.apache.org/jira/browse/AMQ-4929 - remove BrokerService.supportFailoverSupport. This closes #60,17,1
f556076a2c6e174bbb2e3f3214511a971cfc99d9,https://issues.apache.org/jira/browse/AMQ-4929 - remove audit from TransactionBroker,32,5
47f5c08573a2ad79363d1cc83b9a639842b14111,turn on informational messages from qpid-jms,0,1
b3bf8e74f29bf30930da20c503ce11b3b780deaf,"https://issues.apache.org/jira/browse/AMQ-5723

Ensure that we settle the delivery state of incoming deliveries that are
already remotely settled so that the resources associated are freed.",8,58
cb370d06e9ac23b6c363ac93b0e484848a09f403,"Add a test for the unsettled sate as well, and some logs.",1,38
a5a52b65174dfb12dc06ed0fc70ce3c25f25b0f6,add a test that sends multiple messages at a Queue.,0,24
be6617507914532188530a605e476cb8ae59cdce,"https://issues.apache.org/jira/browse/AMQ-5719

This closes #86

commit 72837960cffc58b559ced6c243a459c62cb153cf
Author: Christopher L. Shannon (cshannon)
<christopher.l.shannon@gmail.com>

Updated durable related error messages in TopicRegion to include both
subscriptionName and clientId.",2,6
eece06b326468708aeb8a9703c1e6e9e1fa6822a,https://issues.apache.org/jira/browse/AMQ-5724 - Query command don't filter properly,42,30
31834ed1fb77a413a62b7fc59d186d2371a0b728,"https://issues.apache.org/jira/browse/AMQ-5731

Ensure that a ShutdownInfo is propagated to the Broker when the AMQP
transport encounters an unrecoverable error.",1,97
6d6ed4eaaf66d144c98365c9448a88a9b574b8f0,AMQ-5721 - Update ActiveMQ to use commons-pool2 instead of commons-pool.AMQ-5636 will need it. The JMS pool and other components should use it as well.,75,83
4441001c42a9d9034d6faa979d24bc1d70725747,Updated API for commons-pool2,2,2
7dc522d4c30736191aa256f07be051dc5e5f5e94,remove timing depdendency,0,7
73db4d2bfda10584b2ac8e21240e25b9ef4d85c8,https://issues.apache.org/jira/browse/AMQ-5703 - further tests and fixes. Ensure early eof can be identified when checking for corruption and skip corruption on replay when the checksum is invalid,7,351
9445e93ae4ea518ee631a0c8f3a537c478c15b6c,"https://issues.apache.org/jira/browse/AMQ-5685

Apply patch from Kevin Richards after adding proper license headers etc",34,169
a5c2f3f42373a7e091ea1a933c23cf7298b23f60,"https://issues.apache.org/jira/browse/AMQ-5731

Add some additional checks and handlers for frames with an invalid size
prefix and ensure that the connection state is torn down broker side.",1,100
2013c6a54f483f0206e6727bd1088616ba98daa2,Update some logging for better coverage,3,3
c35fcb3bc18f80d0ee6a622281a0b54c4a960c19,This closes #87,0,0
01f56d0ca255852bf9c12b889abd8d1297a2b5a9,unit tests for https://issues.apache.org/jira/browse/AMQ-5153 LevelDB does not store subscribedDestination for durable subscriptions,0,112
4a821186a4c8e7296637438fee932365d73b936e,https://issues.apache.org/jira/browse/AMQ-5578 - preallocation could ocurr after a restart over an existing journal file! - fix and test,4,29
a4fbe708726b4846fa9831e083f0fbf554b4f324,"https://issues.apache.org/jira/browse/AMQ-5734

Support MQTT 3.1 silent subscription fail",2,36
514496eba9a6434f5a272ca5b16554f54333f456,"https://issues.apache.org/jira/browse/AMQ-5621

Fix test not using the parameterized delivery mode value but using
Session.AUTOACKNOWLEDGE as the delivery mode value instead.",4,2
a65ac586c203d08b6a68b07eedd7ae28a63b58a6,"https://issues.apache.org/jira/browse/AMQ-5729 - Do not log passwords on MBean method calls.

Previous to this patch the AnnotatedMBean class would simply dump
any arguments passed in via JMX call to the log (when audit is enabled).
Method parameters can sometimes contain sensitive information such as
the password field on QueueView.sendTextMessage.

This patch adds a @Sensitive annotation to the JMX module allowing
implementations of MBean interfaces to mark method parameters as sensitive
preventing values from being logged.",4,234
a0835c2c2174e7363638fcb72f8cf1e03138b5e3,"https://issues.apache.org/jira/browse/AMQ-5371

Move option ignoreNetworkConsumers up to base AbortSlowConsumerStrategy
so it can be used for both the original version and the slow ack aware
version.",68,53
45eecf3351f736d0a41592bcdf11bfa372f78404,upgrade java paho mqtt client,7,6
ff1a1c49857de8243b21d454f520ac103760a15b,"https://issues.apache.org/jira/browse/AMQ-5737

lookup transformer using case insensitive compare.",3,3
b313209aa27b2edc5a51e3c68cc614bab69e4b40,"https://issues.apache.org/jira/browse/AMQ-5711

Reject sender / receiver creation when the address is a temp destination
prefixed value but the destination doesn't map down to a temp
destination created using a dynamic link which means the orignal
connection ID where the destination was created cannot be determined.",2,77
3a5f127d52f96466bb9e2c660ac5dbbed03ecf1d,"AMQ-5738: Ensure the sender links for non-durable consumers also get unregistered, remove duplicate closed field, fix method names.",11,10
eb6c0826311a876769e56029dc1e261ee7519db5,https://issues.apache.org/jira/browse/AMQ-5735 - fix up semantics around lastDeliveredSequenceId,80,101
971ff0dd9eb208c9e945b6554cb6490a9ee2d921,https://issues.apache.org/jira/browse/AMQ-5542 - test that shows retaining of data files due to ack file map and the need for mKahadb if there are low limits and serial usage - test has been hanging since the fix,2,19
165959e25007271f8cdfdcf72641b9a92483ef40,tidy up a bunch of jdbc test cases to ensure embedded derby is shutdown,129,80
ac635ddf1d4861fdaa2370e34c830b71ce2e4b2e,trap potential exception on abortive close,2,9
c85fa67e1c65caecb96d3a044fbd5ac835cce3db,https://issues.apache.org/jira/browse/AMQ-5742 - fix and intermittent failure of DemandForwardingBridgeTest is sorted,1,0
610ff0634f32497bb4be135d2dcb3cd5c36885ac,remove trace logging to speed up test duration in leveldb replication,3,2
b8698953f35e91a14abf7a428a6929312f4b9099,https://issues.apache.org/jira/browse/AMQ-5744 - jasypt-spring31,5,6
23ecbe80d0f775c85a3a4291dcd4c4ca74d02914,https://issues.apache.org/jira/browse/AMQ-5743 - confine logging to the jmx purge op,4,10
544638985b3c90bd987ff0d04b7e5e2c9bb2bff1,Upgrade jolokia,1,1
5dd39f906278e5beeafb879482735dd8fc7fb156,Jolokia discovery url should be configured to correct path if people enable that.,0,4
c1290511751248773ba3409a0e9b68d9eef7cc8b,https://issues.apache.org/jira/browse/AMQ-5746 - separate out start from creation of scheduler store. test via Martyn Taylor with thanks. This closes #80,15,148
81b8403f334d28bc88a90dff7dc8b30ddd43667a,https://issues.apache.org/jira/browse/AMQ-5744 - fix up test refs to old spring jasypt,4,4
bcdf770c106396535b285692ad21b47045b7c835,ensure embedded jdbc is shutdown,3,3
9ef4259297136aaf78bb6f9fd6e97201b42779bf,"https://issues.apache.org/jira/browse/AMQ-5616

Use ConcurrentMap in declarations",193,312
f5283a904589eb4a9344fe42885cdacf92de68dd,"https://issues.apache.org/jira/browse/AMQ-5734 - fix intermittent failure - seems the retained empty message gets dispatched so we need to consume it or it may have been dispatched to the client, causing a later failure",0,8
d2248e92d7236617c3d50f09bfbef939a6b8009e,"Shorten the test a bit with tigther memory limits which reduces the
amount of messages we need to send to fill and trigger plist store use.
Also add some time to the timeout to account for very slow disk I/O.",31,30
b444b6c4639088e9f1119b9e0da9b9edfaee5cb2,Fix a couple log messages.,2,2
eea3230c3783dd22abceee4f53cb928bc4121af1,"https://issues.apache.org/jira/browse/AMQ-5155

Ensure that the inactivity monitor can see that new data is arriving to
prevent wrongful disconnect of clients.",172,140
977deb42c8cb9a8bc4802a016c0ca920b72a630a,"check for null in case where deleteAllMessages is called w/o broker ref, prevelant in tests resulting in bogus errors",1,3
f2c3ebfa0eca24fc021692428eaf12e0014e01f4,https://issues.apache.org/jira/browse/AMQ-5754 - disable file server by default,3,6
82200b6e70e1a93adf023a040eb1737a02c2fd37,add test case for https://issues.apache.org/jira/browse/AMQ-5752 - fix needs some thought,0,46
f05f83b15dbee58927c4b231ece0419122bff4bf,"https://issues.apache.org/jira/browse/AMQ-5755

Unit tests for some STOMP over WebSockets functionality and some fixes
for resource cleanup.",62,643
b77eba471deadedf2dacd85b440539bfa897701b,"AMQ-5699: upgrade to Proton 0.9.1 release

https://issues.apache.org/jira/browse/AMQ-5699",1,13
9b3d651b3851546167c14e21ab95035656e410e6,AMQ-5760: ActiveMQ - Output url to the rest api when starting AMQ,0,1
30210ae1912ad5e16e5617844f63e7fcadfe8810,Upgrade to Camel 2.15.2,1,1
f8e778ea98c1f6dde7c2ea45541e964e6376ace3,https://issues.apache.org/jira/browse/AMQ-5754 - better filename guaard fix,1,3
32f21ff1a9f693e9f88aef71eb5b1557410b3547,"https://issues.apache.org/jira/browse/AMQ-5763

Capture the reported issue in a test case to track the fix.",0,118
fa81c1ff732fd50312ba349c8226c2d84345ad1d,"AMQ-5763: ensure we replenish the credit for the transaction coordinator link

https://issues.apache.org/jira/browse/AMQ-5763",15,23
4b4cf7c09e3501d3122c753a7e46c358bacc80fe,"https://issues.apache.org/jira/browse/AMQ-5757

Add inactivity monitoring and heartbeats to the AMQP transport.",75,1043
6a2ffca57e72a92fa90eed578d9be15be59686a3,"https://issues.apache.org/jira/browse/AMQ-5699

Use constant symbols that are now available in v0.9+ of proton-j",13,4
1271d2ea032f234e7c83301a52845ed001c5831a,"https://issues.apache.org/jira/browse/AMQ-5758

Fix for potential NPE.",5,17
188434c6eeae064bdc728e1d671d44f8c6a9fc51,Upgrade to jolokia 1.3.0,1,1
c10e6fa8f021921f67ec309b9e4030f8c89ce01d,"https://issues.apache.org/jira/browse/AMQ-5621

Convert to JUnit 4 while fixing sporadic failure due to the expiry
setting being left at default of 30 seconds, which on a fast machine
means the expiry tests sometime finish before the task kicks in.",52,71
3bfffca9c92ace9100a630fa80ed5b4a58a5e1a7,https://issues.apache.org/jira/browse/AMQ-5621,1,1
1359e8eae2456449cd37f4edc53afce20102ab03,https://issues.apache.org/jira/browse/AMQ-4068 fix intermittent test failure. Rework usage check to prevent additions to the store rather than blocking scheduled dispatch from the store,35,42
a812131db78b3a1c8b9570a5d0294eaa715996f7,"Add some tests around honoring the transportConnector maximumConnections
option",11,174
16a1e2b6862e8da45ef3d711e46e46dd17f94efc,"https://issues.apache.org/jira/browse/AMQ-5768

Exclude advisory topics from the expired message check.",1,1
b679c8d4d2475aaf0bb90c0e3a4aadfd3ff893d2,"Added an uncaught exception handler to ThreadPoolExecutor getExecutor()
method to log errors in threads.

This resolves https://issues.apache.org/jira/browse/AMQ-5750

This closes #93",1,7
e19293de5f434b0a80af3892f29ea964b52e27cb,"https://issues.apache.org/jira/browse/AMQ-5772

Improve Broker.removeConnection() method, so that we pass the cause for removing it (if available)",8,25
d46722008591a575815471ff3c3a50e92a20e681,add some more logging if tests fails,5,9
3ef53896917076981c505b087e9f6ff99042aa3f,https://issues.apache.org/jira/browse/AMQ-4897 - rework with test that shows the blocking inactivity monitor task. Removed some redundant state,24,169
c89bb7a316e3bc499e33d4dd5b14349f82ae1d1f,fix intermittent failure of FailoverStaticNetworkTest. Bridge fails to start triggerStartAsyncNetworkBridgeCreation thread waiting on localBrokerInfo. The command was dropped due to contention between dispatch and peer start. Fix and test. Relates to https://issues.apache.org/jira/browse/AMQ-3684,10,61
ccbbecb4a40c5a944ac2727579f462680c96c2da,https://issues.apache.org/jira/browse/AMQ-4705 - apply patch from ganesh murthy with thanks. Fix and test making use of last modified to track deletion and recreation events,1,141
b8a20e9ef655f184f80d06ad5bdb35fece297eca,skipped first dispatch on vmtransport needed a better test - reworked to avoid busy loop on full and ensured sync on started for enqueue. Sort FailoverStaticNetworkTest and NetworkOfTwentyBrokersTest intermittent failures,31,68
eaf766b35df059efb8fa606f7fe8639e4bd65e83,https://issues.apache.org/jira/browse/AMQ-5775 - encode queueGraph.jsp,1,1
fee7c1cf4ca5361eda416ac13f253f5fa37ef6ac,https://issues.apache.org/jira/browse/AMQ-4705 - harden test - ensure existance before attempted mod,4,15
181e4d461758acb9910615213db8d400277309d6,https://issues.apache.org/jira/browse/AMQ-4705 - ensure cached lastModified is externally visible - hardened test showed window for missed mod,0,1
c5a1b86062d8cb46cffbd300916c55a1677778fb,"https://issues.apache.org/jira/browse/AMQ-5762

Fix for potential memory leak from creation of KahaDBTopicMessageStore.",2,4
29fb4a4b3fbb7083fad2d720d1f638524da7c735,Add some additional tests for durable subscription recovery and lookup.,0,99
ed1622dd346e01a4b9a73a52ab1e97fe0ebd1cb6,harden to address intermittent ci failure,0,9
4c8a4722a16af6285ea21891851009b33219fb45,remove some dead code in tests,11,0
5e36f65e0e29456c422c90854e1babef8a679980,https://issues.apache.org/jira/browse/AMQ-4705 - lastmod granualarity is second on some nix. Also write on lock acquire to ensure modification time change,11,22
6f1f06fb163ac5601b770284c5588e48faac6f11,tidy up derby usage - thread safe creation/shutdown to avoid derby failures and db creation/shutdown sql exceptions that leave db dir in inconsistent state,8,13
3e599a595f34c05bee1d0c67b580a5cfbd9abd4d,Allow a test to turn of JMX if desired.,1,5
fd2805fe1cc5950302d7230dc0fb23d33a9fedc9,"https://issues.apache.org/jira/browse/AMQ-5441

Don't dip into the store to recover durable topic subscriptions or queue
subscriptions depending on the subscription strategy in use.  The needed
information is always kept in either TopicRegion or QueueRegion even
after restart as all stored destinations are reloaded as the broker is
started.",58,340
76b60ce44bc3cd94f7b79b18a4c8ac0bc8d0a08c,"https://issues.apache.org/jira/browse/AMQ-5606

use QPid JMS v0.2.0",1,1
7c41ebc9121473e803c04e74f8ef7846e514814e,"https://issues.apache.org/jira/browse/AMQ-5778

Fixes and some testing around maxFrameSize handling on the AMQP
Transport.",79,232
3454a8b596b58d577bb38c600d47c46978c40c82,"https://issues.apache.org/jira/browse/AMQ-5781

add maxFrameSize to the transport and enforce across the TCP, SSL, NIO
and NIO+SSL transport connectors.",5,189
551f4fc4e09756a6febc387ceefa420793f6a2af,"https://issues.apache.org/jira/browse/AMQ-5621

The tests no longer need to worry about configuring the scheduler store
as the broker will use an in-memory or kahadb based version depending on
the broker persistence value.",6,0
a7a3c78fd926b04c983fe94498045be2e2243a04,"Adding maxFrameSize to the Stomp Protocol to be consistent with Openwire.

This applies to  https://issues.apache.org/jira/browse/AMQ-5776",19,422
aedf4ea5ffbc688fa97656abe56d2e55a5a1b903,"https://issues.apache.org/jira/browse/AMQ-5777

Remove unneeded StompConnection instance from the test.",40,26
27e11a388e96310df34652f77f9c33eceb3ed65f,reduce test duration for ci,1,1
2536c03125e17c4d21d50489df8c01a1f0ba4bc0,fix sync on failover updated urls - intermittent failure on FailoverComplexClusterTest,12,16
17f4f349f3fc8432ee1d39bf354f48d3fcdb9ae2,more tidy up of derby usage in tests to ensure proper cleanup; ci failures,12,14
3fdf9861b2e17a3afbee1d2f00163fd1a38621eb,https://issues.apache.org/jira/browse/AMQ-5783 - properly remove free topic from the store when there are no remaining subs. Issue: release of the index but remaining metadata refs to the old state. Mbean was also left dangling. test thanks to pat fox,4,219
baa10ed33e870cacf4eabcfc4167887c89b7a0d1,more derby shutdown woes resolved,4,1
9ad65c62ed17eef62f62c901620ed2d57171a8d0,https://issues.apache.org/jira/browse/AMQ-5164 https://issues.apache.org/jira/browse/AMQ-4842 - master slave advisory needed to wait for failover reconnect - exponential backoff was sometimes giving to long a delay. Retroactive override needs to applied after policies. Tests reinstated,27,22
9ae5b4147b9f6f078ca43d6dcdcc2874c907d099,fix formatting,17,17
c07d6c841dce765d58fc97139d3e76873a257b59,https://issues.apache.org/jira/browse/AMQ-4842 - the store needed to be shared between master and slave,9,27
f05ff94e5c228921097dcb8f835cdfa4fe7d0a26,"https://issues.apache.org/jira/browse/AMQ-4900

Strip delivery annotations from the incoming messages when using JMS
transformer, the other transformers don't currently have a way to do
this.",13,143
e99c8148301c6ff6b6ed529a26ba3337ef20d016,"Fixing missing volatile on references in VMTransport to prevent a synchronization bug.

This resolves https://issues.apache.org/jira/browse/AMQ-5787",3,3
540a66baa130d87e8bb2e8bf297f500441923d08,"https://issues.apache.org/jira/browse/AMQ-5621

Cleanup the STOMP tests framework and shorten the test duration by only
using resources in each test that are actually needed, also fixes some
issues with tests that ran a long time just waiting for an end signal.",651,362
9becfc0bedb7bf2287fe7c04caf6c6b266cf52a2,AMQ-5782 Added support to the Resource Adapter for SSL,7,820
5ee9a3426f2837d88ed5b315c4543da25fd1c9db,https://issues.apache.org/jira/browse/AMQ-5791 - apply patch from Vladimír Čaniga with thanks,24,61
cc36633cefc8f45372f70009183ef3cececb496f,"AMQ-5793 - fix example

https://issues.apache.org/jira/browse/AMQ-5793",1,1
9bc602be43e9ce5f8747a0ac9eafe09ee40b0ac6,https://issues.apache.org/jira/browse/AMQ-4705 - close window where both master and slave can be active - slave waits for possible keepAlivePeriod with the lock before startin. Ensures a keepAlive has completed on the master,102,195
84737f7749a74fda8b17e20ff02e5efd2adac764,"https://issues.apache.org/jira/browse/AMQ-5771

Including remote ip address when logging authentication failures",1,2
7043f32bb2a6c9139d6bfb4f1af8916f9576b809,This closes #103,1,2
13b915ad19c502e1cae6cb5a20467bfcb4d51e92,"https://issues.apache.org/jira/browse/AMQ-5795

Allow fallback of message transformers when configured one can't handle
the incoming message.",4,281
ea2746b121131b62f670457e49bfd83198608668,https://issues.apache.org/jira/browse/AMQ-5697 - adding acl fields as some plugins can use those directly instead of setting roles,1,7
3125caee5b6136233e05a58369b31c1a15abc389,"https://issues.apache.org/jira/browse/AMQ-5794

implement transport.connectAttemptTimeout option across the transports
fro OpenWire, STOMP, AMQP and MQTT and add tests to cover.",72,743
2518ab280260881eebcf5c5273e3d14d829f3caa,Fix test failure in CI due to fixed port being in use.,26,54
8e183db030438a2ef595c3e61328b49dad8eb64d,"https://issues.apache.org/jira/browse/AMQ-5794

Lower a couple LOG statements down to trace",2,2
b5c62647897b119364794d2ef0027b8d84b216d3,"https://issues.apache.org/jira/browse/AMQ-5799

Return the noLocal filter and set selector if one exists for the
existing durable subscription when a lookup is requested.",7,90
ffcd99ac853c0f5f8b31ffb41b507cec9c60ea0d,"https://issues.apache.org/jira/browse/AMQ-5799

Add unit test for case of JMS AMQP client changing properties on a
durable sub when resubscribing, not working with current version. 

fix: Use existing filters map to avoind creating a new instance.",7,202
17bcf43048b96ed407296ebb25639930dac3795e,"https://issues.apache.org/jira/browse/AMQ-5799

Resolve a compilation error.",4,95
0a21c5f8ff8963bf9e17809e8aa2ff8b3f8e5701,better deal with journal corruption for scheduler store  to report error location - intermittent failure of KahaDBSchedulerIndexRebuildTest,6,16
5e7b70f11fb53cb1a0a00edc5e61faf90bbdce78,"https://issues.apache.org/jira/browse/AMQ-5413

ensure drain completion clear currently tracked credit value, next flow
should update to the correct value.",0,66
138e52b08c2f49b730817932a6e63f2a135854f1,AMQ-5801: add error condition hint via the info map to signal the container-id was the invalid field,3,35
f320f84991d840de555d810a32d7c166759c800f,Upgrade to jolokia 1.3.1,1,1
eece576b195686c55c5435ebdece09cf68cb5664,"https://issues.apache.org/jira/browse/AMQ-5792

Adding SubscriptionStatistics to group together all metrics in a bean
for a subscription.",51,167
df8dcb504055a64567fd6bc73a78352e409cad5d,This closes #102,51,167
8ca6341d401027a9f1517e6ddc78cc29f91be30f,"https://issues.apache.org/jira/browse/AMQ-5784

Apply patch from Lukas Treyer to address MQTT over WS in Jetty 9",14,20
dcc7b11347fbaa91e6e387fdb8b0dfd67f719287,"AMQ-5713 - making accessors public to remove startup error.

Includes unit test DestinationBridgeAccessorsTest which replicated the problem and now passes.",2,60
8095d8eab849c9227e89577a82ecf55ac7b7a67a,"This closes #106

Thank you Mark Frazier.",0,0
df06bdabdc0e9f892449e0ef0d8783aea6047802,"https://issues.apache.org/jira/browse/AMQ-5816

Apply patch from Ievgen Tarasov that ensures that the data locator is
initialized when a MessageId is deserialized.",0,127
73e8d109820aebbd12697bb2bea1462f754cd0b0,"https://issues.apache.org/jira/browse/AMQ-5621

Test cleanup",40,54
35b82e5f93b679629dac74d6ee83bcb180e2d9e4,"https://issues.apache.org/jira/browse/AMQ-5599

Ensure that persistence adapter start is not missed to avoid infinite
wait for it.",5,8
f37b005acf60c3d06f7e572da5ed7e93b162b5ba,"https://issues.apache.org/jira/browse/AMQ-5776

Add better support for maxFrameSize configuration that fits with the
defaults configuration for the broker by allowing the maxFrameSize to be
configured via ?wireFormat.maxFrameSize on STOMP, AMQP, and MQTT.
Previously we only supported transport.wireFormat.maxFrameSize.",9,106
2d7280f33ac0a75a8259644e187f006a51e0fff7,"Adds a STOMP based test to cover some inactivity monitor usage over all
four transports.",0,145
9810e61b1bcfde63d3156beed6f8043ef70a283d,[AMQ-5789] Add support for keystore type (other than jks),2,47
848adc4b5d0230b76686616724ae918527ec80e5,"https://issues.apache.org/jira/browse/AMQ-5822

Update the receive counter on reads to avoid dropping connections
wrongly.",4,93
73d2810c602e361cf447ff3e607911023c3e2201,"Test does not need JMX so disable to avoid clashing with brokers left
running by other tests.",0,11
928e815a02de127a781f2de242cd78a25064ec7d,https://issues.apache.org/jira/browse/AMQ-5656 - add support for selective mbean suppression based on objectName attribute match. Avoids mbeanserver contention on systems where producer/consumers/dests are dynamic,2,209
47e954d0f6409da418edeb4c53597e09ba03fe43,"https://issues.apache.org/jira/browse/AMQ-5303

Fix for subscription recovery of durable topic subscriptions using
default subscription strategy and subscribing to a VirtualTopic
instance.",70,12
a095e9b9ddc32b7bd47ec2482725f2ccf5300d54,"https://issues.apache.org/jira/browse/AMQ-5310

Adding tests that validate the code follows the JMS Spec expectations
for behavior of closed consumers and producers.",0,337
11da37b991d9ff6e7419a0ee0c8929a7a8dabced,"https://issues.apache.org/jira/browse/AMQ-5828

Fixed bad default for message persistence that breaks AMQP specification
defined behavior when the durable value is not present in the Header.",8,85
ea03bb1f8cb2bce97fabdaa8fa287f4c9f977a3a,"https://issues.apache.org/jira/browse/AMQ-5813

Fixing countBeforeFull for TopicSubscriptions to report a positive value",1,123
3649f13b811a3a51e6c708a342c210c4dad674ee,This closes #105,1,123
af999fe2b2f5140fd7fcae187b491dddbcde1fe9,"https://issues.apache.org/jira/browse/AMQ-5303

Resolves issues with the virtual topic subscription strategy especially
when subscribing durably to the Topic portion of a virtual destination.",99,231
e52b7dc368572895cbd7b2b48eb8c3573e767c04,"AMQ-5733: return exitcode 0 if stop was sucessful

according to http://refspecs.linuxbase.org/LSB_3.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html
the exitcode should be 0, although this is a abnormal termination way",1,1
ce3939b11fa4639f65518e1bc2ded26583d2651b,"Added help text to give the user a hint how to configure activemq

Conflicts:
	assembly/src/release/bin/env",3,8
ea5f4de399c56c9aed3bb39ba9fe63b8ab856122,"Minor improvment

Conflicts:
	assembly/src/test/scripts/init-script-testsuite",0,182
dd647f98a50b30427ca8160245fcff437cbd0080,"provide the real exitcodes

provide the exitcode of the task to the user",1,3
02a94143dbda9cd2413d972d21f28a0f4024c15c,"check status of running status

This adds a better output for some tasks if the broker is not running.
The user gets the information that the broker is currently not running.
Users are confused if they see a java stacktrace on invoking commands -
often they do not read error output in detail.
This change respects that the script can also be used to contact remote
brokers - if ACTIVEMQ_QUEUEMANAGERURL is defined you get the regular
stacktrace, because the script cannot know about the state if a remote
broker.
In >98% of all cases this script controls local instances - we should
help the common user!",12,51
0eb45b434d943e274b8a8dabc1e9b9247f18a1bb,"create a pidfile for a console run

this adds a pidfile which contains the pid of the running shellscript if
activemq is run by ""console"". This prevents problems if someone tries to
to use i.e. the start/stop options while some is debugging activemq in
foreground mode.",1,5
250bc9ea95d35307532332bd051e9c44191bea70,"stop behavior

fix bug caused by a uncomplete change which renames the pidfile for a
running shutdown task",2,2
07920b25343f6e66aeb9d46bcbd9be6a73ba5f8e,"minor stabilisation patches

This commit adds:
- some quoting of variables to prevent problems with unusual paths
- sets some default variables to prevent problems
- adds some function and helptext documentation",8,17
a767bda603119387af8e8ce06af268470fe33c3a,"Memory configuration

Reduce the default memory minimal overhead of activemq from 1G to 64M to
ensure that activemq does not revoke to work in small environments.
If a larger process heap than 64M is needed the jvm grows up to 1GB.

Conflicts:
	assembly/src/release/bin/env",4,2
aeb93e4a2455dff169da302fb19f7fa55d21a0c0,"improve stability

- added more reliable quoting
- improved reliability of stopping
- improved management of concurrent stop processes
- added a ""kill"" option which terminates the daemon in a rude way",53,85
c9a3202bc3b526bdf65f239dad68f555d7b83df1,"https://issues.jboss.org/browse/ENTMQ-780

pauses the delivery of messages to the activemq session when a rollback is happening until the message has been redelivered.

patch applied with thanks to Tamas Cserveny",2,32
67c28b1c6801562187cfa41c2846133e3aac139f,"https://issues.jboss.org/browse/ENTMQ-780

A couple of tests to add to the patch provided",0,97
eaf5c12151552e01c7de31bdcc8b96d8cbd3a1c6,"Add test to assert that preconditions are met before moving on to the
rest of the checks.",2,16
886e2d4d97555e2f10276616389a5d1f915bad18,"Adding a configuration option to PolicyEntry to enable setting the maximum number of created destinations by policy on the broker.

This resolves https://issues.apache.org/jira/browse/AMQ-5751",2,457
062b0c2c080b0557475dce564341e96c90b89406,This closes #97,2,457
3100909041b8cf114773f0d0bf60d8032732186f,"https://issues.apache.org/jira/browse/AMQ-5830 - ensure duplex inbound connection sets network=true flag, fix and test",31,232
789eb9abf9f6c01e58a6e65dc72006e778272660,"https://issues.apache.org/jira/browse/AMQ-5834

Ensure that a publish receives an ACK even when the user is not
authorized to write to the target destination",36,70
ce16735bb07e9df5e280c9cd9f82b331ee284f24,"Test needs more wait time on redelivery check since the initial
redelivery delay is 4 seconds and the sleep was only 3s + 500ms receive.",8,10
f45ce09655932be7207feb87101b3f87794462ae,fix incorrect warn message about lease duration and keep alive,1,1
61fd811adcb416ca1810dac81ef33e39e8722537,"https://issues.apache.org/jira/browse/AMQ-5393

Adding a property called schedulePeriodForDiskUsageCheck which can be set
to a time period to periodically check disk usage limits and adjust if
the amount of disk space has been reduced.",11,253
f74e3c1146dfdc0dacaa2a8de8bf9ce23d959d80,This closes #110,11,253
ab389684be1f6da3a0887f1f1392f3399b1aca0d,"https://issues.apache.org/jira/browse/AMQ-5836

Modifying start up scripts to consistently use the same property names",11,11
8cc5f597d94f8be7f456650daaf11e3fba883880,This closes #111,11,11
d723d14acb4f87c312804cabe61c7786e971396d,"Add some additional control over what is configured on the running
broker.",5,15
d74c0871347b509a610d585188f61142e3d06b50,Add a negative validation test.,5,12
4945c83d708eb5fe6c6a44cb0e73e96f495da9a5,"https://issues.apache.org/jira/browse/AMQ-5839

Use correct name for the no-local filter",1,1
732fd5684017cd585bfb418950a03ec9a6f44e49,"https://issues.apache.org/jira/browse/AMQ-5839

Disable failing test, broker doesn't currently recover the noLocal state
for a durable subscription.",0,2
e2221e31fa4ffef524d0026fa1d26728152be56b,https://issues.apache.org/jira/browse/AMQ-5841 - activemq script returns a non zero exit code for successful operations,6,6
1d0f0d541aa8e158bbb48b607ccedaf35940494f,"https://issues.apache.org/jira/browse/AMQ-5606	

Move to v0.3.0",1,1
33fb7c6096c0786997f76caccd0c4e3e02e40a33,"https://issues.apache.org/jira/browse/AMQ-5621

Have the test store its data in the target folder to let the clean step
remove it and attempt to remove the data folder between runs to avoid
state derby instances.",2,15
151e25117b0ae7901cb663f2d7b8194d5a38fb0b,"https://issues.apache.org/jira/browse/AMQ-5400

improved the patch because of some test failures",101,141
c2310391b9feab44bfaa46e93f0e4ca90d5bf357,"https://issues.apache.org/jira/browse/AMQ-5845

provide server information in connection properties.",0,48
1b08858a3727fd35d9ee072a97c32f0c1270244c,reduce test duration - v.slow for 60k messages of size 30k -resuce to ~30s b/c it was excceeding 10mins - large linear work load not great for leveldb,2,2
1787edaf3e0d44bbce36b0cc22644cfe6f1e661f,"https://issues.apache.org/jira/browse/AMQ-5724 - fix up mbean object name property clashes and attribute selection. add --invoke flag to invoke simple mbean operations with void or string params, Additional test that verifies help suggestions",14,288
ffef4dc5fa68cd0e02f4850582fb09db381394da,https://issues.apache.org/jira/browse/AMQ-5844 - patch and test applied with thanks to Ganesh Murthy - ganeshmurthy,0,225
540d8c70794228c9f52667e44a3c48ae64e4e5c9,"Turn off expired message processing during this test, the browse for
expired message can trip the limits that this test expects to end up
with which is not what is being tested here.",5,8
edacc2a8404d1a460fb08edd979285961802c0ac,"https://issues.apache.org/jira/browse/AMQ-5843

Adding a new property on PolicyEntry called includeBodyForAdvisory which will
include the original message body when sending advisory messages that include
the original message, instead of clearing it out.  This is turned off by
default.",6,115
7b5c8be377c22ec3984a9932515728fc8c2d0f3e,This closes #115,6,115
ed266835b5aabfcb05e382f3056353a72347f158,"https://issues.apache.org/jira/browse/AMQ-5847

Add workarounds to allow for TX work to take place in multiple sessions
on the same connection.  Future work needed to properly support TXN
Capabilities defined in the spec and support checking of violations of
expected behavior.",32,108
471911466b1c0d4acedacd4180ed6b39531a0119,"[AMQ-5770] Remove javax.servlet.resources package import allowing web console to work with Karaf 2.4.x, 3.x, and 4.x",1,0
6cf9a8a9a56963ebe87463c1115fcb018711d82f,"ci disks seem to be really slow on force, increasing timeout and decreasing load on this test",7,7
38f7857533ecd71641b8d7f0075351972469cf2c,bring some more consistency to derby usage and log nested exceptions on create failure,9,41
d5c25c027b42000520ffa68a64fde75b1d4a1bf7,disable periodic expiry b/c that will page in and effect the usage assertions if the test lasts for more than 30s. read ci,1,1
428fc82c8cad36fe600a68cffeb3c4161a345a17,AMQ5266Test can take 8mins locally - exclude from quick tests,0,1
fc3e0261229bb90edbcf4eaeabc5ee2e1b57894d,"https://issues.apache.org/jira/browse/AMQ-5705

Modifing the AdivsoryBroker to set the originBrokerURL to the transport connector's
URL if it has been set versus using a default URL.",1,29
829e6fb0eb2847a5cad07c582bc111fb7e7d5ebe,This closes #117,1,29
b40dc4cc5452455dd93f53abf71e92bb6cd0b9cc,"https://issues.apache.org/jira/browse/AMQ-5668

This commit fixes a race condition in AbstractStoreCursor setLastCacheId that could
cause a null pointer exception in certain cases.",29,130
1e8621fedead1031279c8d8e9c22fde27d07204d,This closes #116,29,130
833d30837b0b306e8d9b0a2e54331c25f7c5c292,"https://issues.apache.org/jira/browse/AMQ-5848

Introduce OpenWire v11 which adds noLocal to the SubscriptionInfo, if
configured KahaDB can store that version and the noLocal value is
recovered from the store.",147,9718
cd32c60f39249664a1a3f9ab3db4229af6b9379a,"https://issues.apache.org/jira/browse/AMQ-5850

Use JMS Transformer by default for inter-protocol interoperability.",1,1
e3a72cfa1d23d1e3f1ab44ee1d9841cd47ec2f96,add sanity test for masterslave scheme for networkconnectors,0,34
da3174cf98c97eb5736b1c1d414e42590a819f15,ensure data dir is empty for test as derby needs clean dir,0,8
b22184ebf65aac8cb27243c48d8dfe8f1881b283,"fix intermittent failure with thread accounting test VmTransportNetworkBrokerTest, it did not lie. ci",19,22
1a3ade04140acd7c63e999a9032f8ce1c3b57c2e,fix intermittent failure - wait rather than sleep which also speeds up the test run,27,23
f2a335c27d3f7b986877b93a82eca9eb485d8b18,"https://issues.apache.org/jira/browse/AMQ-5853 - fix and test, statement was not configurable from xml also so there is no workaround.",14,41
a1062c273f8c02b6b6311397d2c0e4059054a1a8,"https://issues.apache.org/jira/browse/AMQ-5811

Added synchronization blocks around sentitive code to
prevent concurrent modification of the HashMap.",5,81
a35be76ff3dfb5882f2e2d2696534879f8a9ebf0,This closes #112,5,81
d919db5e3d8f453c173f6ed82b1e0bce3b3df5fb,"https://issues.apache.org/jira/browse/AMQ-5804

Apply patch from Pavlo Vasylchenko",0,7
c8b604314ac78498584edc861ca8f5e49820656a,"https://issues.apache.org/jira/browse/AMQ-5740

added reset option to clear destination statistics",47,240
4c0b7ce9b132b297136a3e4c7c5221fcb32427d3,Add some more to the ignore file,0,2
26eb103b92ea6412a41191cc8105d87f99a20fa5,"https://issues.apache.org/jira/browse/AMQ-5400

replace throwable with runtime exception",1,1
37c46b9b42c8e93378afb101815a857d1c86dc4e,https://issues.apache.org/jira/browse/AMQ-5705 - fix test regression. Make PublishedAddressPolicy vm scheme aware so such that is won't attempt a transform,3,39
97b0619b26947c9170230e6969df13116f4a2463,[AMQ-5858] add import package,0,1
f0cb95c79252f6f2ae37ee578ef7fa85ae878fa1,fix amqp karaf test and re-enable tests in CI,3,13
97cd60fb7e2d96f7fb5d2916df04eba6252d1fc9,"[AMQ-5821] Use wiring to check for extensions
This closes #119",17,55
b6fea83126a5d0a7a99f9a6054e3eff17b40ff80,https://issues.apache.org/jira/browse/AMQ-5863 - fix and test - sequenceId state in messageid needs to be cleared before doing a store,2,114
2c53dbcc634920b42ab19a02a183219e58f1ecac,https://issues.apache.org/jira/browse/AMQ-5864 - fix and test. A replayed update command did not check if already updated,3,147
13c471cc11f61a7589315c82597e01228874dfc3,https://issues.apache.org/jira/browse/AMQ-5656 - add support for selective mbean suppression; refactor a bit so we can support patterns and wildcards,24,11
002ade79b01db228377c24438bae246690f57b7d,"https://issues.apache.org/jira/browse/AMQ-5639 - the duplex case needed work. All advisories were being acked async in duplex mode, that code needed to be more selective to forward advisories that dont terminate at the bridge. Fix and test",5,81
3870aa94473b2253e7a38e5897187d1049d60059,Resolved merge conflict,627,12991
bbf288b12c22298f7ee6bc5964080ffc0532dc89,https://issues.apache.org/jira/browse/AMQ-5639 - fix regression in NetworkRouteTest eashmock test,0,1
be10b866a7c530ab7efefef1dda82270506f25f7,"https://issues.apache.org/jira/browse/AMQ-5865

StompSocket and MQTTSocket will now return the appropriate web socket
remote address based on the HttpRequestServlet that initialized
the web socket connection.",139,217
f3fc58941290041f5ff7fb80183b063b7eeef9d8,This closes #124,139,217
06202097a28b21efb9864d4d75a40cab7675bf98,Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/activemq,139,218
27edaffdedbe4949f5e447876f863cedccef6807,"https://issues.apache.org/jira/browse/AMQ-5856

Clean up the MQTT over WebSocket code to allow for handling link
stealing and inactivity monitor.  Ensures that the web socket instances
get cleaned up on errors and avoids leaks that might otherwise arise.
Adds new tests for MQTT over WebSocket.

Adds some missing license headers as well.",73,858
b06c1679b6e358d3fface90da575bf472f44a129,check that broker is not running if export is used,0,10
6248d0515cc9f4f5a580aa0284a047c543164351,Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/activemq,73,858
91d48280b8429e7754efd6b7fca5b6a1a0cf7936,https://issues.apache.org/jira/browse/AMQ-5400 - add test case showing the need for maxSessions config,3,130
1b493749a154ed9cf0773524233a3e4a3c3b827f,"https://issues.apache.org/jira/browse/AMQ-5859

fix for incorrect logic in reconnect attempt limits and also fix a case
where an NPE could occur (saw in the tests).   Based on patch provided
by Benoit Wiart",14,18
12b26b641b36a4ad6d21face946300128cb7be59,"https://issues.apache.org/jira/browse/AMQ-5745

This commit is based off a patch submitted by admin@int3solutions.com.
It fixes several locations in the code where there are potential resource leaks.",242,272
87fd0a9e054017254c3857b245ca6fb9047ccc4f,This closes #118,242,272
10ae0d9d6fa985dbfc55dbf8a2d8271622e44e39,"https://issues.apache.org/jira/browse/AMQ-5870

Resolve race that leads to stalled connect attempt.  Should fix the
failing CI tests that are seeing this.",2,20
a53d4cf7bf4de769d59850c33346c59ee8035aea,https://issues.apache.org/jira/browse/AMQ-5008 - fix the case then crlPath is defined and trustStoreAlgorithm is not PKIX,1,7
60ca85c92be91fe2ade93ee9eea89d0711a0a9a6,"Find a free port instead of assuming the local port is free.  Should
address CI failure.",8,26
0c72e5d7dc4b36327c4074374c5c3623d328debc,Fix test name to match its issue: AMQ-5822,2,2
e4af2eb63501251befc33a415abfad2b72d53321,"https://issues.apache.org/jira/browse/AMQ-5814

Use the context of the subscription when the producer adds a destination
that matches its wildcard.",5,162
8e7556f397035a813bb8cc6292614d0cdf1d5f5f,"https://issues.apache.org/jira/browse/AMQ-5600

Add patch with some tweaks submitted by Bernhard Trummer to clean up the
logging for XA TX.",126,278
455f1ca475be252b6ffdd07176bf659b81685ea7,"https://issues.apache.org/jira/browse/AMQ-5872

The code that adds subscriptions for retroactive subscribers did not
account for the case where the last ack position in the ackLocations
table is used as a placeholder for the next incoming message and there
may not be an element in the messageReference tracker for that index
especially after restart when the index is reloaded.  The code needed to
check this when it iterates of the existing message references to add a
value so to avoid the NPE.  

Also cleaned up the MQTT tests such that they place their data dir in
./target so that old stores get removed on 'mvn clean'",16,144
5abd2d231abfe076a54981d5bf4fb4f71d47f183,Upgrade jackson and netty,2,2
fef8cac05f757432c10dcf47ca7ea3028b7614d6,Add sanity check of browse list,0,2
eece28ac7501103490e1cb7bdc547c07c6968525,"https://issues.apache.org/jira/browse/AMQ-5853 - rework fix, have store reset tracked recovered priority when higer priority messages are stored. Additional perf fix that removes unnecessary 2x multiplier on db fetch size; seems periodic message expiry was throwing some tests when the cache was enabled",7,60
b78ef954d29bdbd0991ad1424b6c78168d89e9e4,https://issues.apache.org/jira/browse/AMQ-5853  - fix typo in test combination - ensures expiry does not kick in,1,1
a2697b844e1ff61dee6f011ebd08eee59d23f1ca,https://issues.apache.org/jira/browse/AMQ-5853 - track per priority sequence on load from the store. Allow db to select from entire prority 0-9 range. fix and additonal test,33,95
174dcbff2a8af5e550793af6d413d2967409bc33,"https://issues.apache.org/jira/browse/AMQ-5340

A QueueBrowser no longer checks expiry on messages to prevent a
browser from hanging in between the hasMoreElements check and actually
getting a message.  This means that if messages were in the queue when
the browser started it will receive messages even if they are now
expired. Even though the browser will get the expired message, the
broker will still expire it to prevent future access to it.

Thanks to Henno Vermeulen for providing a test case.",2,159
3ba28f6221d1a698a6faf34db2c94bfba9b8277b,This closes #127,2,159
c38a61d7aeec46847c0a658d7e39ac85181d5251,"https://issues.apache.org/jira/browse/AMQ-5340

Clean up a bit, extend test timeout to account for slow CI machines,
remove System prints and replace with LOG.",76,48
7a68ad5d987caa20e6517beb12ee67d538b2ee08,"https://issues.apache.org/jira/browse/AMQ-4814

Remove of a durable subscription when the keepDurableSubActive flag is
true (default) did not actually stop and cleanup the still active cursor
due to the fact that the cursor checks the flag of its subscription to
see if it should stay active when its stop method is called.  The
subscription needs to disable that flag when the subscription is being
removed so that the cursor will correctly shutdown.",2,143
785b16bf9ef19180e7c9783442f4a125b44255e1,"https://issues.apache.org/jira/browse/AMQ-5748

Added a getMessageSize method to MessageStore to support retrieving the
total message size of all stored messages for a destination.  Added a
new storeMessageSize statistic to DestinationStatistics.",79,1382
2b320ac0656138d92b5e4f7ff135814d033d47e5,This closes #92,79,1382
46055034c949c7fbce717c93f5d94b4ca18dd23b,"https://issues.apache.org/jira/browse/AMQ-5837

This commit adds an Inflight message size statistic to SubscriptionStatistics
so we can know the size of all the messages that are inflight, besides just the count.",0,564
1dcdf69f3e612c80b0758b61a7f81b6d39949c16,This closes #113,0,564
bd28c3b0ba317c3f07329c083d7097c12beee5b8,"https://issues.apache.org/jira/browse/AMQ-5748

Fixing a potential Null pointer exception in  MemoryMessageStore",2,10
6f457d2f5c8d08d19ea47ba6e3e3fe14f2d430aa,This closes #128,2,10
59cd0189791fa075790ed8c7cc8e4d20637ff548,https://issues.apache.org/jira/browse/AMQ-5876 - refactor properties loading such that it can be reused by cert and props login modules. Both loading on start and refreshing if reload=true and lastMod indicates change,196,200494
e1c707e81396ed364f800a27d4f1fcc21d43d358,https://issues.apache.org/jira/browse/AMQ-5856 - fix typo that lead to recursive call - test regression in MQTTConnectTest,1,1
8871b0e496bae1396fb7323b01d7f715b4a211f7,"https://issues.apache.org/jira/browse/AMQ-5748

Fixing an issue that prevented old versions of KahaDB from being
upgraded to the newest version 6",20,40
c853bcf436b6fe70562ed06162a44a52dda198da,This closes #129,20,40
73d1bcd7ac4fe7bd94da9fe178f6f17d30bc41f2,"https://issues.apache.org/jira/browse/AMQ-5875

Resolves an issue when using mKahaDB that caused a MessageStore
being used by more than one destination to be deleted even though
there was still at least 1 other destination using the store.",30,248
b0952d8747fea3490beedeab30969c8c4296c9ba,This closes #130,30,248
13044deccea1e1bd6849dbe0babb6720aed634ac,"https://issues.apache.org/jira/browse/AMQ-5848

Use the latest openwire version marshallers in the KahaDB store when
starting from a clean install, drop back to the version used in the
existing store if one is found.",141,298
3985e7225fb773d418d6f32adad4d4f932a4de10,https://issues.apache.org/jira/browse/AMQ-5853 - fix cacheEnabled case - additional test and fix for both jdbc and kahadb stores,18,63
52e45271254af25da21c033265e45b8c55c3ddc5,https://issues.apache.org/jira/browse/AMQ-5368 - improve nio ssl handshake performance,24,117
802e968f9376d8f5378c27b422c4c66be6b6f074,fix deprecated import warn,4,4
c454fe31fc6b263eb52cda6cced8ed5e98f6b6e4,remove some unchecked warns,16,10
a05a9a2129ba7432e628e8279feb8a9b5922e5d9,https://issues.apache.org/jira/browse/AMQ-5552 - added profile for activemq.tests=smoke to run a fast subset of tests that gives a fast verification of a full build,56,473
21fb8022600f606e5a4f94998cee5702926d61f4,redirecting console output from itest to file - more sanity when scrolling over build,1,1
0f4320d00f4f79dd5743cae66c1b366098d99997,fix unchecked warn,1,1
c9c32e5dc9116594658a23d43833fbe209f9824b,Fix test failure in CI,2,4
f10aab64282310dd97205f8fa1dafb39d44f6559,"https://issues.apache.org/jira/browse/AMQ-5851
resolves #123

This commit resolves an issue where unmatched acknowledgement
messages could be received when running a MDB consumer and
sending messages with a short TTL.  The expiration logic when
receiveing an expired Message Ack will now only expire messages
in dispatch relating to the received ack, not all expired messages
in the dispatch list.",9,289
21c3ba35824ce09aa69ed785397d041a98f8d18f,"https://issues.apache.org/jira/browse/AMQ-5621

Clean up some warning, remove System.out calls, remove references to
static ports.",59,66
257a79de076d68ae8e2b6d3b25106ee532a87462,"https://issues.apache.org/jira/browse/AMQ-5621

Remove reliance on fixed ports.",3,88
ba1bd264d992c5382e04bb8c5a87792982551689,"https://issues.apache.org/jira/browse/AMQ-5621

Clean up tests, remove hard coded ports, add test timeouts, move data
dirs into target so they get removed on clean.",447,573
39a1e0455477592cfa6116034d5b65da1720a1b7,"Ensure that the test has it's own data dir so it doesn't stumble into
the KahaDB store from some other test.",3,3
18300c65140e37708706516622453975703d90d0,"https://issues.apache.org/jira/browse/AMQ-5621

Clean up, convert all to JUnit 4 style tests, replace system.out calls
with loggers.",100,136
ad8879d2839bdd16e0e8202f08881dc9f2980b75,https://issues.apache.org/jira/browse/AMQ-5368 - improve nio ssl handshake performance - use soTimeout for handshake selector,3,2
da0d1168c17c5f607cbd9782c52baa19d9fb0cc6,add example of optimized mqtt deployment configuration,1,94
59958ad2699f70788759b632c8f758568795530a,https://issues.apache.org/jira/browse/AMQ-5552 - exclude two tests that show intermittent failures in ci,0,25
2b5b890db9810ff282479d7688c36e3c78e32c73,AMQ-5888 add patch from GMURTHY with thanks - fix and test,8,119
c85c7c14720dffeb44633547db540533796a8388,AMQ-5400 - rework to remove static lock - impacted parallel delivery and hense performance. Fix and additional tet,4,79
0cfd22591260540301b18a893cd229c59e43dcf6,"AMQ-5890: prevent NPE if Modified disposition is applied without the delivery-failed flag set, add some general tests of Modified handling

https://issues.apache.org/jira/browse/AMQ-5890",36,78
b1ea29ed1485f2cd134f332511fa3c857d0c773f,AMQ-5892 - remove default stack trace from service warn to debug level on async error; makes it consistent with transport logging,10,57
b9b27b968b53748cfaf0520f45609097c2879db7,"https://issues.apache.org/jira/browse/AMQ-5893

Ensure that unacknowledged messages are removed from the Audit so they
are able to be redelivered to another consumer on this connection",1,193
7c116631b504e31fb0bd9f805b1b77090d16f4ff,AMQ-5266 - fix leak in transaction context - completions were not cleared on close/commit,0,88
e0c2c177c2b9fd65bacefcc414669c114f2ad1e0,"give test more time, was teetering on the limit locally with some builds",1,1
2117768e0a6c7bab0225f5ba4e960bfb443188c7,"https://issues.apache.org/jira/browse/AMQ-5875

Fixing a regression that caused a network bridge to recreate durable
demand improperly.",166,326
a439a0c6bf693e3fd68dcb190d22187c53ec8e9f,AMQ-5875 - rework the patch a bit to only call createDemandSubscription when we have a match to avoid trcking state in error via the bridge subscriptionMap* from configureDemandSubscription,8,4
f4f416a09343105ac2d57a84bd020cd2e00dbc7b,Added a test for browsing offline durable subscriber sub,0,42
167c510331692bfa2648724d16330d49ec8dd0ae,"changed permissions of ""env"" file

The previous permission of the  <activemq-install-dir>/bin/env file
(755) caused some problems on systems where the
<activemq-install-dir>/bin/ directory is part of the PATH variable.
The executable ""env"" is also available of all common unix platforms.
If <activemq-install-dir>/bin/ has precedence in the PATH environment
variable this causes lots of unexpected problems.
In future it would be a good idea to relocate the file to the
<activemq-install-dir>/conf directory.",1,13
7d30b5cedafe8abb0daaec295dcf850f0c63b8ae,"removed activemq-admin

This script provides redundant functionality to ""bin/activemq"" and its
broken because it uses the wrong environment configuration.",176,1
eb8723c1e9f8de350cc8974c0a9fcb1b68caf26e,"renamed bin/diag to bin/activemq-diag

This prevents ambiguities in the unix PATH environment variable.",0,0
5684d093c0fe643c9967b03dbf4d0661f2e0227a,"https://issues.apache.org/jira/browse/AMQ-5875

Reworking DurableConduitBridge to look up subscriptions from the
TopicRegion  instead of the RegionBroker since inactive subscriptions
need to be looked at as well when dynamicOnly is false for a
network bridge.",1,11
4a603a9936b1880eba501d7f0e6fff812ae29d2f,AMQ-5895 - apply patch with thanks to Anders Aaberg,13,151
0b863977840788b46a46ba1e55695be368447661,add browseAsTable verification to offline durable sub mbean,0,6
8f407a78dc5ed868c1b59ccb68f489c8ceae875f,AMQ-5903 - add patch that fixes the broker camel component to take all header values,95,94
de86f473f776fe3a8ca32d7f929ecec7993c458b,"This closes #137

Fix for AMQ-5903 - thanks Heath and Paul",95,94
84ec047d2ffdee9630f74bf939746cd5ff2d0e12,"https://issues.apache.org/jira/browse/AMQ-5857

Changing ActiveMQTextMessage to clear out the text field on marshal to
a ByteSequence to prevent the data from being stored in memory twice.",1,11
b84413a31471e0c9e949cd7198ee952d063dfb61,"https://issues.apache.org/jira/browse/AMQ-5907

recompute the timeout value and send a new pull request if the message
received exceeds the configure redelivery maximum.",16,94
ac3d088647cacfe298a61ba5b9f1b3941249142d,"https://issues.apache.org/jira/browse/AMQ-5896

Fixing a potential race condition with BrokerFacacdeSupport that could
cause an InstanceNotFoundException when getting a destination from
a RemoteJMXBrokerFacade instance",13,98
310c2bb05916811a25b84d76f11fb84b40087914,"https://issues.apache.org/jira/browse/AMQ-5857

Fixing a potential race condition in the storeContent
method of ActiveMQTextMessage",15,16
b64b8ba27e876a011f62f70ffdfc6e7cde1fff24,"https://issues.apache.org/jira/browse/AMQ-5896

Removing the dependency on the ExceptionUtils class in Apache Commons
as that dependency is only available at test time",3,56
c5579ff73dfc0ef39976d6553f0f99c9ac598886,"https://issues.apache.org/jira/browse/AMQ-5558 change on producer / consumer - One session per thread

I'm backporting a change I have made into Artemis for this. Each thread should have its own JMS Session",14,12
3348ade99b2be00eb5452785a1325afc2a39b066,"https://issues.apache.org/jira/browse/AMQ-5914

Ensure a new pull request is sent, adds test.",0,130
da36f78a6aa3194b650f49681229682875239e3f,"https://issues.apache.org/jira/browse/AMQ-5596

Remove some additional references to old JMS Streams properties.",168,148
7f4bf84342f08c5c37a801a58edd52d3015a9cd8,Adding in 5.12.0 for the upcoming release.,2,3
5e05df1cb76af9a4d2e7d59cb3711747c5814b75,Fix a bunch of javadoc warnings produced during release profile builds.,251,294
82e3ce805ee349a83c0684c908d6ebe0d546f432,"https://issues.apache.org/jira/browse/AMQ-5916

Apply patch from Ganesh Murthy to resolve issue of creation of durable
subscriber fails via broker AdminView due to lack of SecurityContext on
ConnectionContext",2,185
ff9aae69f9da93e2b7500557649a512dddb94dca,"https://issues.apache.org/jira/browse/AMQ-5876 

Add missing license headers to the properties files.",0,34
457dbd8b64a3753dcaa1e3de7f4f2374e8ec624e,"https://issues.apache.org/jira/browse/AMQ-5919

Converting printStackTrace statements to slf4j so that exceptions
are logged properly",34,70
a79f317d31ccee753b6097d85473488934221900,"https://issues.apache.org/jira/browse/AMQ-5918

Update to use the QPid JMS client v0.3.0",53,70
50604ad93237e38c1240e6ad655b9541f2bc486d,"Update RAT plugin to use latest version, add exclusions for eclipse
settins files and the KahaDB data folders created during most test runs.
Add missing headers to a couple files.",2,52
5e4014a9760cbf0eb25282e4a3aceb1cac81c548,Update instructions to relfect the latest release.,6,6
61b2f6b40e06a5fd72077a4abcca7faadc07e3e4,Fix some javadoc warnings and spelling errors in the docs.,234,102
d8c0ff14177358fffa6c102a803af74044d5bc47,Fix javadoc warnings.,31,45
340728f2d1eb4c1aa74f4002c5b16bf7a70c57b7,AMQ-5920 - use implicit broker transaction for virtual topic fanout and add concurrentSend=true option to use an executor to fanout. Combination gives a 3x reduction in fanout roundtrip for small persistent messages to 100 consumer queues,22,224
bab04458e4b38848a5a8d463fa82ccb5a440cab3,AMQ-5918 - use property replacement for qpid-jms-version to protect example from change. There is a property replacement at assembly time,1,1
4cfb8dc6024dba8ce6f5a6bce26bea29a5e79477,Added code to sleep for the receive delay to receiveAsyncCountBasedMessages().,0,2
99229504d383b8e1617a6872b08c3e288f713e10,This closes #138,0,2
306041d47c167baf121e82382d0e7b5a86ee7f64,"Specify a tagNameFormat

(cherry picked from commit d14ae9c6efb8a8846a5e8b3cbb04df05260df4b0)",0,1
e983fe800abbc55b269c95772bb0be03976960cf,Add my key,0,526
9827427f465881826d617c9e0692001650d1f176,Add my key,0,36
2b7bb6f81b0ed0a399fd8e85ee88ac0f62fbd9c9,"https://issues.apache.org/jira/browse/AMQ-5837

Switching to a List to track dispatched messages in a TopicSubscription
to be consistent with a PrefetchSubscription and to prevent an error
in case acks come back out of order.",39,42
70ef9b7e3743ef036326bf540a8e57f32bd510c7,"Increase the test timeout, passes locally if given enough time.",2,2
41ee3ec8dea1df70cb12f722dcf797f50b24fc54,"https://issues.apache.org/jira/browse/AMQ-5921

Add back support for type void and test.",0,154
de24980a623c864d24cecf9ed852bec38cf09ae3,"AMQ-5748 - Fixing MessageStore cache

This fixes KahaDBStore to properly check for an existing MessageStore
in the cache before creating a new one.  This will prevent potential
issues with metrics.",5,41
b52796f79405d45d582254df2e74516a512986f5,AMQ-5748 - replace Map with ConcurrentMap for JDK7,1,2
a3c8bee1f0696b1d0d9a315b12241eecbf1f2d85,"https://issues.apache.org/jira/browse/AMQ-5605

Attempt to resolve high CPU usage after error by ensuring that the
transport is disposed along with the fire of the local error.",2,2
a49d46e3ca689af6f2cb721c457be97d654b2492,"https://issues.apache.org/jira/browse/AMQ-5748

Updating MemoryTopicMessageStore to decrement store statistics on cache
eviction.  Updating KahaDBMessageStoreSizeStatTest to account for the
fact that a LRU cache is used so the last 100 messages are kept in
memroy.",53,242
c6542a921b7b9fd09ca965761cfb90f2cffca930,AMQ-5748 - Cleanup and clearing cache on shutdown,12,16
5b1c26c4ded06df1879d26a260780100b23217c9,Add schema for missing 5.11.x releases to master.,0,2
a9eeb03520f074d5013239b8d8708a05ba31e176,[maven-release-plugin] prepare release activemq-5.12.0,42,42
6cdd750ddc1018c9f886f93330340f30da0d226b,[maven-release-plugin] prepare for next development iteration,42,42
9f50ce3d00fbe6fba334e042053c555e98e0b2d4,"Use a later Apache perent to resolve some issue with builds running on
newer maven versions etc.",1,1
04ee70a161b463f69692debea623d754a5c781c2,"https://issues.apache.org/jira/browse/AMQ-5889

Adding support for auto detection of wire protocols over a transport.
OpenWire, AMQP, STOMP, and MQTT can all be detected and the broker
will properly handle each one over a given Transport.  Currently
auto TCP, NIO, SSL, and NIO+SSL transports can handle auto-detection
of the wire format and client but support could be added in the
future for other transports like websockets.",108,3912
e5a94bfee2bc850f1999c58c2916655e8caba2d3,https://issues.apache.org/jira/browse/AMQ-5794 - duplex network case calls start twice and would start a connect check timer in error. Fix is to only start connectiontimeout if we have not already started the rest of the monitoring,3,34
e14aca871c779d7f017d3f068719dc53b0351d18,"https://issues.apache.org/jira/browse/AMQ-5889

-Cleaned up missing license headers and refactored packages.
-Added configuration options for a protocol detection timeout and
for the max number of connections accepted at the same time.
-Fixed a regression with connection counts
-Also added some more tests",144,601
3c358b32fd009640c2377270543c3d1dac2f6afd,AMQ-5889 - refactoring and cleanup,45,43
f8060a7b385a8c200852ecd98d1a0718123d9d80,removing inadvertant check in of temp files,0,0
80ee2c2d81eca706e61e872c70a0dcf21223d0fd,"Ignoring .tmpBin directory

This directory is created sometimes by the sbt plugin for eclipse under
activemq-leveldb-store",0,1
049f8da23605e13f60a8a53a519661cfb226edc1,AMQ-5891: update to the proton 0.10 release,1,71
ffdaeb2bd19b299613de7aebc809079bc2cd4416,"AMQ-5920 - make using a vt transaction configurable, a transaction negates concurrentstoreanddispatch and imposes local 2pc on mKahadb so needs to be off by default",1,18
3ee84a17fbc784c76948cf5e629f62fabbf11592,Update KEYS,23,102
3c2ed9352b38f39ba57b322b9006ab82d7a4470f,AMQ-5933 - add test and fix,8,27
29bf0d4359e7dfc3dda251d724a2c7746d98c2ea,https://issues.apache.org/jira/browse/AMQ-5935,1,1
45e37e97884484ba9c71ed21a19827b8271b9191,"https://issues.apache.org/jira/browse/AMQ-5926

Adding camel and related dependencies to the activemq-all shaded jar",0,7
3f5cfcf6de7910e52871604c8886f2b0da3084b4,"https://issues.apache.org/jira/browse/AMQ-2174

Add a test case.",0,125
2e4c907f2dd844da572d896bc2191004c2132edb,Upgrade Camel,1,1
11579bb918bcc4e2689556b2bb4bbf46d5fcabe6,https://issues.apache.org/jira/browse/AMQ-5938 - add remove(messageId) op to offline durable subs jmx view,49,234
d983d525ce22025dd6ad4b27e729e1a1917f06f5,"https://issues.apache.org/jira/browse/AMQ-5941

Modifying ActiveMQResourceAdapter to implement Serializable to support
WebLogic.",17,27
10a74ce7374d717defca0905f62e2181a93c6b20,"https://issues.apache.org/jira/browse/AMQ-5943 - patch, with test, applied with thanks to Torsten Mielke",18,441
acb8602adaeeb982113e6924ce7296d186a5bf2b,update JUnit to 4.12,1,1
ee54f09303f52d2753ce9ac8e64008e3e60c2eab,https://issues.apache.org/jira/browse/AMQ-5831 - revisit topic subscriptions,51,119
950dc926776b6f4a2006647ecbf1a15f18dd7564,AMQ-5878  Update Jackson deps.,1,1
547476d1bc8bd6d5c824d51bc0dc3cdd5a201f4c,compact byteSequence before xstream marshall so that only required bytes are base64 encoded,2,42
1ea289736b998f76668f66985c6e03770b5db3a3,https://issues.apache.org/jira/browse/AMQ-5943 - rename resources so that they don't match the surefire *Test* filter which will try to execute them as tests,6,6
ae9af4b8b29e792db213ca2cc2879ddc7c4118e5,https://issues.apache.org/jira/browse/AMQ-5951 - ensure failover oneway won't retry if reconnect will not happen,3,64
8400a780c80791f572b90a8baa2fd7bcc14ac4d6,AMQ-5935: update to Qpid JMS 0.5.0 release,1,8
5b2aec54721f168ee520c36b5d34cf9ceb7022fb,AMQ-5935: fix earlier fluffed commit by removing old staging repo details,7,0
505916b92797035c6c41174f220d9e9c9f669b79,AMQ-5949 Treat maxSendRetries of -1 as infinite.,1,4
f44c3d20ed2a9f74746a02418a4381909936a000,"https://issues.apache.org/jira/browse/AMQ-5356

Upgraded to Jetty 9.2.x to solve JDK 8 compatibility issues.
This required migrating to the new WebSocket API.",1164,1170
0f492f3b4bc2665fd38ea66813381e4bd9ca3b64,"https://issues.apache.org/jira/browse/AMQ-5356

Migrated to Karaf 4.  This was required to support Jetty 9.2.x.
Fixed all OSGi unit tests.",77,140
c7b93d123228a8501e41956493859e581ef0533b,"https://issues.apache.org/jira/browse/AMQ-5953 - transaction broker, fix sync of xatransaction get with insert",4,7
73f9131a62f5d03db4de8a959d67ed58c595492c,https://issues.apache.org/jira/browse/AMQ-5956 - improve CLI commands error handling,185,142
ad00e1fe52bba3efab77f528712953fa8e9666ca,"https://issues.apache.org/jira/browse/AMQ-5958

Update commons pool2 to latest release: 2.4.2 as of now.

This closes #139",10,10
f58683ea07c49aa567a3dc888b12b7de92918ed6,"https://issues.apache.org/jira/browse/AMQ-5959

Add check to avoid NPE",6,7
b17cc37ef934404e6383d10c966c43fc20e48215,Fixing intermitent Karaf itest failure,23,2
734fb7dda35285ada7bc57642215077e08c88e80,"https://issues.apache.org/jira/browse/AMQ-5923

Adding metrics to track the pending message size for a queue and for
subscribers.  This is useful so that not only the pending count is
known but also the total message size left to consume. Also improving
the message size store tests as well.",326,1919
4ab55f13ae4097de1dad14af36b65a89eda9b81d,https://issues.apache.org/jira/browse/AMQ-5960 - durable sub pendingQueueSize after force shutdown,0,7
d1dface01a7b253c6bec17c8ef1187288235357d,"https://issues.apache.org/jira/browse/AMQ-5923

Adding a null pointer check in PListImpl to prevent a null
pointer exception on remove",9,11
f4a2543def0d7240fc97f850a53f6be48dc74562,https://issues.apache.org/jira/browse/AMQ-5960 - durable sub pendingQueueSize after force shutdown - fix npe test failure,4,6
3ec560f2a83f9973a9c130a4ef8dc2eeeeb51ab2,"https://issues.apache.org/jira/browse/AMQ-5923

Making message size statistic tests more reliable",2,1
d27b192553f2a81ea1e18c239aa22ce599c126c7,"https://issues.apache.org/jira/browse/AMQ-5923

Removing TemporaryFolder usage in Junit tests to try and fix the
tests that are hanging when messages are produced.",24,19
fe34a61c3a63bdb9f0562131f72b1b5e562eb613,"https://issues.apache.org/jira/browse/AMQ-5962

Update HttpClient and HttpCore to latest release.",2,2
226222546ab94441e6d66ea641092471d5b8b886,"Adding logging to help debug test failures

https://issues.apache.org/jira/browse/AMQ-5923",15,28
4f8d56aaf60f99abe643e79c6c4940a571289a86,"https://issues.apache.org/jira/browse/AMQ-5967

Updating temporary limit disk check to take into account space being
used by the temporary store itself",5,8
32ca1f53fa3c93cefb7ee96aeee2bc5bd898b2ce,https://issues.apache.org/jira/browse/AMQ-5956 - propagate exception - helps with AMQ3410Test and AMQ3411Test failures,6,4
4cddd2c015435732b3ff5503160fa87b37154e2b,"https://issues.apache.org/jira/browse/AMQ-5963

Disk limits can now be specified as a percentage of the partition size
that the store is located on.  The usual checks of the max size
exceeding the available space will still apply.  When using a
percentage, the store can always regrow itself if space becomes
available.

https://issues.apache.org/jira/browse/AMQ-5964
https://issues.apache.org/jira/browse/AMQ-5965
https://issues.apache.org/jira/browse/AMQ-5969",62,3665
8a09b7e5f6cf5fcb5579f7183bd410f22be076a6,"AMQ-5923 - Increasing test timeout times

Logging showed that intermittent test failures were caused by not
giving the tests enough time to finish. Also switched message
generation to create random sizes in order to improve testing.",28,29
ee4672baaf190782c197b886f13aea566ba3253f,https://issues.apache.org/jira/browse/AMQ-5972 - wildcard policy entries not applied in correct order,4,220
d2bd152960a74de6a61c2ddbea81ddcdcb70c177,Tweaking some unit tests to improve reliability,18,24
5107262998a22d854e1cd18f6911da2169ac5885,AMQ-5964 - Increasing test timeouts,6,6
38a6bedf922c053f39bb18bed5e17406e2cc7046,"https://issues.apache.org/jira/browse/AMQ-5860

Adding support for encrypted passwords when using the LDAPLoginModule",3,117
ebf27cb39822d49d93fa40881dca640acec52a32,"https://issues.apache.org/jira/browse/AMQ-5957

Updating to Spring 4.1.7.RELEASE",4,4
e9aedc8019c2491fc92af833bf16bebf64036ce7,"https://issues.apache.org/jira/browse/AMQ-5974

Updating to latest Mockito version, 1.10.19",1,1
cc9b9b0843d7e404bdeca1a1dd09d9a9e958f967,https://issues.apache.org/jira/browse/AMQ-5938 - remove unnecessary topic cast - breaks auth scenario. Fix and test,2,40
00d19e7b66e1d6e35adb43336fb5ec5bad41093e,Removing inadvertantly checked in file,3147,0
130455c925786c4bf3333e59240ff0789b9d026f,"https://issues.apache.org/jira/browse/AMQ-5968

Fixing a potential null pointer exception when attempting to use
scheduler support with replicated levelDB, which is currently not
supported.",1,1
103efe1d4bb4c6a01bdfaafff368b8103a343d3b,"Update Import-Package to include Spring 4

Update OSGi metadata to include Spring 4.X in the version range. Removed duplicate org.springframework.osgi* package reference.",5,4
c08efbe6c2e490b1c00593df8fdbf93b847b971d,"https://issues.apache.org/jira/browse/AMQ-5922

This closes #121

Thanks to Seth Leger",5,4
86c826c4615d5f4d90cc3f75fef845640369458d,https://issues.apache.org/jira/browse/AMQ-5568 - verify delete return code for win platform failure. Thanks to Erik Wramner for the heads up,6,8
b7a57876102911a2a5cc406e3f85f80b28e9e16c,"AMQ-5977: Add LSB headers to init script

Add LSB headers to init script to fix problems when setting up ActiveMQ
as a daemon with chkconfig on RHEL and clones.

Signed-off-by: Gregor Zurowski <gregor@zurowski.org>",0,11
fcabcd282dc01c6faaff3c7627882f42a64543b4,https://issues.apache.org/jira/browse/AMQ-5960 - rework fix to reset the next sequence so that the next ack position and message reference gets cleared up in normal operation,12,9
b68b273c4c7eb99c5a6dc1564f12f6371887c97f,"https://issues.apache.org/jira/browse/AMQ-5982

Updating netty to version 4.0.31",1,1
a74c5d50658dc6922ac85e2a25ea7fedf31a5888,"This closes #147

Merge branch AMQ-5982

Thanks to Chad Zobrisky",1,1
b2b949791a16f7c43871187cad9778ae0f92d076,"https://issues.apache.org/jira/browse/AMQ-5878

Update to latest bugfix release of Jackson.",1,1
caac4f784ff93de71b776cce19804907dda868ca,"https://issues.apache.org/jira/browse/AMQ-5962

http-client v4.5.1 now latest.",1,1
179d7c058080e1546e82e9ad1f84a10cfdc7afc6,Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/activemq,15,12
d6682e5476cd8cbefca04227ffa26a5d508d2494,"https://issues.apache.org/jira/browse/AMQ-5957

Update several dependencies to their latest point release version.",4,4
4a8fec4a6698552ee14c232f122f3c7387679b38,https://issues.apache.org/jira/browse/AMQ-5983 - mqtt virtual topic queue restore,2,50
f6e1054a4b7eb67568982acc2a3dd488db21e509,https://issues.apache.org/jira/browse/AMQ-5984 - fix sync on get for access ordered LinkedHashMap,2,2
8d982479e9a5579fc3f6da04109a1b3ef69431eb,"https://issues.apache.org/jira/browse/AMQ-5854 - fix and test. Ensure transaction rollback if there are pending acks during a failover reconnect. Reliably tracking pending acks to eusure possible redelivery is too complex in the context of acks getting dropped by failover or ignored by the subscription, in addition to being sent async. Couple that with multiple consumers on the same connection and the locking of message delivery; only safe course is to ensure rollback outcome.",2,300
92e1f60d984d0e29eade47dbb6d2d30d838254c2,https://issues.apache.org/jira/browse/AMQ-5854 - tidy up test,5,4
94b56977d24d512043463df03dd4b1c8a2bf9445,"https://issues.apache.org/jira/browse/AMQ-5957

update the xstream bundle version.",1,1
8514e38135cf3c4da913806f3677a89785613e10,"https://issues.apache.org/jira/browse/AMQ-5951 - scenario wheere transaction command can block, additional test and further fix",9,47
fc25535748fb8dbaea588203086c4802d1ccf091,https://issues.apache.org/jira/browse/AMQ-5854 - fix intermittent test failure,16,22
9a78bc689f06dde61ba38be1ebc840a53ca02b68,"https://issues.apache.org/jira/browse/AMQ-5961

Prevent deadlock by moving calls to afterCommit
and afterRollback out of synchronized blocks.

https://issues.apache.org/jira/browse/AMQ-5961
Lock list but keep global hashmap out for deadlock protection.

https://issues.apache.org/jira/browse/AMQ-5961
Lock safely in isInXATransaction.

https://issues.apache.org/jira/browse/AMQ-5961
Don't synchronize on list as we have an exclusive reference.",43,59
450a5226e01a6a75e5dda4efbf088933fc0878a4,"https://issues.apache.org/jira/browse/AMQ-5961

This closes #143

Applying patch with thanks to Erik Wramner",43,59
7c7c505057ec350eada8d5194b7e30337277f9b2,"https://issues.apache.org/jira/browse/AMQ-5990

Disabling JMX for the Commons Pool implementation inside of
PooledConnectionFactory.  In the future if we want JMX we should
enable our own JMX stats that are independent of Commons Pool.",6,8
81b4b9ae3d17c83c42c17290348e2aed6f17d28b,"https://issues.apache.org/jira/browse/AMQ-5996

When possible check for noLocl changes on durable subscription
reactivation and recreate the durable sub if it changes.  For both
selector change and noLocal change also update the AbstractSubscription
selectorExpression so it matches with what was requested.",43,564
b83c38b04c3e4330e6d5f57e4c5d7f3fd62942f0,https://issues.apache.org/jira/browse/AMQ-5997 - support legacy clients,1,4
655b595f5303ae6ce58cc909d48ed59b693b668c,https://issues.apache.org/jira/browse/AMQ-5998 - Upgrade Pax-url to version 2.4.3,1,1
50591c313a88b6ebe38ebf3b264d05ecad5f069a,"https://issues.apache.org/jira/browse/AMQ-5998

Merging patch to upgrade Pax-url to the latest
Applied with thanks to Andrea Cosentino

This closes #148",1,1
95be3698cd392f4415c0a8ab5e15b41a90d0223a,Upgrade jolokia,1,1
dc06c8dc7540233aad6722afe554c2ea505754e2,https://issues.apache.org/jira/browse/AMQ-5994 https://issues.apache.org/jira/browse/AMQ-4000 - proper fix for duplicate sub info from the store on recovery failure from AMQ2149Test. Additional test from Christopher L,18,379
bbcd93803207f22d6c549bc79dd7d0c28e16be26,"https://issues.apache.org/jira/browse/AMQ-6001

Refill credit at a slightly faster rate.",2,2
aa743cbd7ab7815bfa84e11aee9d3783c08e9eea,https://issues.apache.org/jira/browse/AMQ-6002 - escape client id in virtual topic mqtt subscription,53,69
816e8dfe5413cf9316bf1946afe6f236d85f8351,https://issues.apache.org/jira/browse/AMQ-6002 - escape client id in virtual topic mqtt subscription; add test,0,86
6fef9eea65d7cd6de3277db1947dda6147a6c563,"Cleaning up logging

Fixing one of the logging statements for the disk usage check process
that warns when the amount of free space is too low",2,1
4adc8e4f4e57a4335643f49c3072e5fd531c7f27,"https://issues.apache.org/jira/browse/AMQ-6004

Calling socketHandlerThread.interrupt() on TcpTransportServer stop to
make sure the broker shutsdown cleanly.

Patch applied with thanks to Erik Godding Boye",0,4
afc6f44fc0003244fa4d6c25bd620ea88503be3d,Upgrade to Camel 2.16,1,1
f580b722706195a57439a7449c62fcc3d9074ef5,Adding my key,1,58
caa6e33362bb89ac59f4e13c0e2133b059e02951,fixing KEYS format,1,2
3744349d08fc356161b93c2540f79364457a2c7f,Adding schema for 5.12.1 release,0,1
ae2a9940f3231a95600236d25119762462612727,AMQ-6009: update to Qpid JMS 0.6.0 release,1,1
1b52a13e839dbbb70839f36303e6a92002179459,https://issues.apache.org/jira/browse/AMQ-6003 - Upgrade Pax runner to version 1.8.6,1,1
75203ede27d0fbbc87c441ef5364a717a7cfcc20,"https://issues.apache.org/jira/browse/AMQ-6003

This closes #151
Applying patch with thanks to Andrea Cosentino",1,1
f92c23a64e1492f90f365f1fee6f7002d5c3ed47,Updated jodatime to 2.8.2,1,1
b5bfe2707bf36a7feb698ec142db02d9190fab3c,"https://issues.apache.org/jira/browse/AMQ-5931

This closes #149

Applying patch with thanks to Chad Zobrisky",1,1
af09b4586ba87d15d82645232778389ce961fcce,"Improving disk usage log message

Improving the warning message for a percent disk usage check so it is
more clear what the original limit was set to and what the current
limit is being set to.",3,5
b285d1018803ceb4fdf7ea14c178de1e0abc9c8a,https://issues.apache.org/jira/browse/AMQ-4705 - ensure jvm lock system property is cleared in the event of lock release throwing exception.,7,12
80b526be7df3471876eceaa2c610747ca7fb89da,"https://issues.apache.org/jira/browse/AMQ-6010

Fix for failed SSL connections not releasing the connection count in the
transport which leads to connections being rejected as having eceeded
the maximum configured connections.",0,162
e8a0d042d8897cffd904697ac8febae7824ddc18,"NO-JIRA - Fix some warnings from unused imports and use of deprecated
methods.",7,13
a7e2a44fe8d4435ae99532eb0ab852e6247f7b16,https://issues.apache.org/jira/browse/AMQ-6013 - restrict classes which can be serialized inside the broker,13,105
499ced17018fbac42addbd62544016e08cdf5a9c,"https://issues.apache.org/jira/browse/AMQ-5973

Updating to Spring 4.1.8.RELEASE",1,1
5c5ced8e8754e4c0a1053a621e8f16c727dcd1a4,"NO-JIRA enable test that was ingored for the old amqp-1.0 JMS client,
now works with QPid JMS.",2,0
1ad0117932ae73603b963860c92c0980a3572b9e,https://issues.apache.org/jira/browse/AMQ-6014 - fix up reference counting for durable subs such that ack on one sub does not decrement usage for offline subs. Fix and test,3,209
490436c136a6e7e44a3d907378afebd264d3cd3b,"https://issues.apache.org/jira/browse/AMQ-6015

Add support for returning some more meaningful error codes.",3,235
e100638244c4ca5eb2a1f16bcdc671c9859c2694,https://issues.apache.org/jira/browse/AMQ-6013 - init serializable packages statically,14,9
dc19d28af92a5fce4969352c53f02b11ee3f59e9,https://issues.apache.org/jira/browse/AMQ-3573  https://issues.apache.org/jira/browse/AMQ-2834 - only validate limits if they are set,2,2
a01578ad4c93da5b28b76a9ef534394e5dcbb887,fix stop/stop or stop no start NPE on sharedfilelocker,2,11
43c3cae2c069c98215e2c0f1ff19e883fd6c0b86,"https://issues.apache.org/jira/browse/AMQ-5915

Adding a new JavaRuntimeConfigurationBroker which allows dynamic
changes to parts of the broker through a Java api instead of
just through xml configuration.  This is useful if starting a broker
with java config and not using xml.  It is also useful for temporary
changes that shouldn't be persisted.",329,1929
92d5efc32ca79b23225a2fa5225fe07083a0c3e5,https://issues.apache.org/jira/browse/AMQ-6014 - test needs more time in ci. need to figure why it is sooo slow,1,1
5d697cff3b0f98a2d4d4f7176508bbbc77305d5d,https://issues.apache.org/jira/browse/AMQ-6016 - rework fix for https://issues.apache.org/jira/browse/AMQ-2106 - account group assignment on a per destination basis to prevent modification during consumer ordering,16,33
6f524bfea0df670fe0db5ca1fa759123ac6b47e0,https://issues.apache.org/jira/browse/AMQ-6017 - respect ioBufferSize for nio transport,2,2
9ddd162d2584f39c8e3b303db91dc43143381ecc,"https://issues.apache.org/jira/browse/AMQ-4361 - implement suggestion from Sam hendley with thanks, avoid the IllegalMonitorStateException",1,1
7c06d8d683290e9ebda0312993236b0895b68172,"NO-JIRA Allow validation points to use asserts, adds a new test in idle
test.",11,75
ef6b1e107bd7d8bdd8280a9b46adbe450598b1d6,"https://issues.apache.org/jira/browse/AMQ-5981

Updating to Karaf 4.0.2",1,1
f09b9203a045cc1db6ba0b47a270b9f5288bbb7c,https://issues.apache.org/jira/browse/AMQ-6021 - mqtt+nio+ssl certificate authentication,20,62
0ff46b18790d8df6221346b0f433fea53fa5c69a,"[AMQ-6020] Adding the necessary import and removing the export packages
This closes #153
This closes #152",0,2
4d73b089230e40c003d16dbf2f3171f1e8bf07f1,"AMQ-5957 AMQ-6022 AMQ-6023

Update netty, snappy, jackson, and some maven plugins to latest patch
release.

This closes #154
This closes #155",5,5
8d63083dfff064efadbe99a66deeedef829e519e,https://issues.apache.org/jira/browse/AMQ-5876 - load groups properties into per user set once also to avoid parse per login attempt,29,35
f8bfff0bc864b67ff97c67f6193e0fe7785cfbbe,https://issues.apache.org/jira/browse/AMQ-6029 - wss transport with certificate authentication,7,335
8136e67b408a3d756241ebdf8de9347eb6135363,https://issues.apache.org/jira/browse/AMQ-6016 - ensure xstream inits transients to default values when it bypasses the default creation method through object deserialization. Can make it more general if there are ever more instances of this. It avoids the need to check for null and sync,1,11
c360c3e4a38b51f72b109a095a648433754acc2d,AMQ-6030  Add support for composite destinations to STOMP.,36,596
c5506f5b17a178b9890cd6dac363ba95aa572b2c,"Switching getter method to public

Switching isReduceMethodFootprint() to public access so it can be
accessed.",1,1
037f91d61e0e632bc6b3b32c91b8cf58d8b673ae,AMQ-6031: use System.nanoTime() when deriving time to tick the transport with for idle-timeout handling,8,18
014d5594d605515e84f935eea3fcd1a201648653,"AMQ-6032 Repack message prior to scheduler dispatch to store updated
properties in marshaled form.",2,196
fd0f71a4c82f1189bed6bd31efa4b17c297816f7,"https://issues.apache.org/jira/browse/AMQ-6033 - fix shadowing error, additional test",7,73
82a5839fc733c24cef6e2178b52d8fb649b69879,"NO-JIRA Update test client to have no real linkage to the activemq
internals to make it easier to share the tests with Artemis.",406,2706
b3d35472f9019353c3af829a494f48b1d3274bee,Upgrade netty,1,1
5db9af8b24cea9ab9460abd1c06221e1f08d6d48,"https://issues.apache.org/jira/browse/AMQ-6035

Adding a flag to be able to specificy when to apply changes immediately
after updating the virtual destinations using the Java runtime plugin.",0,72
a42be999cbda2b89433a71e909a6e0aaf55dfec7,NO-JIRA Fix test with commented out assertion.,1,2
480b3e7c36b157d12dfdc1318f5517c4050df312,"https://issues.apache.org/jira/browse/AMQ-6037

Add support for the delivery time header to allow for scheduled messages
at a desired time.",1,204
cc81680e10e5c7140ec3e28091df23e9d3c3233b,"https://issues.apache.org/jira/browse/AMQ-6027

Adding support for consumers on virtual destinations to create network
demand. This behavior is turned off by default but can be enabled.

For example, if a consumer comes online for a queue that is part of a
VirtualTopic, this will cause a network of brokers to forward messages
because a demand subscription will be created. Same for if a consumer
comes online for a forwarded destination from a composite
destination.

There is also an option to enable flow based on the existence of a
virtual destination if the virtual destination is forwarding to a
Queue.

Full configuration instructions for this feature will be on the wiki page.",3,2076
0c846cf8f6bcb999f98d499a717e922cbd04c6d2,"https://issues.apache.org/jira/browse/AMQ-6027

Tweaking test case to apply virtual destination updates immediately",28,27
938aa626c2b6a4d285f0a481be32eb6eecb26333,"https://issues.apache.org/jira/browse/AMQ-6039

If the rename option fails, then we must try a complete copy since the
move can cross file systems.",2,14
3ef6a9f7693972c7001f82375b684998ae3f46b9,"https://issues.apache.org/jira/browse/AMQ-6027

Fixing unit test to pass assertion",12,12
078a101cf735ae23ebf96b3bbe3f53003dccc0c7,"https://issues.apache.org/jira/browse/AMQ-6000

Fix and test, wakeup queue dispatch when resume is called.",1,146
5d353e241b0ba76ad1a0b42ef5c7a2ae54106860,"https://issues.apache.org/jira/browse/AMQ-6037

Add support for amqp style variants of the ActiveMQ job scheduler
options set in message annotations.",3,112
d3288644105c1674362fca138d199ed6085513c0,"tweaking PeriodicDiskUsageLimitTest

Increasing the size of the files written during testing to try
and reduce the change of a test failure",8,8
86ead7e9d28cf79116d16b676ecaabbc07fc2465,fixing unit test to dynamically use a free port,3,1
16e66f9d89f6bb076d717da3164a9c13c3250bc4,"https://issues.apache.org/jira/browse/AMQ-5957

Update HttpCore to 4.4.4",1,1
11ac3d9d85a32b5f58e9fdbdb11e9354dc9c689e,AMQ-6045: update to proton-j 0.11.0,1,1
caa6b8e2539132999045c3fbbd627a2dc6d0885c,"https://issues.apache.org/jira/browse/AMQ-6046

Prevent concurrent access to protocol handlers which can lead to
transport level deadlocks.",3,25
78c959a5c44e51d3591987962897e04fc81b06f0,https://issues.apache.org/jira/browse/AMQ-6049 - limit query results,2,13
09054fc4a85bcdef9e19e589be368d0e9cf0de41,"https://issues.apache.org/jira/browse/AMQ-6050

Clearing the subscription from the local map in
DemandForwardingBridgeSupport to make sure that demand can be properly
recreated again.",52,329
d7a3b9406b8496c3f1508bebf3c7ff5367374b90,"https://issues.apache.org/jira/browse/AMQ-6029 - make certs available to tunnle servlet - HttpsNeedClientAuthSendAndReceiveTest regression, add javax.security so login exceptions can propogate over http - https://issues.apache.org/jira/browse/AMQ-6013",1,5
15412bae64bf265687b1099e19cba008bac9c825,"AMQ4221Test - remove system exit as it breaks surefire fork, https://issues.apache.org/jira/browse/AMQ-6004 interrupt causes errors on shutdown. Two are sorted but the check for errors in the logs may still cause intermittent failures",8,10
64aac4ce73efb6ce85b8d9b147bc83d6a87e2b79,org.apache.activemq.network.VirtualConsumerDemandTest can take more than 10mins - increasing the fork limit,1,1
cf5735320f378e64d4b35e774274c15391a62767,Use the new 3.2.2 relese of commons-collections to fix its security issues.,1,1
934f3cea7effdff3b43ddabc9d0f03535fa44e5f,release the connection even if broker communication fails,25,27
d730e35f9dcb11b94f835c9619a69eb4d4d785b3,This closes #158,25,27
ce5628a389b5491975fda0493ab9073cca6cb87e,AMQ-6055: uptest test client and add [currently-ignored] test to demonstrate the issue,7,223
d7e4c6d96f0e5b26d4b392e6b36595ee644fb9a2,AMQ-6055: fix for earlier change to plain response encoding,1,1
b5dd0a16f4197cfab086b3139892a73b27c8ac74,"https://issues.apache.org/jira/browse/AMQ-6055

Account for Authzid in SASL PLAIN mechanism and provide a means to fail
the authorization if the challenge response is invalid.  Update the
client to properly exclude sasl mechanism that don't apply to it's
configured credentials such as using only ANONYMOUS when no user or
password is set.",30,129
cc6213ebf25a129b278a2ff0d7c32c25edd71eaa,"https://issues.apache.org/jira/browse/AMQ-5712

Switching addMessageLast to tryAddMessageLast when messages are added
to a Queue pending cursor to allow a potential deadlock to be
avoided. There is more work to be done here but this will at least
prevent a deadlock from occurring.

Fix and test based off of a patch created by Timothy Bish.",60,352
4a27b72377bf8104b1a586bb26946c59508a3f26,"https://issues.apache.org/jira/browse/AMQ-6042

Apply fix and test from Martin Lichtin to preserve the rollback cause in
all ack modes.",29,108
272fb2b97300362f2aaabf78763d62e95d3becaf,"https://issues.apache.org/jira/browse/AMQ-6044

Add support for transactions to the test client.",30,1236
de5d0d9430838948196f573c5278c75fbee9f25e,"https://issues.apache.org/jira/browse/AMQ-5854

Fix intermittent test failure caused by the test reconnecting before
the failure assertion had a chance to assert the expected failure",0,9
bbde8473bd12a7ce5f34977eddfc3fcce3bde7c2,"https://issues.apache.org/jira/browse/AMQ-5980

Fixing an intermittent test failure in:

org.apache.activemq.transport.ws.StompWSSTransportTest.
testHeartbeatsKeepsConnectionOpen

Adding synchronization on sends for StompWSConnection.  The protocol
doesn't allow multiple threads to call a blocking send at the same time
and the heartbeat keep alive thread was colliding with the main
thread on sends.",3,3
3a3dcac184ac0f064c3dc168b4e142efebfb522e,"https://issues.apache.org/jira/browse/AMQ-5957

Updating several dependencies to the latest",5,5
48fbd3116d442aca381becf6328bdc9cf27bc1a0,test for transacted send and ack camel route with explicit set of connection factory necessary due to config clone across component endpoints,0,157
4318eba4a34ad64b1dad549ba94dadd155149b4a,https://issues.apache.org/jira/browse/AMQ-6014 - topic store prefetch should take ownership like in the non persistent case - DurableSubscriberNonPersistentMessageTest regression,3,1
4c1a6b4c2b933809ab0cbc4876d6fa3b368f9e1f,Add Martyn's key so we can keep the KEYS files in sync,0,37
8be148650805b9cedb2d58d86003be0ba9efb725,"NO-JIRA: Add a delay to fail in case an async operation has not fully
created the DLQ yet.",18,27
dca6e4506eab2c6f5752085e39dd3368ead4afed,AMQ-6058 added a check to make sure the destination starts with the virtual topic prefix.,1,117
bf36c4cb880b26964f63fe3d7d7e47745d0b3916,This closes #159,1,117
bc9edf00d198634722e4e8a2699a285e6050c184,"https://issues.apache.org/jira/browse/AMQ-6058

Updating patch to make sure SelectorAwareVirtualTopics are covered
and code cleanup",18,19
d9e22a9368cdaa67501374a41e9ccafc2629f488,"https://issues.apache.org/jira/browse/AMQ-6044

Clean up some test client code.",128,102
9bc28214d53351a6fa6cf459383d5e449a100d2d,https://issues.apache.org/jira/browse/AMQ-6060 - retain will message,0,123
ef129c21cd189757ba08345edb560eceabb16ee2,NO-JIRA ensure each test has a store with its own directory.,1,7
e07809dec603832a45d5d3377b4578caee27ed49,"NO JIRA - Clear journalSize counter

The journalSize counter should be set to 0 after KahaDB is shut down.
Usually, a store is not restarted again after stopping, but if it ever
was the value would be wrong since it wasn't reset back to 0.",1,2
9acee62877a25152cd7ed567671c57599e556634,"https://issues.apache.org/jira/browse/AMQ-5963

Making unit test more robust",57,56
3b658f8e1aa8c9170b8d414fe8cd05c6826b490a,"https://issues.apache.org/jira/browse/AMQ-5393

Allowing disk limit percentages to be 0",3,2
35b7ac250b5fa0b8c8dbf728881cc9dbf6edce19,"https://issues.apache.org/jira/browse/AMQ-5898

Removing assertion in VirtualDestinationInterceptor to allow
multiple composite destinations to forward to a physical destination",1,139
8f30866fdf89f25188a358f1b1c161b2f06de3f5,"https://issues.apache.org/jira/browse/AMQ-6063

Fixing potential NullPointerException during KahaDB index recovery.",6,8
29d943429cc0742eaef52095be73c27cc856c34b,"https://issues.apache.org/jira/browse/AMQ-5393

Reverting commit because allowing 0 doesn't actually set the usage to
0 size.  It ends up disabling the check all together which was the
opposite intention of the commit.

This reverts commit 3b658f8e1aa8c9170b8d414fe8cd05c6826b490a.",2,3
95f58fa7c4e26b5b2d73a80bd8e1cb2bee8ebf47,"https://issues.apache.org/jira/browse/AMQ-6027

Adding back in test case now that AMQ-5898 is resolved",0,50
0a12bcb928f151b5ace9a0cffc34ec717b6a8e9c,"https://issues.apache.org/jira/browse/AMQ-2191 https://issues.apache.org/jira/browse/AMQ-3529 - rework fixes to remove uncertanty from dealing with intettuptedexception. Sync requests will trap interrupts that ocurr while waiting for responses and fail the connection with an interruptedioexception. Interrupts pending before requests will be suppressed, allowing possible clean shutdown. It is not safe to replay openwire ops b/c they are not idempotent, the only safe option is to have a teardown of the broker side state from a close",82,616
2aa172f905d3c783c722f6aedd0fe2c1af7b988d,"https://issues.apache.org/jira/browse/AMQ-6065 - allow ioexception handler to flip the systemExitOnShutdown broker attribute before calling stop, i.e: exit on store io errors",0,77
673c2928a1b567958c2d9eabe2995a039f2aa1e2,"https://issues.apache.org/jira/browse/AMQ-6066

Improving performance of OrderedPendingList contains method

Thanks for David Sitsky for the patch",5,1
39a20bd788c664105c18886abf77c372cf9229aa,"https://issues.apache.org/jira/browse/AMQ-6065

Fixed test case so that a System.exit call will not take down the
JVM and cause the test suite to abort in Jenkins early",5,33
1499f2eee064d7837fe45f781f56d5ec35bcd45c,Adding 5.13.0 to schemas file,0,1
1bef4de4dc6744c23c22d2dac0faf0c9a6ab68d9,"Revert ""https://issues.apache.org/jira/browse/AMQ-6065""
CPL dependency is not fully compatable with ASF and is not really necessary

This reverts commit 39a20bd788c664105c18886abf77c372cf9229aa.",33,5
f09000d1e61a0131ee20df22b7b2ac6d297ebd07,https://issues.apache.org/jira/browse/AMQ-6065 - ensure no call to exit. fix mock test to account for extra call,0,3
abfe038ddfd6d6c4f7c41e106dabc815041b04c5,[maven-release-plugin] prepare release activemq-5.13.0,42,42
cfb4ca9f5427e2bf56a52cb184d68cdc40966122,[maven-release-plugin] prepare for next development iteration,42,42
144b711a9afa412b481ef359f03fc44013e4b0be,"add some additional trace debug to investigate linear store usage, this test has been failing in ci for the past 7 builds but work ok locally. This additional trace will help diagnose",1,11
5a27bdf07e1cc77251d02d10b477b38d34413d91,"https://issues.apache.org/jira/browse/AMQ-6068 - fix and test. Cleanup from ra managed connection needs to remove the connection info, leaving the tcp connection free for another identity. Possibly this could be conditional on having a user supplied clientId",6,41
8363c99b51a98eb176e6baea82fcafce3225ba2c,"https://issues.apache.org/jira/browse/AMQ-6069

Fixed contains method in PrioritizedPendinList which was not returning
correctly.  This was causing messages to not be removed from the
dispatchPendingList when purge was called inside a Queue leading to an
eventual OOM error if enough messages were purged. This fix also
improves performance of the contains method.",11,32
d346a765e3064a951c5d55119b80b8432a45bcb6,"https://issues.apache.org/jira/browse/AMQ-6062

Updated QueueBrowserSubscription to use a ConcurrentMap to avoid a
potential race condition when multiple queue browsers browse
multiple queues.",10,4
75ff17af414b98dbdd891f66b9425692ca799fcc,https://issues.apache.org/jira/browse/AMQ-6070 - set correct originalDestination property value in advisories,5,7
66c348b1b85e341ed508b9c10028c037a226dfb6,https://issues.apache.org/jira/browse/AMQ-6071 - Log info about corrupted journal records at WARN level,2,2
913f64476b66c452fa03cb4fb8c09d831825bca5,"https://issues.apache.org/jira/browse/AMQ-6073

WSServlet for websockets will attempt to detect the subprotocol
requested and respond with the appropriate one.  Currently the protocols
loaded are what stomp.js use for stomp (v11.stomp and v12.stomp).
If a protocol can't be found then a default will be returned, either
""stomp"" or ""mqtt"", which is the same behavior before this patch.

This will make it a bit easier to use stomp over websockets out of the
box as stomp.js will work by default.",8,335
315147c5ef3d545a868c74fe55d8ea7efb09f1d1,"https://issues.apache.org/jira/browse/AMQ-6074

Make the transportConnector configs consistent across all four variants
by removing the enableCipherSuites option on openwire NIO+SSL.  RC4 was
enabled on the broker side but in later JDK releases that suite is
disbaled as it is insecure so the client side couldn't find a supported
suite.",1,1
179dc3acb28a8a7fc3c1eddf6c6ac54fe49836a5,"https://issues.apache.org/jira/browse/AMQ-6070 - rework for virtual topic case, use the destination from the transient region destination rather than the message, such that consumer queue advisories work for delivered etc",31,66
88ec9dad9dc47790a3fc4e0f5ad939ea5530dad7,https://issues.apache.org/jira/browse/AMQ-5454 https://issues.apache.org/jira/browse/AMQ-6070 - in the case of duplicates from the store the regiondestination was not set,1,1
5772e7bed88198f57fabb08c2f48a1de68dea72c,"https://issues.apache.org/jira/browse/AMQ-6080

fixing typos",1,9
7a7c70ad7524594339c4388b897fa1eac6988928,"https://issues.apache.org/jira/browse/AMQ-6082

Propertly re-setting the storeOpenWireVersion from the BrokerService
on the KahaDB Metadata if a corrupted index is detected and the
Metadata has to be recreated.",1,81
9c4ef26d5ca27fb789e88980112598a31d178a4f,with failover the reported exception may be wrapped by the failover listener,3,3
5db5f3e39a682640b64bc904f30cbd2e0e3de4da,https://issues.apache.org/jira/browse/AMQ-6083 - ignoreMissingJournalfiles false - check for missing acks and corruption anywhere and error out so that corruption does not go unnoticed - fix and test,38,130
d7febddb6789171ccfd22faf0ee4f00f3e9c9490,"https://issues.apache.org/jira/browse/AMQ-6084 - add broker.adjustUsageLimits to disable the adjustment of limits to what is available. In this way, a broker will fail to start if constrained, ensuring it won't accept connections and block pending resources if it has earlier exited for that reason",50,124
768fa17085ac938441915a82987c99b37ac52515,https://issues.apache.org/jira/browse/AMQ-6005 - have plist whack it existing state on start. Start the temp store after the primary persistence adapter which does the locking,29,17
8609f74db329d97eac054cca2d1dd188c2960ddd,https://issues.apache.org/jira/browse/AMQ-6083 - ignore test scenario on leveldb store,0,9
31d99b6aa92aed27acfd90a4d2a278c077a47a33,https://issues.apache.org/jira/browse/AMQ-6083 - resolve some test regressions - AMQ2149Test - fail to start with missing data file. Ensure ack map is always saved on modification,2,2
93092f7ea0e231cd7d615f8ee6420c9b73a5367f,"https://issues.apache.org/jira/browse/AMQ-6070 - rework regression - KahaDBStoreRecoveryExpiryTest had NPE in the logs, region dest not set on recovery listener for expiry case",2,2
da076f4a632af6ad1d66382523f4c50e9de9e62e,https://issues.apache.org/jira/browse/AMQ-6086 - add some determinism to interleaved stop and start calls on broker service,12,333
c78eddce7ed3045b5508dd6713252dca8766436c,"revert sync ack send for https://issues.apache.org/jira/browse/AMQ-3519 due to rework in https://issues.apache.org/jira/browse/AMQ-5068 - sync send no longer needed because redelivered flag is persisted before dispatch. This avoids a roundtrip overhead on individual ack, ie priority or nonBlockingRedelivery options in the mix",1,1
94446e53dc348b9109dff46e92484ed9e6cc1d72,https://issues.apache.org/jira/browse/AMQ-6077 - define object message trusted packages on connection factory,27,101
7951037f20e8d6752ab0bbd90189a8276bc61a55,https://issues.apache.org/jira/browse/AMQ-6077 - test,0,201
35df815fb86d201e63b4f0f2d53bee3bae5c0752,"https://issues.apache.org/jira/browse/AMQ-6086 - start exception can prevent stop from exiting fully, need to be more selective in creation on stop.",11,77
455a628305dc49476d7033701901d119db3fffdb,https://issues.apache.org/jira/browse/AMQ-6086 - avoid logging npe on attempted start of persistence adapter post stop,4,12
b7787bf6fbbb33b5d16b34dab07de52b76044a4c,"https://issues.apache.org/jira/browse/AMQ-6086 - test cannot validate all start failures scenarios at this time, suffice that start and stop complete ok",2,2
9e7fae0d83c584f98e99024ba6d20e53f14b81f7,"https://issues.apache.org/jira/browse/AMQ-6088

The runtime plugins will now find the exact policy to update which means
that a destination can match more than one policy and the policy can
still be updated at runtime.

The java runtime broker also supports the ability to replace or add a
policy entry based on a flag on a new method call.",50,573
eeec0c07b06e6121ed33e20f7c663214538d0da1,https://issues.apache.org/jira/browse/AMQ-6077 - define default values (based on system property) for connection factory and object message,9,34
09cbfa947772ad859fab49c37a08d1eb8d7ecdaa,Adding activemq-5.12.2 to spring.schemas,0,1
b9dcb010f74675f6369f7e74b931b670e0ecab51,"https://issues.apache.org/jira/browse/AMQ-6077

Making new values in ActiveMQObjectMessage transient which fixes HTTP
serialization",7,51
a253ad3c71a07bb4d1883fe84be217af9855cfc6,"https://issues.apache.org/jira/browse/AMQ-6091

The JavaRuntimeConfigurationBroker can now apply a subset of policy
properties retrospectively to existing destinations versus applying
all properties of the policy update.",58,639
46654b2dee910647692745d95c9043ee271380ea,"https://issues.apache.org/jira/browse/AMQ-6093

Remove deprecated URL accessors from BrokerViewMBean",94,22
9ee92a1e16408c2174bfe29fe1ba1308821367da,"https://issues.apache.org/jira/browse/AMQ-6096

Update proton to latest.",1,1
246ccb8e04515c6e85544b32035537f60d92b5b9,"https://issues.apache.org/jira/browse/AMQ-6097

Fixing KahaDB so that the correct marshaller is used for the message
keys inside of the message order index.  This will ensure that message
size metrics are accurate.",7,68
370b1810995c48129521d1c86d7b0a31d1d966d9,"https://issues.apache.org/jira/browse/AMQ-6097

remove un-needed import statements",9,0
4e63ee7cc7c4ed7d1fb8ae916c0984b974c175c0,https://issues.apache.org/jira/browse/AMQ-6100 - Virtual topic message destination should be the target queue,3,309
9de3fff1f5c7741e8b22d821aadc4225cd3500a4,Fixes AMQ-5404: LevelDB files not being released after deletion,0,6
507d40a79f15449ba6d79ef85d7fdf6bf50a3a65,"https://issues.apache.org/jira/browse/AMQ-6097

Fixing JournalCorruptionEofIndexRecoveryTest class

Because of the size being stored in the message order index, the test
testRecoveryAftercorruptionCheckSumExistingIndex was no longer passing
as that test was corrupting the size value in the journal, but not the
size value in the index.  The test now corrupts both values so that the
expect exception occurs again.",1,37
ddd2812279e2e3f9750317e0a5a35f4187af9e20,"https://issues.apache.org/jira/browse/AMQ-6101

Update to v0.7.0 of Qpid JMS client libraries.",1,1
7525729363ff150a550d05141ed8cea8b87cc921,"AMQ-6030 Adds some advisory topic specific tests to cover the composite
case for destination advisories.",0,80
564d55023ec7386c31277db054ecc63d966e2b29,"https://issues.apache.org/jira/browse/AMQ-6102

Call to the statistics instance of the subscription to reset the
counters.",16,105
fc4c697d44390dd2a00e09a86a840f12365b8da0,NO JIRA - cleanup imports,5,0
35627d9d68128b7df62e4ed6f82aa5ef748bcfee,"https://issues.apache.org/jira/browse/AMQ-6104

Updating to Spring framework 4.1.9.RELEASE",1,1
8906a53ae5b459677d3b62501d3c5483d112e5f8,"https://issues.apache.org/jira/browse/AMQ-6105

Remove deprecated methods from JMX tree",57,0
19ea5515c88bb9dbe5aef1288029fee7f1352f53,"https://issues.apache.org/jira/browse/AMQ-6107

Remove the deprecated setPrefetch option",7,0
8e2176d93c95d847c813f54d54aaf9bafba4d5c4,"https://issues.apache.org/jira/browse/AMQ-6109

The chooseValue method in DestinationMap will now always return the
exact match, if there is one, else it will then sort as before.",2,60
e3df09b9db09d6cf2834b0beb901c253be9b6120,https://issues.apache.org/jira/browse/AMQ-6094 - regression via https://issues.apache.org/jira/browse/AMQ-6014 - incorrect ref count on message expiry event during cursor move for dispatch. Fix and test - thanks for the test,0,235
16bc0f0d750530643333695ba20f6a736704271c,https://issues.apache.org/jira/browse/AMQ-6089 - support TMNOFLAGS as a scan end to allow looping calls to recover to terminate,17,39
da3b1380234c5d1745094f883778f19e58fe9cee,"Initial Version of activemq-junit

Added configure method to EmbeddedActiveMQBroker

Added support for XBean configuration",0,824
8317208a1b6cbbd8ebda645a801bb309b73e99ad,"https://issues.apache.org/jira/browse/AMQ-6106

Merging in new JUnit Rule for ActiveMQ unit testing

Patch applied with thanks to Quinn Stevenson

This closes #163",0,824
b7db97d8e215ba16a812b5f8577f2e8d91fc7787,"https://issues.apache.org/jira/browse/AMQ-6100

Adding missing LICENSE header",0,17
43d493e527ccd7d940858646d37819d3bda0a806,"https://issues.apache.org/jira/browse/AMQ-6112

Fixing file permissions in assembly tar.  Some permissions were not
being set explicitly which means the value used could change depending
on where the assembly was built. Permissions are now being set to fix
this.",0,23
5f8a3df5a4fc0822897cc1abdcd4d99924285937,https://issues.apache.org/jira/browse/AMQ-6116 - improve security context,19,4
8f6baf81885793a8615fde946674a61340ec4e91,Polished,1,3
6b1e87410da4a2033c286fcaa758371e48da62ec,Network of brokers on duplex mode reports InstanceAlreadyExistsException on already existing destinations,82,162
3bb7e4a5c8497c8259a267e2eb11dddb8615a1ea,"Network of brokers on duplex mode reports InstanceAlreadyExistsException on already existing destinations
https://issues.apache.org/jira/browse/AMQ-6052
closes #164",6,6
66cfc7bab3dfa2e079bbc5276312c97ab02cae4f,"AMQ-6121
AMQ-6122

Prevent messages on DLQ for looping back onto the same DLQ.  Prevents
expired messages from bouncing back and duplicate messages from the
store from causing a deadlock.",4,319
db1506a5921f70134c3b647cec51204f0e1c1416,https://issues.apache.org/jira/browse/AMQ-6124 - fix and test - propagate broker info from prestarted backup transport,4,39
505a76a8bb7180debbd36637dce1b9101150d0b4,"https://issues.apache.org/jira/browse/AMQ-6059

Ensure that a message sent to the store for the DLQ is rewritten so that
its updated values are written to prevent exirpation loops and loss of
reollback cause etc.",6,206
b9805f7ac09e2cd601de99ca8c09a1f367a9687d,"NO-JIRA Update test to ACK in transacted batches to group Ack values to
avoid the test failure based on the even spread of acks across journal
files preventing file GC which causes the test to fail.",4,8
92870553389ef288d81c4ad670463c4fb1002c69,"https://issues.apache.org/jira/browse/AMQ-6125

Ensure that the redelivery policy is never null in the consumer.",1,94
ebcc1b4eae194553e2e9764d9e0c337e0efc320f,"https://issues.apache.org/jira/browse/AMQ-6126

Add more configuration options to TaskRunnerFactory",4,14
5adbafef3b9ec05de7186caa9112f3639c7a6253,"https://issues.apache.org/jira/browse/AMQ-6108

Ensure that executor threads are created as daemon threads, fix a
try/finaly block, clean up some warnings.",31,28
5b73ffad6bd000fdad93bc473900b2374d36181a,"https://issues.apache.org/jira/browse/AMQ-6117

Test to try and reproduce the issue.",0,148
2b84cd60ba775a2e0106a3c6f577ea78b05b143b,https://issues.apache.org/jira/browse/AMQ-6128 - fix and test - fix values on priority ordered pending - messages assigned to browsers need to be ordered,8,261
10c998b0bc9728276a738ed24d20c6fc82c6365a,"https://issues.apache.org/jira/browse/AMQ-6129

Adding NetworkBridgeStatistics and also a received count for bridges
when they are in duplex mode.",11,190
7b7e362465d05ad42b3d6a6c8211097dd2053c2a,"https://issues.apache.org/jira/browse/AMQ-6129

fixing typo",1,1
4ea435bf460e68a3f1fc2addadc9b683742cc40d,"https://issues.apache.org/jira/browse/AMQ-5336

URI comparison needs to be done using the host / port comparison method
instead of string equality due to other features like nested options
which can alter the URIs and lead to continued attempts to reconnect to
the transport that's already connected when priority backup is used.",9,94
df868fe4a372054e0e02af2a1abae6e1160f1299,Polished,9,28
a3fa0da6ec67d8b052b52e55b77e41007e787809,https://issues.apache.org/jira/browse/AMQ-6130 - java beans @Transient annotation,0,9
1ae29382e12dd9704d78f12b7948b442005ce086,"https://issues.apache.org/jira/browse/AMQ-6129

Fixing DynamicallyIncludedDestinationsDuplexNetworkTest",0,17
193f6be6878502f3db8563465872a1afd86b7c54,"https://issues.apache.org/jira/browse/AMQ-6131

Fix check for durable sub with no pending messages during checkpoint
cleanup.",2,295
b4aa53d806570a4f054dc0af9cb095f13b914153,"https://issues.apache.org/jira/browse/AMQ-6133

Fixing the processing of KahaUpdateMessageCommand to add the message to
the store if it doesn't exist, instead of ignoring it.  This will
prevent message loss in certain cases when the KahaDB index has to be
rebuilt.",1,221
4ecff140307980c0eceddee24e66c2fd866527e2,"NO-JIRA Update master version to 5.14.0-SNAPSHOT to match the eventual
release version.",42,42
4ee29c363fbcc754f69ebc57b45f84a549f7d130,"https://issues.apache.org/jira/browse/AMQ-6136

Switching the version for Spring in features-core.xml to allow Spring
4.x versions.",1,1
acbe31fcb5d84c49c948a8816fd3a7cf50b58620,https://issues.apache.org/jira/browse/AMQ-6137 - deal with 'special' escape chars in like selector expression,14,41
a772b0ef7261b3cbe0093e083d39f6440aa6a936,Remove a printStackTrace for an exception that is also logged.   Produces noise on console,1,0
c6f470266e88b01db6286e72546dcf396919566a,"https://issues.apache.org/jira/browse/AMQ-6143

Updating to taglibs 1.2.3",0,26
e0b618ff624f9009226cd4b7ee0708c56fd0e713,Upgrade Camel,1,1
27a07431fb81944f3df967807a80697a11fef954,NO JIRA - removing unintended commit,1,0
d0f5c277851f260247c256c1d6cf56a31e744d31,"https://issues.apache.org/jira/browse/AMQ-6146

Fixing JSTL tags in the Webconsole",27,27
eac005a37f0aaaf7fc4301938fb0fd67a78f1719,AMQ-6149: Lets pre-configure jolokia in the broker,0,34
e0ad700f2c886527614a7591f4ca68a897bb8063,"https://issues.apache.org/jira/browse/AMQ-6138

Adding ACTIVEMQ_USER_CLASSPATH to make the ActiveMQ classpath more
extendable by users.  Also fixinng the classpath parsing to use the
right path separator dependening on the environment.",2,10
7eb25ec50bd3af931c6ae876d9f7bef09385ba43,"Revert ""https://issues.apache.org/jira/browse/AMQ-6136""

This reverts commit 4ee29c363fbcc754f69ebc57b45f84a549f7d130.

We need to remove the dependency on Spring DM before doing this",1,1
186b5d0f305ed63b23a1db712a933aa4896006cf,"https://issues.apache.org/jira/browse/AMQ-6113

Properly set the X-FRAME-OPTIONS header on web responses.",0,72
5af5b59d3bf3c84098e55b6cb87631c061990666,https://issues.apache.org/jira/browse/AMQ-6151 - respect prioritizeMessages for pending and redelivered messages,2,70
4a937def7db8d5f8229c95c05843f98de1803068,"Fix Impossible Cast issues in MemoryTopicSub:
- recoverSubscription()
-- map is defined as LinkedHashMap<MessageId, Message>
-- msg is defined as <map> entry.getValue() so must be a Message
-- condition if (msg.getClass() == MessageId.class) could never be true
-- no need to cast at all when using generics

- recoverNextMessages()
-- basically same code copy/pasted so same fix

Removed 2 conditions from ServerSessionPoolImpl that would result in impossible casts. Conditions removed were trying to cast ActiveMQQueueSession and ActiveMQTopicSession to ActiveMQSession which is illegal.

Since it isn't obvious what to do if you get an ActiveMQQueueSession or ActiveMQTopicSession from getServerSession() I make it fall back to the else condition which raises an async exception. This is better than getting a ClassCastException at runtime.

Remove impossible cast in MemoryMessageStore",23,7
9361bc6a0f7219bfb8ba963bac8ec413fd1ebb58,"https://issues.apache.org/jira/browse/AMQ-6150

merging patch to fix casting issues

Thanks for Marc Breslow for the patch

This closes #166",23,7
161730fda2a15c41a3f620a476ba49f841b87545,"https://issues.apache.org/jira/browse/AMQ-6150

code cleanup",7,6
5f7a81f9280fb65b8a3c1f85c4570a18d87fafd9,"https://issues.apache.org/jira/browse/AMQ-6142

Fixing a race condition that exists in the decompress method of
ActiveMQBytesMessage that can cause an invalid length to be read.",0,97
8c4b5f485d64caec97b0abe2b721d47bc19bfba1,"https://issues.apache.org/jira/browse/AMQ-6152

Ensure that when add / remove commands are colocated they don't prevent
the log from being GC'd once it is unreferenced.",9,57
c17b7fdc7fbe6eaaf798db19fc3d698b8364f5e7,add trace level log to shared file locker keepAlive,2,10
25ff5699f1fb7c73668d5da2eacb53ad2ef14289,"https://issues.apache.org/jira/browse/AMQ-6158

Computing messageSize for a durable subscription in KahaDB now runs much
faster (n vs n^2) which is noticable when there are a large number of
pending messages for a durable subscription.",14,53
278d29dadc9bc92971d35e9433caeabb347323b9,"https://issues.apache.org/jira/browse/AMQ-6036

Parsing message selector for wildcard matches for ignoreWildcardSelectors feature",3,114
5eeb62a6beb2a3513b7c18bb9702bbfe502332bf,"https://issues.apache.org/jira/browse/AMQ-6036

Merging patch, thanks to Patrik Dudits for the fix

This closes #156",3,114
33dded13dfa17eca1911fde46464edab60756ee2,"https://issues.apache.org/jira/browse/AMQ-6036

Slight refactoring to make the WildcardFinder class use a static method
so that we don't have to allocate throw away objects that will
immediately be garbage collected.",18,15
386210fafe331630aded29f2af64b1ccdf161bf3,"https://issues.apache.org/jira/browse/AMQ-6159

Ensure proper repeat counts are scheduled.",4,11
90726a60afffa0bff6db74b15340152ebe1d5082,"https://issues.apache.org/jira/browse/AMQ-6153

Only setting the socketBufferSize in TcpTransport if the value is
greater than 0 as other values are illegal.",2,7
499e39e52c392fcc6d897a526afbbd3b144121e2,https://issues.apache.org/jira/browse/AMQ-6164 - allow journal write batching on a single destination,39,34
40ecf22f0fdff6d3e5404a4a8724af25d0724d09,AMQ-6166: Add option to configure trustAllPackages on Camel ActiveMQ component,0,26
f89e8c5d25a9fb837ec6c1585a69d39eeead2b42,"Clarified and updated instructions

Updated the example to match stompest API changes",2,15
3e4bf2df7526ac1693d6ec5f162ca9054bd2b61b,"https://issues.apache.org/jira/browse/AMQ-6165

Merging Python Stomp example fixes

This closes #168",2,15
adf70bc08ab4a8c3bfa87e0a7b50476aa5bab779,"https://issues.apache.org/jira/browse/AMQ-6168

Disconnect on unkown STOMP Command Action.",1,27
b595b8bc12cf58314fb131128184fec92e7d2509,"https://issues.apache.org/jira/browse/AMQ-6169

Log actual STOMP frames that cause error at trace level, only log the
command action if it is present and valid.",6,50
24ad36778534c5ac888f880837075449169578ad,"https://issues.apache.org/jira/browse/AMQ-6170

Fixing X-Frame-Options header so that is applied for all content served
by Jetty.  The previous patch wasn't correct because it only applied it
to Servlets and JSPs and not static content. This also reverts AMQ-6113",72,26
b0c0441d0907a26b239367dedbd9b1f3a355ab66,"https://issues.apache.org/jira/browse/AMQ-6171 - fix vm transport replacement of : from brokerName in error, fix networkConnector retry logic in the event of localTransport creation failure",5,67
3f7b2d6bb042599a1f4d4a5553df7ccf7c10d1a8,AMQ-6147: update to proton-j 0.12.0 release,1,33
7c4685b9216ce44943ae8c2f8a16e22b13e0c8de,Upgrade jolokia,1,1
ba6c39c26df55957a2d2e494980e3998273f0635,Jolokia should not send back exceptions/error details by default,0,5
f0378bcd3f88e61fa7c7fe36b37e8cd03c7cb354,Turn off jolokia discovery by default.,2,4
fd760888147b1db69a330c32a3630ddd87c2a53c,https://issues.apache.org/jira/browse/AMQ-5875 - additional test that shows durable sub registration does not error out with this fix,1,74
33e27a4f5ac864c3bd7ee124b2e2f2e43e8c5983,"NO-JIRA: Add some additional assertions so tests fail more cleanly in
the case of a receive not getting a message before it's assigned
timeout.",1,10
4e60075a3217bfcaae44fc510e3214aa6c53387d,"https://issues.apache.org/jira/browse/AMQ-6169

Add additional null check",1,1
bbb17da52f0c09bb0d8ab98815e95d7ca06109ca,"https://issues.apache.org/jira/browse/AMQ-6147

Add a test that can reproduce an issue seen when emitFlowOnSend is
disabled on the proton transport to allow for further investigation.",0,28
49974279a745604d1028a78426985d438fc3762c,"AMQ-6175 - Web console needs to only obtain lists of MBeans that are not
suppressed.",20,87
f490ab549df7f130386b319922f936d263691a86,CAMEL-8522: Enrich AMQ message with original destination (where Camel received the message) which for example allows to keep that information when sending messages to other queues or DLQs etc.,1,138
f7941a7fbf55137ecdf3430e1846ecee9d9c4b4f,AMQ-6178: update to Qpid JMS 0.8.0,1,1
0f445a535f8ec1135d6769a9e7c1503fd7b26121,"https://issues.apache.org/jira/browse/AMQ-6177

Fixing CronParserTest so that it checks 24 hour format properly when
using a timezone shifted by 30 minutes

Thanks to Jamie Goodyear for the patch",2,2
98c866817d639b596756094ed7f61279d3564afc,AMQ-6181 - Upgrade to Joda-time 2.9,1,1
bc960f3a7eef32b041cbb440acfeb055c90e3909,This closes #169,1,1
c2ad0c32512e5265fa5482a0e49aa13f359acb8f,"AMQ-6183 Add isDispatchSync to the subscription view and deprecate the
meaningless one in the producer view",4,67
934a30a327c46100224c6822be2d947c5d848afb,https://issues.apache.org/jira/browse/AMQ-6184 - improve nio transport scalability,50,53
ca5912d9fad036a6d9c59e49a3273c5001e0115e,https://issues.apache.org/jira/browse/AMQ-6184 - improve nio transport scalability; get back core pool size,1,5
06bc2840deab1d30296848d024dec0bcbd27cd77,AMQ-6167 Remove old example that used the now defunct IBM perfharness.,49,0
c530b69e16372232bef19dcd353cbe91e4a511d2,"https://issues.apache.org/jira/browse/AMQ-5881

Fail the connect if the password is set but the username bit is not as
per the V3.1.1 spec requirements.",0,37
6e2edf08c3e3dda7656dffa1af8c92b6ed333c22,"https://issues.apache.org/jira/browse/AMQ-6187

Create a proper SSLContext for the MQTT client provider in the tests to
avoid failure on newer JDKs",29,24
4fb808397759b5569f8e8b49a486026aeaeecac2,"https://issues.apache.org/jira/browse/AMQ-6182

Disabling the HTTP trace method on the websocket port by default.  It
can be enabled by setting the parameter ""http.enableTrace=true"" on the
connection uri if it is needed for debugging.",1,142
7335f699f2a8eafa1c103f9ff3f3d1202572523d,"https://issues.apache.org/jira/browse/AMQ-6182

adding timeout to test method",1,1
552c0f0f7a7502c0337b13699de51a11b29723a2,https://issues.apache.org/jira/browse/AMQ-6188 - reset BaseDestination.lastActiveTime each time a message is delivered to the broker.,1,39
012e4d0a1c85a17f90391b264617b4c9f0683d23,"https://issues.apache.org/jira/browse/AMQ-6188

Patch applied with thanks to Brian D. Johnson",1,39
1b38b27ed23a5ac604e5a4dd509dd854afdfde07,"https://issues.apache.org/jira/browse/AMQ-5882

Fail to publish if the topic name in the publish packet contains a wild
card character as per the MQTT V3.1 and V3.1.1 spec.",0,45
19c9404916e83abac2eb630e416e16c3218c621b,"https://issues.apache.org/jira/browse/AMQ-5882

removing illegal wildcard characters used in topics for some MQTT tests",2,4
f6d25842ccb276ffe90f0c8ffdf3ee0fd0aca748,"NO-JIRA Adds some small fixes to the AMQP test client around SSL
handling that were found in Qpid JMS where some of this came from.",24,25
473b3284d42613b117bd5103d59435ab46f0c420,"https://issues.apache.org/jira/browse/AMQ-6182

Reworking patch so that the http trace method is also turned off by
default for the HttpTransport, besides just for the Websocket transport.
Also added SSL tests for both transports.",77,308
d8cf54b0a9eee4b86db1ffef2cb3dd1171067307,"https://issues.apache.org/jira/browse/AMQ-4495 - revisit. Reinstate check for space on pagein, so that highWaterMark is respected and full state is not reached, hense pfc is not triggered in error",75,280
d89826bdab820bd399180c3c150cef9d82af3565,"https://issues.apache.org/jira/browse/AMQ-6176

Upgrading Saxon version to fix xpath filter errors when using Camel

Thanks to Jamie Goodyear for the patch",2,2
ebe8cf65a072c3be66e04a5c8172f9acc16a7c33,NO-JIRA - adding missing schema identifiers,0,2
e375af3810aa3ae0cc87c9a4b7400e9730ad65c2,"https://issues.apache.org/jira/browse/AMQ-6182

Adding missing License header",0,16
8ef44452a24685dea52b0757960c1a750abd4246,"https://issues.apache.org/jira/browse/AMQ-5880

Adds a test for the issue that is ignored for now while we wait for a
fixed MQTT client release.",0,32
5d6d42ce97a8a6cacd630574e54b330275d041a7,"https://issues.apache.org/jira/browse/AMQ-5883
https://issues.apache.org/jira/browse/AMQ-5884
https://issues.apache.org/jira/browse/AMQ-5885

Add additional validation of Topic names used in subscribe and
unsubscriobe that test for spec compliance.",3,298
e89b7a57f1aa206830998ae022c041302a22baea,"https://issues.apache.org/jira/browse/AMQ-5578

Remove unnecessary zero init block as the java spec requires the
allocations to do this already.  Fix some warnings.",49,63
e8f44a29ddf940a3bd254b10336c8e2c1f318fc7,"https://issues.apache.org/jira/browse/AMQ-5578

Revert to previous behavior of explicit init.",1,6
f3544f248ffdce8d4c4bb80698b0d69a7e7492d9,"https://issues.apache.org/jira/browse/AMQ-5886

Ensure we reject protocol version that we don't currently support.",2,100
be4ad3d1c82ddca932d0e25f91b2b37dcdba939c,"https://issues.apache.org/jira/browse/AMQ-5578

Replace system.out with a trace log.",4,2
edfc23ee9d019380aca287e02bd712a2bb557993,"https://issues.apache.org/jira/browse/AMQ-5578

Add additional preallocation strategy [CHUNKED contributed by user
jtahlborn.",4,33
5e0f49332be2a0b30cb40dc9e735a794fe7b78f6,"https://issues.apache.org/jira/browse/AMQ-5578

Remove unnecessary buffer initialization after confirmation that it is
not needed.",6,1
903dec615c7932475bd3e6cd869af25f01de64b2,"https://issues.apache.org/jira/browse/AMQ-6194

Fixing an issue that caused statistics for a transactional temporary
queue to be updated twice by mistake.  Moved the statistics update into
tryOrderedCursorAdd so that the update is called immediately only if
not inside a transaction.",3,124
13ec9949397848c57653845b35e8003f8c490ebd,"Revert ""https://issues.apache.org/jira/browse/AMQ-4495 - revisit. Reinstate check for space on pagein, so that highWaterMark is respected and full state is not reached, hense pfc is not triggered in error""

This reverts commit d8cf54b0a9eee4b86db1ffef2cb3dd1171067307.",280,75
67ae2bd8a486d065495eff97997c33cd7cf9f160,https://issues.apache.org/jira/browse/AMQ-6070 - fix npe in org.apache.activemq.usecases.ExpiredMessagesWithNoConsumerTest#testExpireMessagesForDurableSubscriber,0,1
e313f4098900b717614cc109a1ab028e7bb5fd67,https://issues.apache.org/jira/browse/AMQ-6175 - fix unit test regression SelectiveMBeanRegistrationTest,29,5
078f39f5896ab728046424017f9cd4f45d53f48c,https://issues.apache.org/jira/browse/AMQ-6199 - apply CursorMemoryHighWaterMark to topic subscriptions,10,213
8b23e072eeab2beebf62fd267bf8d9f88d05b5c2,"https://issues.apache.org/jira/browse/AMQ-5785

Avoid holding the intrinsic lock on the cursor when expiring the
messages.",13,27
a2781e3966ded41a241d24ffb8d85d410c39eb21,"https://issues.apache.org/jira/browse/AMQ-6204

Fixing the removal logic on virtual destination remove inside of
Advisory Broker to clean up virtual destination maps properly.  Added a
test to verify.  Also added new debug logging to help track down any
future issues.",26,128
521c4fd8c31a88575f80659e9b84f016b22087ea,extend timeout - running too close to the limit for comfort,1,1
57264bf8dc9970d7d808cf24216b6185ceb644e2,https://issues.apache.org/jira/browse/AMQ-6206 - ensure properties are marshalled before dispatch to broker so that their values are reflected in the memory usage,0,58
ae441cbc7dc8d656990cefae28657eed78cf28e0,https://issues.apache.org/jira/browse/AMQ-6208 - fix and test,2,4
b39ab7867c208a967090eff189594c2b06dafb34,"https://issues.apache.org/jira/browse/AMQ-6207

Perform writes / sync in predicatable order first to the recovery file
and then into the main index file.",28,29
946e62d702d2bf5fbcdb0ed4cb6977046acb659b,"https://issues.apache.org/jira/browse/AMQ-6203

Rewrite older acks that can be preventing GC of log files.",168,895
a4c748883a78fca6840db03bd3cc85d970c8014f,https://issues.apache.org/jira/browse/AMQ-6211 - synchronize creating of jmx composite types,1,1
4bd9a4ef6f29399ebde61275db75cf8d5d323ffc,"https://issues.apache.org/jira/browse/AMQ-6212

Adding spring-messaging to the artifactSet for activemq-all to be
included inside the shaded jar",0,1
478d28f988ab33fabddc06a1d841ef5dd7786947,AMQ-5662 improve Web Console to support retry from all configured DLQs,21,79
69c5fd7d5a56d13b4be2c56ca8e932c3d06b5d05,"AMQ-6213 Quote path values to ensure the script works when the path
contains spaces.  

This closes #173",2,2
8a44c08b137fd1b591a9fabd4760bd64938a4d17,"Move directory variables up (AMQ-6189)

Setting ACTIVEMQ_CONF to a different value and not moving it up will result in login.config being taken from the old location.
This commit fixes this by moving these variables above all places they are used in.

This closes #172",7,7
37557e5dcf838bab05851d6b46bbe10456473f3c,"https://issues.apache.org/jira/browse/AMQ-5662

Patch applied with thanks to Petter Nordlander

This closes #176",21,79
4e6cbcdc5fc551f8ead0548ab1a7e773879503a8,"NO-JIRA Use a real transport connector for the test to prevent failures
in CI.",1,19
a9521dcebfb4e469dde7465ff95d8e8f1f050abd,"https://issues.apache.org/jira/browse/AMQ-6203

Expose configuration on the persistence adapter level.
Double the test timeout and increase the compaction frequency to account
for very slow CI boxes.",2,36
e2b4ca2c59a316be91cf391c758a10e518dd3a1f,"https://issues.apache.org/jira/browse/AMQ-6108

Update the threads created by the SelectorManager to be daemon threads.",2,7
2788bd55845d35ffb753f20ea1fee9711e85fe43,"https://issues.apache.org/jira/browse/AMQ-6214

Fixing ReloadableProperties so that the groups file will be properly
reloaded on file modification. Added a test to verify.

Thanks to Nanchang Yang for providing the fix.",40,132
30d6ad72fa05ba60357cd5cdbec3743753940a1b,"NO-JIRA Allow for the disconnect call in the test to fail as the short
keepAlive interval can trigger a shutdown of the socket before we have a
chance to write the disconnect depending on the timing.",4,8
ea09159a4087212964787e7cf68ef30170d115f0,"https://issues.apache.org/jira/browse/AMQ-6218

Fixing copy method of ActiveMQTextMessage to prevent a race condition
when concurrent store and dispatch is used with Queues

We may need explicity synchronization between the text and content fields
in the future if other issues pop up",0,8
e0c549996479c2a1ccf70029ad4462cb987650f6,"https://issues.apache.org/jira/browse/AMQ-6221

Synchronizing ActiveMQText message on state changes for the content and
text fields so that they are always changed together.  This will prevent
race conditions where data can be lost when using concurrent store and
dispatch.",28,71
75990ef14a092b629bf8d2127bc4786e51b31684,"https://issues.apache.org/jira/browse/AMQ-6222

Moving clearedMarshalledState execution to the async listener on an
async add to the message store.  This is necessary to make sure this
logic doens't execute until after the message is marshalled for the
store.",4,330
c53b99c14d44af64bc76581723d4ba564a19c083,"NO-JIRA Fix test such that the broker ports are selected dynamically
instead of hardcoded.",30,40
0f4a9b78b108311b59a0cecf0353b2b7256b0ef1,https://issues.apache.org/jira/browse/AMQ-5289 - memory % stat was removed from dstat command. Bring it back,6,6
05f918ceb822ed1c5cf0bc6ca51efd9731ac5afe,Upgrade Camel to 2.17,1,1
9a866cf5673c03f5b2a324ec81802fd986a0ad72,"https://issues.apache.org/jira/browse/AMQ-5486

Default to caller runs policy on task rejection.",3,5
f3ecc293f023e2a75a2c243d361f7a3fc9800f67,"https://issues.apache.org/jira/browse/AMQ-6210

Don't cache selectors for temp destinations.",19,16
48ba714b3083b86a84ed3419df4fde21ec61e5d8,"https://issues.apache.org/jira/browse/AMQ-6210

Clean up and apply filtering for temp destinations to removeConsumer as
well.  

This closes #175",7,4
0fb24cc4c1d3d36bacad85eac1dea2eceaec2187,Allow some extra time on the consumer wait to account for slow CI boxes,1,1
98165c4b69f0a5df93a7c964b9b9e143c7f7a083,"https://issues.apache.org/jira/browse/AMQ-6228

Create a better error message that for the invalid frame size error.",3,38
a9a1498d27388277d792b68698baaa54165d8b92,Add assert messages to test that failed in CI,2,2
993d561947cd92aee879d34e77ee36c2cfb175a7,https://issues.apache.org/jira/browse/AMQ-6118 - CRL Checking via OCSP,12,32
b2327db3b79dffd42fd5c6ba85720a5d9c302052,"https://issues.apache.org/jira/browse/AMQ-6133

Disabling async queue message store when persistJMSRedelivered is turned
on for a destination.  That flag will cause a sync update later on
dispatch which can cause a race condition if the original message add is
processed after the update.  This can cause a duplicate message to be
stored.",1,5
666029e024001524a2db1880192fe01a0437811c,"https://issues.apache.org/jira/browse/AMQ-6223

Include the junit integration jar in the lib/extra area of the binary
distro.",24,30
a3a8c1c5256aa8ea1067afe3e1586832e5aa1821,https://issues.apache.org/jira/browse/AMQ-6215 - support 0 maxBrowsePageSize and maxExpirePageSize such that lazyDispatch ensures highest priority messages is available to a pull consumer,39,439
2a8218a9a8cfa74e1049249481f601e042f33358,https://issues.apache.org/jira/browse/AMQ-6151 - retain list for redeliveries and combine for dispatch/iteration such that redeliveries retain per priority order after prefetch,29,267
c8d96c6e8e43191767772c3f8c6335e3176170a7,remove compile dep on dbcp2 in favour or generic datasource,5,4
b1c55fdc744987245c409af5835fd1a74bdc49ed,"https://issues.apache.org/jira/browse/AMQ-6235

Honor the initialReconnectDelay configuration in all cases.",20,28
837da7e58222e49c76da062c6aa8e3d32432a1a7,"Revert ""https://issues.apache.org/jira/browse/AMQ-6221""

Reverting commit to keep sync out of the client messages

This reverts commit e0c549996479c2a1ccf70029ad4462cb987650f6.",71,28
e69c2cbad6611fa355bd9eb592f03bd3b8f90abb,"https://issues.apache.org/jira/browse/AMQ-6142

Moving the bytes copy to the parent Message class to solve this this
issue for all message types as that is the root cause",4,9
cbad8babe507f63cc80e42fe37070b898d4d8dbc,"https://issues.apache.org/jira/browse/AMQ-6203

Adding a flag to enable or disable Ack Compaction
Currently defaults to enabled for 5.14.0 and above",1,38
485fcafcdfbb71b254977bbe5a670472aaaa4081,"https://issues.apache.org/jira/browse/AMQ-5923

Updating tests to check prioritized messages as well",0,53
c1b58d3373746eda525e6c3b3ab04eb747e9674b,"https://issues.apache.org/jira/browse/AMQ-6239

Refactor the iterator implementation in the PrioritizedPendingList to
not copy elements and instead use the level iterators.  Add some
additional tests.",24,69
5ec4513ffb5e933fa0a12c54a70e7497f54656b6,"https://issues.apache.org/jira/browse/AMQ-5923

Adding missing assertion statements",18,19
332a8225fa70026ec3dda9804de48ae7e3dc4901,"https://issues.apache.org/jira/browse/AMQ-6178
https://issues.apache.org/jira/browse/AMQ-6147

Update Qpid JMS to v0.9.0 and Qpid Proton to 0.12.1",3,3
f9682b802f848b91b6a12aa6c99cec028b552997,"https://issues.apache.org/jira/browse/AMQ-6127

LOG at info level for when broker is being stopped and a new connection
is not being accepted.",3,7
08d7977402f4120cfe704b773c380dcfa7fd4074,"https://issues.apache.org/jira/browse/AMQ-5462

Remove dead code from session create method.",5,8
77d46dc139284141336591af649c0cc1da790cd0,https://issues.apache.org/jira/browse/AMQ-6240 use sendTimout on sync rollback on close such that a blocked connection won't block a close,6,98
7f868253375d36b3532767f3ca003c3c519fd049,NO-JIRA - Adding activemq-junit dependency to activemq-unit-tests,0,10
7a61718e0255728b7a822b25fcf75a030be14359,https://issues.apache.org/jira/browse/AMQ-6244 - reset ActiveMQBytesMessage 'compressed' flag after restoring compressed content,13,193
66953e1a2981427af67c8c76332e34c3cc6d9ee3,"https://issues.apache.org/jira/browse/AMQ-6244

Merging ActiveMQBytesMessage compression fix

This closes #177",13,193
28e4090d9561a1cd2a630bc35257539c30a13cf1,"https://issues.apache.org/jira/browse/AMQ-6230

Temporarily ignoring karaf camel tests until karaf integration is fixed

The failed test is causing the smoke tests to fail (so PRs don't pass)
and also seems to be keeping a broker alive so that other tests are
breaking as well",2,4
82330793e939b521e39a380fea963fc6d28fed9a,"https://issues.apache.org/jira/browse/AMQ-5621

Clean up the test, use timeouts and add a few more iterations to try and
reproduce recent CI failures from this test.",86,52
aaecdff8b485dc1baf84110375d4b9ffa6f68c19,"https://issues.apache.org/jira/browse/AMQ-6245

Don't log the pull timed out messages that might still be in the
unconsumed list during rollback of unconsumed messages",1,3
15dc6cc7659bfacf3ca10c490466a2cf2d3c54de,"https://issues.apache.org/jira/browse/AMQ-6246

Fix loop to not skip the composite split code.",4,49
530c1a81934d0a1ca51a8778e59ee19509378d87,https://issues.apache.org/jira/browse/AMQ-6240 - tidy up test and reduce duration. reuse closeTimeout on rollback during close which is the case here,20,29
092c56d70c1440fbdb1e91447a1bc4a2c461e5c7,"https://issues.apache.org/jira/browse/AMQ-6250

Checking for null before closing the journal in
MultiKahaDBPersistentAdapter.  Also protecting against multiple calls to
start and stop.",16,22
19fd084a83c990f9fb75a5f2becb48ac808a1b36,"https://issues.apache.org/jira/browse/AMQ-6252

Update for some added thread safety.  Adds method healthStatus that will
regenrate the status from the healthList data which is more intuitive
than the getCurrentStatus which doesn't update state and requires
periodic calls to healthList to capture current metrics.",6,37
6d20cba0e4de8970da0236f2c772ef66c0f02661,https://issues.apache.org/jira/browse/AMQ-6253 - mqtt composite destinations support for virtual topic subscriptions,2,46
9c929b6870ae4c19cf4f227fa13472b09ebac729,"Revert ""https://issues.apache.org/jira/browse/AMQ-6218""

Reverting commit in favor of a better approach

This reverts commit ea09159a4087212964787e7cf68ef30170d115f0.",8,0
b9f9f03829a65efa2956c347d2cafa41905313c6,"https://issues.apache.org/jira/browse/AMQ-6256

Calling beforeMarshall on messages when they async stored before the
store task is run and before consumer dispatch to prevent two threads
from trying to mutate the message state at the same time.",37,232
b9b98a45cee484b112dadeffa2d9a874c4ffe280,"https://issues.apache.org/jira/browse/AMQ-6256

Moving beforeMarshall call out of the store and into the actual
destination",3,3
1ffac14f6ed3b2f2d30b5de1b759f16a29a0c099,"https://issues.apache.org/jira/browse/AMQ-6256

cleanup imports",1,0
c8af70f0949e38270b313b7b8ce305c5870362da,"https://issues.apache.org/jira/browse/AMQ-5819

Only apply the initialReconnectDelay on the first reconnection attempt
after a connected transport has failed.",16,10
9c8bd3360faf89c8fb054b02040458027782f48f,"https://issues.apache.org/jira/browse/AMQ-6222

Reverting the change to move clearMarshalledState into the callback
listener as beforeMarshall is now called before the async message add

Revert 75990ef14a092b629bf8d2127bc4786e51b31684",18,4
11622b3af32fe9518df06f026e6c0fb65de4aa26,"https://issues.apache.org/jira/browse/AMQ-6256

Moving beforeMarshall back to the store implementations because we don't
want all store implementations to marshall (such as memory store)

This reverts commit b9b98a45cee484b112dadeffa2d9a874c4ffe280.",2,3
23a5beb86c3dac151ae3ed242ce506aa0048bd03,"https://issues.apache.org/jira/browse/AMQ-6248

Prevent conccurent calls to handleTransportFailure from closing an
already reconnected transport instance.",109,86
3560d9123dbeecc97f075a6812f15b2484836275,AMQ-6248 fix logging statement to use the connected URI.,1,1
6541bef52db53ce03543e1a5331953d55650300c,fix logger name,1,1
b027e655538226b56f1fe277a426e0df41501fc6,"https://issues.apache.org/jira/browse/AMQ-5153
https://issues.apache.org/jira/browse/AMQ-6254

Store the original subscribed destination along with the target
destination in the subscription info object to ensure that wildcard
subscriptions remain linked.",3,321
34eb1ee9593354f2c538855670b663a83683c51a,https://issues.apache.org/jira/browse/AMQ-6259 - mqtt-over-ws configuration,7,20
8a30026e82ca42d9113506759f2b89253b9ca458,"Drop back to original iterations now and give some extra time on test
timeouts.",5,5
b65c0d1be4b0812229d3f166e50d963766856c53,"https://issues.apache.org/jira/browse/AMQ-5510
https://issues.apache.org/jira/browse/AMQ-5534

PooledConnectioFactory added reconnection support but can break if the
holder of the connection adds their own ExceptionListener as the
PooledConnection doesn't protect the internal ExceptionListener from
replacement which leads to cases where the loaned Connection is not
automatically closed so that the next create returns the same failed
connection.",36,144
10478c313e81f0209ed5cb89e9c7529870e6a300,"https://issues.apache.org/jira/browse/AMQ-5621

Update tests to not use hardcoded port for the transport connector and
remove the unneeded sleep calls with proper test setup",71,54
102599ee287db117af1cbf559522bae916b8abea,"Adds some additional tests for the connection pool around error handling
when JMSSecurityException is returned from the broker.",1,367
3e7847aeada26bf147ca297e79995d43e74fc97d,"https://issues.apache.org/jira/browse/AMQ-6126

Ensure the constructors pass along the default value as read from system
property if set.",2,2
930a74c696bb0160473a28720407b0952d461cbe,https://issues.apache.org/jira/browse/AMQ-5578 - enable org.apache.activemq.kahaDB.files.skipMetadataUpdate for tests to validate. remove some redundant call to limit and add latencey test to validate the need for outof band or pool allocation of journals,4,83
43d8205cf020ce2be146fc7c5740a2f9fab8c1e0,reduce the throughput for ci,1,2
e996dbe7c28d928c701daef6b3afd5770ae4c2ed,"https://issues.apache.org/jira/browse/AMQ-5954

Use a single destination transformation method instead of having to
different implementations.",39,35
e47edd7a282e1391f480c1278555f4a86e9a8ea9,"https://issues.apache.org/jira/browse/AMQ-6262

Ensure that the connection check task is stopped once commands pass
through the inactivity monitor to prevent the transport from being
closed for no reason.",5,156
765a010d04a9c3d51144f70148a0763ed4619b32,"https://issues.apache.org/jira/browse/AMQ-5621

Add sleep back which allows the producers to wait for the bridge
formation.",0,2
4e27618ddd85fbaa91610cb4b815c8c686d6a351,NO-JIRA : Adding 5.13.3 schema identifier,0,1
8031d77f984e4d3c54782dd4934f48b35cf16c00,"https://issues.apache.org/jira/browse/AMQ-6251

Make field volatile since it is written to outside of any locks and read
both in and out of locking.",1,1
4d6f4d74755d6c9985078766fce2eba95d9bbb6a,"https://issues.apache.org/jira/browse/AMQ-6263

Encode the incoming messageId value into a string using type prefixes
and decode them on the way out to ensure that we preserve the original
AMQP MessageId type and value.",3,865
297eadf7461fe4043c81c6f8d806a7c61b680731,"https://issues.apache.org/jira/browse/AMQ-6267

Added two new properties for configuration to a network bridge,
advisoryPrefetchSize and advisoryAckPercentage.  By default
advisoryPrefetchSize is set to 0, which is disabled, and will use the
prefetchSize value unless otherwise set.  Also added validation to
prefetchSize to make sure it is greater than 0 as 0 is not allowed.",3,296
3c342ffce43546667f59bb16db373061724e1b0f,Add some additional checks for valid state.,1,38
62bdbb0db5dc4354f0e00fd5259b3db53eb1432d,https://issues.apache.org/jira/browse/AMQ-5603 - add preallocationScope=full_journal_async that will preallocate a journal in advance or use to avoid latency jitter on journal rotation. Added none option to disable preallocation,190,339
27799fec97b9ed7d685169593f7e6da06d52df0b,"https://issues.apache.org/jira/browse/AMQ-5880

Update to latest MQTT client release to resolve this issue.",3,1
4f43a2121264152b09166b8a09403ee0c205233d,https://issues.apache.org/jira/browse/AMQ-5603 - one more journal in the mix for this test with async preallocation,1,3
3dd86d04e8b90ba309819317d19e7260d414d9e7,https://issues.apache.org/jira/browse/AMQ-6276 - remove fileserver webapp,1179,0
ba77b9f55a627846ecab63916b2667f234022d34,https://issues.apache.org/jira/browse/AMQ-6277 - tidy up logic that determines recovery location so that we don't recovery from the end of the journal in error on normal restart. This avoids suprious recovery logging,9,51
2e00891827e6e65dd8dbb22d80d1239af3b4ce23,https://issues.apache.org/jira/browse/AMQ-6278 - revisit LeaseDatabaseLocker log levels,3,3
555cd2b6bb7f25db318e26482e4ed11cd9da7d07,https://issues.apache.org/jira/browse/AMQ-5603 - catch interrupted on chunked zeros case,0,2
231679d936e986a00930a96cc859b0a5b6d77486,https://issues.apache.org/jira/browse/AMQ-5603 - don't async preallocate to keep match data file count,0,2
d1e2b768099febfacb9c401c05375b5413ca144a,"https://issues.apache.org/jira/browse/AMQ-5621

Update tests to not use hard coded broker port.",10,7
a28a091c552cc4910c7340cc62cc3cd88a5e8993,"https://issues.apache.org/jira/browse/AMQ-6264

Fire advisory for slow consumer outside the pending lock.",3,144
1c4108545c1cdc7ba6017d11015d8233b1218e0f,https://issues.apache.org/jira/browse/AMQ-6277 - journal getNextLocation needs too passes to skip past if target is not initialized,11,25
e3a68717f152f90c1cbd4616ff06589c4cf03b4a,"Fix race in test due to async processing of the SecurityException, start
might throw but the connection doesn't fire the exception listener until
afterwards which is what triggers the pool to close the connection.",5,18
65cef691306dbd8cee37aa05b2621ebce264a07c,https://issues.apache.org/jira/browse/AMQ-5603 - reverting default preallocatonScope to entire_journal b/c async only really works for ssd,11,16
7fd5fa9253deb3a2815cb375b85731a959ad3845,Add a method that Karaf can use to get the description of the command.  Depends on a change in karaf too to get this to work.,0,7
1ccd17791b1cb5ba4487adb6d14a819d2d2840e2,"AMQ-6274 - set originalDestination for composite destinations

This closes #184",3,37
5096463b00c4f470b108760f6849f9a0433b6fa0,"https://issues.apache.org/jira/browse/AMQ-6281

Deprecate the copyMessage option and remove usage, always copy a
forwarded message.",39,39
9a35c3731b29c37e28635831737f6ef369e5175b,fix ci failure when less than 4% disk space,0,2
fc9ad9f02364c627b99164ffc7114ae347d0db8d,"tackle intermittent ci failure, think possibe all messages are dispatched before pause",5,1
1de7e7e8a372e63d4fbae61ec8c111a179ff2413,tackle ci intermittent failure - think with prefetch extension it is not guarenteed that second consumer will get a dispatch,3,13
5009b0c03bababa26f3b819dc0d3688d0d13af1a,"https://issues.apache.org/jira/browse/AMQ-6247

Allow the provider position to be read from the system.",1,2
9fc2661049c32da975ae19e91d3974bdc6d13d80,validate selector aware vt can give topic semantics by dropping messages when there is no consumer. Do selector cache plugin once to avoid adaptor check on each dispatch,19,160
1a8e17fbc352f8844b7f2a9227748812bc017c10,tidy up test,2,2
60b0c4f85ada06875e09b1bc3fbefac0f9fb6156,"https://issues.apache.org/jira/browse/AMQ-6285

Properly nulling out the scheduler service in MessageDatabase after it
is shutdown on a store close so that if the store is restarted the thread will
properly restart.",57,38
db3f8b3554a1ecf5c9fcf917948d10e5fa8de28e,"Revert ""https://issues.apache.org/jira/browse/AMQ-6285""

This reverts commit 60b0c4f85ada06875e09b1bc3fbefac0f9fb6156.

Inadvertantly commited a bunch of changes by mistake",38,57
7bdcca1bdacec4955c55e8717ac8d61cc51b0c69,"https://issues.apache.org/jira/browse/AMQ-6285

Properly nulling out the scheduler service in MessageDatabase after it
is shutdown on a store close so that if the store is restarted the
thread will properly restart.",1,6
100c5e0b59ec33dfa43de4956d490e074a92ccbe,"Add waitFor to check that once the async processing kicks in the pool
clears the bad connection and a new one is returned from the pool.",2,11
91213010b30d426095c16d3fa8d5fa2cafaf05e5,"https://issues.apache.org/jira/browse/AMQ-6285

Added an extra isShutdown() failsafe check when detecting if the
checkpoint thread should start",1,1
91d277ccb09f25d10c1f172aa53da12ba362bcd7,"Make the result value in the listener volatile since it is read from and
written to in multiple threads without sync.",16,22
6cf8bed0c55640306923dd94eb1209e7815fd7e9,"https://issues.apache.org/jira/browse/AMQ-5621

Update test with additional checks and logging to try and see what is
happening when it is failing in CI.",24,26
f47b370573d5a2bcb5a000c1adce0bbf7d40f5b1,https://issues.apache.org/jira/browse/AMQ-6286 extend strictOrderDispatch to retain order of redispatched messages for a single consumer,7,232
604f707d4d69696fa18f2c58d3a46b0c282c37a8,https://issues.apache.org/jira/browse/AMQ-6286 - refactor insertAtHead from pendinglist to ordered variant,28,2
d3ea5c4f9fbdbd69819a9a3977a844ea09b386f9,"https://issues.apache.org/jira/browse/AMQ-5621

Fixing LinkStealingTest by adding a wait because removeConnection
may not have been called yet when checking if the removeException
exists the first time",2,11
809d5b9bc86a838aff65f7ca4650da3894bc9c67,"https://issues.apache.org/jira/browse/AMQ-5621

Clean up, remove sleep and some unused code.",27,39
3da9b0720efa4f8c55b8d04d3b584637a25ac1da,"https://issues.apache.org/jira/browse/AMQ-5621

Remove hard coded port as the bridge brokers method doesn't need the
port to be fixed.  Turn off JMX since the test doesn't use it.",10,8
71893f1434a493ad5969eca70abe310d5f4d0b95,"Allow the HTTP test to have extra time to wait for all messages to
arrive as the transmission rate is much slower.",3,15
c81a9348ee370627093d9291fba8b3ddb4400d1e,"Need to test the underlying connection to ensure we aren't using an old
one that isn't cleaned up since each checked grabs a new
PooledConnection wrapper.",10,11
e53e340262d5e57a11464c323606529430e9b832,"https://issues.apache.org/jira/browse/AMQ-6288

The ack compaction task now acquires the checkpoint lock while it runs
to prevent a checkpoint from running at the same time unintentionally.
Also, getJournalLocation is now protected by a try/catch to handle
errors.",36,73
2e64abc38a0605f31fc47a89c8313f29cc72c170,"https://issues.apache.org/jira/browse/AMQ-6290

Close failed connection on start if the reconnect on exception flag is
enabled.",4,16
c8a6171d04303da18d9e19ded30146643d7cbad6,"https://issues.apache.org/jira/browse/AMQ-6288

Switching the checkpoint lock to a readlock when forwarding acks to
prevent other journal updates from being blocked.",7,21
3c0a4d960ee99483c9160d0b6b80c27abd8f3319,unit test to verify matching durable sub can statically forward topic,0,147
d7b5a62bb0f5131986bbb16d26758f986e4d9222,https://issues.apache.org/jira/browse/AMQ-6286 - variant on test with n consumers sharing a session,6,27
ff99872263981982bb1ebce93c07bfb8a28d4a06,"https://issues.apache.org/jira/browse/AMQ-6209

Better management of shared resources between the background run thread
and the main start / stop thread.  Makes sure to cleanup all resources
before finally throwing on stop to prevent leaking and resources.",82,132
cc849e74406e6fdc410aac862bd615b9a321bb7f,"https://issues.apache.org/jira/browse/AMQ-6291

Simplify the selector close in doStop, the run method no longer tries to
close this after it has been registered and assigned.",2,1
b9334960e06f48454305fc60732b683347d4aaed,"Add some additional time to the wait for completion assert.  On a
sufficiently loaded system 30s is not quite enough.  This is
reproducable if run while a heavily I/O based application is also
running in the background.",2,2
15405af2e6c44037ce09e616bdfe79852c19647a,"https://issues.apache.org/jira/browse/AMQ-6292

allow for batch writes of forwarded acks.",4,4
ab434ee776bda7afeb6c1ae26f66559940afbf6d,"Refactor test which has some flawed assumptions about the incoming
messages based on subscriptions that it makes.  Adds better thread
safety as well.",124,99
1241e4120a5f4af58be2952a6ec985dcd8ac11c3,"https://issues.apache.org/jira/browse/AMQ-6293

Fixing Queue destination statistics in dropMessage by adding sync in
between the check for dropped and actually dropping the message plus
fixing dequeue stats so messages aren't counted twice",16,266
a2720c46530a4e82907888bb0c33c2e41c6565e4,"https://issues.apache.org/jira/browse/AMQ-6293

Clean up the test, the times were causing CI failure.  Turn off
persistence and fix a couple other things, reduced time to 2.5 secs
while still reproducing with fix removed.",12,9
d9c404829298f1a8c67a6d7a732d8e687268b014,Clean up and adjust test timeouts for CI,21,11
2a10e9900a5f8a48eafc15f6820476f76499a70b,"https://issues.apache.org/jira/browse/AMQ-5621

Add some additional test cleanup",0,12
1263dd8c4343fbe9412b377e10d84109e230fd5c,"Fix failing test in CI.  Subscribe should request receipts so that the
subscription exists prior to initiating the event that triggers the
advisory message sent to the Topic.",7,77
2c3046b81616c52be5e5d45f99ee7e648d6939a4,"Fix test timing out on slow spinning disks.  

On a local drive with heave I/O this test took over 2.5 minutes to
complete, CI machines can see similar times, bumped timeout to 5 minutes
to account for this range.",2,4
c2230fda4bd8eed7bba3245ad4b11fcd8e3bd581,"https://issues.apache.org/jira/browse/AMQ-6286 - refine fix to distinguish multiple consumers in a transaction, verify insertion at head will preserve order",16,102
0883011147d80e1804b1738d2a56294a97ee1b38,"Fix data dir path change that shouldn't have been committed with the
other fixes.",2,1
8b7632cb4f6aaa0d7d7c2febab5e60b6abcf3dff,"AMQ-6298: Moved Spring Import-Package wildcard below other Spring
imports.",1,1
53a9080c27d229b57b48292058f93cbdc1e7afe3,Updating help text properly,2,2
991d69f3879f1c206c5fda537920eed569db9b38,"Fix error message typo.

Fix typo from javax.jmx.ConnectionFactory to javax.jms.ConnectionFactory",1,1
daf7e85e68e2403bc9e86948ae38adaa3e55ad69,https://issues.apache.org/jira/browse/AMQ-6297 - null check for case where interface has no bindings,1,1
5cc5022d2a2da6e2add8de5c1576a28e97006e87,https://issues.apache.org/jira/browse/AMQ-6297 - displayName can also be null - thanks tbish,1,1
7c04aa9909ab123332102a6ef86547a166cb51ca,reduce test message size and quantity for ci,2,2
b1d8e66eafe522fce44ba7fb86865d9102541222,"https://issues.apache.org/jira/browse/AMQ-6299

Update commons deps to latest patch versions.",4,4
b4e35fe8a355c0fd5fe8935ab583e2886121946b,AMQ-4181 - revert mod to testQueueBrowserWith2ConsumersInterleaved which cause intermittent ci failure - browse is a snapshot at time of creation. tidy up some gaps in pagein logic sync,23,23
4d6cc4b46007c7bcec10ade080e822d83261273f,"https://issues.apache.org/jira/browse/AMQ-6303

Properly setting typeCode value for new journal files used for ack
compaction",6,8
f46b2927a4fcbd52fd4d80a7908f7f59428079ae,fix intermittent ci failure - ensure no expiry before first dispatch,2,2
fe9d99e7a071c4c09c78dfd95630036b86a8a05b,AMQ-3166 - implement rollbackOnlyOnAsyncException such that async exceptions on transactional sends or acks result in the transaction being marked rollback only and commit failing with an exception. Test that shows current state of play using alwaySendSync or AsyncCallback. rollbackOnlyOnAsyncException enabled by default.,52,383
281fbb1f9d7e329fd36556df6c0ea23a8bbea683,tidy up close for vm broker - seems ci failure of InMemeoryJmsSchedulerTest is related to overlap between tests of vm transport,0,6
e467f34cc1add0dba8f669aa49f1905245266b7c,"longer receive timeout on first message, intermittent ci failure",2,2
3b626c9edc4525ef5bd13e041cc41f734ddd4abe,resolve intermittent failure - if broker closes socket on security excepiton before client gets response,8,9
0757cdcd596f1fd90c4c2e10a7e0f9b215ba7db6,"Cleanup the tearDown method to ensure we follow on to the super tearDown
where the broker is stopped.",9,21
62ab55683f6fcb5942af43b84ebeb0365699dd2a,"increase the lease to allow kahadb recovery, ci intermittent failure",3,3
29b833fe8ed87141e4a5870fe3c2377f5107437f,"fix shadowing and ensure close of connection, ci...",4,8
08f266d7629e079727af763342ddc2b6d573d3f4,Remove unused import.,1,0
5235c74fc9e884a758f603ac954b2e6fe36081ce,"Fix warnings in pom by removing redundant version declarations for
dependencies that are managed by the parent.",3,0
3c5c5779e26ed65122182ff74d409f4d73433e27,Remove version definition for managed dependency,5,1
6ae169e2755257b1e8e5068473bdb3156160790d,"https://issues.apache.org/jira/browse/AMQ-6305

Add test and supporting enhancements to the JUnit module to allow for
easy repetition of tests that don't always fail reliably",6,455
8448cf1cb886b242b54235b091259acbf43c2108,"https://issues.apache.org/jira/browse/AMQ-6305

Refactor credit handling and drain state tracking to ensure we stay in
sync with the remote state and always answer drain requests.  Start
adding some more tests around drain to the interop suite.",96,969
76b70545f248e6970245719f2f584298b8d493fd,"https://issues.apache.org/jira/browse/AMQ-6304

Ensure that the broker send a container ID using its assigned Broker
name value.",0,30
1f9b139f59707fd37bd3613212896dea695510cf,test for uuid temp request/reply from camel across network,2,188
46e08024a1e321c28efd79cdc969181a951550c3,use full destination filter wildcard for ci - hostname format unknown,1,1
857597ca9ee0b7d5c0ae3673cd33e8829ce10e00,AMQ-4181 - browser 'may' have more than 1 so message 'may' remain,1,0
db71b43b19e24019fe7ef08dd80d53998b9eec9b,"https://issues.apache.org/jira/browse/AMQ-6305

Lower prefetch on settlement of allow for dispatch of the full amount of
granted credit.  Adds additional tests.",18,159
28e7cb0b21825f0be517673c3004c689d6f448c2,"https://issues.apache.org/jira/browse/AMQ-6309

Fix some minor issues shown by static code analysis",52,34
27ce49f1c8db0445d47ecb5cf6cc5a3d6c5fbff1,"Ensure all PooledConnectionFactory instances are stopped at tests end to
ensure that pooled connections are all closed to release VM Transport
resrouces",6,140
6bf5987921f6fdb6844652bb77e2fc14b002ccf2,"A fix for AMQ-6310

Checking for leading wildcard in the prefix for a virtualtopic,
modifying the behavior of shouldDispatch in the VirtualTopicInterceptor.",1,115
2b03e6a9422dc40729bd8cc5a4c235a1631a5d83,"https://issues.apache.org/jira/browse/AMQ-6310

Merging fix for AMQ-6310

This closes #188",1,115
f6b8ce6c22238b35b84d5ae3b28a46134ac2ba91,"https://issues.apache.org/jira/browse/AMQ-6311

call the correct task 'checkfornotrunnig'",2,2
9079678c3af56a37dd15ae185cc22c09d697f595,"https://issues.apache.org/jira/browse/AMQ-6311

Remove misleading checknotforrunning value from the invoke",1,1
5fd307cd9f6e8402facb22e22f6239a4b0427ff3,"Ensure that connections get closed to allow the vm transport resources
to get cleaned up.",8,24
bce5e5e9c9c3f39c1a9dc57faed3e8c01b226b7b,AMQ-5574 - allow import osgi of jms 2.x spec jar,1,1
98d20008333af380ae05d91036d123501115ab8c,"https://issues.apache.org/jira/browse/AMQ-6275

Avoid unnecessary connection state lookup leading to lock ordering
issues.",5,4
c9b208f0a3faf32a995556fce8853db3708603b5,"Ensure that connections created with vm Transport connections get
closed.",3,13
c49db029ab280dcc1755d855f3641526ad2a5e90,"https://issues.apache.org/jira/browse/AMQ-6319

Improve configuration for disabling non-SASL connections.",2,71
9f5fff795d798aff22c2cafccb50d09eb91f8922,"https://issues.apache.org/jira/browse/AMQ-5621

Ensure that connections using VM transport are closed.",49,48
f548aafa81fdb53b5c273bd15705a3d0fe2ef0e2,move test utility to broker module to allow reuse from jdbc module tests,0,0
534dbee4477b3e1ad400e18dfba9541f8da1b5c8,"NO-JIRA: Add test to show behavior of non-prefixed addresses that
default to Queue.",0,66
cf750d5cee79a46c6521312019c659b24c80c0e0,"Wait for bridge formation before attempting to receive otherwise the
timed receive might not work.",2,55
c5998444cf3c29ea97cea28937180bf8b99dd666,"https://issues.apache.org/jira/browse/AMQ-6319

Additional fixes and tests for disable of non-SASL client connects.",9,29
dbed28e625083a336e4caeb471b8d47406c3bf57,"https://issues.apache.org/jira/browse/AMQ-6320

Turn off support for non SASL connections by default, can be enabled on
the TransportConnector URI if needed.",1,1
9f9b0fb26afdec927f8a33bdb3dc8d9149eb18c2,https://issues.apache.org/jira/browse/AMQ-6322 - Introduce timeout in network bridge for waiting broker infos,2,8
a953f11d0e6e4f271e99f1b9ac6cfb01ee0ecf99,"https://issues.apache.org/jira/browse/AMQ-6323

Applying reduceMemoryFootprint for persistent Topic messages",32,78
7b207567d9d304facdfa7c1c5d7fa8a81b6fe70e,"https://issues.apache.org/jira/browse/AMQ-6325

Fix issue with selector parser.",195,197
36237cb30f703664a75e642b8c4f25b020e9a7a9,https://issues.apache.org/jira/browse/AMQ-6322 - fix NetworkRouteTest failure,0,2
f595f3c20d0eb1af9d4c285b0b3ea30adac0b590,"Handle the case where the remote doesn't set any properties resulting in
a null instance being returned from the properties getter.",1,2
0b65c8d93c860124d3900dd39885768b7d867b41,Do a bit more resource cleanup on tearDown,1,11
6713c0c715c681c08a29eab68e9c647c0f1d96b9,"https://issues.apache.org/jira/browse/AMQ-6326

Update to 0.13.0",1,1
c0713415f5809f5a419055865e2eb0c1e341fa18,"https://issues.apache.org/jira/browse/AMQ-6325

Fix test that fails now that the parser checks the full expression.",3,3
5ba867908347beff855ebbf94771e7646ed2589e,Allow for the connection to close without getting the ERROR frame,12,24
9ac5f83473a64a61f8928b678645b67c83f870a2,"Fix test failure in CI

Has race condition on the ArrayList it uses to track subs and 
Fix the unreliable sleep used to track locked messages in subs
Ensure Broker is shut down on test completion.",77,70
27d955501febd1357d3f3e5dfd4695272616ca55,Add some additional tests for dynamic sender / receiver links,0,107
1faa4afa907ad090e6f858ae3204b153ef446a4a,https://issues.apache.org/jira/browse/AMQ-6331 - Honor excluded destinations in static routing on network connectors,49,72
a95d6fd4ebfc2733379791ea82a54abcfd05d9e9,Adds a start of message interoperability test for OpenWire <-> Qpid JMS,0,179
94ca7039b1a18d6a7b4f4626b410d0bf826c4275,Add a rollback test that rolls back repeatedly using new connections.,3,57
d563e9019d9d3fe0e776188705037455584f6e25,"Test for message property handling cross protocols.

Add a test that validates that message properties are propagated between
OpenWire and AMQP.",0,171
03785a4d53877bb4088e0d83558d09147e1f0124,"https://issues.apache.org/jira/browse/AMQ-6334

Fix error handling for connection establishment on the bridge.",162,202
3dfda807f6c65f78badfccdbcec3676e45e66a2c,https://issues.apache.org/jira/browse/AMQ-6336 - queue browser delivers expired messages,3,51
6be36305f6669ded47bcd33016583a86bdda04dd,"https://issues.apache.org/jira/browse/AMQ-6337

Checking for the correct number of arguments before reflectively
invoking a method in DefaultAuthorizationMap",2,2
e02c1a17f83b21cbf42fa9e6e78a891af3edd8bb,"https://issues.apache.org/jira/browse/AMQ-6286

Create a follow on test showing AMQP respects order.",0,139
9e856290c487c972e84ab4a7f22004158814b9d4,Add some tests for ClassLoadingAwareObjectInputStream,0,715
03a211ec061d9ed49dc1ac16f171d8f4458483b8,"AMQ-6317: Use an SQL Statement for each createSchemaStatement
closes #190",51,265
4e23adfcc981d3e13e7f1b1182b89a954160a26a,"https://issues.apache.org/jira/browse/AMQ-6340

combine the lists in the correct order for later redispatch.",12,12
83827f27709a2b8b1f8d080a4913100b80fe3429,"https://issues.apache.org/jira/browse/AMQ-6341

Wait on broker response for async broker commands.",22,44
31c55f75108b06020eb6206c52361b04f49656a9,"https://issues.apache.org/jira/browse/AMQ-6339

Add support for AMQP client to connect using WebSockets.",562,2228
021ac3d09f5a6f58c22374b85e2f2db82fed22a9,"https://issues.apache.org/jira/browse/AMQ-6344

Update to Qpid JMS 0.10.0",1,1
73a8d7dd65490b0aa48f82dd1df1e5acaff75aca,Upgrade Camel,1,1
4386750fdb6938bd36669b5c8168aef8d772041e,for mkahadb populate mdc activemq.persistenceDir such that logging for a particular instance can be identified and correlated,0,3
30ff378a35471120d8d0a0f96367c5684fc43daf,"increase service logging, seems npe in the mix on intermittent failure",0,6
96494f74c7142c3396f17696f345c2355c16a61c,"https://issues.apache.org/jira/browse/AMQ-6346

Prevent concurrent access to the MQTT protocol handlers which can lead
to a tansport level deadlock",4,25
bd442a3388b0f127c8f8b9fad5e4888b77bb42c3,"https://issues.apache.org/jira/browse/AMQ-6343

On MQTT Websocket close, a LWT message will be properly sent if
configured and a disconnect packet was not received",7,269
6bfa13b6e707fb3465a9193cd44c478514fcd948,"https://issues.apache.org/jira/browse/AMQ-5426

Fixing a race condition in ActiveMQMessageConsumer that could cause a
NPE when the consumer is closing

Thanks to Michael Wong for providing the test case for this issue.",18,251
3856c3999ac8a29171c09de99bd0e8bf9cdaff4e,"Revert ""https://issues.apache.org/jira/browse/AMQ-5426""

This reverts commit 6bfa13b6e707fb3465a9193cd44c478514fcd948.",251,18
c02bc648460059b6dbc201fa21b7ee0ce2445082,"https://issues.apache.org/jira/browse/AMQ-5426

Fixing a race condition in ActiveMQMessageConsumer that could cause a
NPE when the consumer is closing by only modifing pendingAck inside of
the deliveredMessagesMutex

Thanks to Michael Wong for providing the test case for this issue.",28,257
6dacef1c9552edbad656c31d784179c2cd179b2e,"https://issues.apache.org/jira/browse/AMQ-6345

The MQTT transport will now throw an exception if a PINGREQ is sent to
the broker if a CONNECT packet has not been received first as the spec
says CONNECT must be the first packet sent.",0,123
b5b087d5585b734d15873303b1f35c572cafbe68,"https://issues.apache.org/jira/browse/AMQ-6345

Moving PINGREQ tests into its own test class so they aren't run more
than once",122,165
667ea7c640dd0203b2ecdc83f74435e77cbe44ab,"https://issues.apache.org/jira/browse/AMQ-6345

disabling failed assertion for test as it is expected based on how this
test is usin the client",0,17
0706fd0bc1f499f1fc304ec1c70aa8aaa3dd4d69,"https://issues.apache.org/jira/browse/AMQ-6350

Allow for PooledConnectionFactory restart after being stopped.",0,28
d635a369404db25e1c450283a224ed89abf3c5a7,"https://issues.apache.org/jira/browse/AMQ-6352

Fixing PList size tracking by moving the null assignment on removal to
after the onRemoval method is called to make sure that the decrement is
done properly.",2,10
c9c05eb86656c09bcfc77516b5b1111487fa9f9d,NO-JIRA Update this test to test across all transformers.,0,31
927bef7345dfff779209d3c3291d0df51f41583d,"AMQ-6301: Changed activemq-osgi so that it embeds the spring-dm bundles
so that we can avoid loading the spring-dm feature which causes Spring
version conflicts.",5,59
a2205f69193ccde4441f5bad3826fc77921e4177,"https://issues.apache.org/jira/browse/AMQ-6301

This closes #187",5,59
6c2ce67ffbde081f1db75002c8b41c3c7b7bb166,"https://issues.apache.org/jira/browse/AMQ-6301

Updating ActiveMQServiceFactory to avoid using Spring DM directly and
instead use the Camel factory bean if it exists

Reverting back to Camel 2.16.3 until Spring DM is removed and Spring 4
can be used",13,47
16c487a7b9ba54c013254a1c642d31eba86acc8b,"https://issues.apache.org/jira/browse/AMQ-6353

Fix and test for encoding the correlation Id value to the ActiveMQ
message object's string value",6,259
159713298aec60e49f5f3dae7f548a4162af9598,"https://issues.apache.org/jira/browse/AMQ-6301

using the proper command name in karaf after upgrading from karaf 2 to
4",1,1
a5050a8bc5b5f45852269867dd9bf46b9381912d,"https://issues.apache.org/jira/browse/AMQ-6356

Fixing store size calculation on KahaUpdateMessageCommand processing so
that the size won't increase inadvertently if the existing location of
the command in the journal is the same as the new location",3,155
d4dd13821650d03239ed322d49ad16dde5438597,NO-JIRA: Adding schema for 5.13.4,0,1
4b2760e74907a7dd1d4985dcc4804da114b8493b,NO-JIRA: Adding missing header,0,16
42dabb7a7a7f981eb57d46663456ac1d7c912acb,"https://issues.apache.org/jira/browse/AMQ-6357

Preventing a divide by 0 error by taking a local reference to the
prefetch size to guarantee that the value doesn't change after the > 0
check",2,3
24eb2bb2db3ebfd68f5c143b02a1e8f24ca3b0ac,[AMQ-6355] Provide bundles for client and jms-pool,1,2
71ee1eae18ee92c37e600945397ee6b7d893629e,"https://issues.apache.org/jira/browse/AMQ-6355

This closes #191",1,2
8cc5c56d5ef98bbdd8f004428c4fac30abb1c39a,"https://issues.apache.org/jira/browse/AMQ-6358

Wait until recover is done before starting the checkpoint tasks.",1,1
a35e8dc8a28768ddf7f14c29cb41fdc6e2e8a605,"https://issues.apache.org/jira/browse/AMQ-6359

Allow a receiver link to enable consumer options on the subscription
such as exclusive and retroactive using options encoded on the address",0,70
cd5ea6c27fa92a57dc68cd9632572a77b36c446c,"https://issues.apache.org/jira/browse/AMQ-6361

Honor the expired ack from the client as the authority on expiration",10,230
a3a5a1affa7aa229202efc51625531ccce1414bb,"https://issues.apache.org/jira/browse/AMQ-6336

Ensure that when expired messages are handled client side that pull
consumers get a chance to see it and send a new pull request complete an
outstanding timed pull.",11,284
f43c090809bbb59d86ffac8f8105f08a71142aaa,"https://issues.apache.org/jira/browse/AMQ-6362

Add option connectResponseTimeout to allow a stuck connection in
ensureConnectionInfoSent from stalling out a client.  Timeout is
disabled by default.",2,45
34d7b0bfcb3a3d61ffe961f53ed5824d54aac232,"https://issues.apache.org/jira/browse/AMQ-6339

Update to latest Netty 4.0.x release",1,1
4b018b420637db61763f14b8a02f986087608916,"https://issues.apache.org/jira/browse/AMQ-6339

Clean up the transport implementation and reduce duplication.",451,187
39184e2fb052fc73c69934890a16b333f1ea31d5,"https://issues.apache.org/jira/browse/AMQ-6366

Fixing the duplex bridge case for restarting durable subscriptions when
dynamicOnly is false",4,151
e05db7cb5c82660d83e913fa6df77a9e23d0eb8f,"https://issues.apache.org/jira/browse/AMQ-6273

increment the connect attempt count explicitly to ensure reconnect
policy options are applied.",3,7
9f7d70ba0d8f0262c76844954b274786e3d7545f,"https://issues.apache.org/jira/browse/AMQ-6366

Need to make sure that the durableDestinations set on the duplex bridge
are only topics",10,15
2a815c2e08a5e2f5a056fdafbcd9c30dacf369d5,AMQ-6370 - move cleanup lock to connection allocation to avoid contention with between store and connection pool. pool connection grant or block is now guarded by store lock which lasts till connection is closed,140,507
6cc2c1190da15579a9a886bad03596e14a77a677,"AMQ-6361 - fix contention over expiry processing with expiry task and client expiry ack, unit test regression sorted.",19,39
d427952b19f1763d5128d8a6c145d61dcefd79d9,AMQ-6372 - fix up accessor pool cleanupUnused and use the minimum number of open files for recovery,17,295
ad657cc202f30bc279316ed34c1e48c7291070cf,AMQ-6370 - ensure derby instance is created,0,1
a65f5e7c2077e048a2664339f6425d73948d71ce,AMQ-6362 - merge duplicated code - fix regression in AMQ4889Test and ExceptionListenerTest,30,8
3953b9aaefaee914bdd0702f27aef47c021ceb27,"https://issues.apache.org/jira/browse/AMQ-6373

Adding a new OpenWire command called BrokerSubscriptionInfo in order to
help synchronize durable subs across a network bridge.  Added OpenWire
version 12.  For dynamicallyIncludedDestination durable subs will now be
synchronized on a bridge reconnect as long as the bridge supports
conduitSubscriptions and dynamicOnly=false",42,10324
d54e21b2ff563431919e8783f701c889497b2101,"https://issues.apache.org/jira/browse/AMQ-6374

Refactor transformer to better map AMQP messages to JMS message types
and better preserve the original encoding of stored messages so that
they can be sent back to an AMQP client with expected content types.
Adds additional interoperability tests.",351,3017
01cfa7727dfb6e680e3a94789fd0798c36dbc87c,"AMQ-6361 - fix additional test regression on topic sub expiry AMQ4083Test,MessageEvictionTest",4,5
29856516098ba3edc0d1cd5d68bc70beeae1e73d,AMQ-6370 - speed up the test and wait a bit longer for sends in slow ci,2,2
cf3d419528e5596c1226b5ca11ed37e8039bc006,"https://issues.apache.org/jira/browse/AMQ-6375

Adding non-blocking metrics to KahaDB to track message counts and sizes
for subscriptions.  Turned off by default but can be enabled on the
KahaDBPersistenceAdapter",71,700
37da75e0e48800317d1a36d7d0b8adab0d2b06b7,"https://issues.apache.org/jira/browse/AMQ-6375

Quick fix the build after broken by previous commit on this issue, no
actual stats tracking implemented in LevelDB by this commit.",5,11
6b8e743b083b9baf201f26b6f7d9a574638ba537,AMQ-6372 - add IOExceptionHandler to kahadb read path to ensure fast shutdown on disk access errors,17,102
51b413309caffb776a67158432e85b3ace41f013,fix intermittent ci failure w.r.t timing of initial delivery,4,7
822e2be90e393a95cbdb998d2407b65e03bdd146,"AMQ-6378 force recovery on corrupt metadata location info, relates to AMQ-6376",38,73
dd0ed17e59da3ac19f9e528c8b071322d3035404,"https://issues.apache.org/jira/browse/AMQ-6377

Introducing JournalDiskSyncStrategy to allow a peridic disk sync mode
instead of always syncing after every write or never syncing.",6,256
7ac89adf40f833a3644082244ef42c0ab5758e51,"https://issues.apache.org/jira/browse/AMQ-6339

Update to latest netty release.",1,1
498e2184be8ade23e3b1c65c5f13076ae582b493,"https://issues.apache.org/jira/browse/AMQ-6377

Adding new setters to KahaDBPersistenceAdapter",1,30
1bdcb4f96ffa7b08532f0ef76425416d9363c118,"https://issues.apache.org/jira/browse/AMQ-6096

Update to proton-j 0.13.1",1,1
1a598277cf76e9bace980dfa87982584b5879710,"https://issues.apache.org/jira/browse/AMQ-6377

Reworking patch so that a periodic disk sync uses a journal trace
command to trigger the sync so that everything is done in the same
thread for the writes",69,164
8d5e84bb67664811a6ead9c65bb0eace919d3e95,"AMQ-6379 - Add openwire properties for provider name, provider version,
and platform details",0,222
8d7d4e6df9d3c17ae068a7e8e50e0c0e0c8b22c2,"https://issues.apache.org/jira/browse/AMQ-6379

Merging patch for AMQ-6379

This closes #192",0,222
7118247b658335839bc792dde8f70eee2acc1f18,"https://issues.apache.org/jira/browse/AMQ-6379

Fixing unit test so that it uses a random port and changing the default
platform details to be ""java"" if there is an error",4,5
dd971a00f2a3922e264aaa9860313b9978ec53a4,"https://issues.apache.org/jira/browse/AMQ-6379

Removed unreliable check from unit test",2,0
82295fd2c6dea96433d15e00e00d53c6d41f5c0b,"https://issues.apache.org/jira/browse/AMQ-6381

Fixing DurableTopicSubscription so that an ack will properly update the
forwards statistic on an ack",0,9
b1c4b1871f612f8a0501f2d7c8b273ed26199151,"https://issues.apache.org/jira/browse/AMQ-6373

Moving some test code into a shared support class",126,88
71bb54f94c9554f24e502bccd40231b80da56740,"https://issues.apache.org/jira/browse/AMQ-6372

Fixing test so that test DataFile is written to a temporary directory
instead of the main activemq-kahadb-store directory.  This prevents git
from picking up the test file",5,10
e73ab348375db71116624326d29398e0088d7334,"https://issues.apache.org/jira/browse/AMQ-6383
https://issues.apache.org/jira/browse/AMQ-6373

Adding a new flag that can be specified on a network bridge to allow
forcing of subscriptions to be durable.  Cleaned up some unit tests.",91,614
eb9c584fbd86e52b2cc7bb7d209068a8865fa7b4,"https://issues.apache.org/jira/browse/AMQ-6373

More tests and cleanup",7,137
5a6d1550fb854dc7251dd0e545c2498aea92d012,[AMQ-6380] Bundle to create pooled ConnectionFactories from configs in OSGi,0,178
29e6f63d58136770ac414aff6cb717ad3b03404f,"https://issues.apache.org/jira/browse/AMQ-6380

Merging patch for AMQ-6380

This closes #193",0,178
d654e045354bdb129cbe0f3f8c2964570e08c862,NO-JIRA : Adding 5.14.0 schema,0,1
9d39ffd875a62a80aa33e167efa370aa9304a5e8,"https://issues.apache.org/jira/browse/AMQ-6380

Adding missing license header",0,17
71cbc652835e8b6b9d17b7a28fc998fce4840a9b,[maven-release-plugin] prepare release activemq-5.14.0,43,43
06a21dbbb37a1c716aca92d234cc84f1cc6b5a3a,[maven-release-plugin] prepare for next development iteration,43,43
be032c9821dab8630594b68e09c103957ba5e30a,Close connection in test to try and release VM transport resources,0,2
5e5b673afa04b9ab9096d6c435af4cf99fb7c788,"https://issues.apache.org/jira/browse/AMQ-6386

Add test to help diagnose the issue with cross protocol AMQP -> STOMP
message acking.",1,233
9249315688e43aeb8f9b5f7a0ece71a5b08b6bda,AMQ-6389 - init the size attribute prior to logging a message send in the logging plugin,1,10
4800a7a1a46dd248b130b4289cf9f26787fe5612,AMQ-6392 - allow mapping of host names via the publish address strategy,4,109
50dc5864fd61ba528c20c7a2a8502204a7a32f6d,Fixes CAMEL-10226: camel-jms ignores connection pool settings in spring-boot deployment.,0,9
4437393aa1a981a182142c255f76ae7cc50af183,Fixes CAMEL-10226: camel-jms ignores connection pool settings in spring-boot deployment.,2,3
aae4b3dda75239c7a2943ff4da302c8b2d4c1e73,Upgrade Jolokia,1,1
fcd9047b9fb52c140ac77cc23337234570ddfb01,additional test to validate stats on missing messages and outstanding acks on recovery,3,44
51166dc7af677ab32f0c4d62a6a9b92ef261ca82,AMQ-6377 - fix deprecation java doc ref,2,2
330f0ce7341934ae7869b094dc769c972ad18347,AMQ-5815 ensure async write latch is released on exception,32,33
6d44ae6e971a341217c6f5a8669900740654b0ab,AMQ-5815 - remove obsolete remnant of fix for AMQ-2594. holding global lock before attempting to get index and checkpoint lock can lead to deadlock if checkpoint write lock request pops in,14,9
d39fe372e5085705bd1219f96ebfd78b83cf4565,Renamed README file.  Updated link for encryption and location of LICENSE.  Update NOTICE year.,8,8
06e929f1016571f9e5a024e42a4fc5298d9f9684,"https://issues.apache.org/jira/browse/AMQ-6397

Setting the HTTP timeout for all HttpClients instead of just on send",2,4
e52a05276116e44d3b271e15edea755aeb27451b,add some diagnostics to track intermittent ci failure,0,4
b37b9eb5afed8261f657b5847e8691b3804d0f60,fix up cancelledTaskModMetric reporting in kahadb,1,1
8447e1af2d45479fb602a6c16982e7b00b52a5b0,AMQ-6402: Fixed potential NPE in OriginalDestinationPropagateStrategy,1,1
1030fb184216d00e3fd43a416931acd3b2fc6794,"https://issues.apache.org/jira/browse/AMQ-6404

Add check for unmarshalled text body and handle that case.",0,40
5a874816b74a485822bcb60e1cf7fc550644d62a,AMQ-6403 - add indexDirectory attribute to kahadb plist impl - settable via broker service tempDataStore,2,43
2b1cda196471280c4fc587d8664d6373e18c97ca,AMQ-6406 - ensure duplicates trapped by the cursor-add or queue-page-in are removed from the message store,37,247
b9fad53fc650a9026391bef0fd74aea1bea7ec1b,"https://issues.apache.org/jira/browse/AMQ-6067

The JDBCMessageStore now checks hasSpace() when running a message
recovery listener to prevent going past the max configured page size",5,189
de4f4e406fa9182d705c52c3dc32e762572e45fc,Fix NPE case so a meaningful error is reported on failure.,2,5
bf5b1fcfce6b8f5ee216ddeabc39039b04a78fb7,address npe in intermittent failure in ci,4,3
1595912bbf3225c8d1a92cf9a0d54746756c6c12,"https://issues.apache.org/jira/browse/AMQ-6408

Update to latest proton-j 0.14.0",1,1
a4cd4dc674be0dbe8ed98c4098e98dc449d76d95,"https://issues.apache.org/jira/browse/AMQ-6409

Update Netty to 4.0.41.Final",1,1
4a1f2f7ca73fc3cf8d650a4d1b884bc6a0750e59,"https://issues.apache.org/jira/browse/AMQ-6410

Advertise that the connection supported delayed message delivery.",1,8
e57de544100b031ef6a79be29738e9f97126b2dd,NO-JIRA: Fixing OpenWireConnectionTimeoutTest failure,27,14
ed0e786b6002633411037923fb28a075489e442b,"https://issues.apache.org/jira/browse/AMQ-6414

Changing the nio+ssl transports to trigger a serviceRead after start up
to prevent blocking. The prevents the channels from not reading in
certain cases, most notably with the auto+nio+ssl transport when used
for a network bridge.  Also added a couple tests and changed a network
bridge test to test out auto+nio+ssl.",17,165
f8bc19b96da752e216de2c5c543a7d8523512a03,AMQ-6413 - ensure audit update on skipped store add for kahadb concurrentStoreAndDispatch. Fix and test,0,116
a9c7f7122badd6bc46237cdeeaa64e892d9fa045,AMQ-6411 - tidy up latch between runs. Have not seen repeat of npe yet,4,21
a0d05f8ea3e883a16d86b4a6755f7fc1a503f55b,AMQ-2910 fix timing on test timeout - ensure consumer connection is started,4,4
bb8d32c04aa06735d0036963685a4bc41fcbaad7,"https://issues.apache.org/jira/browse/AMQ-6387

Fix up the Memory Store such that it removes the references it adds to
messages when they are placed into the memory durable topic subscription
store.",106,374
508df5359c1c85b6c3e0bfd3c316a8c3026c9cd5,sanity check on provider url params for connection factory,1,7
a3f1aa0bdad56cd896b3fb3d5b99137a0978f215,"TrapMessageInJDBCStoreTest - intermittent ci failure. Avoid contention on datasource, use long lived connection for assertions",26,29
98c5866c7534c1f26d2e41edbdb372fe21387fe4,"https://issues.apache.org/jira/browse/AMQ-6418

Properly setting the transport properties on the
AutoNIOSSLTransportServer and fixing the Stomp protocol to set the peer
certs when using auto+ssl",35,556
9ab94883a8ba88aeeb0a16e2310ab42a46de1d05,"https://issues.apache.org/jira/browse/AMQ-6420

Properly copying wire format options map before applying to the
transport when using auto transports so that the options do not get
cleared and will be used for all future connections",17,150
88af1c70d96d2df15a127ba02d73f205202fb5cc,"https://issues.apache.org/jira/browse/AMQ-6418

Fixing mqtt link stealing default setting for auto transport",6,30
88daeec28f25266c6fce15e200ac6d2ca9d11eb6,AMQ-6422 - include the inflight count in the prefetch for positive remote credit flows. Fix and test,6,139
ee271afe9041172df24b572231b394a7c6fec0ce,"https://issues.apache.org/jira/browse/AMQ-6422

I've made a few minor test changes and added a couple more cases.  Under
heavy CPU load I'm able to get test,
testReceiveMessageAndRefillCreditBeforeAcceptOnQueue to fail on the
second receive call where it should get the second message since it
granted credit.",109,175
0050f22b97aaf15446c482c6dd229500ab0e2eba,Add a test case for anonymous sender links using simple test client.,0,107
a038655605e8fa1de279b37989ba69a68f83c601,"https://issues.apache.org/jira/browse/AMQ-6423

Fixing durable sync over a network bridge so that network subscriptions
that are no longer permissible are also cleaned up",8,170
84cd815500bb486d2ab3d8724a76f0ac43dc3bf4,"Allow the AMQP test client to also be configure to trace frames

The test client can allow for quick tracing of the frame traffic via a
call to setTraceFrames on the client or connection instance before
connection to the remote.  This allows for tests to easily switch on /
off tracing.  The log4j.properties is also updated to output frame
tracing with the URI option is put on the AMQP transport or the client
value is enabled.",3,56
5de9bdac080cfcaa8777b1ee7e431dab4e03ac85,"https://issues.apache.org/jira/browse/AMQ-6427

Move to Qpid JMS 0.11.0",1,1
640289868e18e82b054be8aff5580d3665518f5c,"https://issues.apache.org/jira/browse/AMQ-6422

Add test for credit grants but no settles for a single receiver.",0,53
2fdc2600ac37d11d2d660654b327dddd852eeef7,"https://issues.apache.org/jira/browse/AMQ-6422

Small fix to test and check for zero inflight on successive send to
destination that should have no credit on the registered receiver.",1,25
da9fedead4078cc82efb32e15d8d9cd53c8e82dc,"https://issues.apache.org/jira/browse/AMQ-6422

Adds a split consumer test that uses presettled receivers.",0,79
b4ab0e1af9fb0bb56b8a4a9cfc948727a7b92e0c,"NO-JIRA AMQP Test updates

Adds support for doing sends and receives that are enrolled in a
transaction created in a session other than the session that created the
sender or receiver.  Adds some tests that show this in action.",7,269
4516c8df3f45db4ea3495e397744e9c235b68d7f,"NO-JIRA: Add some additional tests ported from the .NET AMQP client

Adds some transaction tests ported from AMQP .NET client with some
variances based on the way the test client works and limitations in the
brokers handling of Transacted sends.",0,202
a35d23dff7642a097eda24caa9c9979c99bafafe,NO-JIRA: Small test client fix to close threads out faster.,1,7
6630e813795c20055b26cea52ba6a34390315bdf,https://issues.apache.org/jira/browse/AMQ-6435 - destination mbean query api,9,328
9f812a21036f4d1ec6830aca35ff54fb17750edd,"NO-JIRA: Additional test on JobSchedulerStoreImpl 

Pushes on the journal log GC logic to ensure that cleanup is occurring
when the redelivery plugin is scheduling more resends on TX rollback.",0,220
5d53aa2d11edb3b819b4ee862a10c7bd1532e805,"NO-JIRA: Add some more variants of the .NET transaction tests

Adds ability to not settle accepted messages on the client to enable
creation of tests that are equivalent to the AmqpNetLite client's
transaction tests which hold settlement and expect the resource to
handle it on successful discharge.",7,221
5d9f1cd3d58cae626a53cd0fcf21656d4da38ca8,https://issues.apache.org/jira/browse/AMQ-6435 - use lesser guava dep to match leveldb java,1,1
ffee8b442f57b38d57a59745b9062e8d963c65ba,https://issues.apache.org/jira/browse/AMQ-6422 - match proton sender view credit to prefetchExtension - tracking credit to dispatch delta to track additional flow requests. Proton sender layer is distinct from the transport layer - they mirror each other,68,103
6c01b641b1850b384e57d74ad6471ea4c8fcf01f,https://issues.apache.org/jira/browse/AMQ-6422 - move delivery tracking to pumpoutbound and additional test that shows how the presettle case breaks. Thanks to Robbie Gemmell for the feedback,1,42
7c293b661f22245ce21bf2b5aa1c5bf4192cb8c5,"https://issues.apache.org/jira/browse/AMQ-6430

When a nolocal durable consumer reconnects the new connectionId is properly captured for
the NoLocal expression so that nolocal works on reconnect.  Also fixed
the detection of the nolocal value changing on consumer connect.",5,153
35e8a528880d1ae427124b6ea1b8ef810478484c,"NO-JIRA: Adding an extra test on AmqpTransactionTest

The test I'm adding was back ported from Artemis.
It will validate if the ACKs are nacked in case of a connection.close();
To avoid a situation where the TX would sit on a Transaction Resource Manager somewhere like an XID.",0,45
d4c7cce7d733df9fcdcd0daec4ce64fb3844ce64,"https://issues.apache.org/jira/browse/AMQ-6438

Makes some improvements to the profiling test for the transformers.",70,88
18dce69a78729e71841fead21c69dd15ffe7db58,"Remove duplicated code for finding a java process given a pidfile
and make it work in busybox.",38,23
f25e7ab47f1bed223e30fc85afbe43ba1f4c93e6,"https://issues.apache.org/jira/browse/AMQ-6434

Rewriting logic in finally block of PooledTaskRunner to avoid using a
return statement",11,10
2b99ffcc22e8c982883ae553bd91d03acc68aaa2,"https://issues.apache.org/jira/browse/AMQ-6433

Generating a new equals method in TypeConversionSupport so the proper
null checks exist",3,19
18571ce09b6385d8560200928a353e9da1a1ffe4,"https://issues.apache.org/jira/browse/AMQ-6430

Modifying patch so that only stores that persist the noLocal flag will
check if this flag has changed to prevent a subscription from being
deleted by mistake",17,83
09456480b838efd97297679840d33f7949449e21,"https://issues.apache.org/jira/browse/AMQ-6431

Fixing BitArrayBin to not overflow in certain cases with numbers larger
than Int max",1,11
a82c95cd29a6b06d2083b1869129b9e2addac7da,"https://issues.apache.org/jira/browse/AMQ-6436

The temporary store will now delete the old temp directory on start up
if lazyInit is true instead of waiting for the store to initialize to
clear up space.  This prevents space on the disk from being wasted with
old data if the temp store isn't initialized",10,84
5702ec8d7ca330c94d6e4b59cea4606285b2c196,"https://issues.apache.org/jira/browse/AMQ-6438

Add additional test for larger more complex AMQP message",0,73
63d62a71f59ec485ac79e1ce40e98316d37ca14a,"https://issues.apache.org/jira/browse/AMQ-6438

JMS Transformer performance improvements and bug fixes

Trim unnecessary code and improve overall performance of the JMS
Transformer codecs.  Remove legacy Qpid JMS client related code from the
transformer as these are no longer supported.  Fix outgoing message that
do not match the structure of the incoming message that created them such
as message with had only a body being sent out with Headers and message
Properties.",1169,1161
e8ba0b0119df071e809861b4e4a4632d089a5055,"https://issues.apache.org/jira/browse/AMQ-6435 - destination mbean query api, return the right count",7,6
132840b09fbf0a071c51d357d12e13999925df25,"https://issues.apache.org/jira/browse/AMQ-6442

Config file org.apache.activemq.server-default.cfg points config to ${karaf.base}/etc",1,1
20f27f22b947f15f326f0369176594cf80120325,"https://issues.apache.org/jira/browse/AMQ-6442

Merging AMQ-6442",1,1
26e7136ab7891753604f0d50a5bf61b39366e51a,NO-JIRA: Adding 5.14.1 schema entry,0,1
507bf3ab01f604808274e3618008fd9ff2aa6903,NO-JIRA: Disabling doclint check so jdk8 can be used to build javadocs,0,2
b1a9a9382b837fb8cff7f9586c7f9516675bf78a,"https://issues.apache.org/jira/browse/AMQ-6438

Add a new test for encode / decode validation.  Fix issue where the
internal scheduled message properties were escaping into the outbound
message.",0,301
45f60e4133f64603d5f1a5161c363eb185d2804d,"https://issues.apache.org/jira/browse/AMQ-6438

Remove redundant tests and clean up a few small nits.",68,2
08695ab30306307aced0d2d51b1755bc6e29081a,https://issues.apache.org/jira/browse/AMQ-6184 - add workQueueCapacity config property default to 0 where a value > 0 swaps out the dsynchQ for a capicity limited blocking queue. This allows the core pool to grow on demand as before but also allows work to be queued when necessary,4,291
634b42016a4c347217129d49a4175afaba9666ed,https://issues.apache.org/jira/browse/AMQ-5486 - allow selector manager to reject tasks - org.apache.activemq.transport.nio.SelectorManager.rejectWork leaving the default to caller runs policy. This allows a broker to implement qos for existing connections by forcing others away,5,145
0dd806f43f3bee9372ee9b9481089d417c265dfe,"https://issues.apache.org/jira/browse/AMQ-6444

Ensure that unsettled TX messages remain acquired and not redelivered to
the receiver.   Add several tests that demonstrate that a received
message can be released, rejected, accepted or modified after a TX
rollback if it was not settled.",61,232
351faf26992f1406bf203b0cefd1238615baf88c,"https://issues.apache.org/jira/browse/AMQ-6445

Fixing RandomAccessFile usage so that the file will be properly closed
even if there is an exception",8,6
d88c4e46ecffdba0040299df6efbcdc4171d1c3d,"https://issues.apache.org/jira/browse/AMQ-6438

Better interop for MapMessage with Binary value in the entries of the
payload, should convert back and forth the byte to allow Message to be
treated as a MapMessage and not fall back to a BytesMessage encoding.",13,156
c60d716968b8b3368d21ca6cd188e59172c87b00,NO-JIRA Update the IDE Runner to fix some config options,2,2
5385fd1bb36abe5a123db039b63d30cefd594ba4,https://issues.apache.org/jira/browse/AMQ-6446 - use shared logger and pepend statements with connection counter. Old behaviour or per connection logger can be obtained with trace=true&jmxPort=0,14,205
02082b1aec97140dd62a418d68f2cc029082444e,NO-JIRA: More Java 8 JavaDoc fixes - also fixed findbugs for Java 8,1,7
ee9f316c20a991fcb3dcf3d89ef6e4011f708c72,"https://issues.apache.org/jira/browse/AMQ-6438

Add an additional test that accounts for the fallback transformer case.",7,26
72650a0b8b00f281ce6b2e300da2cb4015d25e81,"https://issues.apache.org/jira/browse/AMQ-6449

Disabling doclint now only activates for JDK 8",5,15
06c9be5619b6987f43fbb831e4ccae5c726489ad,"fix a wrong word

the wrong word in this sentence ""with Hadoop based file systems to achive HA of your stored messages"" .
“achive” change to ""achieve"".",1,1
3239e4f79ef81d80ddae8ae9a318af3a048eb93d,AMQ-6450: update to qpid-jms-0.11.1,1,1
bab4a92d6e337828481400a7ec9d94d1516c7158,AMQ-6428 - Added convience methods to EmbeddedActiveMQBroker and JUnit Resources for ActiveMQ clients,62,1504
a27f4f2ea802bb52380f8d2051d98e55f803d32a,"https://issues.apache.org/jira/browse/AMQ-6428

Merge branch 'AMQ-6428'

This closes #198",62,1504
c1e94c615859ee9f61c3c16d00cf87369ea40317,"NO-JIRA - remove info logging of config mods, add sanity test of mod to write acl for authorization plugin",1,94
b6759b33dc5c67dd7c0deaf41abeaecff6f9afe7,"AMQ-6403 - init broker temp from provided temp store to align usage checks. Thanks for the patchh shailendra14k@gmail.com, made a mod to respect broker.tmpDataDirectory as a default. This closes #204",0,7
baef8f8ec20ed3057895f6ec1e02ca6ea75a33a1,"https://issues.apache.org/jira/browse/AMQ-6444

Remove some unneeded instance of checks and used cached values where
possible.",17,15
a2995b7614a6e15af7958f78bd412ccab00589bb,"https://issues.apache.org/jira/browse/AMQ-6444

Fix failing tests",0,6
1316b57edba75336e02645abc3a7e8369526b2e8,NO-JIRA Add ability to set message reply-to for in tests,0,25
e91f5c8062f81a76e6983c489bfd092ce4071480,AMQ-6454 - ensure message.acknowledge throws if consumer has closed and message has been released broker side,0,34
8493f6b4d79146509e554e2b640f486d79f40bbb,AMQ-6459 - store based % usage needs to poll the store for the current value on each access,0,226
538ed745106887545d6de0210c2f4929f6b2a20c,NO-JIRA - ensure stack trace in incuded with exception that terminates data file appender thread,1,1
1ac89543a8d7f969f84fa51d92c4e1e0d65f1161,"https://issues.apache.org/jira/browse/AMQ-6460

Add better cleanup of connections on test failure.",112,133
74a5381b9a79d2ee708345743bb128d06bd9d80b,AMQ-6463 - provide connection to scheduler context in case of deferred send or error,0,263
f71e0ee15b2c456dac28cf456deafb764221afa6,NO-JIRA Add some additional testing around outcomes,1,119
3e237ca73a9c9af18191ff4a23c456c1d427511e,NO-JIRA: Add some additional test variations and add some more checks,11,111
a9f9d4a4d2ede752afa74b22394b80822052543d,"https://issues.apache.org/jira/browse/AMQ-6464

Correct handling of rejected outcome to archive the message in the DLQ",14,8
406a34294befca4ba2de4b728c86f64b96a94945,"https://issues.apache.org/jira/browse/AMQ-6465

Properly decrementing the message reference count in
DemandForwardingBridgeSupport when messages supression is checked for
durable subscriptions",0,92
d9d1ae73eb5d9301df47afff0fd3ebcc0f592ff5,"https://issues.apache.org/jira/browse/AMQ-6466

Update to Proton 0.15.0",2,2
10fc397ab72bcd3c111b517af687ccf4c9372ced,"https://issues.apache.org/jira/browse/AMQ-6467

Fill in the source / target created for the requested dynamic node with
the actual attributes we are going to support.",5,73
c1157fe1f007ee2344a7f0badefa0794c98817cd,"https://issues.apache.org/jira/browse/AMQ-6468

Fixing JSTL tags in JSP pages",7,7
338a74dfa42a7b19d39adecacfa5f626a050e807,https://issues.apache.org/jira/browse/AMQ-6470 - Remove unused ControlCommand handling in client,20,0
52ab6ba09b0f58ab95ea24c501fff12488decc4e,AMQ-6471 - map groupClass attribute on mod to authorization map. fix and test,0,69
d206621a73e4731b00eff49518ea93ba9a4ee3c0,"https://issues.apache.org/jira/browse/AMQ-6472

Durable sync over a network bridge will now also sync non-durable
subscriptions proplrly if the consumer belongs to a destination that is
configured to force network durable subscriptions.",93,344
4c838c5fa3c83782b1bfaa069f2beb7a87a7beaa,NO-JIRA Add a close method to the session,0,26
bd8f17700c32652883c0372c85f5296276cd1128,"NO-JIRA  Add new test for session close

Add a test that checks that closing a session does not provoke the
remote to close the session resources explicitly.",1,45
1a811b72ddfae5874016de71300e73d8a286a8c6,"NO-JIRA Add new test to receiver tests

test showing that remote close and not detach is triggered on close of
the receiver.",0,43
b9cb02ae54a27e6c2f3ff934a1f01b88b7af2f11,"https://issues.apache.org/jira/browse/AMQ-6476

Moving BrokerSubscriptionInfo processing into a new thread to prevent a
deadlock of the network bridge on startup",24,52
56607530971b21e40f91b2bc764967175da66556,"https://issues.apache.org/jira/browse/AMQ-6478

Bumping java source/target version to JDK 8",2,2
24a79413c66013818795360cf3ecc4489d1e4d5f,"https://issues.apache.org/jira/browse/AMQ-6479

Allow a unit test to inspect AMQP frames as part of the test.",22,298
7eb9d60c8d203829b020025b20411628a20ab780,"Add missing runlevels to Default-Start

Debian starts in runlevel 2 by default.",1,1
114706a7b4fb0789dbc73dc6f19ab1d3ab07e5bf,"https://issues.apache.org/jira/browse/AMQ-6478

Fixing compilation error with JDK 8",2,3
7c3bb401007b4047c540287b53b435b20d3161c0,"https://issues.apache.org/jira/browse/AMQ-6477

ReduceMemoryFootprint now applies to non-persistent messages if they
have been marshalled and topics now clear memory after the recovery
policy check",15,236
1a91decf9f6dd7305dd91ae6769df78cc4758c82,"https://issues.apache.org/jira/browse/AMQ-6483

Fix conversion from long to int and back to long again.",5,4
b34336cc0adeb8908580631f979715852458a69b,"https://issues.apache.org/jira/browse/AMQ-6484

make the validators thread safe",39,37
cec3245a9fd50ad1850bdf57d3935d42886cefe2,"https://issues.apache.org/jira/browse/AMQ-6485

Allow for inspection of Deliveries on Receivers and Delivery updates on
Senders.",4,54
a2d92ef786ad6fd542afb82543784794321fd13d,"https://issues.apache.org/jira/browse/AMQ-6486

Ensure that message with no header is marked as non-persistent.",1,27
0a80165a99bff33bfaeeb8fe1dc7b5a8e6f50830,"https://issues.apache.org/jira/browse/AMQ-6477

simplifying isMarshalled method",2,1
c53131d70082639ac1fd9845da6f220f0f9cb2d2,This closes #203,1,1
11541e8608807d900f0fd66ef48bbc7c5590ee4c,"https://issues.apache.org/jira/browse/AMQ-6489

Add support for SSL configurations using JNDI.",0,115
1a0af86c06661cf092aec3bc4773be9d1e392090,"https://issues.apache.org/jira/browse/AMQ-6489

This closes #207",0,115
6166d4a4f7c3321c4766ad6e4a168099db47ee7f,Fix errors while importing project in Eclipse IDE,0,14
d9940eaf2d829bc78c7291a98f773175e3f47cf8,Fix type in config of lifecycle-mapping plugin,1,1
a8a650cbeea13308a96bd1fe4945cc88bd10b39e,Fix warnings in Eclipse IDE; remove deprecated prerequisites in maven3,39,24
5c80eda321e7edb5f34ffd62c71523310d26b2ca,"https://issues.apache.org/jira/browse/AMQ-6477

Fixing potential concurrent modification exception",5,13
a6e35a6512824ba67463b3f5968a0878677b7ce8,"Test execution artifacts produced in ./target, so that clean runs cleanly",1,3
c239bf01a9f643fd217ee10efc5992105694b125,"https://issues.apache.org/jira/browse/AMQ-6493

Ensure the proper versions of dependencies for Qpid JMS are brought in
for the test.",28,17
4c8d30d077e45c64ec66f56de1090c51daf6a1f9,This closes #180. Merged long ago,0,0
d1f42bd01e90abe3fb171834efd46a3594ba2600,"https://issues.apache.org/jira/browse/AMQ-6474

ASYNC_TASKS executor not being shut down on stop with no other users in
service.",0,6
629ee285685b5f63315c8fcd6138a37bd17b958d,"https://issues.apache.org/jira/browse/AMQ-6495

State variables shared across threads in the transport need to be marked
volatile.",3,3
f9bec8f99a4e7c44a922551c57c751642e3d170c,This closes #201. Won't fix. (fix some file permissions though),0,0
d54d046b8a8f2e9e5c0a28e1f8c7634b3c8b18e4,This closes #185. Won't fix. (fix more file permissions),0,0
0d90a2a6835fc4401a44fe2d2cc391adc7fa57a5,Delete redundant persistenceAdapter.getTransactionContext,7,5
d9350912984f12356e9d51b0f00b5a28f5cfa58d,This closes #171,7,5
d5a929c0d2c91e01ac61cd7ff7df790c1b633c9f,This closes #205. Won't fix. (fix even more file permissions),0,0
be24a133ef396b71359bceceaa8caa9ed905a23a,This closes #88 (merged as a65ac586). More file permissions fixes.,0,0
e725451521a40bd35044bce0fe13a393e10a2b43,This closes #162. Minor improvement in using the Logger api,2,2
512b643f7ae9147a4156276393f32fbd4d6a1e6f,This closes #62. Fixed in upstream,0,0
016ae05d0e2697fe53db276d8e6f098d2e9f6f05,"https://issues.apache.org/jira/browse/AMQ-6489

Adding a new ActiveMQXASslContextFactory and jndi support for it
in ActiveMQSslInitialContextFactory",40,331
dce2b61f870245a0c12b634d12cd0fa3a8a60daa,AMQ-6494 Return ExceptionResponse during broker service shutdown,25,13
d756d3571502f2a8ae30a593cf613cb9125c011a,This closes #208,25,13
a5aa3002588ab8b2db14013d743e0c6d7986bdb7,This closes #195,0,0
7cf7fba7aab05ea9c41bf009325c63a6798f6cc8,"https://issues.apache.org/jira/browse/AMQ-6498

Include the already received backlog when deciding to grant additional
credit to avoid excessive backlogs of messages during producer flow
control.",46,345
946c9454d512280cdae525ba25db370f2b61ff43,proposed websocket fix,1,2
450cabe4ead1fb78eec2e94013d2868a5bf864da,"https://issues.apache.org/jira/browse/AMQ-6482

Adding a timeout for websocket sends to prevent the transport thread
from getting stuck and blocking.  The default is 30 seconds.",3,22
937b2acd4628fdbfe8165db5f97225dddab515e7,"https://issues.apache.org/jira/browse/AMQ-6482

Adding websocket send timeout to AMQP over websockets",2,14
a6367978e50ff443a9a7225f9f2cd991c8488ce0,Remove proton-jms reference as that project no longer exists.,1,0
5076808b57d0152142a76b0c91c7519434a2454c,AMQ-6497 Add method to navigate interceptors,519,167
e5dd0d833f1a60b4244cdbf0f48e7dcc563e132e,This closes #209,519,167
dca066287ebd7ffe465544f647e213e1c4d5744a,"https://issues.apache.org/jira/browse/AMQ-6494

Ignoring test that currently fails. The parent test is already ignored
in the build so I'm adding this one to be ignored as well.  It
currently fails on exceptions that are expected and needs to be fixed.",0,5
3b7613d9300443898b608a52cb4e763821fdc163,AMQ-6451 - catch errors on preallocation. allocate direct buffer on start and reuse to ensure resource availability at runtime,26,80
1a75e0f33aa5c5bf1527799a329af5eef25e216e,"https://issues.apache.org/jira/browse/AMQ-6501

Update to latest point releases",6,6
097c0e7eae360f376b525448863e86452ebc06cc,NO-JIRA Add some additional validation.,2,12
7d0df2d01e00d833a7ea95f192dd9eb9e64b50ff,[no jira] static network wildcard drain test,0,92
9d6bc3a5d8e8433258b766738d7512a2826e8ccb,[no jira] add replay policy to draining broker to allow drain to origin,0,13
980162233fd3693d1f83d3f95985ac33affa7a8f,"https://issues.apache.org/jira/browse/AMQ-6504

Round the start time value not truncate to ensure delay falls on the
correct side of the scheduling block.",24,35
7e648d512d06508d85f6a4e111d9adbdb9e33a82,"https://issues.apache.org/jira/browse/AMQ-6505

Fixing the auto transport protocol detection so that the byte buffer
that captures the initial bytes for detection is not shared across
threads. This was causing failed connections under high load and high cpu
usage under NIO",49,86
105128a92de270d1a21bc2f08a113c56b3a34806,[no jira] use the general wildcard for the drain test,5,9
2537266740452dbf85454c4f6236569be9231cdc,[AMQ-4082] - ensure masked exception is report in the log on missing broker info from local or remote transports,0,2
e050519ff6ae8079c5183f6e6372ddb3d03e91c7,"https://issues.apache.org/jira/browse/AMQ-6500

Better handle prefetch extension and pull consumers over Topics to avoid
the remote not receiving all the messages available based on the credit
it has issued.",101,546
2c828b23df991f1e86747d2bcf95329cf1696827,"https://issues.apache.org/jira/browse/AMQ-6504

Fix intermittent test failure",4,5
043d1f29e4f857253b6ddf7d58e7fda90f5cca3f,"https://issues.apache.org/jira/browse/AMQ-6510

Use the ${activemq.data} directive for the logging output folder insead
of a synthesized value based on ${activemq.base}/data",5,5
037f28de5a1bc3068973fe3464e2217aa378bb93,[AMQ-6514] Upgrade xbean-blueprint to 4.2 to fix issue with placeholders,1,1
00129837dedd010843fe19150adfbfb64e97ced8,[AMQ-6515] Adding javax.inject bundle to fix the issue on feature install,0,1
7dc70e03ea86021c39780e6f8ec68df4eff08595,AMQ-5247: Make jmxUseLocal global settable,2,3
f40532a23d70639a027fcf87893de8683edf430f,"https://issues.apache.org/jira/browse/AMQ-6491

Changing the WebSocket servlet to return a succesful empty response
instead of an error when a GET request is made",14,56
7077d2b910405dea7a60c5140824966ffebc66a8,"[AMQ-3166] init rollbackonly exception cause such that xaexception has meaning, thanks to james (jtahlborn) for the suggestion",6,9
99b7a28ccbb5435ef5bdba3ceac9995996dfbbed,"[AMQ-3166] fix typo that removed class name, sorry",1,1
7a7192517be798e0b17106e24bc5b3248f8650a3,AMQ-6452: Upgrade dependency of geronimo-transaction,1,1
2a56c6037df60f2adec18c1184ace3b25dd00f98,AMQ-6506: Increase OSGi version range for package import javax.jms,0,1
8bc3ee29cd82f2df6721b58fe50608fb87d235f8,AMQ-6057: Add performance patch to JDBC statements definition,3,3
b6bca3976c9dc18ff5a51c51c218b2f7f8825fbe,[AMQ-6517] make pre dispatch redelivery policy check optional jms.redeliveryPolicy.preDispatchCheck=false,7,150
89c1a7b8ba1e6196220dc79dfc5a5a332ec074b6,AMQ-5344: Replace bundles with feature,2,1
cfdff4edc529984deea27067578810498541321c,[AMQ-6518] - fix up aveMessageSize dest stat and test,1,3
0a29533ed7ef49798a3fb4fa8eed7fb78d0a868a,[AMQ-6520] respect kahadb indexDirectory for perDestination mKahaDB - fix and test,3,198
dad629e889b2116a778fd4f77680a1b2944b400f,"[AMQ-6522] - remove hardcoded 32k batch limit from recovery check of the journal, fix and test",7,122
cf57559f1c95bdcf8f58937eb883111887d31192,[no jira] unit test that exercises failover with xa and missing replys,0,220
19afba02bb5b41329ff6b39d33d6a4874cbc5cdf,Closing out of date PRs. This closes #69. This closes #59.,0,0
7fe862caf4e9f6b57d8265bf8ca1d3d97f2be99a,AMQ-5654 Allow ActiveMQ authentication on server side for REST/Ajax clients. Thanks to Geert Pante for the patch. This fixes #70.,8,21
100ccdfde480826bd51c7155faab17025fb0c9a7,Closing out of date PRs. This closes #83.,0,0
4e766d92c5d210cfbaa08f9c59ec7379affe23a3,Add example using retroactive customer with a fixedsubscriptionrecoverypolicy for JMS Topic and broker restarted. Thanks to Charles Moulliard for the patch. This fixes #94.,0,167
80f46a80560b2b2ed9fb418c33df75136bc3dc52,"https://issues.apache.org/jira/browse/AMQ-6521

Adding support for Jetty 9.3 by re-adding in the logic to dynamically
load the correct GzipHandler depending on the version",2,24
e6fa7353252e57f4e573bcd3d00b82b76c2fe0be,AMQ-5796: Incorrect Task Usage mentioned for amq browse command. Thanks to Jay SenSharma for the patch. This fixes #104.,1,1
2e36e2c88c051d01d868ca7daa352cbaf1788104,Closing out of date PRs. This closes #122.,0,0
f888cc2729832c6c71f0da9b5586d731e7a41648,AMQ-5939: ActiveMQ REST GET request is always encoded in ISO-8859-1. Thanks to Kirill Dubovikov for the patch. This fixes 140.,33,32
0b767fcb0c622810c01e54bd51bc9680e36f81f5,AMQ-5976: Filter queues by name in admin webconsole. Thanks to Francois Chartier for the patch. This closes #144.,1,19
c625f08584cb1f58dba25b443f3b2eac087b56ae,Was merged this closes #140.,0,0
1f18d9f2b471deb27c0dbe7c282babf6799a27ca,Closing out of date PRs. This closes #95. This closes #96.,0,0
b988113587095599a8d2dbf0300909ce75b3f99c,Closing out of date PRs. This closes #64.,0,0
78492febc858ff06c1ef42e49cdfefc39a6855fb,AMQ-5659: Add safety measure against infinite loop when store exception prevents message removal. Thanks to metatechbe for the patch. This fixes #72.,0,15
a5c8bcb10973cd944f6a1fb938b119a863c51170,fix for: --msgsel for the purge command not working as described. This fixes #108. Thanks to Frank Dietrich for the patch.,19,143
5ddcb9b336dee87a4c3550629824c64c0b8983de,Closing out of date PRs. This closes #181 which was fixed in a different commit,0,0
a73eb0eab5ca030c1c8deb507ef0f2f58ab8d434,"https://issues.apache.org/jira/browse/AMQ-6435 - align jackson version used, with the rest of the project",1,0
3069655d87d033ea4dce78dad78432657fa37977,move to sane guava version - avoid leaked javax.inject osgi import into activemq-osgi,1,1
11d968df5118aeee877728e40a46953c71d3af3f,move to java leveldb .9 to match guava 18,2,2
29ecfd6cdbad76617242ab91be5dd75a14a14425,"fix up createPublisher contract to throw on null topic param, match the java doc",0,20
59bfffd2b45db4d85b278e6b9a6d1cd13e0f0902,"Revert ""[AMQ-6515] Adding javax.inject bundle to fix the issue on feature install""
guava 14 was the culprit - activemq-osgi does not need to import javax.inject

This reverts commit 00129837dedd010843fe19150adfbfb64e97ced8.",1,0
6a0c65828a771cbc57df18707e497590d7a504bd,"Revert ""fix up createPublisher contract to throw on null topic param, match the java doc""
the java doc allows null for an anonymous publish - the check needs to go in TopicRequestor part of the jdk

This reverts commit 29ecfd6cdbad76617242ab91be5dd75a14a14425.",20,0
0f0bdb21ef97c39ec7d54d164e07921611c1de08,"https://issues.apache.org/jira/browse/AMQ-6524

Fixing a thread safety issue with memoryUsage when using concurrentStoreAndDispatch
that was causing memory usage to get out of sync.

The InnerFutureTask class inside KahaDB was not thread safe which was
the root cause of the problem.",3,5
3f7ca8406d33556c4148bdf590e534698382ad92,"Revert AMQ-5659

Add safety measure against infinite loop when store exception prevents message removal. Thanks to metatechbe for the patch. This fixes #72.""

This reverts commit 78492febc858ff06c1ef42e49cdfefc39a6855fb.",15,0
fa55316b6500f23c28cd02b210ed223412d3e123,NO-JIRA: Adding 5.14.2 schema,0,1
e3d698b9d9c5cf97f5d462ee93f7027b97868da6,[AMQ-6515] add explicit no import for ..thirdparty.publicsuffix which leaks from guava via bnd into the activemq-osgi module,0,1
9e3577894327d8c78bc52bb5f77650af0ceb095b,"https://issues.apache.org/jira/browse/AMQ-6526 - fix <Unknown> Stomp operation in ProtocolException.
closes #217",2,157
dc68ad89678eba9d18184f1a5342eb7ecf774596,[AMQ-5875] add queue test variant to validate shared mkahaDb remains when one dest is deleted,0,24
f225120f61c9acfbe64b5f7590fbd72bb668525f,Fixes AMQ-6441 where a negative value can be returned with large AWS EFS files systems when calling java.io.File.getTotalSpace(),0,25
41bec0d65814448d0495462a6eafe7cbd54b36e0,Fixes AMQ-6441 where a negative value can be returned with large AWS EFS files systems when calling java.io.File.getTotalSpace(),4,98
8a28c065554750ea5063333e2ff479a84d689a51,[AMQ-6441] add option to specify the hard limits on a usage such that spurious values from the file system can be overridden. this closes #202 thanks William Crowell for the patch with test,37,62
4b3f07e90ea497164aaf9cc00591e8e0f868f83b,"https://issues.apache.org/jira/browse/AMQ-6441
https://issues.apache.org/jira/browse/AMQ-6526

Adding missing license headers",14,47
1a2e3eb0c76b0a44244f8f4bd69b3dfe1331741b,[AMQ-6529] Make sure the LDAP ACL's are definitely loaded when needed.,5,14
29b4db5c34fbb7087bc6a08f3e393da32b39ce66,"https://issues.apache.org/jira/browse/AMQ-6521

Fixing support for Jetty 9.3 and Jetty 9.2.  The previous attempt at a
fix had the wrong class instance.",4,5
27238b2dd790cea38d95da46b23ed141f5847782,"https://issues.apache.org/jira/browse/AMQ-6535

Fixing the auto+nio+ssl transport so that the protocol detection task
will properly terminate on timeout and not continue to run. Also
lowered the default detection timeout to 15 seconds instead of 30
seconds to match the InactivityMonitor default.",59,97
25703fbd1f27b65a7410acd7df0bfaf7c16845d8,"https://issues.apache.org/jira/browse/AMQ-6538

Fixing an issue with syncDurableSubs that cause a bridge failure when
adding multiple bridges between the same brokers",8,67
4a1c05b628fbb3c97c394eebc6810a9786daca4e,"https://issues.apache.org/jira/browse/AMQ-6536

Add support for the receiver side of a sender link which carries a
desired capabilities array which can request to know if we support
delayed delivery, answer with an offered capability in that case.",10,253
bee0904b843129992b9dcbc035aa08f970728750,[AMQ-6514] Adding test for activemq blueprint setup and xbean problem,0,124
b0884f88d3486b56ee1edfd001b9f88dc85e915c,[AMQ-6543] Cleanup warnings in karaf itests,12,1
d76cabe344815a0bf1e0a00da0200859f9f78ca1,Add upcoming 5.13.5 release to spring schemas,0,1
5fd63a0e4ee71bb93843ab6bfbba6f93b023a3c3,"https://issues.apache.org/jira/browse/AMQ-6545

Fixing the order of locks acquired in the KahaDB journal to prevent a
deadlock during file rotation",3,14
50dae26788400cef745932535f1c933abdd56637,[AMQ-6544] Create spring.schemas with schemas of activemq and spring,21,75
21955e2ea558f00be148767a1ce36d47c1f63aec,"https://issues.apache.org/jira/browse/AMQ-6544

Merge branch 'AMQ-6544'

This closes #222",21,75
04626d807e5adb850449b6d3b143a569ede837a9,NO-JIRA: Adding 5.14.3 schemas,0,2
0ae90c0897835ec9a4f900ec36101350f004fd9c,https://issues.apache.org/jira/browse/AMQ-6547 - add storeUsage attribute to mKahadb filtered adapter such that disk utilisation is available as a QOS,11,421
ef97b67f001ced35aac50dd2571d9b356b9f7d3f,avoid jmx 1099 port clash - no need to create connector for these tests that use the internal mbean server,0,24
8a34ca0ec742f9d3e71211802ac235a7ae88789b,Clean up connection resources on failed connect.,6,14
56917c07ec1c52e6588091eb5d48c76bfbb71b19,"https://issues.apache.org/jira/browse/AMQ-6549

Fix bad logger output",15,15
4dd3aa420e6abd0e5d528ab37eaad9bd0b874491,[AMQ-6546] Big refactoring and cleanup of karaf itests,358,208
861390a9ebc8039489ff102eb349380bf5ef3906,[AMQ-6542] Use name instead of configurationPid to make relation to config more obvious,1,1
59f27aa48328faff1ce4b18f4a9d0f4950e840c8,[AMQ-6542] Test creation of ConnectionFactory from config,0,66
50ea30841ea25b2475980a5277a5f8cc2ed914af,[AMQ-6546] More refactoring of karaf itests,404,434
c76f109692749b8bf7d7cd39ed75022875c39213,"https://issues.apache.org/jira/browse/AMQ-4467 - modify fix check full against shared limit and high water mark against local limit, additional test",1,178
2769298cf64a10cd74320ad132b3677bac20a6cc,"https://issues.apache.org/jira/browse/AMQ-6555

Fixing Scheduler so that a rescheduled task will first cancel the
existing task so it does not get orphaned from the task map.  Also
fixing Topic start so that it will only start once and not twice.",23,120
3a0a7238b13427b6082e95bb0761fa74a62b12a2,[no jira] remove hard coded 1099 dep to resolve ci failure in JmxAuditLogTest,37,21
bdec3f6ddb7f1417690f3c89d07ea77f0d6d96e5,"https://issues.apache.org/jira/browse/AMQ-6560

Converting flags in TransportConnection to AtomicBoolean to reduce
synchronization and improve thread safety",19,19
d9c74d7317677725a52466349f7ed91911664d3d,"https://issues.apache.org/jira/browse/AMQ-6561

Stop connections on all connection attempt errors, not just security
exceptions, to prevent dangling open sockets.",4,136
511b9b642a198fe98409e1f1aac6176b9420d951,[AMQ-6562] - suppress warn of durable sub duplicate from the store on cache exhaustion - expected in the absense of ordered sequenceid and setBatch. Fix leak of duplicates pending processing on batch fill for the durable sub case and remove eager page in for prefetch=0,3,214
8f960ea356f68dad475658ff43af342d753a57a6,[no jira] remove 1099 port dep for ci test failure RemoteJMXBrokerTest,0,2
281d600ae2f9ba6c6bc7bee0e8025698b9a76563,"https://issues.apache.org/jira/browse/AMQ-6563

ensure that the lock is always released in the load method.",62,64
030c44a5540b35f4c24af3e60cced2c008e15215,[no jira] ensure clean db for test AMQ6463Test - intermittent ci failure,2,3
20522394cc747e64bd9f87e2e0b64d886c4dec62,[AMQ-6567] ensure gc file removal/move is completed after index updates to avoid dangling index referenced on partial failure. Fix and test,8,230
85181d630c94c7ca7a47cbb40fc55e3f9e27b574,"[AMQ-6548] ensure any pending xa transaction is marked rollback only on delivery failure exception from on message, before delegating to potential clientInternalExceptionListener. Variant of patch applied with additional test - thanks to Andrey Dyachikhin for the patch inspiration",0,84
4f6c55ad67f8e080d5bc3adba124f5e76d9f0224,[AMQ-6571] use browsercompatspec cookie matcher - apply patch from Andrew Flegg with thanks,0,64
0ad62f722fef6c2123ef7acb116a80574a43c250,"https://issues.apache.org/jira/browse/AMQ-6572

On journal start use lastFileLength instead of maxFileLength when
checking for unused space in the last journal file as it is possible the
length of the last journal file is not the same length as maxFileLength",2,146
6534a83c40e07fc5f9edb1b6a89ae58dd6908456,[AMQ-6576] Problem while installing activemq-camel with Camel 2.17.x or 2.18.x,4,2
56bb079c8227a2beee609b205c001d66597db98a,"https://issues.apache.org/jira/browse/AMQ-1940

Queue purge now acquires the sendLock to prevent new messages from
coming in while purging.  The statistics are no longer zeroed out as
they should properly decrement as messages are removed.  These changes
should prevent the statistics from going negative.",23,75
5c035fac223517d5e6e3d5d511d32cd0b892a213,"https://issues.apache.org/jira/browse/AMQ-6576

This closes #233",4,2
d0c95146c37f96ca69e1fe82c4b2fe9208f8184e,"https://issues.apache.org/jira/browse/AMQ-6579

Remove incorrect dispatch counter increment on message expiration in
TopicSubscription when a pending limit strategy is set",1,128
f56ac06ef6c6711e328f511bb1b098420cb4f5e7,[AMQ-6584] Fix feature to make it work for karaf 4.1.0,1,2
2e953d96a38446f3b193def9f2a8053ee76bf123,[AMQ-6584] Remove spring-aspects as it works with just the range fix,1,0
687badb4fdd1b738103ab409f4342a82fb0e42fd,"AMQ-6577: honour usePrefetchExtension in TopicSubscription.

 AMQ-6577: move usePrefetchExtension flag to AbstractSubscription to promote reuse.",99,183
b51e0bf40c88bd8c0c96c6b5e27c3682faac25a2,"https://issues.apache.org/jira/browse/AMQ-6577

Merging AMQ-6577

This closes #224",99,183
6e17c2a5a29867b3e85b25a9d93a1f27b794f234,"https://issues.apache.org/jira/browse/AMQ-6542

Adding missing license header",0,17
f09493727f95afce417414f2b27b58c429ed4d1e,"[AMQ-6586] Compilation of activemq-unit-test fails

(cherry picked from commit 659d1f6ba545dd283e80489425b616c75fee973d)",3,3
e415d2921ec7eabeccdf7db4d1850caa68486de3,[AMQ-6587] ensure subs added to new destination before destination is exposed in the destination map. sort gc contention with wildcard subs and anonymous publish. fix and test,3,155
64b3203713161ee0dd5d8d1dbd74f4c4602f546c,[AMQ-6587] - fix typo in test that needs 1.7 final,1,1
9b9e3d36788d4b17d7033b9ee44c34a75ad33c17,"https://issues.apache.org/jira/browse/AMQ-6588

Add more detail to log output for easier tracking",1,1
38d85be476a06fe9a1f60b4f38232d64a6d0398a,"https://issues.apache.org/jira/browse/AMQ-6590

Fix KahaDB index free page recovery on unclean shutdown so that existing
free pages will be tracked and not lost.",7,41
83511c96e5cf91f348a81ecc3c4439aa345548dd,"https://issues.apache.org/jira/browse/AMQ-6590

Removing un-needed imports",2,0
e3b529129a490d760d21692736e7c0dda7e615e2,[AMQ-6432] improve the logging to see the current offset,2,2
e4efa6f47adafeeb6e12c6e62f210b3016544252,[AMQ-6591] Add missing import,0,1
9b64e188b59a395300a2f5d6022df9dbbae2f426,[AMQ-6432] issue was journal scan on newly created ack file. I left the relevant braces from AMQ-6288 in place. Fix and test,9,241
0ee4f5b84302daf8901363556d038e274c2defd5,[AMQ-6587] additional contention window with new sub while gc is in progress - need to verify new sub is actually subscribed to the candidate for deletion. Fix and test,2,84
c049d3c1f716e6c9a1dbf26d1a45411bfa34dda0,"Add a simple IDERunner for testing

Adds a simple class to run a broker instance with a TCP transport
connector and no persistence enabled for quick tests.",0,38
1d15908e71942ced7e4987273846976753a028f6,"https://issues.apache.org/jira/browse/AMQ-6595

Fixing tar permissions so that everything is 0755 or 0644 as it should
be",0,12
d86c98a68772aaa879e6a573fed1ab8382568c9e,"[AMQ-6587] - fix root cause of deletion candidate seeing sub. contention between adding sub to dests and adding dests to sub, also removing sub from dests twice could leave dest stat negative allowing invalid candidate for gc",15,88
f5baebb001bc3c4ce520e1952b9b03c90138dd6e,intermittent failure - disable periodic expiry as it may use memory that effects the assertions,0,1
fad50812af792606efca5653f9b4761e663ac087,"[AMQ-6547] revert mod from AMQ-3143 such that waitForSpace respects child usage, fix test and validate mKahadb blocking send",19,102
da5742762abf52500ce66de9f541a016ba515ec7,[AMQ-6547] final for inner class reference,1,1
c0c9e9c0ab030a806ef085b08e9605c881fb8bdd,[AMQ-6597] Do not add the camel component decriptors to activemq-osgi,1,5
f6bf823dedba54dea40b597f1762ac6d7308ffa6,"AMQ-6599 - Properly apply soTimeout value to TcpTransport

https://issues.apache.org/jira/browse/AMQ-6599

The soTimeout value needs to be applied to the TcpTransport as well as
the socket because the NIO transports use the value later on when
establishing a connection",3,121
ff34668a2da0b0d3850f2a568b43218edbca62c7,[AMQ-6605] Properly specify the tag libs we use,5,17
d53b8f8d424e3cf51646b215007fc017717edf44,"[AMQ-6606] avoid partial writes to the end of the journal - revert offset increment on ioexception, fix and test",21,106
816f81e605ab692ca48d22cce30cf3722f83013f,[AMQ-6517] resolve intermittent test failure - wait for client connection to see broker disconnect,14,28
fe5164a404ebcb0879c1b769e16c00f475320419,"AMQ-6602: Fix race condition in TaskRunnerFactory

Fixing a race condition in TaskRunnerFactory where if multiple threads
call createTaskRunner() at the same time some threads might see the
executor as null (if it hasn't finished initializing) leading to the
creation of extra DedicatedTaskRunner objects instead of sharing a
PooledTaskRunner.",15,102
79069598b1435cadaef504d8d3de31777b869c59,AMQ-6606 - fix typo,1,1
1f53b124bcdc41e6241c811f6854c42855deaf6a,AMQ-6602 - Removing lambdas for java 7 compatibility,7,17
0cf64783d2cbae684f6d2d3e6c46801070f7fd77,AMQ-6602 - fix java 7 incompatibility,1,1
bab0887ed60907d4ccac1824d83371a592f94925,"AMQ-6610 - Network connector mbean not registered on reload

On network connector add or update after broker start (such as the
runtime plugins) the mbean was not created.  There was also a couple of
other properties not set. Fixed the network connector start to be the
same for normal broker start and runtime reload.",28,103
ef84db5e64b7a96a0c5c7271bd88642d940ba7a4,"AMQ-6610: Fixing JDBC test

Durable destinations need to always be loaded on connector start",2,9
67ad35d34289aa16c7fcc8f3ed94bb37882a8529,NO-JIRA: Adding 5.14.4 schemas,0,2
a1f6261fb248fd2d39b78e7f2245352009394975,[AMQ-6414] additional test that reproduces and validates,0,102
b6521e292b20788eef44f3a7810d8e4281b677dc,[AMQ-6414] additional logging that helped identify root cause,0,4
8641928553e0f1d97416fd010c2f7d6f165b3660,"[AMQ-6603] ensure failover does not track consumer creation that fails with an exception, fix and test. Thanks for the test Tadayoshi Sato",0,246
90b808ab98b760f06885a5f45628353c9d2224f2,"AMQ-6603 Stop tracking producer if creation failed

Track the message producer create and ensure it is not recreated on
failover if the creation resulted in an error response.  Add failover
level tests to cover consumer and producer failed create tracking.",6,273
eab9a0d05758fd0e8e83e7e482f4f0406cd9af5e,[AMQ-6603] pull unnecessary guava dep from the new test,3,0
e67d48680f16061d0a5fbd09129ce8f0a7759255,[AMQ-6614] fix up jmx blockedSendsCount and producer view blocking flag for async send case. fix and test,13,78
2809befff568f5f8c3c16f1a836c229ef4bf95eb,[AMQ-6610] - fix up brittle jmock test,0,3
01b1f7f6945ba0897732b9eaae2ee1c9d50faf07,"[AMQ-3233] respect policy entry blockedProducerWarningInterval for flow control warning, 0 disables and Xmillis makes it periodic, default period of 30s is not unlike the existing once behaviour. fix and tests",47,131
0d824a8e6832419cb952ef503504c5296b069ad9,"AMQ-6377: Storing JournalSyncStrategy as an enum

Switching MessageDatabase to store JournalSyncStrategy as its enum value
instead of String to avoid the performance penalty of comparing Strings
everytime isEnableJournalDiskSyncs() is called which currently happens
on every write.",10,20
21ae1ef2e658a14f89bde79a83a32af340fb351a,[AMQ-6606] - reset next batch so it does not get reused after error and refine fix to sync write batches b/c async locations will already be in the index,3,86
ef064953b471164a92c0808781244e9b98920b3b,"https://issues.apache.org/jira/browse/AMQ-6621

Fix year values and remove an outdated attribution.",14,2
f651aa361f8d8428c94420d1f5713c70ed0baf07,[AMQ-6620] Workaround until the actual issue is fixed in karaf,17,39
070703133424f6b6a15a2d5f2e9f6194c7de0133,AMQ-6623: update to proton-j 0.18.0,1,6
c5a8b2c8b11121f4999d9f05932cd040d8c9f2a7,[AMQ-6625] ensure kahadb stops operation on the first IOException to facilitate auto recovery from partial writes,4,124
36689beff755fd6391c3a8291d1e89fc782eac0d,"[AMQ-6561] fix up unit test that expects socket to remain open after InvalidClientIDException, dubious expectation in the test that wants to verify broker is ok",4,8
44a318bd3fee7ecb26b591f73872ec58d0aaccc6,"https://issues.apache.org/jira/browse/AMQ-6629

Allow for broker stats to be viewed in tests by enabling JMX but
disabling the creation of a management connector.",4,6
0196be1d27fd0631e7f135eecf4d472bc4cf6068,"https://issues.apache.org/jira/browse/AMQ-6630

Update to latest Qpid JMS release 0.21.0 and match the netty 4.1.8.Final
dependency up with it.",4,9
92da897200351c55dd69b52f7e9007095fd46915,set name for primary key on create table,1,2
8e00c6c2bc30e38cee585d9de97b511ed664951b,[AMQ-6640] fix duplicate suppression sync request on responder end of duplex network connector only b/c that has the async local transport. Additional test. Ensure broker sync is conditional on the need for duplicate suppression which should only be necessary in ring topologies when properly configured,8,272
770a73e9ba3b0c8e53332438de1747f4af4b7a86,[no jira] add identity option to consumer bean to aid logging/debugging,1,6
d84a58656c0b3fcb2aad04e47ef843bf379a25f0,[AMQ-6640] allign use of sync vm transport usage on duplex end of networkconnector with initiator end. only duplexinbound for forwarding is async to allow thread for responses. vm transport options applied in one place and test more deterministic w.r.t the hang scenario,30,35
5ac9657c123993e7f4bac16ed79e2c9763ea45d1,[AMQ-6640] shrink test duration for ci boxes,3,3
4ef1fc74cf8068b5c41cc1f4d1c97967658a465b,[AMQ-6640] either broker dispatch to bridge or bridge dispatch to broker needs to be async - dispatchAsync network option is the trigger for the vm transport to be sync in line with the current defaults. original BacklogNetworkCrossTalkTest scenario exposed this. upshot is dispatchAsync=false is not compatible with duplicate subscription suppression which is fair.,6,7
2731f04f1ca81312d08ffc21c0ceb09513165b7c,"AMQ-6642: Fix potential NPE on updateMessage

Fixing potential NPE when calling updateMessage on a Queue store in
KahaDB if subscription statistics are enabled.  Also reduced the
visibily from public to protected to subscription statistic related
methods that shouldn't be public and added null pointer checks there as
well.

https://issues.apache.org/jira/browse/AMQ-6642",22,68
679db08db3dba27475b9e82c20d3dafeb155631f,[AMQ-6643] ensure a wildcard virtual topic subscriber is restricted to the wildcard destination - avoid duplicate and spurious dispatch. fix and test,36,184
2a2cb3997fbb66ff4040175d70850c990701ab57,[AMQ-6643] final modifier for test,3,3
8b064889c68d092f7b0fd425d2b1f65f4da37e2b,[AMQ-6643] final modifier for test in the right place,4,4
c1cbf509da996ccbd522934d4a927d2164054c76,[AMQ-6644] - ensure journal files past last update are not included in the logged gc set in error,1,2
0f7561e85ab18912ce65120dde465aef5acda12a,"Revert ""AMQ-6494 Return ExceptionResponse during broker service shutdown""
the root cause seems to be in the vm transport iterator

This reverts commit dce2b61f870245a0c12b634d12cd0fa3a8a60daa.",9,10
729766e4925ec05ec05410887df146dd27adbbf4,[AMQ-6494] ensure vm transport propagates onCommand exceptions to peer,2,10
4a3d117d9693480c4a6564dc2c349317d16a14b3,[AMQ-6645] add originalDestination to the mapped properties,1,13
09acc504f18cdecbdf9f947ef3d07deafa2ec0b2,[AMQ-5558] don't log password,2,2
b64ac1dd779e2eb62a8cda1775f2ab6491d05771,[AMQ-6646] improve error reporting to include url,4,44
548403ad995a5286029d437a7fe1011e01da1b1d,Removing two tests as they do not actually test anything,36,3
0752d840b90a5acdb04410362fb16c943f09dc2f,"https://issues.apache.org/jira/browse/AMQ-6638

Adds some additional logging to the connection validation code, adds
some additional tests as well.",11,360
63b2e5c4eabfbdc54ff6ebb155092f7033e7bf22,[AMQ-6494] fix check order of close state for  onException handler,1,1
d42b51a78e975e6f55ad796b33c84738ccfb57ea,[AMQ-6630][AMQ-6493] fix feature and add explicit 2.0 jms dep to karaf for the amqp client test,0,3
58046194d02bdcfe74fc8717457229d571ac4627,"https://issues.apache.org/jira/browse/AMQ-6649

Adding MS SQL jdbc driver 6.1 support",0,17
172c29091e340515341daee0f10e1334db905721,AMQ-6651: Add new implementations of the writeUTF8 and readUTF8 methods that are based on Apache Harmony code.  This also avoid some code duplication that was occurring.,246,110
ca5e41bb7ab740207795d27ca341634f983f375e,[AMQ-6652] ensure checkpoint pagefile flush includeds the checkpoint transaction,1,220
af03ad467987fad7f1ee2d8382ed0acd17432a9b,[AMQ-6652] add final modifier to test,1,1
1fd24505440a11b11f6d500bc5ff547ef999b917,"NO-JIRA Make the version string indicate that the value is unknown

The default version string is out of date and doesn't indicate that a
proper value couldn't be found, return something that makes that a bit
more clear.",7,7
381a1ae20611427eddb6a8743e4043c9917cfbbc,"https://issues.apache.org/jira/browse/AMQ-6659

Honor the sender settle mode from the client and ensure we always set
receiver mode to FIRST to reflect we don't support SECOND.  Adds tests
coverage and needed test client changes for this.",14,337
4bf3152fa99bd97f04845e69b8d442eeb2a39308,"https://issues.apache.org/jira/browse/AMQ-6630

Update to QpidJMS 0.22.0 and Netty 4.1.9.Final",3,4
808a4c5c173bf789326d33ed6bbbc7a6544bf8e0,"AMQ-6661 - Fix Auto MQTT protocol detection

Protocol detection now takes into account the variable length header in
the CONNECT packet.",15,44
0e74c52e8a86b520f1a6bb1f60a429499a430933,[NO JIRA] tidy up MbeanInfo text in DestinationView,17,17
57795bafcea290c6879bb288822435c480a9212d,[AMQ-6665] - check for peercerts is now on tcp transport such that the bridge connection info can have the correct context,7,217
a0ba0bf4c6beaf50ce5e021ef5e4d493119bb1ef,[AMQ-6667] gate cursor cache enablement on a single pending send and tidy up setbatch to always check outstanding async future list. Fix and test,38,430
c4a1346875dc40c1469e5b9625efe73eccb4b081,[AMQ-6465] fix up test interplay - clean on start and consume what is produced,0,10
35f30102a6d2083bd640f86f30abffc536863458,[AMQ-2100] fix for intermittent ci failure,1,4
18d05ba5e0a96d231a357eb0a20b1f6388cb6c49,modify test to validate setting isDLQ flag via startup destination query options,199,192
2b3f0e5958998258fef51fa81308e08dc73c0423,add some logging to diagnose ci failure,14,19
2bd337993285d83549fdb9d9f9b96712bb6fed69,[AMQ-6068] make full cleanup of the rar managed connection conditional on a user specified client id being present,1,5
dcd9b9e1866388ba8947b96e6c0c4e940f22aa1a,use jdk8 allowed cypher in the restricted set,2,2
07b0d913afb8050244697d7c8f2300312f1fbc40,conform to jdk8 algorithm constraints with keystores,0,0
2e2d5ddd3de7d0fe36ce5eb3d4fe81e97fe990a4,"https://issues.apache.org/jira/browse/AMQ-6669

Respect the wireFormat.maxFrameSize option on WS and WSS transports
allowing binary content larger than 65535",16,170
b30ae4e8462f594488c95868aa99f89c82de5861,[AMQ-6665] - remove extranious import from test,1,0
ae97fbd52ea3e4ee90be0386402c93508d4331c9,fix cn to match jdk8 cert,1,1
2518bded67b765463bab7742708bcaf4f706b46d,[AMQ-6670] - trap classcast and marshall errors on load message from journal such that errors are consistently propagated to the ioExceptionHandler,3,212
053c38f99f910872b16c29e7e145e584b3b0c081,[AMQ-6670] - disable expiry processing that may page in and change the test,0,1
73e70299e62d2571973471e9cb6b52a1804fdda1,AMQ-6623: update to proton-j 0.19.0,1,17
eb1a3eb77bf0ce823ba5f4891ef7a546edce5321,[AMQ-6670] - harden the test to avoid ci failure,5,17
fddbac2b8a6b2686c0305e3e24a8ac549cc9e345,"AMQ-6672 Use a dynamic proxy to create unmodifiable types

Use a dynamic proxy instead of hand-crafted wrappers around proton
types to prevent access to mutating methods in tests that could
inadvertantly change the state outside the connection thread.",1295,239
154ff81eeef5cb24b280ba91afa6a880afda7e9e,"AMQ-6673 Add some fixes and improvements to the AMQP test client

Adds some thread safety fixes and Netty usage fixes to the transport as
well as adding a traceBytes option to trace the bytes sent / received
during testing.",9,41
4f7c9ec811c10cf22bc0e93a1a7b049cd5f3fd07,"AMQ-6674 Ensure timely shutdown of the connection executor

Don't wait for next idle check or other scheduled tasks to run before
shutdown can proceed.",3,7
88efa01e119197fb043a890c54ddb37abce21ff4,"AMQ-6675 AMQP Test client can't accept bigger frames on WS 

Need to configure the WS Handshaker in the test client's netty transport
with the same value given to the proton connection via setMaxFrameSize
so that incoming frames larger than the default 65535 over WS don't
trigger netty to fail the connection.",1,28
0eb11bf0a1c23517106627bb1f1f0cc93c6ea2fd,"https://issues.apache.org/jira/browse/AMQ-6676

Handle continuation frames on the test client WS transport.",0,5
02353226c9daed56858eee235b584c97a3a2fd85,"https://issues.apache.org/jira/browse/AMQ-6630

Update Qpid JMS to v0.23.0",2,2
acab282d9cb348cfc608ee405de4f9d3566698cc,[AMQ-6678] sync destructive queue view mbean (jmx) operations such that concurrent calls see consistent state,5,169
e69367fbc329aa66a90e33a917b0d4ccd86c015e,"https://issues.apache.org/jira/browse/AMQ-6680

Fix handling of incoming MQTT binary data over WS.  The handler should
use the MQTTCodec to ensure that partial or packed frames are fully
processed",20,94
7cae60eae0e2835222783c770974d83323dd6a10,[AMQ-6684] exclude json cat-x transitive dep,0,36
04b60cb188932a91be9f59d6cda09290219d8a45,"AMQ-6664 - Adding missing header tag to JSP files

Also fixing JSP comments.  This fix is a follow on to
AMQ-6620",18,24
25f112c5c9a843f162296ad38eb79be47183e0be,[AMQ-6687] ensure transacted sends blocked on pfc do not resume after tx completion. AMQ-4467 refine the fix such that PFC kicks in such that the cache will accept messsages that push it over it's limit while it is still under the limit,3,295
30d31629824344b0322a9f09950b1612088ef12d,[no jira] tidy up test teardown - prevent subsequent ci failures in error,4,9
00ee9491d9e21b85f44f23e05bc1bd6fd82dc2cc,[AMQ-6678] sync destructive purge on queue view mbean (jmx) to prevent concurrent calls,1,1
f4c11f73bba4440fd976aa5a3db3b7ee119d4712,"[AMQ-6688] catch throwable on add task such that result error result is not lost on failed async send, fix and test",5,130
44b5d0be658bec973dce4ddfc4be5aae3197925b,[AMQ-6689] placeholder for new logo submissions,0,1
8023b9ee448d2ed52c8a5c84b40dd92aae8bfc88,[AMQ-6690] do nothing for move/copy jmx ops that try to modify self,0,37
d2c0eddaad7a5633d50c9a1fef2014b9fc0fb5bc,[AMQ-6691] allow dlq flag to be set via jmx to allow retry op after a restart - use destinations element for long term persistence,3,26
c50dc6ff00aa864f22cf7527e733a36567214f0b,"[AMQ-6693] ignore the long term connection associated with the broker context, fix and test",1,215
7413ee00e1d19563cb0273df954ad71ef1433705,[AMQ-6696] zero out usage for forwarded messages such that the original target is no longer referenced. fix and test,0,139
bd8661796b190ef605458cdd7a0d90d9af4f51a0,"AMQ-6697 Adds a test to show that the described case works

Correctly ACK inside a TX and then Abort and then ACK again outside a TX
to show that the broker will then mark the message as consumed.",0,59
e83bb6dc38ed793ead919e5d7d6d9146816c66a5,"AMQ-6697 Preserve dispatched state on client-individual tx ack

Need to preserve the messages in the dispatched list when a
client-individual ack comes in so that on abort the state remains
dispatched and the message can still be ack'd",11,19
8417ce537b2cb96965827ebfb793f31814ba1ddd,AMQ-6697 Make the MBean explicitly final for java 7 support,1,1
6069870e0cbc2559edfdfdbc8af9dd109adb6567,[AMQ-6689] Update README,1,3
2bb7e249f052d1ad5e1820e875b74e40eb027bef,[NO-JIRA] Update Readme with current submissions links,0,37
e64b2165990df038fb2059a195fad45313250309,[NO-JIRA] Cleanup README on LOGO submissions,3,1
daeb70929ebf5eeff678e8646e6d96e0426b4e1f,[NO-JIRA] Updated Logo Submissions,0,23
2a0b785a041f35aa668d2371c9374eb0fd02063c,"AMQ-6698 - Allow timeout of SSL handshake for auto+nio+ssl

The handshake now takes place inside of the async task that timesout so
that if the SSL handshake takes too long the connection attempt will
honor protocolDetectionTimeout and actually timeout.  Also, change the
default of protocolDetectionTimeout to 30 seconds so it matches the rest
of the broker's default connection timeout settings.",5,9
a6782443c1695f54176afecfda6c5c423bc18a84,"AMQ-6585 - Upgrade to Camel 2.18.4

Added the camel-blueprint feature to work with Spring 4.x as Spring DM
support for Camel was deprecated",14,36
a1e595c18fbfb8a21e632b665f180005f1daf053,[AMQ-6700] Leak of ActiveMQ Connection Executor threads and ActiveMQConnection objects in JCA layer,2,134
b6cb0eacea632239fa6bf3a6c66ba1570c3c9af7,"[AMQ-6702] add maxProducersToAudit and maxAuditDepth to dead letter strategy to cofigure the audit, fix and test",0,60
395a48deea8806e76f91278b486f52bc4b9841a2,"AMQ-6585 - Fixing ActiveMQ camel components for 2.18.x

The new version of Camel adds username and password to JmsComponent and
JmsConfiguration which interferes with the ActiveMQ version.  Fixing
ActiveMQComponent and ActiveMQConfiguration to use the inherited
properties now which fixes username/password unit tests.  Also fixed a
couple of other tests that had bad configuration.",33,27
2490c85fc5cc27cb32f01553784ef6bc63cd15f0,"AMQ-6699 Fix STOMP over WS not encoding header values

When sending STOMP frames out over WS the marshal isn't doing a proper
encode based on the STOMP version in use and so header values can be
transmitted without proper escaping.",18,72
99f3d4c5054bbf401c6460d99574873b604e4b49,"[AMQ-6703] have jmx purge clear the audit such that messages can be copied back, fix and test",0,41
df3bd83c0d851c2aa043d1d3cd3aa1d909561694,[AMQ-6703] check for enable audit false,1,3
25583ad184f037b6e2fb35c6a12bc30fe2884a54,AMQ-6704 - Upgrade Spring to 4.3.9,1,1
bfbdd3c5ad8daab43f9cded2647d1e82a5b0c11d,AMQ-6704 - Update to latest Jetty 9.2.x release,1,1
b07821ab6494b43e1ae8877eaf740effc7896b84,[AMQ-6625] remove kahadbioexceptionhandler by pushing allowIOResumption into persistence adapter. This allows the lease locker to still be used with kahadb for stopStartConnectors support,44,47
6b9883f10f6c5d1468e67924aeb37ec7d9d48554,AMQ-6585 - update to Camel 2.19.1,1,1
d33acf87776bfee7d4e4f013b7c6eef53342c489,"AMQ-6704 Update project to use latest Apache parent 18

Project updated to use apache parent v18",1,1
3fd37439f87aeade684d38ec2d72bbc57eaaf0f1,"AMQ-6704 Update commons and http client libraries to latest

Update to latest bugfix releases of some commons and http-client
libraries",4,4
ce551cf97d95fbed89ebecf10c40a5060d7b756a,"NO-JIRA update the AMQP tests to use the client close timeout

Use the client built in close timeout instead of the executor which can
leave threads running and causes the tests to take much longer than
needed.",34,4
d70852eec8b61e4d847b0d191cd88131bc606e23,[AMQ-6625] fix mock test expectation regression,0,1
35f3df4e71504362175733a5aa2085b80942899a,[NO-JIRA] Added Logo Submissions,0,66
155461a0ba0a082f5a8459f17ae6166bae950231,"AMQ-6706 Allow for hooks before broker stop occurs

When Camel is run embedded within ActiveMQ it's shutdown is called at
the point the broker is already stopped, this can lead to data loss as
there could be exchanges that have not ended.
This adds the ability to specify preStopHook(s) that can be invoked
during ActiveMQ shutdown but before the broker is shutdown.

With this Camel can gracefully shutdown while the broker is still
started.",1,238
3593afeebee12b2f34cae4d678a1e4876316ba1d,"Merge PR for AMQ-6706

This closes #254",1,238
2311749aa2629cf344fb5642910c3cc39f869b58,AMQ-6706 - Protecting preShutdownHooks with an AtomicBoolean,7,14
b3dff48a0a4726c41eba6c2be8efbdbc19d1c095,"AMQ-5932 - removing all traces of Spring DM

Spring DM is not longer needed anymore after the upgrade to Camel 2.19.x
as everything is using Blueprint",254,2
ab1bc5b549135b1ef648f1bd9c12e71cc5944090,"AMQ-6681, AMQ-6704 - Update karaf and aries-blueprint-core",4,9
76a4d0610b06dcc99466c6f4992049db0ae8c553,AMQ-6704 - update Jackson to latest bug fix release,1,1
619f51740bb7144ca0a4cc9470ffc81a8ff0bc02,AMQ-6704 - update javase javadoc url to java 8,1,1
480f1bb6cc1ad986370331364412ac1f8e7c0e63,AMQ-6704 - updating xstream and slf4j,2,2
13ed4b64e8f05f7a63ba82da4916be2484fd6143,NO-JIRA: Adding spring schemas,0,4
4b8cd46a005c5ff627dba04ad5205acd05354205,NO-JIRA: Adding missing license header,3,19
5f0d6943cb97b0570bf8d58e8eaf9f0003a5cb6c,[maven-release-plugin] prepare release activemq-5.15.0,43,43
a9fe4e33c3f2d93f40b49be01041de487c4c79f3,[maven-release-plugin] prepare for next development iteration,43,43
1f4831439585fbeb5b85775fd4a16bcc5c156b41,NO-JIRA: Adding 2 new resized logo submissions to the README,0,15
499347542c91774f0bd4a4e2a1a3932e286a7934,[no jira] make networkConsumerIds visible in toString of consumerinfo to aid tracing consumers in a network via transport trace logging,0,8
d7f70837b7e80d41e45362c1327f4d9af25335e1,[AMQ-6764] add logging of exit of jmx ops such that overlaps and delays are visible in the audit. fix and test,8,56
56bed30c6427a1cc6b41e0d289a97c3e5b4582c4,"AMQ-6765 Add trace logging of start failure exception

Log the exception at trace level when start fails.",0,1
8c218ee05d2529e62bb1792b20d22e7086169e6a,[AMQ-6771] do linear sequential scan of journal when validating checksums - remove batch reads via seek/read which depend on write batch size,95,158
3cd5529f505907912476a054758612a2eb22a1e0,"[AMQ-6771] fix off by one on input stream read long check, with test",1,12
68562a4f865d0d1ab39728fdb4051914e6c30a5b,"AMQ-6689 Added new ActiveMQ Logo files

https://issues.apache.org/jira/browse/AMQ-6689",0,291
18f91ba136c585193177d8b9e1e8c0ae4d3bd76b,"Merging selected logo as AMQ-6689 from #255
This closes #255
This closes #253
This closes #251
This closes #249
This closes #248
This closes #245
This closes #244
This closes #243
This closes #242",0,291
9985b162474ed9de59e92fd124409e212bbd6831,AMQ-6689 Update readme,141,2
bdad06fdca98f161aefbd23e2c983a0d8c60898f,AMQ-6694: Not possible to autowire connectionFactory in Spring Boot using SB starter,10,0
ddfa96028c4c803467b0c074b8c1b4d3e5f9687d,[AMQ-6778] fix and test - no longer gate firing advisory on broker start flag b/c consumers may be present once transport connectors have started,37,140
206f77adac24414751509195fd3b985d976573fd,[AMQ-6778] - fix test regression that needs to account for presence of correct advisory dests,1,4
a15626193c8d3c099b0bcf1e605b892b533a4d3e,"[AMQ-6787] release securty context on failure to addConnection subsequent to auth, resolve leak. fix and test",5,116
a67c75a9e15c9957aedc0bc8c4aa89952a4c5ea0,"[AMQ-6643] refine fix to allow wildcard subs to non wildcard subscription queues, enable simple wildcard sub to drain all subscription queues",7,20
267fe73898ca45058ccfe9f2e0efee18262de8cb,"AMQ-6790 Update to latest Qpid JMS and Qpid Proton versions

Moves to Qpid JMS 0.24.0 and Qpid Proton-J 0.20.0",5,6
8646bb1010d2632f5d405fe1761c2b9c99a0a139,[AMQ-6788] Explain how to fix the problem in the exception,0,2
068b7946ce14a8b9d02fa49bd05b8f4113a8ad88,[AMQ-6643][AMQ-5594] fix test regression to reflect match strategy,14,5
63f0b7e20d56837b4f159e83594a4e4fb906cd4a,[AMQ-6792] fire the failover exception handler before stop to ensure blocked write does not block stop request,0,12
4c986d102cd5c862d88fd84eec1889b9786e9970,"AMQ-6796 Avoid double Ack on commit in STOMP individual ack mode

During commit of transaction when subscription mode is individual ack
the messages can get double acked leading to an error about receipt of
an invalid ack.",1,73
c7291f1ecfefec7aad6fcf168e298e2ef0af8ed7,https://issues.apache.org/jira/browse/AMQ-6799 - IOExceptionHandler during the startup,3,55
35bd3ad938f5c378b17a34980d2f3480bf3bbfc3,"AMQ-6798 - Clean up store usage object on Queue stop

When queues are stopped the StoreUsage object needs to be stopped so it
will be removed from the parent StoreUsage.  This allows the object to
be garbage collected and prevents a memory leak.",0,106
5e656d394ce73d6f7d9e72f46348ed7dc9b6240c,https://issues.apache.org/jira/browse/AMQ-6799 - stop the jmx server connector properly,6,58
2e492569db2345cf3be8532630f93219159a8b15,AMQ-6801: ensure transport listener is set before tripping latch to indicate startup is occuring,1,1
42bf6e9061c4bb5723e380da3b1c2c6a5a162ffd,[AMQ-4947] ensure index page file does not skip forcing metadata - size is important to the page file,6,10
ed395d1a8544bb0df7283d6335a88f6c2a3c867f,"AMQ-6804 Improve Transfer tag generation and pooling

Reduce GC overhead and improve tag generation for faster tag creation.",44,274
a359d8152cfee6f2fe95d34fd1b2296f6ed2670c,"[AMQ-6277] take account of producer audit not being updatated on recovery check, avoid unnecessary partial journal replay",25,59
c691124d3288ffc9299bedca69b952952f2cbcf6,AMQ-6808 preserve destination for browsed scheduled messages,0,8
31f507001acbc9a046f281b0f58802f35c36f4d0,This closes #259,0,8
f82993d9c2315d7ea6c35d164f7665987cdbe1b8,"AMQ-6811 - fix reduceMemoryFootprint when no message body

ReduceMemoryFootprint will now properly detect that a message is
marshalled even if there is no message body so the headers can be
cleared out after message send",1,229
6b27708ae15818d025e9f65a1bf8d54a31e01045,AMQ-6811 - moving ActiveMQMessageIsMarshalled test to src/test/java,0,0
9326ccabac8b21f0165ce1d7855add08ebf9f024,AMQ-6812: update to proton-j 0.22.0,1,1
f82eccd2f504b59c2e98ba8273e28f4d7a2a8698,"AMQ-6813: update tick deadline handling to account for potential to be negative due to using nanoTime derived values, plus other edge case protections",12,18
8c3ef6cadb46d9694c68aa649a7952eb1612279f,[AMQ-6815] have checkpoint validate status of async writes to avoid stale metadata and validate location size on read to avoid potential oom on restart,10,159
0f21cf714519d028720dbc95c1656c15d587efb2,"Adds a script used to prepare a release for vote

Script used to download the release from a staged repo and validate the
checkums and signature and create a new .sha512 hash for the release
bits",0,96
5b4fb8aa2bafa691860745d182a831e1e852eeb1,[no jira] test to exercise pool setBlockIfSessionPoolIsFull false,0,59
61d3231d3647fc136b12fd88a9165b783e36585b,"AMQ-6809 Fix issue where stream message getBytes returned wrong value

StreamMessage implementation should return zero when the full value of a
written byte array has been consumed before then returning -1 on the
next read.  Ands fix and additional testing of ActiveMQStreamMessage",41,116
6e33507bf2fc2acea9f61e230cf8e2a9cbccc3ce,"AMQ-6820 - Properly handle ClosedChannelException

When a ClosedChannelException occurs inside SelectorSelection properly
call the transport listener onError() method to handle cleanup and
logging.",1,1
c513bd7ba86a250edd205ea52df31d80318c7fd6,"NO-JIRA: tweak script to default to a version-named dir, allow specifying alternative, and exit if it already exists",5,6
66d9d86fdfb1cf5599d5e1526f651726de7cf939,"NO-JIRA: remove script, moved into dist dev repo to simplify use, now under https://dist.apache.org/repos/dist/dev/activemq/activemq",97,0
e50e1661bf52694809694e4fad8f9b434272f6db,AMQ-6821: update to qpid-jms 0.25.0,2,2
76cc7796686ddf1243e5fb327214580b2c90a5e0,NO-JIRA: Adding schema definition for 5.15.1,0,2
62ce85265978e503c64024994bf391c185fbbd4c,NO-JIRA: Exclude logo.svg from apache-rat check,0,1
a21dd40527d1576c8fa0029ca2996961af12bb9a,"AMQ-6823 Ensure that MessagePull is works across HTTP transport

The MessagePull command needs to have the transients initialized such
that the pull operation works across transports that use XStream or
other marshaling that doesn't performs custom serialization.",1,219
41a100766c19655816d575841ba559d33c63313d,[AMQ-6824] - fix up prefetchExtension growth on transaction completion and delivered ack and tie in boolean usePrefetchExtension,119,290
33b52b5914b30e73663a344f095a30c1dd484f49,[AMQ-6790] add netty kqueue osgi dependency to the activemq-amqp-client feature,0,1
e5b7c9fba467d1b9f2db04c01e3863883fd25fc0,"AMQ-6821, AMQ-6790: add the ActiveMQAMQPBrokerFeatureTest to the smoke/sanity test profile",0,1
578eacab455d82989da2ac26980379a04eeb2ad0,[AMQ-6824] remove time dependency in test assertion,7,16
77fc96b07bd70d53a7c8a8ca88a5a5fa4c791de7,Upgrade Camel,1,1
25ef84a3a0224e0ec3713b6e16e9d563afec9519,Upgrade Spring,1,1
044699c00cbe65c3930194c6937b12b62f502177,[AMQ-6829] add inflight count to dstat queue output,4,93
0e6fc19cff88eb5bc5c7b02aa274835cdafc26b9,"AMQ-6830 Update Qpid JMS and Netty

Update to latest Qpid JMS 0.26.0 and Netty 4.1.16.Final",2,2
f9899922783e0e94de030f4c867e5d48a3d869a9,"[AMQ-6831, AMQ-6771] fix up recovery check to ensure full batch is available in memory, regression from AMQ-6771",1,45
ada50f74f977f2a17ef764edf1cc9acb83c7091d,"AMQ-6830 Update main netty dep to 4.1.16.Final

Update the main netty dep used in the tests to latest",1,1
e793260573f30365572a1e7507cd98e9ed17b1b5,"[AMQ-6831, AMQ-6771] trigger eofexception on read -1 - AMQ6522Test",2,12
02cd02e981e5a644b09821d7ce736426b95ecffa,Upgrade Apache Camel to 2.20.0,2,9
3cfa5cf7e29035af2d01d1692920fba4923a5000,Upgrade Spring,1,1
98a5e55a9676f6857aefed5a0d4a364ba4920375,AMQ-6834: activemq-osgi should not include camel namespace in spring as they have been removed from Camel. Only blueprint is supported,17,5
0c396a23e761c9371edacbdbddff891fcc0e3a04,AMQ-6834 - Adding back in spring schemas for camel,5,15
b3f41cb44bdc5fe11b20f5f1a9fb07fb03b63239,NO-JIRA: Adding 5.15.2 schema mapping,0,2
cc6cb74c74d31d1ba3e4a0534037cc8180d306b0,"AMQ-6828 Improvement to python AMQP example.

Migrate example python code to proton reactor API.",112,183
489cdc624cb537092779f4167fadfd66242dc78f,This closes #262,112,183
be6f4b69c12b8f52ce59d5c97150f10da0cd264d,[no jira] calm this test a bit due to oom in ci builds,1,2
6da08b245e8b5c728d2fb0795ad922ccc99baf41,"[AMQ-6849] provide a virtualTopic dropOnResourceLimit attribute, default to false.

Enabling will allow dispatch to continue even when end to some consumer queues
fail due to resource constraints.
The existing systemUsage sendFailIfNoSpace and sendFailIfNoSpaceAfterTimeout are
promoted to destination policy options allowing selective destinations to fail a
send with an exception. The global system usage options are still in place.
When dropOnResourceLimit=true dispatch will continue in the event that any
subscription queue throws a resource limit exception on send failure.",14,261
8e576be1d9719367aa209562a128d489f27cdd01,[AMQ-6849] - fix sendFailIfNoSpaceAfterTimeout policy entry default value,8,11
005403e94b6c3e62240b744bfa1f030fa28b77ae,[no jira] more lenient for ci builds - intermittetnt failure,2,2
2ea5d1420bbbf90bd151e19a75e6ca33c773f1f4,[AMQ-6847] pause dispatch for message move to avoid redelivery with pending ack/remove/audit rollback,8,70
03b19b9da4d50c3bb8985f930e93596c7d994d26,[AMQ-6847] limit the retry loop to one iteration overa all pending messages such that new additions are not replayed to avoid duplicates,6,14
b29ccf348803249b9d62cc607a8c7e22f06cf8a5,[AMQ-6854] log warn if page in is blocked on usage preventing dispatch. Reuse blockedProducerWarningInterval to tweak reporting,27,188
7dad09a9cd3aa9ec8555083f56a262339b3dba35,"AMQ-6856 Update Qpid-JMS and Proton-J

Update to latest release of Qpid-JMS 0.27.0
Update to latest release of Proton-J 0.23.0 to match the Qpid-JMS dep",3,3
96ce14b278fef9e5f428f1c3c07ce5c09fd8f9a8,"AMQ-6858 - Fix several durable subscription bridge propagation issues

Durable network proxy subs will now be properly created across multiple
bridges when 3 or more brokers are used.  Demand will be properly synced
and removed.",22,384
a0a23b99ccaf13d68853a308240a10807df2c6d8,[AMQ-6859] MQTT - topic name of the message,21,40
41211c78d19b545a2352584d3598346aa3705be4,"AMQ-6858 - reworking durable subscription propagation fix

Significantly reworking previous fix so that the client id is properly
changed when tracking network proxy subscriptions. This makes it so
removal is done properly",266,659
3ca439cadaa8c40f506aa1ef683b36624d216254,"AMQ-6858 - Allow configuration of the client Id token in network bridge

The client id token that is used to separate parts of a generated local
client id in a network bridge should be configurable so bridge names and
broker names can contain underscores if desired",160,167
50243106c2a282d4003523d2ae6780a07b90fdd2,Upgrade Camel to 2.20.1,1,1
6013441a9a7c4a13f7412d6d72638de0f420e6a3,"AMQ-6858 - handle resync of network proxy durables after restart

We need to properly handle the re-addition of network proxy durables
after the brokers are restarted so removal is done properly",41,185
2e3a7f6114fae1ffb9c19ee4af2f4541fdfc238e,(AMQ-6858) - test fix,2,1
08aa5118ffcd8dfc4ec813d799a61ef1ee4421d1,"(AMQ-6858) - add extra precautionary check for demand subs

also remove test that intermittently fails with timing issues",24,5
151e17abfed83e16734d9775e6862b1d1241282a,[AMQ-6854] - periodic log warn on store limits reached in the same way,2,10
9d98ee253fbe3e2134e7242abd572c6e64a6f6b2,sync code default with config default to use jvm mbean server,2,2
5fa0bbd5156f29d97dcf48fd9fdb6a0488a8df1a,"AMQ-6871 - By default only send generic platform details

The default behavior by the OpenWire client will be to send generic
platform details to the server with a new flag to send more specific
information.",50,69
e7bce023de48591475781ba024104f8010a696fc,"AMQ-6872 Use correct type casts on ApplicationProperties Map

Use the spec defined values when casting the Map from the
ApplicationProperties section.",2,2
36a2871301e9e75c198294d31756b49a22a21fc8,"AMQ-6872 Use correct type casts on ApplicationProperties Map

Fix missing cast on value out of current proton release.",1,1
dd6dcc188c80888e2fac37646189ae3b407c1043,fix regression - ensure connector created for remote jmx assertion,0,1
d3e439378405afb699fcbfc63d9342fbb6ad77ce,"AMQ-6874 Update Qpid JMS to 0.28.0 and proton-j to 0.24.0

This updates the AMQP libs Qpid JMS and Proton-J, also updates netty to
4.1.18.Final to match the version used for Qpid JMS",5,5
56baba96c657d4e44b88955a964d6c92ff39b822,"AMQ-6875 - Use the correct destination for Virtual destination consumers
when using Virtual Topics",5,65
69eba7cf379c3a7d3ec95ed4f5f6e917b547e5ff,[no jira] Fix invalid xml for broker config,4,4
26eab53723b11b82d3e6439950777b51182b6203,"Javadoc typo fix and cleanup

This mostly fixes the url1/url2 copy and paste problem. It uses a bit more readable property syntax and introduces a single sentence (plain text) summary for class Javadoc and adds some links.",12,13
04eedc3bc41ecbed8237f4be422446c5f4d54146,This closes #226. Thanks ecki for PR,0,0
b40e5f93bdfdecad84f880edce23c4ae8af9a76d,"[AMQ-6601] AMQ with master and slave broker, shutting down slave causes dead-lock.",1,85
52480a4af860d9493896b8c3e2597cd81f11310e,This closes #228. Thanks @catull and @lichtin for patch,0,0
22f8f88ddbe050fc991ef816152e1169af29c834,[NO JIRA] harden test occasional failure,1,1
051e2b791c88e09a0f7cdecfb53eb2fd52c1d39c,AMQ-6327 - getNextScheduledTime() returns incorrect time when working with day of month,19,50
ab2711abb10ebda3950a8b005780f6b01c189780,This closes #267.,0,0
a8a032af091ae2f6d1affe95b37bb424214d1990,AMQ-6861 Allow customisation of network bridge creation logic.,105,428
25b70f61eeccf3c6ed4221d001048f8e8cb65896,This closes #264,0,0
e4d38d615b0bb2c5e55d63d2db781fdb580bc638,This closes #236. Invalid.,0,0
680b80aa22063e009b14ec59df54c60fdb17d975,AMQ-6781 - The ActiveMQ Web Console doesn’t support a plus (+) sign in the ClientID,2,2
fc4ebd2bc93b39de92a4d2453e8ed9227d9dc435,[no jira] add targetNamespace for karaf features,2,2
87db137597affedf7d27c4c1c8935a2608d8d8f1,[no jira] update targetNamespace version for karaf features,2,2
b06e26ca1e2fc50088bb6423403a802461b53879,"This closes #75, closes #265, closes #266",0,0
39caca7cf6593c167f00e89842b16812edbc578f,AMQ-6327 - Remove System.out.println,2,0
6e9ceb222ccca30cc052feff3e203d2a4352a481,This closes #268.,0,0
12c649c2d9116a10d6157f02a6026acd5033e036,"This closes #85. Won't fix. Thanks @jwcarman for contribution, sorry for not picking it up in time.",0,0
8c77e9553eaf2062b937c68737a5128d0f9a4347,[AMQ-6880] fix filter match logic when transport connector updateClusterFilter is in play,2,96
4535e8f097c993364026c00ed40777c71a36a6ea,AMQ-6884 - Replacing printStackTrace() with logging statement,2,7
ec6fa190999160676cab900038b268b2d40a4d5c,[AMQ-6815] rework to drop the batch reference from Location such that batches are free for gc when index pages are agressively cached,8,106
a3f65e0aecfb1dbc8e78dbee336f2f74abdfe8bb,"AMQ-6874 Update Qpid JMS to 0.29.0 and proton-j to 0.25.0

This updates the AMQP libs Qpid JMS and Proton-J, also updates netty to
4.1.19.Final to match the version used for Qpid JMS",5,5
f96a20e831755505b31df2e14fd3266f74d5a149,[AMQ-6891] apply fix and test from Radek Kraus with thanks. Pending cursor adds are now dropped on rollback,0,336
5189b4e54594793f308c75e4b357bd855887fea1,Add schemas,0,2
e5de25f4fc7401c4b5888bb9836eb5a6886bada2,NO-JIRA: Add missing license headers,0,32
b9288986fb8e6de2136e51fe8dc6ebca212c4299,"Revert ""[no jira] update targetNamespace version for karaf features""

This reverts commit a7dae7ec0a87b19aa4123f8b0c226ecd18e1506e.

(cherry picked from commit d19ad268e743ff6aeeee7efeb96420c2a3b4bec1)",2,2
80ef6d31290fa3d719b82a53462b8761d9b744ec,"Revert ""[no jira] add targetNamespace for karaf features""

This reverts commit 2745b914f0403094685fe7708f79e98ca6f2c524.

(cherry picked from commit 46b1cba94986d2165cc0f0ff8f768e3c29fe7fce)",2,2
dd2572bcb1c3793a8a2fa19cc4fc88cc8481f96e,[AMQ-6891] test and fix non tx variant of this leak,6,43
0785029b88f83e7549d832a0b060203b92975ae7,Upgrade Apache Camel to 2.20.2,1,1
d0dab2e88b44702d26dd0883c9940b97ee03fdeb,AMQ-6894: limit poison exception message to 1024,6,100
2ce1c1352fb64ecf1d3018e2b0f7cabeba99b589,"AMQ-6901 - Make sure proper policy is used to configure a destination

When multiple wildcard policies exist in a hierarchy it was possible for
the wrong policy to be selected when configuring a destination",6,72
703b7b151017fe117363e5598146e157bad78265,AMQ-6901 - Add NPE check inside DestinationMap filter,0,4
ecb404b3ebf66a9d2182f28312cb0664d44814b3,BrokerService: fix typo in field and parameter name,13,13
ee9921bd970e84a1ef1dc7497f152b5fc23754e7,AMQ-6904 add overrides for ms sql,0,40
efaf9cd77e35e1f811708a7a38bab348b003eeef,[AMQ-6906] jdbc store; ensure rolled back prepared ack messages are recovered asap,7,292
82c9f9531ecce01d56de0ac24f930d8f86f4721f,[AMQ-6907] add selectorAware option to conditionalNetworkBridgeFilterFactory such that replay back to origin can happen if there are no matching local consumers,4,125
b57f4f3211502d1cfe2f8e236665e07b22af9bbf,[no jira] extend the timeout b/c it was on the margins,1,1
060817552de9b8f2f1c66a3146f74c51233f943c,"[AMQ-4261] use WARN level for producer flow control events, DEBUG if blockedProducerWarningInterval=0",10,30
0bb4a5c3ab43b0f10f4a255f134de5b8533eb67d,"AMQ-6909 Update Qpid JMS to 0.30.0 release and Proton-j to 0.26.0

Update to latest Qpid JMS and Proton-J and the matching netty version
for Qpid JMS 4.1.22.Final",5,5
a1f15f45111aacdde2ff883116d32aa8c14e4adc,AMQ-6905 : Upgraded ActivationConfigProperty as per API Documentation,1,1
5e2adc0ed7dfe2e827bdef878f1c8cde12ff5773,"AMQ-6924 - Fix StoreDurableSubscriberCursor non-persistent message add

StoreDurableSubscriberCursor now properly uses a timeout value when
attempting to add to the temporary store for non-persistent messages to
prevent an indefinite wait on free space",1,1
b77cb88f248786ee1808399cfed95e3df0c5e602,AMQ-6928: Upgrade to Camel 2.21.0,2,2
d195b01f3b4d57c230e871e126b30aae747b2ae6,AMQ-6934 - Updating Jackson to 2.9.4,2,3
d97bbe5b5d7c970d39bd1cf6ea5472c6e5cc767e,AMQ-6935 - Update Jolokia to 1.5.0,1,1
8fd82ff6934df82beb5a34935404b4b76a25519c,"Revert ""AMQ-2388: Enanched log4j logger to include exact versio number.""
This appender drops nested or cause exceptions from the stack trace, the cause is kinda handy.
This reverts commit 4927c54a0aa6b19995d60b8b5ab840fd8ef6eb1f.",2,0
f69fd6f0020290752a7424479821c22d94f9b8b7,"AMQ-6940 - Reduce memory footprint for inflight statistics

For the TopicSubscription case we can reduce the inflight statistics
memory footprint by not storing the entire message reference for in
flight messages and instead just a subset of the information needed.",13,44
65b0f2ad0d48845ad54681ac0eff832de122e2a9,"AMQ-6940 - Add flag to disable TopicSubscription in flight stats

To save memory usage in some use cases add a new flag to PolicyEntry
called useTopicSubscriptionInflightStats to allow disabling the
inflight stats",51,142
84126d8a7a7eb9faf44bef687dcf647e84173f22,"AMQ-6940 - test fix for AMQ6477 test

Need to remove the portion of the test that looks at the dispatched list
for TopicSubscription as that class no longer tracks message references",8,8
73d90b1b4782dfbdf7803dde50cf355c9171137b,"AMQ-6930 provide options to allow stdout/stderr of activemq process to be redirect to a file using append mode

(cherry picked from commit f3a8e882068803a3cdab338d3544b27a7808e0cc)",2,6
246899bb268345bd1b6c7aab484ebb28005bf6b0,"AMQ-6930 add test case

(cherry picked from commit 6bb56decf881328f5595692ca17c1899f7f86a7b)",13,23
0caa7121c62453dea533683c0e6ec7c8b4680c1f,AMQ-6930 updates closes #281,0,0
021c82859cf4361eb31b21fdbac17655ae9e368d,"AMQ-6947 - Make sure counters are updated correct on message drop

Only update metrics counters when message is removed from the
pagedInMessages list which is important to check in case of duplicates",3,4
6e468b4540754cad5cd30de373cadc026c998669,"AMQ-6947 - Update Queue metrics on expiration

The updated dropMessage method only decrements the destination metrics
if a message is removed from the pagedInMessages list to prevent
duplicate updates.  There is also a case where we still need to update
metrics if the message never makes it into the pagedInMessages list in
the first place and that is on expiration so this patch fixes that. A
couple existing tests found this issue.",2,11
7123534e1b1c82f5358f5a12f7498c0562696c92,"Revert ""AMQ-6947 - Update Queue metrics on expiration""

This reverts commit 6e468b4540754cad5cd30de373cadc026c998669.",11,2
1d2226e6cfc110c0b8456f9c5775ce1a6cdf0ac5,"Revert ""AMQ-6947 - Make sure counters are updated correct on message drop""

This reverts commit 021c82859cf4361eb31b21fdbac17655ae9e368d.",4,3
ea70e827c049cee9d455303a8cdb31a64b23763d,"AMQ-6707 - JDBC XA recovery and completion.

ensure pending transactions are visible for recovery without restart
sync store and cursor size during and after completion
ensure pending messages are not visible to browsers
retain transaction state on jdbc error
a bunch of new tests around xa completion",130,1106
ceb97f6baa471006cf176f298e763224f8d1b58f,"AMQ-6707 - mKahadb, track recovered tx per store for completion, resolve test regression",8,28
314d5a51688186bf1a21bae0137b3e6cee407f43,AMQ-6707 - skip tracked ack dependent test for leveldb,0,3
bd45d931ba273be4d94bf213c6befd116f99dcc8,[AMQ-6906] tidy up cleanup on jdbc error and combine updates in single completion to avoid prepared sequence update on non transacted add with error. More jdbc error related tests,53,1213
c37dea84a95c970b14e8ec61e0dee095fa0297ca,AMQ-6957: Upgrade to Camel 2.21.1,1,1
b29d2ea34275ce5cb4d2653ff1edda9dad454763,"AMQ-6909 Update Qpid JMS, proton-j and Netty to latest.

Use latest releases of AMQP deps",8,18
c1e7dbd53bfefd8fad42d397800386048701e61d,AMQ-6707 - fix trace log reporting in error,1,1
573b366ca00a088835625d0014a5fbb27a947d7c,AMQ-6100 - use setOriginalDestination=false to make this behaviour optional b/c amqp cannot see the original dest property due to immutability of the message properties and folks can depend on the existing original destination behaviour,5,37
b8cfab97db9917cd3f20dc1a9676eef3ac0c999e,"AMQ-6958 Configure the AMQP Max Frame Size by default

Configure a value of 128KB for AMQP max frame size by default to improve
overall performance and provide a limit on delivery size before chunking
begins.",1,1
2a953481821fcbfefbdd235a2c5b7f7e7ef8a6b7,"AMQ-6959
Avoid creating a Throwable in case of non-trace logging",1,3
365c1bbe9a189a652ff2774d6741b3c65286ff01,"Merge branch 'AMQ-6959'

This closes #282",1,3
09bf8f89b882fc71fff1dc46ea4991df6a23f64d,AMQ-6707 - ensure trace logging does not flip cacheEnabled flag outside required sync,2,2
8d3674be3dca57761bee85ba286419f5d339d418,AMQ-6707 - remove duplicated started state flag,2,1
1d2dcffceea769a3207be88035633280e192afb7,AMQ-6962 - Update spring to 4.3.17,1,1
191e4ffbe6ce863980f6d239c49589055dd5535b,"AMQ-6963
Fix calling the toString() method in case of different log level.",4,4
1db36d864d4199894d873bf7d7dfae5a23399de1,NO-JIRA: Add 5.15.4 schema identifier,0,2
72613aaba6d2641b8635e54e2fb4a28c14da2021,"AMQ-6707 - ensure entryLocator is used for rollback of prepared add to avoid NPE, relates to AMQ-5567",1,131
2eff835ee23138c31b01e2f560afe96e9094eb87,AMQ-6703 - fix regression in MBeanTest - StoreQueueCursor not sharing its audit - have purge use rollback and delegate to both cursors,7,8
01384c714dbe0405d876b93849e6fff5ec048bff,"AMQ-6707 - fix destination filter delegate param, refactor-auto-gen method; jees",16,48
026c6f4403ea2a53426b507c6d991672942046b7,AMQ-6967 - ensure there are some messages paged in for periodic expiry check if non are in memory,2,36
db8c771b2a37ad16d789f546507b6329221f4c7a,"AMQ-6968 Ensure that the correct exception is thrown

Allow the original exception that triggered the failure to be thrown
from the packet send methods",21,29
20ec044c416bd507070f5943699b0ca033317096,refactor test to cleanup persistence adapter creation for combos - fix ci,19,9
cdb38b32756d70bf7ae149e994abcccc9adca5ae,"AMQ-6979 - use scheduler as trigger task - do heavy lifting via the task runner executor, take care to trap errors to keep scheduler timer alive AMQ-5129",5,144
4c972d97b95ea521493db5def6869eab663e5f64,AMQ-5875 - fix test regression in MultiKahaDBQueueDeletionTest,2,2
51ec4590eba2fc379cd4665ae3bf993298b92d5b,[AMQ-6906] exclude test from leveldb scenario dependent on tracked recovered acks,0,3
4521f47e3691320251e85e886074e3c2a97ae10a,AMQ-6979 - fix test regression dependent on serial excution of expiry processing across destinations,1,4
6d14e4e85bcf4ba37eb3c60d68773788e2cb19e1,"AMQ-6979 - fix test regression, avoid gc during shutdown such that the error check on the logging remains valid",2,13
8b4062483793a554b5cf8f65c66d2365a99c1014,AMQ-5837 - ensure test timeout > wait timeout for assertions so failures are visible,4,4
63b71affbc22f2186ec6b02baeed34a77cbeb27b,AMQ-6824 - harden test,5,10
1ebf1862795286505dc2ce2d36e91008029061a3,AMQ-3405 - rework fix to use original destination strategy which may be different from the default shared strategy. new test,2,209
004be56127e7e949c8ffff8c36435ea0f27d32d4,"AMQ-2659 - make configurable based on xaAckMode, otherwise pure xa case can default to autoack in error. Additional tests",22,395
57a6f2373eb7609ce4ab7cadcd7d38889414a24c,AMQ-6854 - ensure non null return in the event on no space to page in,4,174
9abe2c6f97c92fc99c5a2ef02846f62002a671cf,"AMQ-6997 Upgrade to Qpid JMS 0.33.0

Upgrade to latest release of Qpid JMS",1,1
5ebee0ace7e5e4d70ea476b93ac091bd452f04ab,"AMQ-7000 - ensure server sessions with closed active sessions get removed from the pool on stop, fix and test",31,254
ed8860000f6d9c0dcd71206309ba27a34db2c606,"AMQ-7001 - amqp jms transformer - always copy message if properties need to be modified, fix and long running test that is disabled",12,184
8fd107559ce3d6d3f49f5ecda6ed3b971b7ff70e,"AMQ-7000 - remove unnecessary time dependent assertion from test, breaks ci",2,0
919ca96cee67d7ceed06a5cc542628ddc21841e2,"AMQ-6575 - take message durability from publish qos for retained messages, fix and test",1,68
e0aa091d9ef16fb3f2a570a95bbd4326abc58941,"AMQ-7002 - ensure uniqueue jobids, fix and test via patch from Jamie goodyear applied with thanks",2,181
76490a2c7f3a95c3861bb2dec76c4cc16f5dae3c,AMQ-7002 - Change jobid identifier to messageid format,2,5
83514ef799cb71c3ed1ee1f81553d87383f2cd42,"AMQ-7001 - ensure cursor pending cached id list is pruned of futures that end in an exception, fix and test",3,84
3ea18f4ed1caa078e5c55b09a93fcd686b633d75,fix npe in long time failing ci JournalDurableSubscriptionTest,1,3
d535e34947f3198d70b2680aad4601bb0d1b079c,AMQ-7007 - restrict jetty endpoint to 127.0.0.1 by default,1,1
dd3cac8f6cba7a568dfc70b1210f649c1013e01b,AMQ-5976 - sanitise filter display,1,1
c29d7477d09f15b9e2f49b2b2bceae7b71113cfd,no jira - fix warn formatting error,1,1
d8c939a4bde1496ae0629200551f754eaad38cff,no jira - exercise camel as a jms bridge with transacted consume and parallel send,0,225
2b64b7b04fb22600390f0eea56d1386f934a5368,AMQ-4706 - ensure we log the first warn and include the failure reason,3,3
46160c7b7f66d9d5dda05d2e2dc45e993d3cc48e,[AMQ-7011] Override dispatch to always set dispatchAsync true,0,1
e9a64b1c72cf77b09f57f89f120b8995d3ed525b,[AMQ-7013] Introduce JenkinsHash to XATransactionID,10,262
063d21f88062a09b7efc1669608cbbacdeb11aac,[AMQ-7013] Adding unit test,0,55
7f4851f31c718ec076a51e296766c796d4809df6,[AMQ-7013] Added final for thread safety,4,4
24b9ae2ed3c01ae9c67a94bfa50ca4037228f27b,AMQ-7015 Added a purgeRecoveredXATransactions property on the KahaDB adaptor to purge prepared XA messages on recovery,2,95
6d24f88d16e00fb915a6abd6e8fdcf192c54dfe7,"Bugfix, ambiguous redirect if unset

Thanks to Drew Wyatt<drew.wyatt@carshop.co.uk>",0,4
d34967e019779a1c347f3387519f0c446f2c2c73,Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/activemq,12,412
9abbe826ecc47596fb43fd42e094d403c56b158d,"AMQ-7006 Remove STOMP pending acks after client acknowledge

Reworked patch from Avikash Mishra to remove tracked pending acks from a
STOMP subscription that has acked.",9,39
5fb470478f8511619ddf9f0725ce000756536843,"AMQ-7012 Fix STOMP protocol handler to log correct command names

Ensure Commands are logged correctly by the protocol converter.",4,14
97b7cf60a7ab585cb6d8305cec1da1ee91d8485e,[AMQ-6996] Update to Xerces 2.12.0,2,2
f6e2239b7eb3b837327f7ca7213d69b144e92a06,"Merge pull request #2 from jgoodyear/AMQ6996

[AMQ-6996] Update to Xerces 2.12.0",2,2
aa717e0bbbedad801e13c4b3fe3d28ddbefad62c,AMQ-6996 This closes #293,0,0
4a67dde130169f20a8b85fd145cf1e1431eed167,AMQ-6992 - Update Jackson to latest version,1,1
ae4a5d3a5cfaf26bdc1c79e743b4c1c7ba8491bd,"AMQ-6997 Update Qpid JMS, Proton-J and Netty to latest

Update the libraries Qpid JMS, Proton-J and Netty to latest releases",5,5
b4513004bcb925788e49ff9a067a120abf226d37,"AMQ-6994 Update tomcat API version to laetst 8.0.x series

Updates version to 8.0.53 to bring in fixes",1,1
28819aea4aa981d33c710d9d5e26f3cb6e03c1de,"AMQ-7015 - Changed attribute to purgeRecoveredXATransactionStrategy and
allow NEVER, COMMIT, and ROLLBACK",19,104
0b76d3a0eac9802941b9dfc2a85589dac95ed40a,AMQ-7021 - add unsynchronised accessors to destination map for usage with rw lock from abstract region; allow concurrent read of the destination map,23,172
2ebea251cdf58ddf0a29f41ccb6c6aadcfdb9b95,"AMQ-7019 Update Jolokia to latest version

Updates version to v1.6.0",1,1
e39db5693496d48f0d704f9f14f8e2c9b6a153cf,"AMQ-6970 - Adding SSL params for RAR

Fixing missing ssl parameters when configuring rar. Also fixing
configuration logic of inproper null checks inside
ActiveMQManagedConnectionFactory

Thank you to Flavia Rainone for the patch",5,38
b79fcd0a768e5c7d45a7f68febf447d8379cbaf4,"AMQ-7017 - Prevent ArithmeticException in ProducerBrokerExchange

Check for zero to prevent divide by zero error inside
getPercentageBlocked() method

Thank you to Matthew Stratton for the patch",5,43
5b1412ddfd1c83ae595bdb0543fbf92499bc3822,"Avoid overflow errors - see KAFKA-4290

Add test for overflow values

Bind test sockets to free ports",10,255
24e84a462de0bf95719ae579288728481da91739,"AMQ-6974 - Merge commit '5b1412ddf'

This closes #284",10,255
525fd29d166c401a9e2d0328015e22682954cf31,AMQ-6974 - test cleanup,13,21
7e50428495b5e57a5b612a68c3beab4e09ce9d6d,"AMQ-6990 - Exclude commons-beanutils-core

Thank you to Jamie Goodyear for the patch",0,4
31fbc20cd6c21e5b011198a383e752ff27bf201c,"Merge pull request #3 from apache/master

Synching with AMQ master",70,632
b6dae3703e358de990bda91fcdf5fdbc6a75545f,[AMQ-7023] Add owasp plugin as profile to AMQ build.,0,26
109e9d22c8b07ddf1ec37eb53f36f7f7b22330b2,AMQ-7023 This closes #294 - Thank you Jamie for the patch!,0,0
99f0abab5d3b089303985f7bd6a593a22bff6e29,AMQ-7023 Added aggregate for a full project report,1,1
b67c141e6a24be9781963c92102fbeb3d432e5ce,"AMQ-7206 - Update Derby

Thanks Jamie Goodyear for the patch",1,2
7974e8c0991dd0bcf2e226ea9b54ff8d740acfc8,AMQ-7004 - Improved logging in Failover Transport,0,2
18543080a04b3612708464eb32e9975a8eb974f6,AMQ-2659 - fix camel route config to reflect revised behaviour,1,1
d1c3c4814ee386f6f1df09495a8721e30b3b1610,NO-JIRA: Add spring schemas for 5.15.5,0,2
9ec6ee43b146736fdf635090b2829a0c621a00f3,"AMQ-7001 Resolve issues with encode failures on copied messages

Ensure that messages are copied to avoid contention on message content
when concurrent store and dispatch is enabled and better handle the AMQP
message type value.  Adds an AMQP Encoder for UTF8Buffer to encode down
to AMQP String encodings to allow for encoded OpenWire messages such as
MapMessage which can contain UTF8Buffer instances for String keys and
values.",18,416
ba7934e91adf1c068db7107a6353b867e276affb,"AMQ-7001 Remove now unnecessary check for UTF8Buffer type

Remove the now unneeded checks for UTF8Buffer on the outbound converter
as the Codec now can encode those to the correct string AMQP types
without need for any help.",4,0
f1ca4cab3830a597a0b4ef11098a933088b7c94d,AMQ-7027 - Update Jetty,1,1
79f66a3dc529c8a8ae84320353ad61358986c6fe,"AMQ-7027 - Dependency updates

Update httpclient, httpcore, and spring",3,3
550f76cd5ad466f67a693b236cfe4ba9b062f03a,AMQ-7029 - Update commons-io,1,1
bdfa3394adddd011c7d978d5a086fa3bcdaf1b41,"AMQ-7030 - trap exceptions on future.get, fix and test",1,55
ad56ee91387d491c88d9b3977f7a1318a0704fb6,[AMQ-7032] Update Shiro to 1.2.6,1,1
8fb3b23527ef329b3c91f77c0415e1725bac1c28,"Merge branch 'AMQ-7032'

This closes #296",1,1
d8c80a98212ee5d73a281483a2f8b3f517465f62,[AMQ-6954] encode the QueueFilter field value also,1,1
50d27e7e545d30bc0d35f8dd8baf15b33522c33a,AMQ-7035 - use NonCachedMessageEvaluationContext in place of MessageEvaluationContext to avoid unnecessary reference count management and subsequent leaks. Rework AMQ-6465 with additional JMX related tests,31,63
8bb3a77270775e69c1053ed789c5a1999cae2f51,AMQ-5917 - fix sync on SslContext lazy initialisation,7,83
54c56a057334d0e3d51a1f329429a23f11d11cd8,"AMQ-7037 - add sslContext attribute to networkConnector, allow broker or jvm defaults to be overridden",1,115
54b2e21f4a406ddceb51ede6c796d24cc77bad55,AMQ-6997 Update QpidJMS Proton-J and Netty to latest,5,5
b488df694c5226b600fb4a547cfcb904d56d7046,AMQ-7037 - allow sslContext attribute of networkConnector to be added via runtime config plugin jaxb processor,7,47
69fad2a135689f6c31fbada1c397f2e0dfd90d3c,Add support for hostname verification,46,157
1e31df9800fc2db258f2458628bd9863c11b2846,"AMQ-7047 - Switch default for hostname verification to be false for
server

For the client it makes sense to have it true by default but for the
server it makes sense to have it false by default",37,36
0b71b06ac81f4192ac752e6fdbfa0b84eb635052,"Revert ""AMQ-7004 - Improved logging in Failover Transport""

This reverts commit 7974e8c0991dd0bcf2e226ea9b54ff8d740acfc8.

This caused problems with too much logging so reverting",2,0
3c2da4969e29744fbdeb33a3c3745c41ffc7aa1e,NO-JIRA: Add 5.15.6 schema,0,2
d36f02b546e1e1a009a511b7561da5d809b41cdc,NO-JIRA: Add ignore for testJdbcConfig for apache-rat-plugin,0,1
1f8bac195f88fc1c08dd2a8af939be66a136c21d,[AMQ-7053] Update Jetty to version 9.2.26.v20180806,1,1
149520d48731edd449143e5b22599bc6358d2fd3,[AMQ-7031] Upgrade to Apache Camel 2.22.0,1,1
e1e33e7ae1defda52965ae2e6ce21b0d650172e6,This closes #299 - with thanks to Jamie Goodyear,0,0
b92aaa2f583e1ef92bd84678701ced43c1d1d9a9,"AMQ-7052 - Fix JdbcXARecoveryBrokerTest and mLevelDBXARecoveryBrokerTest tests

Signed-off-by: gtully <gary.tully@gmail.com>",142,183
2f5e5efec5685b192c28d2f1d0edaa688691801a,AMQ-7056 - modify tests to take account of changes from AMQ-7047,5,5
8f88dcda09760df3aba3306f49a3311fb22a654f,"AMQ-7055 - Optimization on SequenceSet to prevent iterating through the whole set when a value bigger than the last value is added

Signed-off-by: gtully <gary.tully@gmail.com>",0,42
cdbddcafa237027599dfd9ae030f42898ec5299c,AMQ-7057 - support transport connector warnOnRemoteClose to suppress eof warnings on loadbalance or health check socket ping,14,154
8cbc2080a737aad063bde7260ba8e7963ec0b206,[AMQ-7060] Remove deprecated features from camel ActiveMQComponent,71,6
02c1e6d8f21d3bfc50154815ffb2f5caef05573c,AMQ-7047 - clarify documentation,11,37
cae66f5d37943ede480330aa05e7b886ba089ff3,AMQ-6086 - variant with broker.schedulerSupport=true; same fix with additional test,2,71
5246151288873d05e2a892afe7d42f3ee0e44275,AMQ-7062 - have redelivery plugin ignore messages detected as duplicates,12,61
ac1e709dc4ed419c8d789fc29e970fde6b796ed1,"AMQ-7065 Update to Qpid JMS v0.37.0

Update to latest client release, adds some tests for split framed
message send / receive",25,104
99db9ef301c8e8a7156d5c5a71875958f412792a,"KahaDB Recovery can experience a dangling transaction when prepare and commit occur on different pagefiles.

Signed-off-by: gtully <gary.tully@gmail.com>",0,482
57c7939534a927bfc2d1b0454aac7ef8d804532b,"AMQ-7067 - tidy up tests and add prepare variant, limit rollback location recording to xa case. There is still some work to do for the ack compaction case to make it aware of the tx records such that those are transferred as necessary",31,99
a311139bfe2f2b3ffc0c84cfb1e9cec0c11830c7,AMQ-7067 - ensure updates to ackMessageFileMap are protected by the index lock,8,19
b830894e690d317ba32019c00d7d4db01eadcc5d,AMQ-7069 HTTP client don't handle XStream deserialization exception,1,1
ba2447e39ad513ff1a37833887cfd2e9bf49a0b5,[AMQ-7063] Be able to configure ActiveMQ http transport connector by providing a jetty.xml,8,132
bdf9fcf5a815520689b11ea3519a9966f9d1cc5a,[AMQ-7063] This closes #307,8,132
3ac3a420a14b9209222568d7c361855157467163,"AMQ-7071 - Mark previously dispatched messages as redelivered if
connection for durable topic subscription is improperly closed leading
to a lastDeliveredSequenceId as unknown",1,135
7c890d477663d91aef518e30d60cf3c13827877a,"AMQ-7067 - test and fix for eager ack compaction moving acks from data files with in progress tx and clearing the link from the prepare record, that now uses the same ack map",4,113
e22703edc6974f705d29f1f88ff5fd879e3a9fe9,[AMQ-7075] Fix Camel test (userName instead of username),2,2
085dd4e6e1ca62f355547094e212bda13d8d0f57,[AMQ-7075] This closes #309,2,2
5f1b6a1fc21fe2d4bd5f52579983a1a4818fedb7,[AMQ-7076] Fix and update features to fully support Karaf 4.2.x,114,10
79d07a396eeab4bb2cf32bdb3f2d1db17c54c8f9,[AMQ-7076] This closes #310,114,10
4dee173962a08dbcb88e33f61ec281209c0b9156,"AMQ-7077 AMQ-6421 - tie queue consumer slow flag detection to abort slow consumer policy, fire advisory when set.",23,167
5d3a3fcca7fbc04e60a146e42fb1f65b94e4ea7b,"AMQ-6590 - rework fix to take the recovery hit on clean shutdown rather than on restart, trade off availability for short term disk usage",15,20
ed727d22e1f22a13813d61dba3908408fcd3cd36,"AMQ-7067 - track xa commit outcomes in ack compaction such that there are no dangling prepared tx on full recovery, fix and test",1,116
8690436b5b47859a7645d3ef302e5ca9f01880ed,no jira - give test a second bite to avoid spurious timing related failures in ci,1,5
b9c8f6228c374af9b2a4b20833db7685feb9892d,no jira - fix up contention between rar and test creating the embedded broker - intermittent ci failure,5,18
9dd751149f7489f99d430d3f1240f2bfa2e70c69,AMQ-7079 AMQ-7077 AMQ-6421 - check for consumers that have been destroyed,13,52
46f8deeb67623e095622debac18f53d736cb3bcc,[AMQ-6780] Add PostgreSQL version JDBC driver name in jdbc store services,0,17
dc36c19c811dcaab07c27d6f2a0dcdd90f856d3f,[AMQ-6780] This closes #311,0,17
79c74998dc1efb72b05d32f920052a1df4b6dd8e,"AMQ-7082 - recover index free pages in parallel with start, merge in flush, clean shutdown if complete. follow up on AMQ-6590",25,96
efa4e683bc9f4fc458ce80125304f20a742a7907,AMQ-7082 - fix final ref in test,1,1
0e02b678d118c4d2e67e35777287a95f1204948c,no-jira - fix flaky test that can get redelivery on async client ack and concurrent close,1,4
87087fc93079232a6651294f30d58a3c202cece3,no-jira - fix flaky test that depends on the broker processing the previous ack,0,9
fb1e642c15fa842e5e25b80d89293d0bb03225c0,"AMQ-7082 - ensure flush sees free list, use lazySet to avoid store barrier, thanks cshannon",5,6
8a1abd9bb2744de70af11053f1755116c40ec55f,"AMQ-7084 - ensure allocated and unused free pages are visible to subsequent transactions, fix and test with test updates to reflect proper usage",14,35
144808c6e15a36f48864d2fa8f56021e3a3061ae,"NO-JIRA: Add schemas for 5.15.7

(cherry picked from commit 030974f5bf01759070a0bfa46c5bd93da7602cc1)",0,2
8e5d539665519629139633e324a672b0a415d4b2,AMQ-7067 - add missing license header,0,16
e093a8c1d8fef0cfc818fd7ad408564bbe7d281a,NO-JIRA - add missing license headers,0,32
bf8eb08acaeec653d04daa0b8b6dd889ef990bed,AMQ-7086 - make kahadb gc/cleanup on shutdown optional to trade availability over disk usage for fast failover,14,228
f2cde24a62d61fb1015b15d0ce25801353db0621,AMQ-7088 - fix deadlock on remove add interaction from mqtt virtual topic sub use case,2,131
82dec402aad8a7739e99b80a629c2c1ec6e51a60,no-jira - fix intermittent test failure when cron falls on next minute,2,4
0d34338919edee863bd71693ee30999d9d9d6ce9,AMQ-7082 - Make sure that the recovery will only mark pages as free if they were created in a previous execution,11,113
81062fde88eeb5fa970e70fd851b49d442a7116a,"Merge branch 'AMQ-7082'

This closes #316

Thanks to Alan Protasio for the patch",11,113
85859fd8dc22e3251de294c23d84c12b29d4fe81,"AMQ-7082 We should make sure that pages managed during recovery are not recovered in error
variation of patch from Alan Protasio <alanprot@gmail.com> closes #317",14,178
d2b0affedb38c5439bce2fb5a8e321bc5d0ec713,"AMQ-7094 - track the objectName with an annotated mbean such that the jmx audit log event can extract that target of an mbean operation, fix and test",10,120
98dc99e984dede76bbe38d51c2c95ffc2e93ef9c,Small change to verify repo access.,1,1
9012a7871b77da6ecdc403f6b44ef0221345bfb7,AMQ-7091 - O(n) Memory consumption when broker has inactive durable subscribes causing OOM,86,82
bc13deb533b4c04fd33e4f139038ffc681004f59,This closes #315 - with thanks to Alan Protasio,0,0
bc8c78cd32b27dd1806fe2246c21241ab68a1fde,AMQ-7009 - apply fix to memorymessagestore setBatch with thanks to Nezih BEN FREDJ for test and suggestion,1,155
50d1fe9f8e6b79150831d6b625df007c2d943169,NO-JIRA: Add 5.15.8 schema version,0,2
9cb680c0bad9fb3f92807d0f49e02505c544e3e9,"AMQ-7102 - don't track objectNames that have not been registered due to suppressMBean filter, fix and test",17,49
d020af203410e075ac595cc88f1afcbeea4c95c1,"AMQ-7097 Update AMQP dependencies to latest

Update Qpid JMS, Proton-J and Netty to the latest release.",5,5
8cc0c5ad6c85381cf6bbeaf179086d451d96650e,AMQ-7106 - fix pending stop support by avoiding sync through single shared status var - fix and test,58,254
2eda327abac8bd092e094b313314682cd9269e36,AMQ-7107 - Make QueueBrowsingTest and UsageBlockedDispatchTest succeed with ConcurrentStoreAndDispachQueues=false,5,49
a87b61e8be13f190c0f5db422e75a08f347c4052,Enable secure processing on all DocumentBuilderFactory.newInstance(),2,11
112c4e602f79d8a4df411657d2de2dc4d6e01b5e,This closes #321,2,11
57e38509e529def1f870d811f26145d21f7ac57e,"[AMQ-7076] Does not define spring-legacy repository by default in ActiveMQ Karaf features repo, and let the user add it",7,6
097f82a246df80b0bac43b714bc0f0a8f2be71d7,[AMQ-7076] This closes #320,7,6
b65fedf4dd9a7fa5d0327e8a61e750a4be413531,NO-JIRA: CronParserTest is failing in Indian StandardTime,14,14
6d4459a00c2441822297b06221bb107c5843c390,AMQ-7115 - ensure transport error handling is a one shot for a connection - avoid contention and possible dead lock - fix and test,21,83
a72b59253f8862253a625d809118e77e8fe2bd43,Set the secure processing feature on the TransformerFactory,0,2
612d4aeeb4025d62f75a301a655112b6e53c7170,AMQ-7118 This closes #327 - with thanks to Heath Kesler,1,349
66db4e94bbe9e138572eace45707bbba2a7184c3,"AMQ-7097 Update Qpid JMS and proton-j to laetst

Qpid JMS 0.39.0 and proton-j 0.31.0 released",3,3
ca3befb74248dfbc0f32439551a67531849504c0,Update OWasp dependency check plugin version,1,1
b86c666c4058e2c4ef09e77409044732959eacb6,[AMQ-7126] Prevent OOM when recovering KahaDB and memory space is insufficient to load full page. Thank you Heath Kesler and Johan Edstrom for investigation and patch.,14,6
273afef47c9fef5258cc297ae7353b705db3efb6,"AMQ-7118 - Override hostname for naming to allow tests to apss on all
platforms",0,7
4a21edc8d544474c477e2b38ac3f939f9873bfee,[AMQ-7126] Improvement to perf of 5266Test,3,22
49296f92596bffba68e549ea3126fd5e1629b41b,"AMQ-7097 Update Qpid JMS and Netty to latest

Qpid JMS to v0.40.0
Netty to 4.1.32.Final",3,3
25de20c77ec0bf6cdc699cac2ad50e34ec707453,"AMQ-7129 - Properly recover messages from KahaDB for a durable when there are
messages to recover before the stored lastAck value

With individual ack mode we need to check the durable ackPosition
sequence set in the KahaDB index on subsription load to see if there are
earlier messages before the lastAck value that still haven't been acked.
While this normally wouldn't happen it is possible in individual ack
mode",2,394
703b8cbda39f4a1263e7ecfbb1eb1ec247f91162,AMQ-7129 - minor junit test fix,1,1
d29c1be66a217ebd24d274dfdb69810e29eeb47f,Update scm section,3,3
fa2daa25e9acd3f37bb1ee0d37717d2383e67a85,"AMQ-7129 - fix durable message size statistics with individual ack

Make sure that the pending message size for a durable sub only includes
messages part of the ack range",3,27
a16b227808bec2977f1d3323bf29257b3c8ca9f6,AMQ-7129 - code cleanup,18,16
b10458e2c69aa8743e6606948a13dcf27dca1ccc,AMQ-7125 Broker does not send error frame when an empty destination is sent with a stomp subscribe frame,0,53
4b51f8b66caaa2443795c548f5f7e26cb3740969,AMQ-7132 - ActiveMQ reads lots of index pages upon startup (after a graceful or ungraceful shutdown),35,438
03ce997ff2a21a2de526e5f5ef3db15fc1167e02,"Merge branch 'AMQ-7132'

This closes #336

Thanks to Alan Protasio for the patch",35,438
5c23dd53ad3d40e80273f48ab36afda00186736e,"AMQ7135 : do a purge before deleting the destination

(cherry picked from commit 9f513f88781667df1a2a4b0a85153059dc097295)",0,44
c3714457f11633231a6e925f09028686db04e423,"AMQ-7136 - Improve recovery of durable subscription metrics in KahaDB

Updated metrics recovery to only have to iterate over the order index 1
time to recovery the pending metrics for the subscriptions instead of
making a pass over the index once per subscription",19,87
ae357564b4e045fa4b05f925e4d8c1be5a8fe91c,AMQ-7132 - user periodic fsync in RecoveryStatsBrokerTest to improve performance,0,4
042cad9e931378609bf83ac9ecb50f3a224930c8,AMQ-7137 - Implement abort() properly in the LoginModules. Also fix a bug in LdapLoginModule relating to Logout,48,136
ad6df3ca5a61dbb9ea1846556dc612da4bf840c0,"Merge pull request #338 from coheigea/loginmodules

[AMQ-7137] Implement abort() properly in the LoginModules. Also fix a bug in Lda…",48,136
9fba7ec352cba590666d8e2db08e404939ef729d,AMQ-7132 - update RecoveryStatsBrokerTest back to using always journal sync but a smaller journal size and less test messages to speed up test,3,2
daea192eefe683a8cba63b5136dc8c2b39722cfe,"AMQ-7085 - Properly start TempUsage inside Queue start

This fix allows temp usage changes to the broker temp usage to propagate
properly to a Queue's temp usage settings

Patch applied with thanks to David Sitsky",0,168
0536fb7a0ee9cabb082615e2137c440fa6087516,replace hardcoded path to etc directory with ${karaf.etc},5,5
13c9f2bbd8d84222c976f081b76c99082a030ef4,Update copyright year,2,2
ec9daee6c3e7831ebb851be65feaf93575771265,[AMQ-7135] Update AMQ2832 unit test expectation post 7135 fix,1,1
9e6543551731ef0241967ca545c9a4956876cb86,"AMQ-7143 - Temporary transaction file (PageFile) being opened and closed many times, causing poor performance on high latency FS as NFS",12,158
84f675a7a15a8e3eb5482c0f41091a6839c5a08c,Disable directory listing for the webconsole,0,5
1cf13c4742dcf65aa5c0b68e4bfcdb3da21dd935,"Merge pull request #344 from coheigea/disable_dir_listing

Disable directory listing for the webconsole",0,5
a48cc820d20435999d2292d2180d9305775f025b,Enable X-XSS-Protection + X-Content-Type-Options headers for the webconsole,1,11
7fdad3a73d65536ad070f1eeac5443e9f6459b17,"AMQ-7151 - Remove dependency on Guava from activemq-broker

    Guava is supposed to only be used for the leveldb store and as a test
    dependency elsewhere but there is one spot it is used in activemq-broker for
    filtering collections. With Java 8 this can be easily rewritten to avoid the use of Guava.

    This commit is based on the patch submitted by Filip Hrisafov",36,65
7c872afa222dac97fa139e607a0bac0a71f49111,AMQ-7153 - Publish BrokerService as OSGi service,8,17
5bd2abf85dbda14bf41f54d09af4866e814f931f,AMQ-5790 - rework the fix from AMQ-4486 to tie the inbound xaResource connection lifectyle to the rar start/stop,136,31
0262338687d7bf811ad9ee0620f77806bd7e08ad,close DataByteArrayOutputStream buff of WriteBatch,0,3
87467dc61e747670bce9c27424a9d93aad8b8499,AMQ-7159 - Adding a new attribute on PersistenceAdapterViewMBean to show information about Storage write/read latency,10,153
c46965c93c4faa73a0ee794c5d581248703f581e,"Merge branch 'AMQ-7159'

This closes #349",10,153
cd1d5eb785a759d285652551f1984ce9877a1192,"AMQ-7163 - If the broker had an unclean shutdown and number of free pages is Zero after the recovery, the next shutdown will also be 'unclean'",0,57
c96f3d75a803123f842f3d69bff3716f31366ce7,"Merge pull request #350 from alanprot/AMQ-7163

AMQ-7163 - If the broker had an unclean shutdown and number of free p…",0,57
98b9f2e2839da6ccff53260571b0e3a43aeb4285,AMQ-7166 - upgrade mqtt client library,1,26
b9bcd2fcc37837cafa0ff4caa54ae5a04a26ab99,AMQ-7165 - ensure failover updated uris are additive such that statically configured uris are respected,15,77
d5df23b8fb97cbd063a9eb63178da8b61f5d8bbe,no jira - fix unit test failure,2,13
a000a73431f6dfd249d057e7ee7ecced44b62af9,no jira - init throwable cause to identify error on shutdown,1,1
2d394b383cf80681f53e24003cbaed9b1c6c1de6,AMQ-7167 - ensure remote IP is visible in acceptor error messages from the transport connector - test and fix,5,34
84f8447a195e79c0dda47406731bbca1ce63a8f9,AMQ-7112 - Show duplex network bridges in the remote broker console,1,1
f9a3bd5e854ec84ccbf47a1b9cdd0fb810aa9d48,"Merge branch 'AMQ-7112'

This closes #324",1,1
a9e7111a9a3324cf41769e5bf123e6644d8c1d88,"AMQ-7103 - Dependency Updates

(cherry picked from commit dd74f468db07648318dbf2fdc4428f05636e95ea)",3,3
ccf56875b0660214e0a61bd2f8adc418143551fc,NO-JIRA - Update spring schemas and missing license files,0,36
39047021e74fd13cbb0d37460846b1d5a5c1dce7,AMQ-7165 - randomize needs to be disabled to make test deterministic,1,1
56ffcae3c7161b9c8e8a8fa121b8505659dda0cb,AMQ-7179 Update Qpid JMS and Proton-j to latest and sync netty,5,5
487d4a112e01777ca128c39033a76dd29155e755,"AMQ-7185 - track durable sub prepared acks in preCommit callback and release/remove on xa outcome, avoid duplicate delivery; fix and test",3,214
30abc45f62527bf96407d8950757306326629d96,"no jira - remove extraneous printStackTrace, ex is propagated up",1,0
aff9413cdbe88041552369787d1ba001c2b4ffd4,AMQ-7189: ensure messages with defauled durable field are internally classed non-persistent by the 'native' transformer,5,74
bf3a9f44f625ef26e3c687be92e73ee1e9288d6f,"AMQ-7191 - Prevent extra creation of openwire verifier objects per new
connection when using the auto transport",12,7
13f223f1384335577415a45653d6c5d6b249eeca,Updating Spring + Camel versions,2,2
7404b43f2d9c5bbf4ab4ec89ae111d5bf1527d82,"AMQ-7193 - resolve intermittent NPE on duplex network connector start; wait for start completion before dispatching inbound messages, fix and test",0,156
b56819123b21af1df001cb2a10e77ba88a3b3c95,AMQ-7196 - During startup ActiveMq load all the scheduleDB.data on memory causing OOM,22,122
ca77f9cfc9135c5cf7fbb91c0d4ccbf95ca44b59,[AMQ-7199] Replace Math.Random with Random.nextDouble,1,3
23f0b1476cf66457e495c370e7869deafc5ed547,"Merge branch 'AMQ-7196'

This closes #356

Thanks to Alan Protasio for the patch",22,122
b11b9aac7515ce897c216b472770bf3cf4734847,AMQ-7201 added shebang to generated broker admin script,0,1
7c72bf8da98138d58ed14f024a6676f7063b0cf5,Update CreateCommand.java,1,1
af4b1a23995129e7ceb39bf71fcea951a1e5d0ca,"Merge pull request #355 from coheigea/spring

Updating Spring and Camel versions to fix some CVE",2,2
a07e7909e5104c556cc8c9c49d43bdaba2362d61,"Merge pull request #339 from jherkel/master

[AMQ-7138] Use karaf.etc in ActiveMQ features XML",5,5
1d51c1871333ed2a52697006e9ffe46ac1119f73,"Merge pull request #345 from coheigea/sec_headers

Enable X-XSS-Protection + X-Content-Type-Options headers for the webconsole",1,11
b84923ae9ac7d2a77957a66c9cf6a0d6e973cc29,"Merge pull request #341 from coheigea/copyright

Update copyright year",2,2
1e1cd112690f3f9b50c3b52d5f0846841abd5c88,"Merge pull request #318 from alanprot/AMQ-7107

[AMQ-7107] Make QueueBrowsingTest and UsageBlockedDispatchTest succee…",5,49
f6fbd565b3f0dd5cdfc44650db1fd834572c91fd,"Merge pull request #325 from coheigea/transformerfactory_secproc

Set the secure processing feature on the TransformerFactory",0,2
07fdc4b42debcdbb929a3a508b7ae154d1e2e029,"Merge pull request #323 from coheigea/owasp_update

Update OWasp dependency check plugin version",1,1
ac4f4a82a78da6480274a5ac6b7b7b5874309e34,no jira - fix intermittent failure of JdbcXARecoveryBrokerTest#testQueuePersistentPreparedAcksAvailableAfterRollback,4,4
4129c1f6592616ad8731e29c95092634699f96be,"AMQ-7209 suppress stack trace in stomp error frame for SecurityExceptions to avoid any implementation detail leakage, fix and test",1,10
b65797245bb12838eb9846410cd735a8892be9ae,Switch to using a https URL in the mqtt pom,1,1
e59c6b61ab0546fefe32eab39240277690f13f7a,"Merge pull request #360 from coheigea/https

Switch to using a https URL in the mqtt pom",1,1
d0fd46efcd16c12ad59ef60c90ec00ad11904c7a,AMQ-7179: update to proton-j 0.33.0 and qpid-jms 0.42.0,3,3
ea0bcc12f77594228bb270f199ba54b5dc3ce453,"AMQ-6949: SocketTimeoutException when using HTTP transport connector

A default socket timeout of 30 secods for the HTTP client was introduced with the following ticket: https://issues.apache.org/jira/browse/AMQ-6397

This timeout somewhow seems to conflict with the keep alive requests that stays open for arround 30 seconds. I increased the default timeout to 90 seconds and this seems to resolve the problem.",1,1
063d24e6d653bed3dd3c56302758de29143e5e82,"AMQ-7218 Fix loss of Ack id from tracking after TX commit / abort

Ensure that we properly track Ack IDs across TX commit and abort
operations and only clear out values enlisted in the TX on commit and
re-acquire the Ack Ids on TX abort.",139,801
bce979349ea9be499d1a686582e8638d369251d1,AMQ-7219 - ActiveMQ replays journal file on a clean/unclean shutdown with transacted session + Non persistent Messages,0,104
f5db964e86fc26bae00118f3342353b396fecf15,"Merge pull request #363 from alanprot/fix/empty-transaction

AMQ-7219 - ActiveMQ replays journal file on a clean/unclean shutdown …",0,104
5eb8403b1f77f1583942c59447b2514b4eda9b9c,AMQ-7221 - Delete Scheduled messages causes ActiveMQ create/write a unnecessary huge transaction file,5,115
82b3d02fc2dd323299c53098c594fb4be5fbf1ea,Remove dependency activemq-http and activemq-stomp,4,11
ae13645230d8c72d2ac321d570284e699c75839d,AMQ-7179: update to proton-j 0.33.1 and qpid-jms 0.43.0,5,5
93e726d6a7ba9ed44f5440369f8f9f1b41f49373,"AMQ-7225 - defer cleanup task operation till recovery processing complete, track prepared location in recovered ops to ensure they are retained on recovery failure. Fix and test",6,262
28a0cc6e5a78adb4b0b0134c860911c921f6a074,"AMQ-7225 - fix intermittent failure, avoid gc of partial tx pending commit",6,10
ac01af8dec6cfc4c79c835f03e84045aa807d6f6,"Merge branch 'AMQ-7221'

This closes #364

Thanks to Alan Protasio for the patch",5,115
4d5e41ca284d884d0372b489dfa082e8f5d88cb0,AMQ-7227 - ensure db.free file is moved in scheduler store upgrade process,1,1
814a286dfe64bfde749e54b8552b5197abe97b37,"AMQ-7221 - Fix InMemoryJobSchedulerManagementTest that was broken after
patch",3,8
dc56fa3f6ea753b692b4b3a9ffacc4f82de6af74,"AMQ-7228 - Avoid unnecessary lock contention when getting pending
metrics",31,15
c4927638da9797df2d740a3e6694092b20228a34,AMQ-7230 - Add support for regex based certificate authentication,8,80
efc857fc1f679631dcb98b9bf6b13317e7a80785,"AMQ-7233 - ensure sessions are cleaned up on pooledconnection.close before temp dests to ensure temp dests actually get deleted, fix and test",1,20
de3f77063fa579159184d23ac98df97e80d63327,"AMQ-7234 - fix up memory usage wait timeout such that topic pfc in a transaction can see connection context state changes, fix and test",10,153
2a66f53fdcda047907d42ef6218719771a8f6083,AMQ-7235 - Remove hard-coded credentials from OsgiConfiguration,4,4
2c92f53f4d54a23e701e515e773dce1cc04865b7,"Merge pull request #368 from coheigea/AMQ-7235

[AMQ-7235] Remove hard-coded credentials from OsgiConfiguration",4,4
f7e2d438318037fcbf0e529e0f5f830541df0d08,AMQ-7216 - Update Rome dependency,26,16
eb885cb5138d43b819139183abb5cd3603c58ac6,"Merge pull request #361 from coheigea/AMQ-7216

[AMQ-7216] Update Rome dependency",26,16
c7eff840588be718da9a985d5c2b8db89b26796d,"AMQ-7238 - Ensure remoteId subscription map is also cleared when local
map is cleared inside DemandForwardingBridgeSupport",2,48
a4ed66c2d4bc50e1a85b9c19794b386665702820,AMQ-7239 - Update Jettison,1,1
56c2ea3ad028f030896fb39347a2805e6be68a3c,Updating Karaf + also the surefire maven plugin,2,2
10910a423c3a874e90a402f54ecaa26bf0d05ee8,Make ActiveMQConfiguration.loadClass private,1,1
1d7ffa1cd0082dde0a64df2216e9d38a7ea56ed6,Updating Shiro plus some other minor updates,7,9
f88b0baef71f2db43ea2cb4c42113df0900686be,"Merge pull request #373 from coheigea/misc_updates

Updating Shiro plus some other minor updates",7,9
69e5fef5827f0b45ed02fa2103cde9bf94562b21,"Merge pull request #372 from coheigea/config

Make ActiveMQConfiguration.loadClass private",1,1
379853d8873205bbc9ad654e8bcd90a719cf270b,"Merge pull request #371 from coheigea/karaf

Updating Karaf + also the surefire maven plugin",2,2
75023f2bedb9f7587736ca63f59565f669d09214,"Remove default ""secret"" password from the LDAPAuthorizationMap",5,7
25483c05d1b9a1f3958365b48a27a7040b4837cd,AMQ-7242 - REST Content Type fixes,4,5
85ad5aa1ef3c1009ba297f3f40ef82422e3c8a2e,Update HTTPClient and replace deprecated calls,107,43
c7f3a4dae21715f5a87cec45e22f9c5db039c7af,"Merge branch 'AMQ-7239'

This closes #370",1,1
61d141d350428819e1c569b2b0b29575e9a2507f,AMQ-7236 - Update Spring and xstream to latest,3,3
e6f4d2f97c720b1e2a98e12794e573d874d75bca,AMQ-7208 - update Guava to 28.0-jre,1,1
45e8385ae23602b666009af74106942176f3b07e,NO-JIRA: update maven-plugin-plugin version to fix build,0,6
27ac6b609dca0bf5763663a5cc08f56969ac8fe7,AMQ-7247 - Update maven plugin API + Pax URL versions,10,11
50bc520fee39be32ce5da8d7994c5b40e1deb7a8,"AMQ-7179 Update Qpid JMS test dependency to v0.44.0

Updates to latest client release used for testing activemq-amqp",1,1
c3d9b388e4f1fe73e348bf466122fe6862e064a0,"Merge pull request #374 from coheigea/ldap_passwords

Remove default ""secret"" password from the LDAPAuthorizationMap",5,7
a342490931dbfc9f0495aadd816ae66b97bcd1b5,"Merge pull request #375 from coheigea/AMQ-7242

AMQ-7242 - REST Content Type fixes",4,5
3ab1115e9f74d1cccd0bb4455afcb140b44ddfbd,"Merge pull request #376 from coheigea/httpclient

Update HTTPClient and replace deprecated calls",107,43
32ddadc7abe714dd40a0603b53f5709c5eafcaa4,"Merge pull request #362 from suem/master

AMQ-6949: SocketTimeoutException when using HTTP transport connector",1,1
01955dd758c19e0e713d866bc5d4c91df8886276,"Merge pull request #378 from coheigea/AMQ-7247

AMQ-7247 - Update maven plugin API + Pax URL versions",10,11
5c9bae2bd647a309a3e2c9d1e24c7a710c786ad2,[AMQ-7253] Upgrade to commons-dbcp2 2.6.0 and commons-pool 2.6.2,2,2
09003e8fef27f51b83a5ee4242709c2b20821a83,"AMQ-7102 - Improve ManagedRegionBroker performance by replacing
registeredMBeans CopyOnWriteSet with a Concurrent hashmap backed set",1,1
7e72fbc98b483bcce19c56f52a2d407260113b23,[AMQ-7254] Fix OSGi headers,3,23
309b6a39b7a5d7385f8abbc88e0e7c17cf8cc135,AMQ-7244 - Update Apache Directory + FileServer,40,21
d6487ace5b670d640e1aee2b9b5d3786a351d8ee,AMQ-7266 - Update Jackson databind to 2.9.9.3,1,1
ef1c17c7def4b4ac76dd87dba3df22164740e5b2,"Merge pull request #381 from jbonofre/AMQ-7254

[AMQ-7254] Fix OSGi headers",3,23
871502222a72e31c04cc388476c5817598275ee2,"Merge pull request #382 from coheigea/AMQ-7266

AMQ-7266 - Update Jackson databind to 2.9.9.3",1,1
6ec56912fea866a50cc069d2999146961c105a3d,"Merge pull request #367 from LionelCons/amq_7230

AMQ-7230 - Add support for regex based certificate authentication",8,80
a061109826ac3642bc829fdba263bcedc0045a9d,"Merge pull request #377 from coheigea/AMQ-7244

AMQ-7244 - Update Apache Directory + FileServer",40,21
1a7901be50eca112dd2ed179313cbaa7c26ab7f5,"Merge pull request #380 from jbonofre/AMQ-7253

[AMQ-7253] Upgrade to commons-dbcp2 2.6.0 and commons-pool 2.6.2",2,2
3c71b5e8aa4389ad70567272de34e3b8a62ff6d0,[AMQ-7258] Update spring.schemas in activemq-osgi,18,29
ab4ba579237c36747b2dc74727538123481a4953,AMQ-7268 - Update Zookeeper version,1,1
fb2296ac7447c4e2bfba806ad419ec2c2c2ada8d,"AMQ-7270 - remove toggle on maxPageSize, request page in of entire queue only when cache is in play or broker is non persistent, fix and test",4,125
b757d7a78ad2f9099d91048a6668a49f8ec59e87,AMQ-7271 - Update XBean,1,1
f131858dcd03d982233c02dafb3868d8d74be921,"Merge pull request #385 from coheigea/AMQ-7271

AMQ-7271 - Update XBean",1,1
3afc9bb7ad6352605254c1eb022c6ef3dffd613f,"Merge pull request #384 from coheigea/AMQ-7268

AMQ-7268 - Update Zookeeper version",1,1
c576c8c9517bd409122b562b6a4aec9b91bac2b0,"Merge pull request #383 from manid/AMQ-7258

[AMQ-7258] Update spring.schemas in activemq-osgi",18,29
5cd5b8d884ca1268ac32a09db3974c2a609a942d,[AMQ-7249] Upgrade to Camel 2.24.1,1,1
e3cc5ef4bc46a441da43e2d294cd521a89f7bbd6,"Merge pull request #386 from jbonofre/CAMEL-UPDATE

[AMQ-7249] Upgrade to Camel 2.24.1",1,1
122745b5b8b55b41d329e5457796229a15146d19,"AMQ-7274 Update proton-j and fix footer key type on outbound transform

Footer annotations maps should be using Symbol keys not strings.",3,137
5e58eaeafb695aea5d505fa53dabf8afd2a3317a,AMQ-7275 - Update Commons BeanUtils,1,1
8225312c8f56a9a9e5063c01e0e8123c9b7f477a,"Merge pull request #389 from coheigea/AMQ-7275

AMQ-7275 - Update Commons BeanUtils",1,1
f509067d2564238221eae01ab2fbc7bb1d1230f8,"Revert ""[AMQ-7258] Update spring.schemas in activemq-osgi""

This reverts commit 3c71b5e8aa4389ad70567272de34e3b8a62ff6d0.",29,18
fb7d4e6c4d9b23e88cf672ab777fce36f48c60a9,"Merge pull request #357 from bd2019us/AMQ-7199

[AMQ-7199] Replace Math.Random with Random.nextDouble",1,3
84cc95c7ac80b8f8754758e823c8816240bd31a1,"Merge pull request #358 from mrbald/patch-1

AMQ-7201 added shebang to generated broker admin script",0,1
973c78cbecd1c0c5eb61c8e16d60979574c9b751,[AMQ-7249] Upgrade to Jetty 9.4.19.v20190610,6,12
1f410f8685c4b4c9c30eb11aefb4d25e8b3fcbc7,"Merge pull request #387 from jbonofre/JETTY-UPGRADE

[AMQ-7249] Upgrade to Jetty 9.4.19.v20190610",6,12
7955cb4d1df0c3b5a4bc71c32b8b16fbaeb4281e,NO-JIRA: Add gpg key for jbonofre,0,58
3f11127567a590065d76021ab09216752922cae8,AMQ-7289 - Fix failing HTTP tests,14,17
9ecb9750e5a542d30273aac35564dc5161167696,"Merge pull request #390 from coheigea/AMQ-7289

AMQ-7289 - Fix failing HTTP tests",14,17
c29066cfb762f3577a10ea19cd9dc7f3d6284149,AMQ-7290 Update Qpid JMS and Netty to lastest releases,3,3
1e241deb2a41bfb131e7bb29928cdbe6843fc410,AMQ-7292 - WebConsole problem due to missing ecj jar,6,7
0ae247463fff18e96ff835462f24cd30a5489f64,"Merge pull request #391 from coheigea/AMQ-7292

AMQ-7292 - WebConsole problem due to missing ecj jar",6,7
02548777c2954f5ccad918df8b1280fd601f8fd6,AMQ-7298 - rework redelivery message tracking to ensure no duplicate suppression (and dlq) in error for local transaction batches that failover,77,515
f155e92e58da5882ff83414cbe31abad6e4e2e26,AMQ-7298 - use final modifier in test to preserve older jdk builds,3,2
a0f4f1c93de0b65d0bfb7a4b717923b28db89cd9,no jira - fix intermittent test failure with two derby instanced in play in error,1,3
640354fe797d9fed9d1a12c88284e4905dd6c5c1,"no jira - fix intermittent failure by not differenciating between dispatch of delivery loops, it can be either depending on timing",1,1
dc35218a2d766a86a78376bfd4b51e7ae5bda935,AMQ-7196 - fix broken test; recovery not applicable to inmemory store,0,10
4db26560660783c5a7b15af7ca9ba27c9f4d04bc,"AMQ-7300 - Improve performance of LongSequenceGenerator

LongSequenceGenerator now uses an AtomicLongFieldUpdater instead of
synchronized",8,17
65de327369f24de008f857211b97d3c69283a932,AMQ-7300 - Remove unnecessary call to sequence updater as read is already volatile,2,1
06af6c3e489e53c38a330d881badc9e14c5d6b64,maven-compiler-plugin 3.8.1,1,1
501d55337adaecdad7fb6311afcf618503a9e9b5,"AMQ-7302 - make jmx ops that pageIn aware of cursor memory limits to avoid excessive looping, fix and test",9,173
e8e27f0b16e099e6774096f5c9adbd404dcd0cc7,"AMQ-7118 ensure message size and usage is constant for the test, fix failure",13,7
289750d7c9849bd26f19e9116457eb72a3412d05,"AMQ-7308 - ensure kahadb message add does not auto create the message store in error, expect an existing store. fix and test",2,203
644b529ef64800ee162ddbd7c46551f2508c4c92,"AMQ-7185 - rework to leave tx-inflight messages pending in the cursor to avoid duplicates on completion, fix and test",5,288
1c5beda8347a26ef7b666f8842e99a2b54c55cac,no jira - fix intermittent test failure,1,2
ed5edb03d7fe63ef27269566aaa9a9b501650eb0,"AMQ-7311 - track recovered prepared ack locations on a per subscriber basis, fix and test",20,351
1ab6793c854233618bfebc0d47a3a32aa5adea96,no jira - fix test to aligh with implementation limitations of deprecated leveldb store,0,17
3df12a15b1a21747ac51548e7be95ba72e55d449,"Improve activemq init JAVACMD auto detection

If JAVACMD is set to ""auto"" (the default from the ""env"" file) and
the current working directory contains a directory named ""auto"", the
activemq init script will incorrectly detect the ""auto"" directory as the
""java"" binary thus leaving JAVACMD set to ""auto"" which is incorrect and
will obviously fail to execute the Java VM.

To fix this, in the second attempt to detect the ""java"" binary, repeat
the tests for a zero-length JAVACMD or a JAVACMD equal to ""auto"" before
testing whether JAVACMD does not exist or is not executable.  This is
necessary because when JAVA_HOME's length is zero, the first attempt to
detect the location of the ""java"" binary will not set JAVACMD (so it
will still be ""auto"" when it reaches the second auto-detection attempt).",1,1
86a069ac5db9742ae58e396e162a0b3e2bdc66c3,AMQ-7312 virtualSelectorCacheBrokerPlugin addConsumer issue,2,4
4af6f4018656e01989136042a8ad4ec1ab64c137,"AMQ-6494 is related, fix intermittent failure of RedeliveryPolicyTest related to vm transport server being shutdown while in use via async onException handler",3,45
55a8035e8b515cb9c158f76e0d66a98a19e93181,AMQ-7319 - Update Jackson to 2.9.10,3,2
c26742235fdee3073ae67a5b600fdc7e3194ecf0,"Merge pull request #396 from coheigea/AMQ-7319

AMQ-7319 - Update Jackson to 2.9.10",3,2
892c9e2a2d3962232a3a17a0a321e09d5d0df615,AMQ-7295 - Update JTA spec,18,18
44cae0e8733d2fa6780067c41d915a2f2e70fc04,Remove out-of-bounds index comparison,1,1
d525096cac444189c2d233e1de47342f1916c82d,AMQ-7130 Update AMQ doap,6,6
63b1238c4d1a0e10bd99ec9f3e6d2ee51b10c03d,AMQ-7322 - Add HTTPOnly flag to the webconsole + REST API Cookies,2,11
830a4c0391a49092860a6139cc23890f778a30b8,"Merge pull request #400 from coheigea/AMQ-7322

AMQ-7322 - Add HTTPOnly flag to the webconsole + REST API Cookies",2,11
dc2f69d96ac59df26e64fc9b5da3577c741d4cee,"Merge pull request #399 from coheigea/doap.rdf

AMQ-7130 Update AMQ doap",6,6
17c417e8084193b6643f4e5f81acb2bf7a8b8392,"Merge pull request #398 from gabrielmcoelho/patch-1

Remove out-of-bounds index comparison",1,1
a5f06025057afb927d00c941412d1143c8614098,"Merge pull request #395 from couclock/AMQ-7312

AMQ-7312 virtualSelectorCacheBrokerPlugin addConsumer issue",2,4
7a243f97516ffabc3367375cf1fe32f24f80f928,"Merge pull request #394 from jlmuir/init-javacmd-auto-fix

Improve activemq init JAVACMD auto detection",1,1
c5db284c4783bfe48e5479ea7b3ac79d176343a1,[AMQ-7323] Upgrade to rome 1.12.2,1,1
6f1bf5f5e7e59820157bbbd8c417a757abc78be9,"Merge pull request #401 from jbonofre/AMQ-7323

[AMQ-7323] Upgrade to rome 1.12.2",1,1
ed17d6284373188576f0fb0276dd1763766181cb,[AMQ-7330] Upgrade to Jetty 9.4.22.v20191022,1,1
45601effea244927018d1b12db2df235574b738e,[AMQ-7324] Upgrade to commons-dbcp2 2.7.0 and commons-pool2 2.7.0,2,2
e0a2d514f37f1b1c9f58399fb99ecf498f59ab14,"Merge pull request #403 from jbonofre/AMQ-7330

[AMQ-7330] Upgrade to Jetty 9.4.22.v20191022",1,1
3eb93432c8abb222d4d5a97a4bebfc9677a367f0,"Merge pull request #404 from jbonofre/AMQ-7324

[AMQ-7324] Upgrade to commons-dbcp2 2.7.0 and commons-pool2 2.7.0",2,2
a127d5cef62d0836cc4f3e0cd7c461533eb8c001,[AMQ-7331] Upgrade to commons-daemon 1.2.2,1,1
db114f67254a58ac6f4aa6d0fbfc7075468cc448,"Merge pull request #405 from jbonofre/AMQ-7331

[AMQ-7331] Upgrade to commons-daemon 1.2.2",1,1
d50ab4b36625781e5a4b32de525445601a050ac2,[AMQ-7332] Upgrade to ant 1.10.7,2,2
5568a09c3c1cd4a33d1ef8e9ae254996b650225d,[AMQ-7333] Upgrade to Camel 2.24.2,1,1
a4ff55a698a95f791141ecec2eecfd67c7925149,"Merge pull request #406 from jbonofre/AMQ-7332

[AMQ-7332] Upgrade to ant 1.10.7",2,2
8a469aaf5e87ce86547a5c3f6a7152050f65000a,"Merge pull request #407 from jbonofre/AMQ-7333

[AMQ-7333] Upgrade to Camel 2.24.2",1,1
8a6ef9d83d2f6db7c5a9a1bf6826d1e0b35ab43c,"Merge pull request #392 from coheigea/AMQ-7295

AMQ-7295 - Update JTA spec",18,18
d340e0902b8abf6c551486306c1db1dbe3562b9b,[AMQ-7321] Reduce the number of messages in MQTT SSL offline test to limit timing issue,1,1
d0b0a6495e1385cc327805c5c2db414baedbdf14,"Merge pull request #408 from jbonofre/AMQ-7321

[AMQ-7321] Reduce the number of messages in MQTT SSL offline test to limit timing issue",1,1
222edf4756fc9fca29f234dcfcafbf41b1de11e5,Update owasp plugin (and enable it to run correctly),1,2
0c0e8061fb19b8341c684124a4ebf02e30e70cf3,AMQ-7335 Update Qpid JMS to 0.47.0 netty to 4.1.43.Final,3,3
50a94cbf12f6a4b9d623b07515b9fd86c53efb13,[AMQ-7327] Use maxFrameSize to limit HTTP content length,0,79
e607742c889b5455f064b2c5509d5e7f0936b9e6,"Merge pull request #409 from coheigea/owasp

Update owasp plugin (and enable it to run correctly)",1,2
397ede661f505eac82cebcd63e40c06925a7889d,[AMQ-7327] Updated unit test around maxFrameSize support on the http transport connector,4,19
ea900c0d3fa42fa534b36e13b16b0dbdc8d062b4,"Revert ""[AMQ-7333] Upgrade to Camel 2.24.2""

This reverts commit 5568a09c3c1cd4a33d1ef8e9ae254996b650225d.",1,1
7441c6b6035e4a86d6a32b39445d75a33802ec3e,AMQ-7339 - Fix possible XSS attack in the HttpTunnelServlet,2,2
14b05380ba8f4447056ca0255b10eccdef56f14d,"Merge pull request #411 from coheigea/AMQ-7339

AMQ-7339 - Fix possible XSS attack in the HttpTunnelServlet",2,2
f3f827150368fa8c6d3a39a47f3602a80518630a,[AMQ-7301] Use warn for connection failure instead of error.,2,2
1846df4863b26e4290359b2bb2d69d6a832dd30f,"Merge pull request #410 from jbonofre/AMQ-7327

[AMQ-7327] Use maxFrameSize to limit HTTP content length",0,94
f7e212ca0bcde408b4befede4a329cc86b5e6302,no jira - fix intermittent test failure due to incorrect assertion,5,4
4f07dc5b49fbdc422349abc10c89323fdbdce059,[AMQ-7252] Upgrade to Velocity 2.1,4,4
43ffe7eac85f7e84f74011c5fbafd57bed3dcfe0,[AMQ-7310] Upgrade to Tomcat API 9.0.27,1,1
a0531943a40b55084b0fe38e3948098e736d69be,"Merge pull request #348 from nguyenhoan/patch-1

close DataByteArrayOutputStream buff of WriteBatch",0,3
057b95048571f9a2b38f4e7443269d6845b5115e,"Merge pull request #322 from deeyes24/failing_cronparsertest_inIndia

NO-JIRA: CronParserTest is failing in Indian StandardTime",14,14
6f338aa2817c221c16b6a97b7d3377daeaf42726,[AMQ-7068] Advisory messages are empty when received with a AMQP subscription (#312),1,127
f7b08713f3e37ffe952595ffb3e010437c3fbea5,"Merge pull request #305 from amarkevich/AMQ-7069

AMQ-7069 HTTP client don't handle XStream deserialization exception",1,1
3e7399543c9cccc9b870266607e5875b1eabf788,"Merge pull request #393 from sullis/maven-compiler-plugin-3.8.1

maven-compiler-plugin 3.8.1",1,1
a59ebe7d09f83a6d3eb43eed5e14510909785af1,"Merge pull request #283 from SaivR1t/master

AMQ-6963 Fix calling the toString() method in case of different log level.",4,4
e7b7334e42d8709fdf69e5c8d929f6ad25dd27ec,"AMQ-6908 allow use of ActiveMQ console login credential (for authorization) when browsing messages through the console

(cherry picked from commit 822cf6203437f06a58e8e442de87b8416ad232e6)",23,21
d16d7cd172f416d34e22b99933012b78689998db,"Merge pull request #276 from chipitsine/master

AMQ-6904 add overrides for ms sql",0,40
1ced34a383c5e3910c582fd3bfd720a8f6fcde32,"[AMQ-6556] Support system property proxy settings for HTTP(S) client

(cherry picked from commit 746a8398098fe4277008a62c5c82101a3c07cacd)",5,32
dcb5ba1fb334afc8d02091bb9185b0dec0d97a86,"Merge pull request #275 from PascalSchumacher/BrokerService_fix_typo

BrokerService: fix typo in field and parameter name",13,13
f5b1800b0ecbe045e4b4749ea7c13cfa22b83f85,"Merge pull request #278 from asutosh936/AMQ-6905

AMQ-6905 : Upgraded ActivationConfigProperty as per API Documentation",1,1
6cf846e0509ddedbd2d3d1f5697b07e5ff36a8a0,[AMQ-7345] Upgrade to jackson-databind 2.9.10.1,2,3
0829c3efd8273e5768e64c93ab184d08ebf2d64f,"Merge pull request #414 from jbonofre/AMQ-7252

[AMQ-7252] Upgrade to Velocity 2.1",4,4
1c5b7cc66b9b314a7f2c27bf6231344b10a5c2bc,"Merge pull request #415 from jbonofre/AMQ-7310

[AMQ-7310] Upgrade to Tomcat API 9.0.27",1,1
31f29438989e30dcc4213776b9c74fb69be61be0,"Merge pull request #416 from jbonofre/AMQ-7345

[AMQ-7345] Upgrade to jackson-databind 2.9.10.1",2,3
ce0fc359ef6868f3d58cb88a34d0cfb0ec2b668e,[AMQ-7329] Fix exclusion in activemq-osgi,1,0
3c10f6ef863f0eac713de0869c753cee5b607dae,[AMQ-7008] Add index on messages table to speed up browsing,1,2
70fba72be85ec888b9cc63521004e8f4bf90b770,"Merge pull request #417 from jbonofre/AMQ-7008

[AMQ-7008] Add index on messages table to speed up browsing",1,2
d826adf7c314fb7d25b0dbb5947e7f007b806d0e,"Merge pull request #418 from jbonofre/AMQ-7329

[AMQ-7329] Fix exclusion in activemq-osgi",1,0
46b3dfa9429af793ce76b2615b20e9e62a4c833a,AMQ-7348 - Update Apache Shiro,1,1
78c044136f038c346510c42a60bc2caaba8e641c,Fix build of ActiveMQ OSGi bundle,5,0
23b21105e8bd97db250f2df0d5a3aa328e9083b5,AMQ-7349 - Update some javascript libraries,895,3426
e4f155f548f63aa9693ae8bbdb9ed3f224ee616e,AMQ-7106 - fix intermittent failure in the test,5,7
f3ed0c7b87087244b4ba41f0d27d6a5ec5cdf06e,AMQ-5734 - additional test that verifies wildcard sub does not get access to unauthorised dests retain messages,0,24
e257b2548b4731b69ca96f92f7a7f0a9493b923d,[AMQ-7351] Update to Apache pom parent 21,1,1
a7bf4fc8043d76d92ab59c622fafba064367af14,AMQ-7302 - rename test such that is is run with surefire pattern match,1,1
0c6f9a9a1e253d50dac6b265f04c0a458ac535ee,"AMQ-7352 - Add support for anonymous producer advisories

By default this behavior is turned off but can be enabled by setting
anonymousProducerAdvisorySupport on the BrokerService to true",8,122
35923b85b81942508e5bc5a42fd9d1308a6f1b6a,"Merge pull request #422 from fpapon/AMQ-7351

[AMQ-7351] Update to Apache pom parent 21",1,1
b379879dbfa357930f431bd955c42c78d241834d,Stop failed timer task from breaking timers.,1,41
3f5bb9710a4d4c88e9f88cb5c4dc83c1755cb72c,"AMQ-5486 - fix intermittent failure in the test, reallign assertions",6,20
5a0c853ba0e2ade0b29fa4319857bd8a557995e4,AMQ-7353 - fix visibility of marshalledProperties to ensure competing threads don't see partial objects in error. Little test case that demonstrates the problem in isolation,2,216
0891526c26bd2f549dc6f3271466cd392a752068,AMQ-7357 - Update Pax URL,1,1
a0dace794a9d0f818a58d3d6eaf61b491e0a6296,no-jira - fix intermittent test failure where assertion fell on old bridge,1,1
4d6409b3b82c1c6ab534cf0da253971e008bc13f,AMQ-5035 - fix intermittent failure due to async close,1,7
b9851a8fc29369f77a7120668681692ed73e229e,"fix intermittent failure, two brokers in the mix",7,7
a942591be447fdd80f72e56633ce972eb9e69a2a,no jira - usecase demonstrating effect of conduit=true|false for topic subs,0,236
d41658715bba77aaa56f46b4b2a0c0adc1107961,"AMQ-7365 Update Qpid JMS and proton-j to latest releases

Update to Qpid JMS 0.48.0 and proton-j 0.33.3",3,3
696561c4bc1680f6714d52e017947c22ef98d46d,AMQ-7375 - Update Spring,1,1
08267c4f67426509eacb91993849c0eca07d962c,AMQ-7373 - Updating Jolokia,1,1
675fb7bcae3a84c9fcbb1e35506fd688066fc59e,AMQ-7376 - Use correct type for collections retrieval,33,12
ff525a5fb969d10d79b8f69ffc10df58fda85da8,"Merge pull request #427 from coheigea/AMQ-7373

[AMQ-7373] Updating Jolokia",1,1
a28cf26c8cec4a01688a63815990ebf13c0e137c,"Merge pull request #426 from coheigea/AMQ-7375

[AMQ-7375] Update Spring",1,1
52816ef55d1423461c18e1e04090517714d0ff91,"Merge pull request #425 from coheigea/AMQ-7357

[AMQ-7357] Update to Pax URL 2.6.2",1,1
81bd743eaa243f0cc5dfbb1342cee1fef1fc5df2,AMQ-7231 - Fix XSS in WebConsole,16,19
5c6bbb664ef13ff724652bee42b4c9a0f88f403c,"Merge pull request #421 from coheigea/AMQ-7349

AMQ-7349 - Update some javascript libraries",895,3426
dc69083fab85afffbaef26cfe19c7010eb3af08b,"Merge pull request #419 from coheigea/AMQ-7348

AMQ-7348 - Update Apache Shiro",1,1
afe67ddb6981c186e35ac0fdad7309fe4605dfac,[AMQ-7389] Upgrade to jasypt 1.9.3,1,1
127852d2e7098436e99c573bc7b30e3facdb634b,AMQ-7142 - Inserting Bouncy Castle Provider Early in Java Security Provider Chain Breaks KeyStore Loading,4,9
b589b61f2d5154f9a3b3db6f86fc16b4ca5d829e,"Merge pull request #431 from coheigea/AMQ-7142

AMQ-7142 - Inserting Bouncy Castle Provider Early in Java Security Pr…",4,9
556698b163357e727432212ac267085971e310f7,"Merge pull request #430 from jbonofre/AMQ-7389

[AMQ-7389] Upgrade to jasypt 1.9.3",1,1
85851f7ce830b64392e1a63cd5d8c20b4ca35125,"[AMQ-7391] Minor typo fixed

Credit: Alexandre Fruchaud <mmacphail>",7,7
71590652a0810cd0dc5772242dd249fc9ff2b2bf,[AMQ-7386] Upgrade to Tomcat 9.0.30,1,1
8d5fa7bc69e386ef522e0396d82f2c3e18e5c1bc,[AMQ-7385] Upgrade to shiro 1.5.0,1,1
60b6b03b5b0dedbfa250a16108dcc1d3af1f70b7,[AMQ-7383] Upgrade to httpclient 4.5.11,1,1
d49370e3634f2d48746e2755960eb927ebc9bfb0,AMQ-7393 - Remove unused Selenium tests,134,0
2f35bcec055f5a59a9e50c9568306b581984d3ba,[AMQ-7382] Upgrade to geronimo-jacc_1.1_spec 1.0.2,1,1
a90ca9749ddcd6481afd8ad8fef68514d465b3df,[AMQ-7381] Upgrade to geronimo-transaction 3.1.4,1,1
f9fd5f459ee4e9c540619adf614399f44fdea0f1,[AMQ-7380] Upgrade to commons-pool2 2.8.0,1,1
c0e17a35f566e113c6e1c814922527c17a42b4cf,"Merge pull request #429 from coheigea/AMQ-7231

AMQ-7231 - Fix XSS in WebConsole",16,19
88cd3ec611a0a7eff18de16da9f713df72d722a2,"Merge pull request #442 from jbonofre/AMQ-7380

[AMQ-7380] Upgrade to commons-pool2 2.8.0",1,1
24fe606c1b497b226498d8cef051aefef51b4c9f,"Merge pull request #441 from jbonofre/AMQ-7381

[AMQ-7381] Upgrade to geronimo-transaction 3.1.4",1,1
3bd71085532efe23a779c350f3cb657107050ad6,"Merge pull request #440 from jbonofre/AMQ-7382

[AMQ-7382] Upgrade to geronimo-jacc_1.1_spec 1.0.2",1,1
cf2c28a7f3dbb4a184996be1ca9c6e51ec67a28a,[AMQ-7321] Decrease number of iterations in MQTT test to speed up build and limit race condition,1,1
5db970cdf341488204d5cbc617e863ed1aa6d425,"Merge pull request #439 from coheigea/AMQ-7393

AMQ-7393 - Remove unused Selenium tests",134,0
2b39af77836557c766248ac6d24e2e93868a7318,[AMQ-7387] Upgrade to XBean 4.16,1,1
8cfe1280194972c14f9a0d3b734510ab3a92f29f,"Merge pull request #438 from jbonofre/AMQ-7383

[AMQ-7383] Upgrade to httpclient 4.5.11",1,1
c65d4f405a6686668bd7dbbbbf1561f343b1f5cc,"Merge pull request #435 from jbonofre/AMQ-7386

[AMQ-7386] Upgrade to Tomcat 9.0.30",1,1
ce7eeba6f85a6ec9a6f32f5101ffffcf9c70ef4f,"Merge pull request #445 from jbonofre/AMQ-7321

[AMQ-7321] Decrease number of iterations in MQTT test",1,1
5a73776a8ac6953f5916fe1d07790c246b6d2dce,"Merge pull request #433 from jbonofre/AMQ-7387

[AMQ-7387] Upgrade to XBean 4.16",1,1
30a108f8dae6eeeb423190ac45ad021fc6e69bde,[AMQ-7384] Upgrade to httpcore 4.4.13,1,1
e112a71a501f3353da3754c25002618b9ce3b553,"Merge pull request #437 from jbonofre/AMQ-7384

[AMQ-7384] Upgrade to httpcore 4.4.13",1,1
6417d62f60e4a3522f7369d4c9df574c012fcf45,"Merge pull request #428 from coheigea/AMQ-7376

AMQ-7376 - Use correct type for collections retrieval",33,12
78826c9c73215971af520fdb0a7d2c976bb3127a,"Merge pull request #436 from jbonofre/AMQ-7385

[AMQ-7385] Upgrade to shiro 1.5.0",1,1
dac97e6294f796b93ee1e1b43aaa37566d2328ea,[AMQ-7401] Make double-checked locking thread-safe by declaring the field volatile.,4,4
ff022464789845847e64a1189578fbbf42c08698,[AMQ-7401] This closes #447,4,4
f1d0100832d5bd1609cb1c31aded3ab094ae395d,Provide RMI registry implementation to prevent re-bind,9,58
26a0f8214c0e5fd290f5ff45d7376d1eae2448fb,AMQ-7403: Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference,11,12
b7dca5e0738639f2bffe7f97b9c782372fc2188e,[AMQ-7400] Fix OSGi statement about sun.rmi,0,1
58382283330f7c7b110c7afd8ef4ca2648786532,[AMQ-7400] This closes #443,9,59
098fd9c5a90e14268794d1f2982ef19c31b15808,"Merge pull request #450 from PascalSchumacher/possible_db_resource_leak

AMQ-7403: Potential PreparedStatement/ResultSet leak in LeaseDatabase…",11,12
e6befbc8750127d3f1a0a36eec91507b57aef2ab,AMQ-7404 add debug logging for selectors loaded from the cache file,0,13
097506a45837f55e4d010e4094d60a36f6672ebd,[AMQ-7399] org.apache.activemq.SERIALIZABLE_PACKAGES doesn't include java* by default,9,43
ee16d9df5cba02aeb4fe2929ac593078bbea3764,"Merge pull request #446 from jbonofre/AMQ-7399

[AMQ-7399] org.apache.activemq.SERIALIZABLE_PACKAGES doesn't contain java* by default",9,43
8cdddde5b47f06d5bc9d1c27e25287bc050799c6,AMQ-7399 - Adding a unit test,0,62
5356893fac70d9f67a407d836f8cc8260961b792,"AMQ-7402: Inconsistent synchronization of getters/setters of some classes

Make synchronization consistent or remove it and declare the field volatile.",11,11
6764511fa1b7efc8df097514f991ff3950f618f1,Fix unused format arguments in log messages.,10,10
4ecdd5a2a8071cd946364c44b7a829389a4d5fea,"Merge pull request #448 from PascalSchumacher/fix_unused_format_arguments_in_log_messages

Fix unused format arguments in log messages.",10,10
a9d89572efe7d5b570ebce2d0cb0772131100cad,"Merge pull request #449 from PascalSchumacher/setter_getter_synchronization

AMQ-7402: Inconsistent synchronization of getters/setters of some cla…",11,11
de21ccb7ada6e8188cda5a250e9063cf96c40573,Fix Karaf itests,3,4
1c3a71620f0f000c8b3ff9b4e4ee9af1efd4af2f,"Merge pull request #451 from jgallimore/AMQ-7404

AMQ-7404 add debug logging for selectors loaded from the cache file",0,13
ea5169d21f5576d21389d56b96fc1f76b4aefce1,"Merge pull request #453 from coheigea/AMQ-7399

AMQ-7399 - Adding a unit test",0,62
2f9e2b1e839126edf15785417ea1f6789b7c0b2f,AMQ-7406 - ActiveMQSslConnectionFactory truststore settings don't work for the HTTPS connector,5,343
ef59309d823189d7e188a3db3526fd5064c97763,"Merge pull request #454 from coheigea/AMQ-7406

AMQ-7406 - ActiveMQSslConnectionFactory truststore settings don't wor…",5,343
18701524a84db80f8b7fe245c7693315dd66d379,[AMQ-7320] Upgrade to Jackson databind 2.9.10.2,1,1
3480d3ec38b3ecc03f5d5b35dced2f66243caec6,[AMQ-7278] Upgrade to Scala 2.11.11,2,2
f3b2efcbcb51e23db03b54759e3b4a0c4793b89b,[NO-JIRA] Use Maven Central https URL in ActiveMQ URL readme.txt,1,1
f96e64e815c9050d3242c043eb031143742a9f0e,[AMQ-7408] Upgrade to Guava 28.2-jre,1,6
627b6368a8715b4b6fbbbdaa3cf135ccf7806ce7,"Cleanup unused properties from pom.xml

Credit To: Piyush Chugh <chughpiyush>",7,1
1f2e9be784fb0dc20fe48be2a9a35946446641d7,AMQ-7411 - Avoid leaking Hadoop test dependency,0,1
ae96af6d0fb75669cfa056ddfa6502ecf44270b3,"[AMQ-7409] Exclude netty from zookeeper dependency

Credit To: Piyush Chugh <chughpiyush>",0,12
8c8fa75f851b065d703531e2a51f2c7b30f2e003,[AMQ-7103] Upgrade to owasp-dependency-check 5.2.4,1,1
758bd279f8ab55b11233ea73e63ae9be23d28200,AMQ-7412 - Fix NPE in SimpleAuthenticationPlugin,4,92
210f583cbdbb5d992f0bfe561bf863b821ca402f,Utilize parameterized logging,2,2
6d36c490e5ddaeed92632dbb4f3ca8773a8a5bfa,"Fix inconsistent 'info'-level logger calls

Some calls to info() were guarded by checks that logging at the trace
level is enabled.

These issues were found by SLF4J Helper for NetBeans IDE:
http://plugins.netbeans.org/plugin/72557/",3,3
7480c660318416ebf41816122ad9b71157329a11,"Mark `staticCache' final

This fixes a warning in NetBeans IDE about synchronizing on a non-final
field.",1,1
252dda94a3f40d809ce5c8c118b24c2c05e77c5e,Reformat some code,21,24
3faad9b3574336413166f348ca2438c9a7f7cce1,"Use simpler SLF4J API functions

Eliminates the need to construct a new (temporary) Object array object.

These changes were suggested by SLF4J Helper for NetBeans IDE:
http://plugins.netbeans.org/plugin/72557/",2,2
7b528ecee77f02426e3f2b16cd49ccfaeb221f95,Fix some typos,24,24
057cf666a06450c84536a42a15c4b8da6ba641b7,Fix an apparent copy/paste typo,1,1
b020cba74470fffff7383de5f5400bff2b4f99c8,"Fix some incorrect SLF4J logger calls

In some cases, there were an inconsistent number of formatting anchors.

In other cases, formatting anchors were used, but because the
trace/debug/info/warn/error(String, Throwable) variant was used, the
string is a message string rather than a format string.

These issues were found by SLF4J Helper for NetBeans IDE:
http://plugins.netbeans.org/plugin/72557/",12,12
503416a00167e2910630512426df77ecc32492a2,"AMQ-7291 - allow setting properties after clearProperties for BytesMessage, closes #420",6,24
6e77e2f8264ce1dfc41c8550c6f3624730665afc,"Merge pull request #456 from jbonofre/AMQ-7320

[AMQ-7320] Upgrade to Jackson databind 2.9.10.2",1,1
969b61bbd33407470b546fc0dca6c8fd310c5c5c,"Merge pull request #457 from jbonofre/AMQ-7278

[AMQ-7278] Upgrade to Scala 2.11.11",2,2
c695bf027f73148adb8837938ad8a254dde58595,"Merge pull request #458 from jbonofre/AMQ-7408

[AMQ-7408] Upgrade to Guava 28.2-jre",1,6
21733463e3738e9a4e2f5dd23e0f546efe2ed067,"Merge pull request #459 from jbonofre/CLEANUP

Cleanup unused properties from pom.xml",7,1
344bf79855de8c1c911ecd0dfbd0700d0d871097,"Merge pull request #460 from jbonofre/AMQ-7409

[AMQ-7409] Exclude netty from zookeeper dependency",0,12
e51e8f30c9eac57c83ee5fbc88102f9d2789001c,"Merge pull request #462 from coheigea/AMQ-7411

AMQ-7411 - Avoid leaking Hadoop test dependency",0,1
ed3c600e09a305c39d78089cc5450d1e4a671f7b,"Merge pull request #464 from jbonofre/AMQ-7103

[AMQ-7103] Upgrade to owasp-dependency-check 5.2.4",1,1
8f707cb1f6b11910ef996d3fd02bbcb6bf5ef257,"Merge pull request #463 from coheigea/AMQ-7412

AMQ-7412 - Fix NPE in SimpleAuthenticationPlugin",4,92
a944187d6ead71b3dfd856c5c4a3b418b8b85255,[AMQ-7414] Upgrade to Tomcat 9.0.31,1,1
d943d7ab4c3c19f8c7a9723e9c281f66db5ae4ec,[AMQ-7417] Upgrade to xmlbeans 3.1.0,1,1
b2e1f598700b394280690ea0b3ff07a4863fa323,"Merge pull request #467 from jbonofre/AMQ-7414

[AMQ-7414] Upgrade to Tomcat 9.0.31",1,1
bfb810c50726f2b5b15f64355657217874fdfbf8,"Merge pull request #466 from coheigea/misc_fixes

AMQ-7413 - Misc logging fixes",66,69
9b02c1afa240994972d8ea7b673192beae4f1119,"Merge pull request #470 from jbonofre/AMQ-7417

[AMQ-7417] Upgrade to xmlbeans 3.1.0",1,1
cf220b62a674d2bdea08ff931a086448106fdbd3,[AMQ-7416] Upgrade to Velocity 2.2,1,1
4dcc9d99ec12ccfb7e46136e8d3d5778ae1a3cfb,[AMQ-7415] Upgrade to ASM 7.3.1,1,1
7bb05d55ee6c1b695889e7895300f1309e819d5b,"Merge pull request #469 from jbonofre/AMQ-7416

[AMQ-7416] Upgrade to Velocity 2.2",1,1
5cc7394fe206856480cde5310b189711dd9cd0de,"Merge pull request #468 from jbonofre/AMQ-7415

[AMQ-7415] Upgrade to ASM 7.3.1",1,1
4522061527d683837add039b2356d1f943744833,Fix issue where the registry lookup was a hardcoded name and didn't account for the connector path,13,86
a58a624c3ae6fdd9e276469414c60e6e11bab166,"Merge pull request #471 from jgallimore/connector-path-fix2

Fix issue where the registry lookup was a hardcoded name and didn't a…",13,86
0245a3d5c4595ddab2da38463ca7948b98d95c8f,[AMQ-7419] Return 405 error code instead of 500 in case of maxFrameSize exceeded on HTTP connector,7,10
927e01f0c8ef223ceb7f309ddcdda55781c5e048,Flexible AMQ7086Test on KahaDB for Jenkins,6,4
11cdb5cb598d4752e67cffb0ff89119f3cf0b09e,Ignore one unit test to avoid build failure on Jenkins (need refactoring),10,12
d355737ec769e9667d5333fb1871498707b51d1b,"Merge pull request #474 from jbonofre/AMQ7086Test

Flexible AMQ7086Test on KahaDB for Jenkins",6,4
82c3e70a2add9a6b1388e28882509abaa9a3413f,"Merge pull request #475 from jbonofre/UNITTEST

Ignore one unit test to avoid build failure on Jenkins (need refactoring)",10,12
5c1ee5ed52792251d54bb849ee92f03ae8ff1cf3,[AMQ-7333] Upgrade to Camel 2.24.3,1,1
d878d877d528c0031615213102ee4175990627a9,[AMQ-7410] Align dependencies with Apache Karaf,32,37
d2592e22e58a37cf1aa2ea8a20a19ac7a8a1422a,"Merge pull request #461 from jbonofre/AMQ-7410

[AMQ-7410] Align dependencies with Apache Karaf",32,37
cc4a69913b3961d7bdd561a7baa6924aa1a81f62,"Merge pull request #473 from jbonofre/AMQ-7333

[AMQ-7333] Upgrade to Camel 2.24.3",1,1
a1e87c60963d7ac736aad01786dc6026fe2c3ac3,[AMQ-6833] Cleanly close DirContext in LDAPLoginModule when the authentication is complete,0,4
92dec52e1c1ecd26014fa62f5aad7072ecdbb265,[AMQ-7131] Add connectionTimeout to avoid starvation,16,62
e3776c97aeb91a2e97b416cf9b986b87da3a3958,Remove unused activemq-leveldb test dependencies,13,1
67fb6f8871a04e18870fda65ac5eab9d486da309,AMQ-7423 - Remove synchronization from JAAS PropertiesLoader,17,5
e3d20ed6abbb569773b67924b75b6e00b989d6b0,"Merge pull request #478 from coheigea/activemq_leveldb_test

Remove unused activemq-leveldb test dependencies",13,1
6e650841fd77a382cdc969b089168e40fa356e0c,"Merge pull request #476 from jbonofre/AMQ-6833

[AMQ-6833] Cleanly close DirContext in LDAPLoginModule when the authentication is complete",0,4
61bf624c6dd5a999dc9dd1f900bffc6c4feb9fa1,"[AMQ-7368] Add limitQuery in HSQL, MySQL and PostgreSQL JDBC adapters",0,18
d8ae8734a9f6da41e206d33322048aedf5491e8e,[AMQ-7424] Prevent NPE during commitRemove() on JDBC adapter,1,3
7ef90e243fe325488d28f4a08256de0bccba61fc,Add missing format argument for log message in AbortSlowAckConsumerStrategy#abortAllQualifiedSlowConsumers.,2,3
5f51b9c084e38f8f10418398dbfe415d4570e325,[AMQ-7407] Fix best target election for queue/topic partitioning,3,4
ef763375b232835b26c6105e091e3b9e1f58f885,"Merge pull request #483 from PascalSchumacher/add_mising_argument_to_log_message

Add missing format argument for log message in AbortSlowAckConsumerSt…",2,3
51081e4edf9d2a6f8d207bdd06f0434fe3be9614,"Merge pull request #479 from coheigea/AMQ-7423

AMQ-7423 - Remove synchronization from JAAS PropertiesLoader",17,5
702fb86887dac79ae206c26693ee8fdc88c0e1b5,"Merge pull request #482 from jbonofre/AMQ-7407

[AMQ-7407] Fix best target election for queue/topic partitioning",3,4
46148e3dd153b3ca9bc459412c69f188e4bdc3ed,"Merge pull request #472 from jbonofre/AMQ-7419

[AMQ-7419] Return 405 error code instead of 500 in case of maxFrameSize exceeded on HTTP connector",7,10
5d03224880e0601fa7da18d87e5e1f2fefcc5263,no jira - additional trace logging to kahadb cleanup/gc to identify datafile for durable sub command and pending count by sub key,1,7
9200f79982b791202729ed522d3d7f25ceaecd4a,"Merge pull request #480 from jbonofre/AMQ-7368

[AMQ-7368] Add limitQuery in HSQL, MySQL and PostgreSQL JDBC adapters",0,18
ce6fc913f9cbbc0cb6c2caa54c048153ab82b3ba,"Merge pull request #477 from jbonofre/AMQ-7131

[AMQ-7131] Add connectionTimeout to avoid starvation",16,62
80d06fc186ab1b73cced2b949462a120aadcfbf7,"Merge pull request #481 from jbonofre/AMQ-7424

[AMQ-7424] Prevent NPE during commitRemove() on JDBC adapter",1,3
0d5b53529ad420260d770732a174981f4366ec73,[AMQ-7388] Upgrade to Jetty 9.4.27.20200227,1,8
cb23db5c5deb33b2201ba5aa13847d470c2317de,[AMQ-7429] Align spring-expression version with other spring artifacts,0,5
4864bcedf86e8db50ca7b159f82871210b4980cf,[AMQ-7431] Fix webconsole deployment on Apache Karaf (due to ASM embedded),2,3
34d4bb8c82bb06689f10c149ff0ff4bcedca7d6f,"Merge pull request #485 from jbonofre/AMQ-7429

[AMQ-7429] Align spring-expression version with other spring artifacts",0,5
c92be4c8cb5b1ac2092d38410ebf39886bd4af17,"Merge pull request #484 from jbonofre/AMQ-7388

[AMQ-7388] Upgrade to Jetty 9.4.27.20200227",1,8
c9902433c7f3daef6c7b751d08f9de608ee345f2,[AMQ-7433] Use short rendering of exception instead of full stack trace to avoid to pollute log file,2,9
0d65b218ba997c2424f34a6b28ec79f81ef9a56d,"Merge pull request #486 from jbonofre/AMQ-7431

[AMQ-7431] Fix webconsole deployment on Apache Karaf (due to ASM embedded)",2,3
609766f68bf0c3d06351f74cc43582c4109b7417,"Merge pull request #487 from jbonofre/AMQ-7433

[AMQ-7433] Use short rendering of exception instead of full stack trace to avoid to pollute log file",2,9
d11fd05af4db5f3af46e09c9d9c62821c5b66967,[AMQ-7301] Display warn in case of STOMP stream initialize error,5,13
0d0131496a805c278373b16771c65caa30419adc,"Merge pull request #488 from jbonofre/AMQ-7301

[AMQ-7301] Display warn in case of STOMP stream initialize error",5,13
df1750fe01a6e31573e3bc66ee342402963fd014,[AMQ-7314] Fix counter increment when lastDelivereSeqId > BrokerSequenceId,2,2
088cc4be090f44845a5d88e17b0f691d4a773135,[AMQ-7432] Upgrade to hadoop-core 1.2.1,1,1
a50b42b51a89518b5ee9c8127d554dbafa674c2c,[AMQ-7432] Upgrade to netty 4.1.45.Final,1,1
dcd1de927040500fb98215ef6c1323616b27825e,[AMQ-7432] Upgrade to jackson-databind 2.9.10.3,1,1
0b0ab2a03a60b28c57145ccb17c79da50b9d17d7,[AMQ-7432] Upgrade to mqtt-client 1.16,1,1
c4e72e3383f6a30808fbee12b722704deaeaa1dd,"Merge pull request #489 from jbonofre/AMQ-7314

[AMQ-7314] Fix counter increment when lastDelivereSeqId > BrokerSequenceId",2,2
2e0d1a54c8be09dead430d6219758e32e2a803ad,"Merge pull request #490 from jbonofre/AMQ-7432-HADOOP

[AMQ-7432] Upgrade to hadoop-core 1.2.1",1,1
9d3ab8b4afb787fad002e9bb412784508528a6a4,"Merge pull request #491 from jbonofre/AMQ-7432-NETTY

[AMQ-7432] Upgrade to netty 4.1.45.Final",1,1
93e3029abc3a5d25d8313a0d39be01eec256bf4a,"Merge pull request #492 from jbonofre/AMQ-7432-JACKSON

[AMQ-7432] Upgrade to jackson-databind 2.9.10.3",1,1
578051fdeab5d226a97faea7b5f5605260bd0782,"Merge pull request #493 from jbonofre/AMQ-7432-MQTT

[AMQ-7432] Upgrade to mqtt-client 1.16",1,1
dcd3d5db3f14fbdb74d9595360033988405cce79,[AMQ-7394] Simple first fix to use listener.hasSpace() when recovering message from JDBC message store,1,5
4528b773c6863b7f3994bcdc9772b1fb2a98cfd0,[AMQ-7425] Simple fix to be sure to delete message from JDBC message store,1,1
f221072375f87c14b90b604545d6981d8df5b667,AMQ-7434 - Enable Jolokia CORS strict-checking by default,1,6
f7c49d54e86ca2b2ad3f7965c9f56597881673a1,"Merge pull request #496 from coheigea/AMQ-7434

AMQ-7434 - Enable Jolokia CORS strict-checking by default",1,6
b9426d6c00213383790adf456d51b1e1bb62ec66,"Merge pull request #494 from jbonofre/AMQ-7394

[AMQ-7394] Simple first fix to use listener.hasSpace() when recovering message from JDBC message store",1,5
e20ef34ae0df57527beb84ddd595ca8848d72f71,"Merge pull request #495 from jbonofre/AMQ-7425

[AMQ-7425] Simple fix to be sure to delete message from JDBC message store",1,1
feb8d3d07357881f70a86180a982219779c4b02a,[AMQ-7433] Render full stack trace by default but document possible ConversionPattern,5,11
14c134a9c6f90030e68cbe2cd48800473e5ac9f1,AMQ-7435 - Update Shiro to 1.5.1,1,1
372a75fe822c07f5917d2691d7d188116b5e26f9,"Merge pull request #498 from coheigea/AMQ-7435

AMQ-7435 - Update Shiro to 1.5.1",1,1
3c302dce33500cd8e36f626af333ce208ebc44a0,[AMQ-7347] Don't log error in case of topic subscription failure. It's useless as the JMX exception is thrown and pollute the log.,2,6
3c4a644f3d6e5a21dee907928aa611902312df16,[AMQ-7346] Improve logging of the network connector,8,6
93f8ea1b8b67ba7d286d4c900e6f7feb60e15651,"Merge pull request #497 from jbonofre/AMQ-7347

[AMQ-7347] Don't log error in case of topic subscription failure (use debug)",2,6
945cd6b7de20cbc0a092eaa2e6dff5dfacc9acc3,[AMQ-7303] Improve logging in case of security exception on transport connection,1,1
7435d7b058d5424e9863576d4e02b3511fb4c47b,"Merge pull request #499 from jbonofre/AMQ-7346

[AMQ-7346] Improve logging of the network connector",8,6
c0e7949468e0c2089e1d78b7ebd277eef0d7c532,"Merge pull request #500 from jbonofre/AMQ-7303

[AMQ-7303] Improve logging in case of security exception on transport connection",1,1
b60efeaad82c63d4b00eb83285b6701ae3e7a73e,[AMQ-7301] Improve logging when initialize Stomp NIO SSL connection,2,6
4a2881f8ed04111149b33bdf606b168376439e4a,"Merge pull request #501 from jbonofre/AMQ-7301

[AMQ-7301] Improve logging when initialize Stomp NIO SSL connection",2,6
4a4880301fa2b6f6793c69a306d536199c86cf57,Update schemas,0,6
a73a85e6c21ac2905feb162d9132993b231f391b,AMQ-7438 - Harden deserialization,61,41
68355136d200f12f8416309975783267d74cf036,Remove unreachable code in ServiceStopper#throwFirstException.,3,0
b43f5b8cf28a8fb8e3418536f0a45af5c5d526e4,Avoid potential overflow in int multiplication before it is converted to long.,7,7
8fa772c8dee88e0e2ab499ad82f2d3932645b873,"AMQ-7439: AbstractMQTTSocket#getProtocolConverter: Race condition in double-checked locking object initialization

protocolConverter may be visible to other threads before its properties are set.",2,3
265fd65328d2ec692ef137a46d84228f915d2b11,"AMQ-7365 Update Qpid-JMS and its netty dependency

Update Qpid JMS to 0.49.0 and brin Netty test dependency up to
match the version used in Qpid JMS",3,3
58f5fdb572520a1b0565ab831657a2cba7e5abcb,[AMQ-7347] Fix potential NPE when JMSException doesn't contain linkedException,1,6
1550ae42f7ad86d8b341503dd3ab39b94f1c5bec,"Revert ""[AMQ-7314] Fix counter increment when lastDelivereSeqId > BrokerSequenceId""

This reverts commit df1750fe01a6e31573e3bc66ee342402963fd014.",2,2
80b92d3ae967f2fc39a5275de6a51754bd013470,"Merge pull request #506 from jbonofre/AMQ-7347

[AMQ-7347] Fix potential NPE when JMSException doesn't contain linkedException",1,6
08b389c2206f9b3f1a9afc86d6b6a3eab0535e08,[AMQ-7301] Propagate the exception in order to close the connection cleanly,9,5
bbb73ec3fc18890b47bfc0561814367eb6a35902,"Merge pull request #507 from jbonofre/AMQ-7301

[AMQ-7301] Propagate the exception in order to close the connection cleanly",9,5
6355f507c3b8ad5f38853d11e0ae0da58659d0c6,"Revert ""AMQ-7291 - allow setting properties after clearProperties for BytesMessage, closes #420""

This reverts commit 503416a00167e2910630512426df77ecc32492a2.",24,6
c44be3b0dd23c2543a65d00bd24e1ef316c0d6a2,AMQ-7440 - Fix potential race condition in DiscoveryRegistryServlet,6,1
ee61ed69f8ca7ea116014a981225f446d0a05d8a,"AMQ-7301 - TransportConnector errors should log the root cause

(cherry picked from commit 57a1a77abb54e6862d61626d9a2985b84b9975a9)",4,3
960bc24d17e955cea854124a3bbaeb5d912746ea,[AMQ-7301] Fix build and using a single log message,4,9
8f5d583ad4f0f03b32a527bf46f182499cc0552a,"Merge pull request #510 from jbonofre/AMQ-7301

[AMQ-7301] Fix build and using a single log message",4,9
3cb8fe87ea1e26f64364e47ac25aab4d77aab4da,[AMQ-7403] Fix LeaseDatabaseLockerTest unit test (jmock assertion),1,2
f7ab7203ba0c19f73bb31c97d32f14110e0c9e5b,"Merge pull request #509 from jbonofre/AMQ-7403

[AMQ-7403] Fix LeaseDatabaseLockerTest unit test (jmock assertion)",1,2
d800f1bdb488deba1080c7689c2004f27da49734,[AMQ-7301] Remove guava dependency to implement own getRootCause() method,10,19
05c43fe3473b4460c6d8d768ad3076a53be302d3,[AMQ-7301] Fix typo (double from),1,1
c3cdffb373b74782bfa01692406449ab0ea18667,AMQ-7447 - Update copyright years,27,30
8cf12550bd0349ee05dc9103ef28608a550864bc,Remove unused import in publisher.py.,2,1
ba42d5527ab76d030af78889b8700dcbe877fc78,AMQ-7449 - Update Apache Shiro to 1.5.2,1,1
8f6cfa4190a013c42dc30b261932a75605366a90,AMQ-7446 - Remove some synchronized blocks in the MessageServlet,33,15
1c504160d823068286bc74e963017ffa265cd6aa,AMQ-7454 - Remove xmpp artifacts,76,0
9599ad8d95958ca8e2506f6efb46ebdb29a53d4d,AMQ-7457 - Support wider password encryption schemes,15,171
6d4437ab355b37272d444116c914f59d0ecb6f95,"Merge pull request #520 from coheigea/AMQ-7457

AMQ-7457 - Support wider password encryption schemes",15,171
4d968391a73f97f57e3c727ee7c60b232b2a6f63,"Merge pull request #518 from coheigea/AMQ-7454

AMQ-7454 - Remove xmpp artifacts",76,0
5f02e220a0d5f668e27344c2a03b8c3d6c3c923b,"Merge pull request #516 from coheigea/AMQ-7449

AMQ-7449 - Update Apache Shiro to 1.5.2",1,1
da9e4028c939f5fc194e63fadc586bfb42c1a7e1,"Merge pull request #513 from coheigea/AMQ-7447

AMQ-7447 - Update copyright years",27,30
24aaa4698c23f69c6bea1c983c89267261bfcc29,AMQ-7458 - Implement bounds checking on the message scheduling properties,18,240
aa03f295f523ab00d2b19d54a36f4140bef18d0b,AMQ-7464 - ensure message.copy before server session run dispatch,4,117
6264c33b61ea000fdec8518340803b6dc643f47a,AMQ-7472 - Update SLF4J to 1.7.30,1,1
910a028fa7dd9659044f4e44392197830d9b463e,[AMQ-7476] Add http schema in the HTTP registry,0,2
b3b4df329c8269fea2c7322bcf4f8c08b516b25f,[AMQ-7475] Upgrade to Shiro 1.5.3,1,1
57c21c40b34fb9550d0e0180876f773c319d2f1f,"Merge pull request #527 from fpapon/AMQ-7475

[AMQ-7475] Upgrade to Shiro 1.5.3",1,1
5e9248829a42466d9e015f30c590b989123515f6,"Merge pull request #524 from coheigea/AMQ-7472

AMQ-7472 - Update SLF4J to 1.7.30",1,1
b01406b655cdb1646cc82cd3418ae422f6ba9b78,"Merge pull request #526 from jbonofre/AMQ-7476

[AMQ-7476] Add http schema in the HTTP registry",0,2
924d0d1d2dfe37744d3b29bec945e5d3d10e4b13,"conn.start deprecated, id argument necessary by conn.subscribe",2,1
0bdaf8878037f5a5e2029db6e570a9b238276120,"Merge pull request #528 from mparada/update-stomp-py-example

conn.start deprecated, id argument necessary by conn.subscribe",2,1
a09934d35bacd4c0ab59d16f3d20e7f5b1fc7aea,[AMQ-7477] Upgrade to xbean 4.17,1,1
cef06afcbe56a421fc61a82eb67bcdba0b981258,[AMQ-7478] Upgrade to jettison 1.4.1,1,1
dd10a9409ae3051776df7acac52369f483f2a537,"Merge pull request #529 from jbonofre/AMQ-7477

[AMQ-7477] Upgrade to xbean 4.17",1,1
2be8a6a93d753fc7698ef54523f8ef823a7e1b6a,"Merge pull request #530 from jbonofre/AMQ-7478

[AMQ-7478] Upgrade to jettison 1.4.1",1,1
1f914bba659de4c7364771a8e6bfb86528cc5cc8,"Merge pull request #502 from coheigea/AMQ-7438

AMQ-7438 - Harden deserialization",61,41
b34da1604571416a35c9a1e019dc2b2e02c984e9,"Merge pull request #514 from PascalSchumacher/publisher.py_remove_unused_import

Remove unused import in publisher.py.",2,1
4e7d8cd8246e3e8cd15e029a444d1b68aa14405e,"Merge pull request #512 from coheigea/AMQ-7446

AMQ-7446 - Remove some synchronized blocks in the MessageServlet",33,15
d86d98f9904d8f6e9e37c3798c76f22c4540b077,[AMQ-7479] Upgrade to jetty 9.4.28.v20200408,1,1
ae7b5322ebc15c92825c481e3b93e3b1237c9213,"Merge pull request #531 from jbonofre/AMQ-7479

[AMQ-7479] Upgrade to jetty 9.4.28.v20200408",1,1
e9caa75b1a600ea61f98b1f71d16c0443e2f5b41,[AMQ-7473] Add stopOnError configuration to stop the broker when locker has an exception,18,126
ad7c5c61c4cef1bcb7ae46a4071dc0db32b3d232,AMQ-7484 - Update Jackson Databind to 2.9.10.4,1,1
c97a943583ce6fa41e24fefea3e9b46d034d787a,"Merge pull request #532 from coheigea/AMQ-7484

AMQ-7484 - Update Jackson Databind to 2.9.10.4",1,1
0fd8e52137f95cc27c9a0825ef3c24c81b29bfc6,"Merge pull request #525 from jbonofre/AMQ-7473

[AMQ-7473] Add stopOnError configuration to stop the broker when locker has an exception",18,126
a5e70fa2d7195f4de12dc3fbc14c9bcf0890d43c,[AMQ-7463] Use ConcurrentHashMap in client connection state to avoid ConcurrentModificationException,2,2
aeb8182d388b014a74e8df68ad9cdb976b0d37e4,This closes #522,2,2
41bef942936f3ee389d72e8a4789e074d3b1b27a,"Merge pull request #521 from coheigea/AMQ-7458

AMQ-7458 - Implement bounds checking on the message scheduling proper…",18,240
0ebb0f88ef2afc590bf19ba1ec08ed995669a9dc,[AMQ-7485] add check for rollbackonly flag in session send such that failed ended transactions prevent further work till next transaction boundary,2,142
2ec18730c2e0c695a5e51da9c69f4d58ba95d34e,"Merge pull request #508 from coheigea/AMQ-7440

AMQ-7440 - Fix potential race condition in DiscoveryRegistryServlet",6,1
0444dd96b2e7de2350387c9a3b94ecc631286b70,"Merge pull request #505 from PascalSchumacher/potential_overflow_in_int_multiplication

Avoid potential overflow in int multiplication before it is converted…",7,7
079d9d7fe49f10eb962d7132894b3e1891abfb29,"Merge pull request #504 from PascalSchumacher/ServiceStopper#throwFirstException_remove_unreachable_code

Remove unreachable code in ServiceStopper#throwFirstException.",3,0
d474580a349aecaa788627b70390721b13c8c440,"Merge pull request #503 from PascalSchumacher/AbstractMQTTSocket#getProtocolConverter_race_condition

AMQ-7439: AbstractMQTTSocket#getProtocolConverter: Race condition in …",2,3
67e06c82f740b5f2a28ff9c4d0e3231334349298,Fix some javadoc warnings releated to non-existing parameter names.,22,18
36a4115ea86962dce12073408bc5830bf584e3bc,[AMQ-7483] Update JSW wrapper for MacOS,0,0
ecbeb6d2eb8675832acec243a4e50fea735763e0,[AMQ-7480] Avoid NPE if original exception is null,3,7
e13abcf52339df8522dd248ce523a1aa8af18e65,"Merge pull request #533 from PascalSchumacher/fix_some_javadoc_parameter_warnings

Fix some javadoc warnings releated to non-existing parameter names.",22,18
0c00e1b791e90daea8125e7fd572dd1af2435aa5,"AMQ-7467 - A new XStream serializer is created on every message that flows through the broker causing high CPU utilization under load (#523)

[AMQ-7467] Reuse xstream serializer to reduce CPU usage.

Co-authored-by: murali.mogalayapalli <Murali.Mogalayapalli@tylertech.com>",2,24
7b51233a6985a1ba4b5e03dc3cc2a0a6429aa7d0,"Merge pull request #534 from jbonofre/AMQ-7483

[AMQ-7483] Update JSW wrapper for MacOS",0,0
cedac472a1f143955c41d9a05baa2d4bf38399a3,"[AMQ-7488] mkahadb - detect txStore corruption and suspend recovery, auto recover if no outcomes pending",39,440
8bedeb4b9b9566b4174bf962c8991fe9797dac6d,"[AMQ-7008] fix test dependent on the number of jdbc calls, now two new ones",2,2
96fa8458ce9d2dc23a1cfc429611b3c334ea5194,"[AMQ-7394] use canRecoveryNextMessage to base blocking on shared usage, the existing fix regressed AMQ5266Test",1,1
27463941b648a75dcf69d5cb051760b2c650a394,AMQ-7489 - Update Tomcat to 9.0.35,1,1
2d83af17baf1e9aa8a9fe7c5ac6279412ff230d1,Make JMSConsumerTest more robust on slow machine,0,1
4bb7b1806c2eed7709ad80faa5a054d6a257b797,Make DurablePersistentFalseRestartTest more robut on slow machine,1,1
026f135683ae22d1b0dbddb62ca53666c8f270dc,"Merge pull request #536 from coheigea/AMQ-7489

AMQ-7489 - Update Tomcat to 9.0.35",1,1
173426c55c043858445a39d4210e001629f08859,"Merge pull request #535 from jbonofre/AMQ-7480

[AMQ-7480] Avoid NPE if original exception is null",3,7
93c245b8ec16849994f2cd4bb4a4b0bb73086ed1,[AMQ-7465] Protect any webconsole URL by default,1,1
62cfe83e9d16acd0b466e9fb6b40146394b3792d,[AMQ-7291] rework fix to initializeWriting but just with the read only properties check,2,31
efcca7d0628c1c5f52c44da152c3da6b68317e2f,Fix javadoc warnings related to non-existing parameter names.,30,11
aa8900ca70e6f9422490c1a03627400375d3ff83,AMQ-7490 - Fix JMX regression,2,1
88b78d04efb41fa26b5156ad7120b1070f0d88bf,"Merge pull request #539 from coheigea/AMQ-7490

AMQ-7490 - Fix JMX regression",2,1
ef5975b1b7b85a4013b34a0c2fd8de7eb8f1c89e,"Merge pull request #538 from PascalSchumacher/fix_some_javadoc_parameter_warnings_2

Fix javadoc warnings related to non-existing parameter names.",30,11
e97322bddb06523981046f49225160a2b4347c3d,"Merge pull request #537 from jbonofre/AMQ-7465

[AMQ-7465] Protect any webconsole URL by default",1,1
742feba11e67ae84f74eb33b2fab00c8d2813f61,Update spring.schemas for 5.16.0 and 5.15.13 releases,0,4
45108a232843ec1b9d678d96af5b9d2ec57c5a04,AMQ-7450 - Put some restrictions on the URLs that are allowed in BlobMessages,19,186
b993be299523efadeabe79a7e4f17863218683cf,"Shebang in env

This patch removes the shebang from the env file. The file is – and
should always be – sourced and never be executed directly and should
thus not contain a shebang.

The file has also already no executable flag. Probably for the same
reason.",1,0
c8d4ebfe7a7641c63e6d202a1d35331155bfa994,"AMQ-7495 Update Qpid JMS and Proton-j along with Netty to latest

Update Qpid JMS to v0.52.0
Update Proton-J 0.33.5
Update Netty 4.1.50.Final to match Qpid JMS deps",3,3
cc0bcdd5dc6856c655d5e40e179db5b455a7efb1,"AMQ-7496 - Properly decrement inflight message size on message
expiration

Also clean up some of the handling of inflight metrics in Prefetch
subscription",67,76
d539ff77b96f3a8ae646c448c2eeba50c6684429,(AMQ-7496) - Improve inflight message size test accuracy and reliability,31,66
ed4110175534f63e0fac834a63a05440d509752c,AMQ-7497 - support reconnect of the single RA xaResource connection,11,218
a7b06c043c34978125b57016a8bd82d9bb2fa6a5,AMQ-7497 - tidy up test cleanup for random order runs,0,4
8cc5386fbbe7a836ac9aef3cffcb56c0b9f65adc,AMQ-7497 - further test to verify behaviour after ra.stop,0,84
071edf522e0fb82779c01e97479f48bf48493f66,AMQ-7499 add pause/resume operation of a queue in web console,0,114
1a1cabdfcea80fc19ba3c8f7f6acedaeecda1d95,AMQ-5687 - Remove old ANT based examples,7794,0
07cf49ed48e97ac2e1c566b0c9325f14c7539f74,"Merge pull request #542 from phaldan/AMQ-7499

AMQ-7499 add pause/resume operation of a queue in web console",0,114
4e1df1979b963de468d873d19ec046361d18a039,[AMQ-7493] Fix RejectedExecutionException in the BrokerService,3,3
721169a21db22cacafb7c42950103b2dd787e910,AMQ-7500 - Update distribution examples to use JDK 1.8 source/target,10,10
937c31e03660660dfc8cf9e42ee80feec5b0634d,"Merge pull request #544 from jbonofre/AMQ-7493

[AMQ-7493] Fix RejectedExecutionException in the BrokerService",3,3
88525ce650e0843b555b1ef45834435ef719d2f6,[AMQ-7121] Set setter accessible (for JDK 11),0,6
f4dbb74048b8769e237c05f6f1b8b67c72b9e953,"Merge pull request #545 from jbonofre/AMQ-7121

[AMQ-7121] Set setter accessible (for JDK 11)",0,6
49916685494f3befac6b83546d06b9e18aa27379,"Merge pull request #517 from coheigea/AMQ-7450

AMQ-7450 - Put some restrictions on the URLs that are allowed in Blob…",19,186
7db424758f9a3b04bde3dfe6319345049651e617,[AMQ-7087] Add JDK 9+ specific JVM args to avoid warnings,17,126
0f92f2cabb379559b504c034ab096a89c3b61b77,"Merge pull request #546 from jbonofre/AMQ-7087

[AMQ-7087] Add JDK 9+ specific JVM args to avoid warnings",17,126
23f285a627d32be3dca92bfa34b3ab95deacd250,[AMQ-7351] Downgrade to Apache POM 18 to avoid javadoc generation issue during release,1,1
2e890c6224fb1735e758ee2e9321b9b6ea828c4d,[maven-release-plugin] prepare release activemq-5.16.0,44,44
cd1e9f8697a5b54ec6790edb655009a4b1d3adab,[maven-release-plugin] prepare for next development iteration,43,43
4ed2ba22a901cfd71241cd8900ad15bc3e11d74f,Cancel 5.16.0 release,42,42
763b3c337f08f23a0b4ee03d9ec58a70d6c56d2a,"AMQ-7504 - Run apache-rat:check when apache-release profile is activated

This will verify licenses when doing a release",0,12
7c5a4bd9401f54635d4723a11ffe944e1783f10f,AMQ-7505 - Fix prototype.js exclusion for apache-rat:check,1,1
5901d9a6f0b66f68de75944638f23f4b9676a319,AMQ-7505 - Adding missing license headers to two source files,0,32
ff2dae82f357643b2bb4311e86f4c780b0da76c4,[maven-release-plugin] prepare release activemq-5.16.0,43,43
6908749c2f054b8f4da8d392aa508b72fbe24dbd,Fix version,42,42
86dd78b1aa64cbf0af15669c0e4af62dfae0d158,[maven-release-plugin] prepare release activemq-5.16.0,42,42
334476ac637ae0dcbba8afffcf0a6f5c89387647,[maven-release-plugin] prepare for next development iteration,42,42
a436b2177ed46fe8402e43c7f48ae102bb983e9a,"AMQ-7508 - fix session reuse and remove incremental loggers, new test",4,64
b3386c8ac7c96b656438e74da5c24bc48f7fcfde,no jira - add selector on originalDestination attribute test,0,10
32cb43c44140eb2c7d0f54861a953d8a78eba834,AMQ-7511 - Update Jackson Databind to 2.9.10.5,1,1
930b18df6575e89f1df4c4c6fa9e1e8ac68b2591,AMQ-7512 - Consolidate XBean byte parsing,82,201
fca3b615eb869330633b71978843a682bfa8ab49,AMQ-7513 - Fix http://activemq.org links,18,10
17defa79d4dd874097946ae5a79360fc5f738022,NO-JIRA: Update branch to 5.17.0-SNAPSHOT after release,42,42
871654ded6ceed2781331a0be6b977bacba6c094,Change org.apache.activemq.jms.pool.XaPooledConnectionFactory#tmFromJndi parameter to Boolean for JCA validation,3,3
295b3acb9e2ebf0e4ae8a4cfc811f41ef85fc184,"AMQ-7516 - Merge branch

This closes #286",3,3
6c0cb4143d929b506a26e57267399b606396fbba,"AMQ-7516 - Fix XAConenctionPoolTest after change to make tmFromJndi an
object",2,2
300d0b9e83f41cfc9c0aefcb7362ea7ef6f29123,Change org.apache.activemq.jms.pool.XaPooledConnectionFactory#tmFromJndi parameter to Boolean for JCA validation,3,3
6c07033c586e3f956a03b67f5e68953b54395cc8,"AMQ-7516 - Fix XAConenctionPoolTest after change to make tmFromJndi an
object",2,2
083acb9691dba818aae3c0f72e7675c8a39d500a,"[AMQ-8012] Fix for ConcurrentModificationException in SubQueueSelectorCacheBroker

 - Remove non-thread-safe method getSelectors()
 - Update all references to use the thread-safe getSelectorsForDestination() method",8,1
1dcc7d4b2c989c9efa03de42b169686b4c5eb8af,"Merge branch 'AMQ-8012'

This closes #553",8,1
62f5576fe5dc8bc06eefc1e26b8e66a10781fe32,"AMQ-8012 - Improve thread safety of SubQueueSelectorCacheBroker

When returning a copy of the set of selectors we need to synchronize",11,10
0a189f833e1041e589ffa9523bdbe2285a678eed,AMQ-8012 - Move synchronized block after null check,2,2
aed91a7474de1cafd5ddc6a0305e9951252ecec7,"AMQ-8015 Update AMQP related libraries

Update Qpid JMS, proton-j and netty libraries used for AMQP support
and tests to latest releases (0.53.0, 0.33.6, 4.1.51.Final).",5,5
742a7f42f0168302c0d1d1ea779fdefa09ade4a0,"AMQ-8016 Fix introspection support not checking Boolean class types

Support class should check both primitive and Object based types for
conversion from String to boolean or Boolean targets",1,3
e3e2fda509d0c6761fe1368c025e83a31a576275,AMQ-8020 - Replace toLowerCase().equals() with equalsIgnoreCase,4,4
6fef652beb0d2575678c982aea37124698e8eb72,"Merge pull request #554 from coheigea/AMQ-8020

AMQ-8020 - Replace toLowerCase().equals() with equalsIgnoreCase",4,4
d2851888bf66f9c34204e2b1caea7a21f63be266,"Merge pull request #551 from coheigea/AMQ-7513

AMQ-7513 - Fix http://activemq.org links",18,10
f3752eadb1d298911fee2109e7901babae274ba7,"Merge pull request #549 from coheigea/AMQ-7511

AMQ-7511 - Update Jackson Databind to 2.9.10.5",1,1
213f381c955379d50e0b222e4fd0bf18c402964b,"Merge pull request #550 from coheigea/AMQ-7512

AMQ-7512 - Consolidate XBean byte parsing",82,201
0e2b24be3652eb225fb0a758d373f086000fd72b,"AMQ-8023 - serialize sub add with destination removal advisory processing to avoid resub blocking a necessary purge via removal, fix and test via mqtt clean session scenario",4,141
c0e6d47121c1fdf81ab86fb4272464219f947141,"AMQ-8023 - retain sync add call, duplicate sub suppression depends on it, regression in AMQ3274Test",2,11
5c8086961fb9e052e30a5846e6b738267de7c4a0,"AMQ-8023 - rework fix to deal with addSub interleaved with removeDestination advisory processing, serialise add/remove dest such that add is not lost and new sub resubscribes ok, extra verifications in the test",38,29
66cb8d4cfb501ab5a76fa0a5ebb06d0eafdeec07,AMQ-8029 - Place a bound on the data read in MessageServletSupport,16,23
4450c17c1c836a1daa7541dcb944f35798258197,Properly encode the copy/move message URL.,3,11
73e291693d59a96c0054fc7e7e09c2c67b192911,AMQ-8035 - ensure propagated credentials are visible for bind and removed for subsequent mapping operations,4,66
0c986c33f6f4e6952fdad4ac5a4d040774b71955,"AMQ-8039 - support system property configuration of the inactivity monitor thread pool, follow example of nio. new test to verify",9,183
72146d2daed7d86396a5c9fbb21dbbe555ace914,"AMQ-8040 - ensure state relating to diskbound tmp file pages is preserved on next update, fix and test",1,85
fa8b4c52156128f2ce4772beab306817ff3ebe1e,Update logos,293,1375
f3e0ab4c5a26bc73fbad4a4eabc79cec4bb03106,AMQ-8011 - Performance Related issue in ClassLoadingAwareObjectInputStream.checkSecurity(),12,15
a2e718f25957099ae734b44b9840b4f2a0199320,AMQ-8055 - rename posion to correct poison,20,20
d2923729021f37062d4569cda0cbe60469b3f138,"Guard against null return value from
java.net.NetworkInterface.getNetworkInterfaces().",12,14
3852d0d12354cbda1582fd9d35177d56c1a0f7e3,[AMQ-8036] Upgrade to Jackson Databind 2.9.10.6,1,1
01d1e43cf80785b78e67b489a766f6ebcaa4daa8,[AMQ-8037] Upgrade to Jetty 9.4.31.v20200723,1,1
059bd5c71d6ebbb205c48f719cc018ffa6cbaad2,[AMQ-8037] Upgrade to Jetty 9.4.34.v20201102,1,1
bbc313aa73b53cd86326663785c44c3c45e86f07,[AMQ-8043] Upgrade to Spring 4.3.29.RELEASE,1,1
6e7762fbc8c45a3981667660a0623ebc5b40d56f,[AMQ-8064] Upgrade to Tomcat 9.0.39,1,1
10903d490f3fd70638337826a71bc4ca90a03eb9,Remove unused ant dependency,7,0
2759d163b011e835aaf7ad145593d89e4cbc52b2,[AMQ-8065] Upgrade to Shiro 1.7.0,1,1
6cb09e7c0bbc1214324c22774ea66de1603ddf54,"Merge pull request #568 from graben/AMQ-8055

AMQ-8055 - rename posion to correct poison",20,20
2f2fe6855fa397d7977f3e0bca513db2881d5e7f,adding an option which allows messages to expire on active durable subscriptions,1,184
c195d5108012e1ae8f08c9047436a305ac17aee9,Add Jenkinsfile,0,164
7e0fb9548955a4cbc375924556b3c1c2fb789c31,"Merge pull request #573 from jbonofre/JENKINSFILE

Add Jenkinsfile",0,164
eda11b135ef7df89bdd4223a876c9e351f5e9bbd,[AMQ-8066] Upgrade to Rome 1.15.0,1,1
3b1e8fae31f5de8dd23292b57e037b9b740ecc62,[AMQ-8069] Upgrade to commons-daemon 1.2.3,1,1
5b04d35751a5db31131ec9e1d2b471584c568354,[AMQ-8070] Upgrade to commons-io 2.8.0,1,1
a8e909af6d5452d8e05596fd345115b30faf8c6a,"Merge pull request #572 from jbonofre/AMQ-8066

[AMQ-8066] Upgrade to Rome 1.15.0",1,1
bbeb37c8c859268708df6a09a23da3178f60c265,"Merge pull request #574 from jbonofre/AMQ-8069

[AMQ-8069] Upgrade to commons-daemon 1.2.3",1,1
064251787a74496c5cfb11f80aab653db26356f8,[AMQ-8071] Upgrade to commons-net 3.7.2,1,1
d25782ad573e56930ece8883c1658265439cd40e,"Merge pull request #575 from jbonofre/AMQ-8070

[AMQ-8070] Upgrade to commons-io 2.8.0",1,1
12e7a1952be9b392ea9b9b70f62758f7358e01ca,"Merge pull request #576 from jbonofre/AMQ-8071

[AMQ-8071] Upgrade to commons-net 3.7.2",1,1
75c3fd4c344118b32d5676f52fb3c1cdc493b078,Improve AMQ7118Test stability,1,7
43af228f2a28d535f19849fa8fae126054395407,Improve stability of KahaDB tests,3,9
f247cbee948b705c45566945774e45de975265be,Try to avoid JMX issue on StompTest,0,3
2d16fdc0f03a29631bb2a218ebbee73b57865530,"Merge pull request #581 from jbonofre/FIX_TESTS

Improve tests stability",4,19
c9e4abf2745bc22f56d6c76366e5b90a011db66f,Give more time to AMQ6815Test (for Jenkins),1,1
a1db62c62696e5a73e643eb2ceef5f4341c2bc6c,[AMQ-8075] Upgrade to xbean 4.18,1,1
4fde3e23714c6ebb837493e1d85353c7d49f4596,[AMQ-8074] Upgrade to httpclient 4.5.13,1,1
db19c2082ca6c714c091a5b69da67ec8004c131a,[AMQ-8073] Upgrade to commons-pool2 2.9.0,1,1
6ca2761ce6339cad7feb1bb2e3a32c010ec7239e,[AMQ-8072] Upgrade to commons-dbcp2 2.8.0,1,1
8d983ec641d93c41fe4a9be3cac873af3cfbf0fc,[AMQ-8080] Upgrade to junit 4.13.1,1,1
eba5847c002c58671e05fdbdad6bcc67d0b21e25,"Merge pull request #577 from jbonofre/AMQ-8072

[AMQ-8072] Upgrade to commons-dbcp2 2.8.0",1,1
5bc7532d42ae1dd4cec135c57bd87c0bb1643810,"Merge pull request #569 from garydgregory/NPE_NetworkInterface_getNetworkInterfaces

Guard against null NetworkInterface.getNetworkInterfaces()",12,14
19410709d78b0a99be56997ceb71fb9d0a272fa8,"Merge pull request #558 from coheigea/AMQ-8029

AMQ-8029 - Place a bound on the data read in MessageServletSupport",16,23
f5dcd8e39870a0308b4ec0e656d4653e06091f7f,"Merge pull request #540 from lkiesow/env-shebang

Shebang in env",1,0
55914d3ac1dc90f35969ce16877429e475b9c2ab,[AMQ-8028] Add sendWhenNotMatched option to composite destination filter,4,540
a3a3e5e1083d14aa101dc60a6a5f3c28d4fa3c76,This closes #564,4,540
02d4f8efec914f49d78880b25c6a19898ecfc5af,"Merge pull request #565 from alevandoski/master

AMQ-8011 - Performance Related issue in ClassLoadingAwareObjectInputS…",12,15
fbdb302968fca3fb4b22134f700aeaee1f8e3bcd,"Merge pull request #571 from dhmgit/durable-sub-message-expiration

Adding an option which allows messages to expire on active durable subscriptions",1,184
c7fd7f189f817e4da9bea3e1e094c36ce38a422c,"Merge pull request #578 from jbonofre/AMQ-8073

[AMQ-8073] Upgrade to commons-pool2 2.9.0",1,1
3a72556958ea574c3c800a62806842eb3bc285f4,"Merge pull request #579 from jbonofre/AMQ-8074

[AMQ-8074] Upgrade to httpclient 4.5.13",1,1
9e2c4d94f12abfc5a1647294aefb22da1b323699,"Merge pull request #580 from jbonofre/AMQ-8075

[AMQ-8075] Upgrade to xbean 4.18",1,1
bfc4eab3ca374af0fb2bfbd5c20987f347b0b6ae,"Merge pull request #582 from jbonofre/AMQ-8080

[AMQ-8080] Upgrade to junit 4.13.1",1,1
5c7e23ac90662676515170ee7b0ed6c727e11618,Increase AMQ6815Test timeout (failing on slow machine like Jenkins),2,2
2bc87c2c5f15d03296581b238a41e0fd4235892b,[AMQ-8068] Fix topic memory leak on message eviction using UniquePropertyMessageEvictionStrategy,20,15
9d687221b335c0e382a0027173f59cb145c34cd4,[AMQ-8045] Use the file: protocol in jetty.xml,2,2
5a54d03f96402fd1c1c2b3189dd363e7ed1e2685,[AMQ-8025] Improve ActiveMQ feature to avoid mistake to use Spring 5,2,1
a548800a973fbc68752a81963d494ceb07f7ca07,[AMQ-8084] Upgrade to xstream 1.4.14,1,1
1a6aede5a1cc5c22ad87675b3ae3ff529954a0eb,"Merge pull request #584 from jbonofre/AMQ-8025

Improve ActiveMQ feature to avoid mistake to use Spring 5",2,1
4aa298811e04d3d81daee8f0696a2aa2bb3386cb,"Merge pull request #583 from jbonofre/AMQ-8068

[AMQ-8068] Fix topic memory leak on message eviction using UniquePropertyMessageEvictionStrategy",20,15
006193aae39aeab50a649cf908ad205fe844f715,"Merge pull request #585 from jbonofre/AMQ-8045

[AMQ-8045] Use the file: protocol in jetty.xml",2,2
f60ae36b6b65b28b33a5bd4895d3635be7d816be,Update schemas in preparation for the release,3,17
690add62825589c5ae80183d310f9557f451e3fd,"Merge pull request #586 from jbonofre/AMQ-8084

[AMQ-8084] Upgrade to xstream 1.4.14",1,1
c23d0dd5b172d4df64bf33e32f927e023ea7400f,"AMQ-8088: update to Proton-J 0.33.8 and Qpid JMS 0.55.0, and Netty 4.1.53",5,5
45a400b37db3ff5baf42ff0de53881ebd99031bd,"NO-JIRA: refresh test keystores, fix failures on new OS/JDK combos where the old signature algs fail updated constraints",0,17
3218a93ba2a76244225833cf4b6d3874886c84ae,[AMQ-8090] Add a release validation script,0,103
3e2e335f2fd752c06b248eefb1a26e6e91df6a5b,"Revert ""[AMQ-8045] Use the file: protocol in jetty.xml""

This reverts commit 9d687221b335c0e382a0027173f59cb145c34cd4.",2,2
559934bc9e24d72c968fe4a2cb650f9ae5282fb4,Fix Karaf itests,2,0
7bfb59092c838a17499caee84b2147beb4ded3f9,[AMQ-8094] Upgrade to Jetty 9.4.35.v20201120,1,1
af8fdb524dc9d651b9d17cb8b6465a2052657727,[AMQ-8096] Upgrade to Apache Karaf 4.2.10 and improve features XML,19,20
ea878d251c209546041427465831375aac776bfd,Give more time on quorum test in ElectingLevelDBStoreTest,1,1
671f201a85eb04f7de5f127adbe583a75c476e4f,Quick fix on InMemoryJobSchedulerTest,8,261
e1b581acb681ba4dcbd2edd31e94aca0085d91c9,[AMQ-7492] Upgrade to Camel 2.25.2,1,1
f8dd7631b522af42d52c1f86f14dc4ef558a2ed4,"Merge pull request #588 from jbonofre/AMQ-8094

[AMQ-8094] Upgrade to Jetty 9.4.35.v20201120",1,1
7d934c26d981584e74f055b44d97e6af859617d5,"Merge pull request #589 from jbonofre/AMQ-8096

[AMQ-8096] Upgrade to Apache Karaf 4.2.10 and improve features XML",19,20
15c66a343393723b7d2539f30cbe7b3ee5701634,"Merge pull request #591 from jbonofre/AMQ-7492

[AMQ-7492] Upgrade to Camel 2.25.2",1,1
f1f2a72720c30076b845c99cfed6707c5a154e85,"Merge pull request #587 from mattrpav/AMQ-8090-mattrpav

[AMQ-8090] Add a release validation script",0,103
c83f7e9aa8fa23b6ce86b5ee48969836d8b3e5d0,[AMQ-6899] Use generic spring schema name (working with any Spring version) in RuntimeConfigurationPlugin,1,5
6e2854789b2387ae3305e5f6986713b34a0d96c1,"Merge pull request #590 from jbonofre/AMQ-6899

[AMQ-6899] Use generic spring schema name (working with any Spring version) in RuntimeConfigurationPlugin",1,5
290a93d91f09ff86d0f977324dc91f4d3f26e8a8,Add ASF header in release-validate.sh script,0,16
651c5ff2cfe72c0de5f4f486c965cdbb80ceba0d,"- Tests AMQ-8104
- Fixes AMQ-8104",0,45
bdba415b89ee8fbae17ceb22a62e362194141a5e,"Merge pull request #592 from nevezhyn/master

[AMQ-8104] Tests and fixes NullPointerException when pause queue if audit log is turned on",0,45
abc3ca7c3e02953de9aa4fc9516db5f9aabcd3c7,Fix Jenkinfile comment,1,1
9d220c286dcf3d5035460510d6c36ddbade0f897,"README and minor code fix (#598)

Fix README link and cleanups",10,10
79716351a452c7477c2767f8ccaa8d55b1b0431c,[AMQ-8110] Upgrade to Spring 4.3.30.RELEASE,1,1
93a180874797f652ccec8656c10c2d77baeb63fe,[AMQ-8046] Add logout button on the WebConsole,1,43
39665a0fb4f063df0c6109ffeb3055b899d58df5,[AMQ-8100] Upgrade to Jackson databind 2.9.10.7,1,1
3897d78776c1b5e7908f17a9efd18459a0d4c7b5,"Merge pull request #595 from jbonofre/AMQ-8110

[AMQ-8110] Upgrade to Spring 4.3.30.RELEASE",1,1
9cf9d20d51590218368f87fb54aeb0505c862461,"AMQ-8116 ActiveMQWildcardPermission buggy

ActiveMQWildcardPermission with multiple tokens inconsistent with parent
WildcardPermission class

Update ActiveMQWildcardPermission.java

add testcase",9,20
0146d5eb3e69e086ec19df1df1b2b7966c644d26,[AMQ-8060] Re add allowLinkStealing on transport connector for backward compatibility,0,6
33635f516f939e4bb4b338068c7406ac7cb0849c,"Merge pull request #602 from ikucuze/master

AMQ-8116 ActiveMQWildcardPermission buggy",9,20
69992d54c9860cc0f6e62df448704e55e39f93a1,"Merge pull request #594 from jbonofre/AMQ-8100

[AMQ-8100] Upgrade to Jackson databind 2.9.10.7",1,1
f95c4cf1934506c895e224451792b8ebe668d86c,[AMQ-7014] Use shell conditional in Karaf features,1,4
396235a57fe81661f91ce4b9bb47fabbf577975c,[AMQ-8111] Upgrade to xstream 1.4.15,1,1
bbf03ed0e84b159e60c626fd8af4df7927c64d91,[AMQ-8112] Upgrade to tomcat 9.0.41,1,1
3791d17e1fc212b00210a2bfb0bb698eca4cd399,Cleanup some unused dependencies and trash,2863,0
8ddbf9f98ee21e108662a6326534600596a21c2d,"Merge pull request #596 from jbonofre/AMQ-8111

[AMQ-8111] Upgrade to xstream 1.4.15",1,1
6b73425c64b52259deeb3a2422816b0ac5469d81,[AMQ-8100] Upgrade to Jackson Databind 2.9.10.8,1,1
a32c950b3203d4c8c878e5b950f4a77d47c96e62,"Merge pull request #599 from jbonofre/AMQ-8112

[AMQ-8112] Upgrade to tomcat 9.0.41",1,1
b106efd82ac9e890a01638627898b85b76695262,"Merge pull request #600 from jbonofre/AMQ-8046

[AMQ-8046] Add logout button on the WebConsole",1,43
9b6a48ad31b2fb4b3a5a129d4ed6119024c6850a,[AMQ-8032] Add JAXB in lib by default to avoid issue with JDK11,0,14
6e0e654c675eede828405702e1e590c044d4811c,"Merge pull request #601 from jbonofre/AMQ-8032

[AMQ-8032] Add JAXB in lib by default to avoid issue with JDK11",0,14
05051e2c7af3703364d904120880bc822d82f34b,"Merge pull request #603 from jbonofre/AMQ-8060

[AMQ-8060] Re add allowLinkStealing on transport connector for backward compatibility",0,6
1102e67a1e405a76290f91db659a3d702304c66b,"Merge pull request #604 from jbonofre/AMQ-8100

[AMQ-8100] Upgrade to Jackson Databind 2.9.10.8",1,1
5bcfd534702d16d804c4868a82ecf0785370724a,"Merge pull request #606 from jbonofre/CLEANUP

Cleanup some unused dependencies and trash",2863,0
36125d5d8a38221a38cbfcf95a5e501e83a76df0,"Merge pull request #605 from jbonofre/AMQ-7014

[AMQ-7014] Use shell conditional in Karaf features",1,4
ced719efcc57edb8a5c3375338351f43c4ec94b1,[AMQ-8113] Upgrade to httpcore 4.4.14,1,1
07486de0fdbd4d89e895c65ef38354bb5f596d9e,"Merge pull request #607 from jbonofre/AMQ-8113

[AMQ-8113] Upgrade to httpcore 4.4.14",1,1
f01e35f7d95bee8c22c5eb45b8b25375fc6ece59,[AMQ-7246] Add scheduledMessageCount attribute on the JobSchedulerView MBean,0,42
7339e0516c39fe6736e8afd201bf176bbdd83950,[AMQ-7443] Add connection remote addr in the prefetch warn log message,2,6
0c1b3e9240dbda0aee0426bfcef5e9cc628af7c7,[AMQ-7444] Fallback to remote location for remote address when socket has not been created yet,2,9
295400ae33e4aac8ed8af0d48974a6570be172f2,Fix missing ASF header,0,16
cbc1baa07a2c3774dcfed288c9f3316dbcd35100,[AMQ-8097] Deal with deserialization with xstream unmarshal poison ack,4,9
feaa2de87bb89df8e1e5eefa7430ca77c23144e5,"Merge pull request #608 from jbonofre/AMQ-8097

[AMQ-8097] Deal with deserialization with xstream unmarshal poison ack",4,9
d9febc097745b966004780ea87da84cc327c4f06,"Merge pull request #609 from jbonofre/AMQ-7246

[AMQ-7246] Add scheduledMessageCount and delayedMessageCount attributes on the JobSchedulerViewMBean",0,42
4dc6903c18d75ac72f33aba7ffbb35fb43effbec,"Merge pull request #610 from jbonofre/AMQ-7443

[AMQ-7443] Add connection remote addr in the prefetch warn log message",2,6
92120578d971f731dcdfd468abee4ae258c2c27e,"Merge pull request #611 from jbonofre/AMQ-7444

[AMQ-7444] Fallback to remote location for remote address when socket has not been created yet",2,9
1c315db1d1a5432a87e0e43d82d8e926811c6419,Update xsd version,0,2
e1b3204407e0b51f0811083e77336fd71ad4c500,AMQ-8131 - track unmatched acks in the acks table,10,86
2f40261362bb830899f7f369a731b446f795a627,AMQ-8131 - revert treating unmatched as real acks b/c individual acks are not tracked. make use of enableMessageExpirationOnActiveDurableSubs to ensure unmatched can eventually expire,9,42
bf9348eb0bba41e18d7438f0db98b1527e7fe41e,"Update shiro to 1.7.1

Fixes CVE-2020-17523",1,1
79f1c2feb7da7a632256afaec103f3740ab45822,"[AMQ-6951] Hide embedded jetty version

 - WS transport
 - HTTP transport",1,16
065b9ec33c19f055b1e91217e2fb71b82d303c5c,[AMQ-6951] Update assembly/reelease/conf/jetty.xml to hide Jetty version,3,14
4dba27196146d268b5a06bb866e4d94ed2582e2d,"Upgrade to Jetty 9.4.38.v20210224

Mitigates CVE-2020-27223",1,1
86eda3a6b1541ba71878e31848f6a02e1bba8966,AMQ-8048 replace SslContextFactory with SslContextFactory$Server & fix assembly BrokerXmlConfigStartTest activemq-security.xml test,4,20
1654e6c79cfbc1ced5a8fa3f726a9f651560be9d,"AMQ-8169: Synchronize on serviceRead inside NIOSSLTransport

This is needed to prevent concurrent access to the SSLEngine during
initialization. This is a regression from when auto+nio+ssl was added.",2,4
f2a3fbda2b1e00d1adbff7bb3b2d0bb9d9c0b719,"Merge pull request #620 from cshannon/AMQ-8169

AMQ-8169: Synchronize on serviceRead inside NIOSSLTransport",2,4
75585a0fae846d5185dbda724b746c3a00c4c4ef,"Merge pull request #616 from ehossack-aws/AMQ-8167

Upgrade to Jetty 9.4.38.v20210224",1,1
fc5cd100fe8af6ea416153b4d7e98a7263db8855,"Merge pull request #614 from ehossack-aws/shiro-1.7.1

Update shiro to 1.7.1",1,1
944ca6c7e1dc4f44b61ce05b77c180c686e2ae76,"AMQ-8183 - prevent infinite loop when maxFrameSize is exceeded

This makes sure the nio transport thread properly terminates if
maxFrameSize is exceeded with OpenWire to prevent an infinite loop that
uses up all the cpu",0,163
2712464b78f76affd34cc0b097a2248f211ea0c7,"AMQ-8183 - apply maxFrameSize high cpu usage fix to Auto nio transport
also",0,5
2cf3decd8e59a52ba135d8194279b6a6117d0e9c,"AMQ-8184 - Re-enable NIO tests

Re-enable the nio transport tests in activemq-unit-tests by default to
catch transport errors. Also fix broken tests",7,12
3ecce8beea189dffacf66ef97a4fe41df5dcfba2,"Merge pull request #619 from charlie-cyf/master

AMQ-8048 ActiveMQ broker doesn't start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory",4,20
963bea2ddbab785e162ba8fe8c6718e4b8b653c2,"Merge pull request #621 from cshannon/AMQ-8184

AMQ-8184 - Re-enable NIO tests",7,12
b39cd907fd10279b668eee7d0fac304cf23738f2,Add full.test profile to execute all modules and remove unit tests and itests by default,9,9
5ba8dde417c7bbe51582546479863ad096e1b4a9,"Merge pull request #622 from jbonofre/TEST_PROFILE

Add full.test profile to execute all modules and remove unit tests and itests by default",9,9
f64c9327d7097b2c4d53325d9731ceefa53ba480,"[AMQ-8123] Add jaxb-core,istack,activation in lib for RuntimeConfigurationPlugin (with both JDK8 and 11+)",1,19
a19bfcb51ee79f26cda2b0fc73c9adce93bb3483,[AMQ-8182] Upgrade to Velocity 2.3,1,1
08d9e64c263595f9d5b01e6e45815760ed94fea7,[AMQ-8177] Upgrade to powermock 1.7.4,1,1
c92aca0612ec9eb2006eead6241f314ec395d19f,"Merge pull request #612 from jbonofre/AMQ-8123

[AMQ-8123] Add jaxb-core,istack,activation in lib for RuntimeConfigurationPlugin (with both JDK8 and 11+)",1,19
f13c706a315981d402f46ec99f03aa8e99f5fe4c,"Merge pull request #623 from jbonofre/AMQ-8182

[AMQ-8182] Upgrade to Velocity 2.3",1,1
804c086b5c6b5e3301fa62156d0e5d048950e7c6,"Merge pull request #625 from jbonofre/AMQ-8177

[AMQ-8177] Upgrade to powermock 1.7.4",1,1
441af5a782d3eb7d675f644d5f548efa07df555f,[AMQ-8173] Upgrade to junit 4.13.2,1,1
0a314bc070bf6e2ec72d1a74eed47dadee17206c,[AMQ-8172] Upgrade to commons-net 3.8.0,1,1
92fe6d8ecd663df007ba51bc85d51fd480b1648e,[AMQ-8171] Upgrade to commons-daemon 1.2.4,1,1
2361f162e541d458bd36298a47a81b54ba21a9d6,"Merge pull request #628 from jbonofre/AMQ-8171

[AMQ-8171] Upgrade to commons-daemon 1.2.4",1,1
8ec6308971501b9a586eae0d0b2f917e21341054,"Merge pull request #627 from jbonofre/AMQ-8172

[AMQ-8172] Upgrade to commons-net 3.8.0",1,1
0d0272d2491e82e81cf08542009b3cc321036c5a,"Merge pull request #615 from mattrpav/AMQ-6951

AMQ-6951 Hide jetty version",4,30
ed84a10b7139fa13d0790b9a4554c21330dd6f3a,"Merge pull request #626 from jbonofre/AMQ-8173

[AMQ-8173] Upgrade to junit 4.13.2",1,1
4ef97ce034ba140ce0eaf6410cb8fc0a8509ee67,[AMQ-8197] Upgrade to xstream 1.4.16,1,1
64bf06f39b1294d4748a7146532705c5d8993280,"Merge pull request #629 from jbonofre/AMQ-8197

[AMQ-8197] Upgrade to xstream 1.4.16",1,1
1a2de52c5f580c24590c706fcf3b6fc61dc88379,Fix slf4j logger use,220,227
a1e67f20b69d40afff00d0ebdc536c722358b9ca,"Merge pull request #631 from jbonofre/LOG_FIX

Fix slf4j logger use",220,227
fa66d1eab17315078f492df2fe6699a1c3b07135,Fix Rat header check on logo files,1,1
54a9dc51bcd64fbd3b8a208f653e0b052ec48e61,"Merge pull request #632 from fpapon/RAT

Fix Rat header check on logo files",1,1
ea5b2d88130d96d260ca28570ed77d48cd433624,"Merge pull request #274 from ashakirin/master

AMQ-6894: limit poison exception message to 1024",6,100
29fbccf7a30c79b2bc28a828450c816b1f9c328d,"Merge pull request #206 from TomyLobo/patch-1

Add missing runlevels to Default-Start",1,1
d065db724331dcbf697b7911636abb28fcc1e46a,"Merge pull request #199 from fjollberg/master

Make start script work on busybox",38,23
b977f8c629e99ed159d6421cb35b3fc5a5013ca6,"Merge pull request #232 from sturman/master

set name for primary key on create table",1,2
5fcb388741aaa60554828316a4581b824b5693a3,"Merge pull request #279 from snurmine/AMQ-6781

AMQ-6781 - The ActiveMQ Web Console doesn’t support a plus (+) sign i…",2,2
b6ab868f949a688b24a669398f7cdc7be100220b,"ClientIdFilterDispatchPolicy dispatches messages in a topic to a given client. Then the message with a PTP_CLIENTID property, can be received by a mqtt client with the same clientId. (#238)",0,225
4c7bb06503a990c1cdd6dc55af60e7d49f574a85,"Merge pull request #423 from mdaley/master

Stop failed timer task from breaking timers.",1,41
1e2a0de5ccbff057ac0201b335ec30dc266eb0b5,[AMQ-8194] Upgrade to commons-lang3 3.12.0,13,13
c46f3a10b840e19822c44cd1a53315b670afc578,[AMQ-8176] Upgrade to mockito 3.8.0,4,3
77fee3aebb3a991985da575a11cad42a6dab37c9,"Merge pull request #635 from jbonofre/AMQ-8176

[AMQ-8176] Upgrade to mockito 3.8.0",4,3
8d6fa7028805e36820ad6433e9ee6b1b8c0aed64,"Merge pull request #634 from jbonofre/AMQ-8194

[AMQ-8194] Upgrade to commons-lang3 3.12.0",13,13
db6098c53a71963cbead57c99156a57349a97866,"Merge pull request #365 from jgallimore/master-AMQ-7149

AMQ-7149 Remove dependency activemq-http and activemq-stomp",4,11
09389d1ef30cb149ef1a6b8c391a8c9172062a3d,"AMQ-8202 - fix concurrency issue on tracking stores in mKahaDB, exposed by virtual topic concurrentSend",9,272
6691e23e4835cdf8b20b30cc0a580d822feed5f6,AMQ-8190 add wait time & shrink duration for CI test run,2,2
edd0515d90d8bdb01e3455bf2c4c132f9a6add29,AMQ-8201 Forward commit commands for local transactions as well as XA transactions during ACK compaction,11,80
fc0999cc8718e1ebacb1aac6e04cb170a38f8d4b,"Merge pull request #639 from charlie-cyf/AMQ8190

AMQ-8190 add wait time & shrink duration for CI test run",2,2
52a2bd446a664146c7f2b872844965742604b0ff,[AMQ-7502] Remove leveldb,16657,195
30986e372cd32f7344e972c266adc901885b63d1,AMQ-8189 add wait time to CachedLDAPAuthorizationModuleTest,3,3
d913cab49eb3b46e721aeb15c83c1748f4ba3c99,"Merge pull request #641 from Charlie-chenchrl/AMQ-8189

AMQ-8189 add wait time to CachedLDAPAuthorizationModuleTest",3,3
25b639c4649f7d84aa3f590a98e9d3dc8b412cd6,"Merge pull request #593 from jbonofre/AMQ-7502

[AMQ-7502] Remove leveldb",16657,195
f8b0db2dd471911ff3d7bd4482420fe879e21d7d,"fix BrokerServiceTest by replacing powermock

fix BrokerServiceTest by replacing powermock",73,33
329785d52fcb244159e0d763576483f524f7c8d6,Add missing jackson lib in the assembly,0,3
fc2ad12e6b604a3e5029ab2362d6e92ee0658df2,"Merge pull request #642 from Charlie-chenchrl/brokerServiceTest

fix BrokerServiceTest by replacing powermock",73,33
bbda67f00cac1efcdb9ed5365ceccacd146b0562,[AMQ-8210] Upgrade to Jetty 9.4.39.v20210325,1,1
85cf3476ea247bf1f182e37ea9e963a24fa58f66,"Merge pull request #643 from jbonofre/AMQ-8210

[AMQ-8210] Upgrade to Jetty 9.4.39.v20210325",1,1
ee808b310a69a87aa13f9e76a1d82e35d91032f4,[AMQ-8218] Installing activemq features breaks http commands and can cause several refresh. The user should use spring-legacy from Karaf version instead of the range.,7,10
2d812f012c9d6c6fbbc5e1df75eeb35f0dbcade1,"Merge pull request #645 from jbonofre/AMQ-8218

[AMQ-8218] Installing activemq features breaks http commands",7,10
2f2f76f785c5039ac8d99a705df4db430db06458,fix org.apache.commons.lang.StringEscapeUtils cannot be resolved to a type,3,3
d48cf3758312a25122508854946c399a2e6f6f69,"Merge pull request #646 from Charlie-chenchrl/AMQ8219

[AMQ-8219] fix org.apache.commons.lang.StringEscapeUtils cannot be resolved to a…",3,3
4da42dfe185fa9304c2e226d07a94cdcc0a334ac,AMQ-8224: update to Qpid JMS 0.58.0 (and Netty 4.1.63),3,3
f1190f8feddb68e27eb1b7484f2a0928e32996f9,AMQ-8226 match any amount of spaces before activemq PID in bin/activemq startup script,1,1
bd5af8294427538177381d30e52a4ee83e636b5d,"Merge pull request #648 from Charlie-chenchrl/AMQ-8226

AMQ-8226 match any amount of spaces before activemq PID in bin/active…",1,1
c4d2ddfce9944cff6ec4003242ce79a2e843aac8,"AMQ-7298 - fix regression with broker redelivery plugin, fix and test relates to AMQ-8168",1,19
d1c48abaca86a896e6064c1f2fcd468b20afab73,AMQ-8220 add add-opens options for Java 16,2,8
bcb5492f41561b6fe8b7a27069eaeee271073e0b,"Merge pull request #651 from jgallimore/AMQ-8220-master

AMQ-8220 add add-opens options for Java 16",2,8
fd29d5dd1fe40ebaf050a9c6879d3ce75bff89b3,[AMQ-8248] Upgrade Jetty to 9.4.40.v20210413,1,1
a51083a74f1bab3f5f3fb6667af98b68d8fbf7b8,AMQ-8260 - Remove unused keys from distribution,0,0
fd59e349aec5c5de921b2e4fb392d2b012da64ef,"Merge pull request #652 from mattrpav/AMQ-8248

[AMQ-8248] Upgrade Jetty to 9.4.40.v20210413",1,1
fc80b86ac68432f71a1015ee9588a0b6fcb5fbae,[AMQ-7442] Support JDK11 full build and code style (#647),346,342
2cc17a2fa06b86fef58bd26141d29bb5cb0d715d,"[AMQ-8279] Compiler warning cleanups

 - Remove unsused imports (exept for generated classes)
 - Convert to T.valueOf on boxed primitives from new T()",120,106
5fe4999a4dacd4f8aaf1cf715cfb3d5a0a2c31b0,[AMQ-8279] Fix type-o when converting new Boolean(true) to Boolean.TRUE,1,1
db74868ee496565c0a3871d858dfadff9bb125f4,[AMQ-8026] Upgrade to Spring 5.3.7,6,11
a48cc0751747c1422bdb56106f64ddfcbe1444b2,[AMQ-8281] Upgrade to xbean 4.20,1,1
ff8f9d8bdd06dc06c2e0007f0561c65b59cd564c,"Merge pull request #657 from jbonofre/AMQ-8026

[AMQ-8026] Upgrade to Spring 5.3.7",6,11
288b9ae983dc344a9fe2da974e7da757d888c836,"Merge pull request #658 from mattrpav/AMQ-8279

[AMQ-8279] Compiler warning cleanups",120,106
8961051f7410196be72b85a726d8aad16ba75e47,"Merge pull request #660 from jbonofre/AMQ-8281

[AMQ-8281] Upgrade to xbean 4.20",1,1
5801c72b9d02813ca2debf05beb09fdf2f71b3e8,[AMQ-8270] Upgrade to xstream 1.4.17,2,2
769032e9522ba65ac9f47b0916d1db8ff21551ad,"Merge pull request #654 from jbonofre/AMQ-8270

[AMQ-8270] Upgrade to xstream 1.4.17",2,2
6269669b7838ac701e8d8e6fc516b60551535f08,[AMQ-8170] Upgrade to Jackson 2.12.3,6,5
e4f81bf4d47cec1e42e97ccb6e4112a04f5b9961,[AMQ-8283] Migrate to non-deprecated Jetty constructors and methods (#661),24,31
ccbc4f1b9ed0f7e849be483c9f983687e0f4b07f,[AMQ-8284] Update jetty to 9.4.41.v20210516 (#663),1,1
8bba61152d0b31f25b418d154b4d0b154aa38636,"Merge pull request #653 from coheigea/AMQ-8260

AMQ-8260 - Remove unused keys from distribution",0,0
ba455e8c5fa55f530df2e651aba21fdf0ca06388,"Merge pull request #659 from jbonofre/AMQ-8170

[AMQ-8170] Upgrade to Jackson 2.12.3",6,5
950a1404558d07d80b8eaef48b998b158d689212,[AMQ-8282] Migrate from deprecated .newInstance() calls to .getConstructors().newInstance,20,37
2fcf2fd75f7c2a04151a2284595a08bf4c03240b,"AMQ-8287 - fix NIOSSLTransport deadlock with serviceRead lock

This narrows the lock that was added to serviceRead() to secureRead()
which prevents processing commands while locked which should solve the
deadlock issues",5,4
ac27cc2cda1ac10d01bc87c1f875dcf278a9594f,"Merge branch 'AMQ-8287' into main

This closes #666",5,4
7ca7118a9544fd6b2aac4dd72fd3a6edc3369aca,AMQ-8117 - Allow java.util arrays for deserialization,0,2
c73998477879a7f1cccd371f0254ffd3829aa5ab,"Merge pull request #667 from coheigea/AMQ-8117

AMQ-8117 - Allow java.util arrays for deserialization",0,2
ae777e9571820bca81d6ae09090da945d3200d0f,"Merge pull request #665 from mattrpav/AMQ-8282

[AMQ-8282] Migrate from deprecated .newInstance() calls to .getConstr…",20,37
c0d53996354a9db4a682af38604dae420b759ef9,[AMQ-8285] Add 'slow' metrics to PersistenceAdapterStatistics (#664),9,62
5c9df5db0c4f4682ff489f437eea7ec7da98ba92,"[AMQ-8290] Cleanup assembly warnings and upgrade assembly plugin

 - Convert 'attached' to 'single' goal
 - Clean up leading ""/"" in descriptors",33,33
c8e7ef3e001f94cb744e0512a152274d4c0b13ef,[AMQ-8301] Upgrade to Jetty 9.4.42.v20210604,1,1
871f9267657caf0088b66011ad41bad5106cff6d,[AMQ-8302] Extend Camel import version range to avoid refresh on Karaf,1,1
9e77e308f8ced15d9db8f42519603a3e7282bc40,"Merge pull request #670 from mattrpav/AMQ-8301

[AMQ-8301] Upgrade to Jetty 9.4.42.v20210604",1,1
b94267c376837fd1c2075fe7d576d01ea098952b,"Merge pull request #671 from jbonofre/AMQ-8302

[AMQ-8302] Extend Camel import version range to avoid refresh on Karaf",1,1
3f5abd4433d3dca911ac418d899346e7dd675b7b,"AMQ-6660 - Use a separate lock for lazy scheduler creation to prevent
deadlocks

Switch to using a dedicated lock to initialize the Scheduler object
inside of ActiveMQConnection to prevent a deadlock scenario that occurs
when using the intrinsic ActiveMQConnection lock. This is using double
checked locking so this lock will only be contended with during lazy
creation and then will rely on the volatile reference for future reads
and when stopping/closing.",1,2
8584b46e762b720d6c6fb27fd2124f0e59cef19c,AMQ-8304: Added a check with !isStopping() also before attempting to read input stream (#672),1,1
8f0903fb8712a59eeaddc423395d2e25c11f9378,"Merge pull request #668 from mattrpav/AMQ-8290

[AMQ-8290] Cleanup assembly warnings and upgrade assembly plugin",33,33
379408083a14c8c1d4f013b08e3af6622192d713,[AMQ-8286] Upgrade to commons-io 2.10.0,1,1
d67ffe32ebc0360530f28129ca2f557739ccf67c,[AMQ-8300] Upgrade to tomcat 9.0.46,1,1
5342ba0d1c2752cc5e42be9cb26f1e535967510e,"Merge pull request #674 from jbonofre/AMQ-8286

[AMQ-8286] Upgrade to commons-io 2.10.0",1,1
b3c2c49f96bebee14b74c6456feb233e0312724b,"Merge pull request #677 from jbonofre/AMQ-8300

[AMQ-8300] Upgrade to tomcat 9.0.46",1,1
93b2b70cdf047b5d3fd235b7c2e80fab8108d69a,[AMQ-8326] Upgrade com.rometools/rome to 1.16.0,1,1
fc4e68f46a44dabf82784d8ba023fd793b1787d7,[AMQ-8327] Update Jackson to 2.12.4,1,1
c9d75b0467a1b21cb7e53644440fbfe9001d3a19,[AMQ-8328] Update commons-io to 2.11.0,1,1
0197a7583d5a4088f5015b960f4a37ba0a0500d0,[AMQ-8329] Update Tomcat to 9.0.48,1,1
224ff23789ccd332cfa6ca4786fd29a76c67179f,[AMQ-8330] Update Jetty to 9.4.43.v20210629,1,1
a2ebabe32ba32008bc088f21435fbe12a92ed0d4,[AMQ-8331] Update to slf4j 1.7.31,1,1
1a01bfca77c44c50d6e4ea8248cfc87f04ed20d9,[AMQ-8333] Update commons-pool2 to 2.10.0,1,1
a01e2266cb60ae5ac65d184623a34d163a721662,[AMQ-8334] Remove build references to Smack which was removed in 5.9.x,31,0
ae88a1052d50f473452ed1f2c1e645613329e718,[AMQ-8336] Add maven-enforcer-plugin and set min maven version to v3.0.5,0,25
6245b9b83948472b7032a3e377c11e649a2bff95,[AMQ-8339] Upgrade to Spring 5.3.9,1,1
8214ec37d4cb6c0f147cced74afaa00e3b3f6756,"Merge pull request #692 from mattrpav/AMQ-8336

[AMQ-8336] Add maven-enforcer-plugin and set min maven version to v3.0.5",0,25
013c4e284fad995103a6c98fad92c356b84de4bb,"Merge pull request #683 from mattrpav/AMQ-8326

[AMQ-8326] Upgrade com.rometools/rome to 1.16.0",1,1
bce558944ffd246ec23edc14f0e3f8048d52afe4,"Merge pull request #686 from mattrpav/AMQ-8328

[AMQ-8328] Update commons-io to 2.11.0",1,1
49b457ad54ad4b5b3f17a73245e0830a4a514cf6,"Merge pull request #687 from mattrpav/AMQ-8331

[AMQ-8331] Update to slf4j 1.7.31",1,1
1dbb64bc83e635a3ef59bc003db14a4afc9fc716,"Merge pull request #688 from mattrpav/AMQ-8330

[AMQ-8330] Update Jetty to 9.4.43.v20210629",1,1
0254115067231c8f0829b72d6bd08d5f91f15111,"Merge pull request #690 from mattrpav/AMQ-8333

[AMQ-8333] Update commons-pool2 to 2.10.0",1,1
fe62b77b93c309353f0e81fe67699ec5d841d803,"Merge pull request #693 from jbonofre/AMQ-8339

[AMQ-8339] Upgrade to Spring 5.3.9",1,1
0a65f14a4e63340ff38dbc826ea07a33aacf4918,"Merge pull request #684 from mattrpav/AMQ-8327

[AMQ-8327] Update Jackson to 2.12.4",1,1
5d797570b8385a9ca6dad0509c90e45a0da7066a,"Merge pull request #691 from mattrpav/AMQ-8334

[AMQ-8334] Remove build references to Smack which was removed in 5.9.x",31,0
c960370b1f87b48dd86e1ab89997dafa05c99f2b,[AMQ-8347] Upgrade to Camel 2.25.4,1,1
9e2521c261436ebf885ccdc554bec264bc697a26,"Merge pull request #685 from mattrpav/AMQ-8329

[AMQ-8329] Update Tomcat to 9.0.48",1,1
718e68a438873c45fd3d9c8eb2556720d6ff19bc,"Merge pull request #694 from jbonofre/AMQ-8347

[AMQ-8347] Upgrade to Camel 2.25.4",1,1
188aafaf9c0a9930ab1237fecf15aae29cfed4ac,"[AMQ-8309] Fix spring import range, change optional to be more flexible and avoid refresh, support Camel 3 namespace handler",9,14
f4d83cb8202b221cbe5596c8d06b4be604f25d0e,"Merge pull request #675 from jbonofre/AMQ-8309

[AMQ-8309] Fix spring import range, change optional to be more flexible and avoid refresh, support Camel 3 namespace handler",9,14
2e169f0bc3db3e16fe2928ac03b3308c69b5e72a,[AMQ-8138] Set client IP address with Stomp host header,0,2
0348938952ccb43ccb3453c2e932124f39decd74,"Merge pull request #696 from jbonofre/AMQ-8138

[AMQ-8138] Set client IP address with Stomp host header",0,2
ceaeaa986b4f9a233fe7b24f0e7b3b5c2dcfa9ec,[AMQ-8252] Doesn't display warn stack trace for stomp (regression compared to 5.15.x),1,6
f7f52ccc7a7e7b0e95a760a4b63bc4429316b4e8,"Merge pull request #695 from jbonofre/AMQ-8252

[AMQ-8252] Doesn't display warn stack trace for stomp (regression compared to 5.15.x)",1,6
099108239cc9fb81a8d1cbdc48467fe30ba6529c,[AMQ-8348] Fix XmlMessageRenderer has the risk of XStream deserialization,0,1
8b99596eeb721666fe0e2bece121aed2dea81075,"AMQ-8349 - Ensure virtual destination consumer advisories are only
replayed to new advisory consumers and not existing",6,30
dbbf3cb3f3c2bc4168df0011990768e8a7dd3c0f,[AMQ-8350] ActiveMQMessage.getStringProperty() should exchange equals method call objects,1,1
f49b04c15a6b785529a2e1d33c1c1d6e877b3976,"Merge pull request #698 from skyguard1/fix_message_get_string

[AMQ-8350] ActiveMQMessage.getStringProperty() should exchange equals method call objects",1,1
4fd439e91d5b00406714c886f1d520780e6f0aff,"Merge pull request #697 from skyguard1/fix_xstream_xml_risk

[AMQ-8348] Fix XmlMessageRenderer has the risk of XStream deserialization",0,1
b515bbeeb9eceeaad2df8e28c2f58ff36d52d8b0,[AMQ-8359] Update slf4j to 1.7.32,1,1
36f55923482fca65dcc13082b5586c84ce9dca07,Use -fae for test execution on Jenkins,1,1
c1a2ff25c127192686b62d19d8af798330e8fc0f,"[AMQ-8033] Remove activemq-camel (#701)

* [AMQ-8033] Remove activemq-camel

 - Prerequisite for JMS v2.0 support

* [AMQ-8033] Remove activemq-camel

 - Prerequisite for JMS v2.0 support

* [AMQ-8033] Assembly and karaf clean-ups",8147,5
d00d6ffa7106378f12bb1063bc13da212964ac1c,[AMQ-8360] Update commons-pool2 to 2.11.1 (#704),1,1
96f1ca988b85715c96521d949a0907c4a5ce5c17,[AMQ-8361] Upgrade commons-dbcp to 2.9.0 (#705),1,1
7fe39575e1483cf3d7465b58a77e69b73e963f52,[AMQ-8385] Update to target-version for JDK 11,2,2
8e908741709daadc21640bea8f9cb804f3b13181,[AMQ-8385] Set to 1.8 vs 8 for source-version,1,1
5d6c18f6362254c2d6ab2d95d44b743d87b82a5a,upgrade jaxb-basics-version to 0.12.0,1,1
7579f48e8a6f26f56b5027fa1813957e7ad67ac8,"[AMQ-8358] Update xstream to 1.4.18
 - stomp tests pass now
 - xstream added allowed classes / packages feature",1,2
82b334885aee9ce604e728e3fbe9a371da4924fe,"Merge pull request #703 from mattrpav/AMQ-8358

[AMQ-8358] Update xstream to 1.4.18",1,2
ff3e7701417a8c134217d75151fdf8dde91f73bd,Use local repository on Jenkins,7,1
add1667d6bcaf7bc3d26d4820677b1aff9bdd02a,"Merge pull request #717 from jbonofre/JENKINS

Use local repository on Jenkins",7,1
6dccfcd853b060b3526bcd199b05ed671adf257f,[AMQ-8393] Upgrade to jackson 2.12.5,1,1
364d0392fb6c522537fb1011f99023a5baa91266,"Merge pull request #702 from mattrpav/AMQ-8359

[AMQ-8359] Update slf4j to 1.7.32",1,1
d325fa27e094c83743ad848f1b1e961b55d7a02c,"Merge pull request #712 from mattrpav/AMQ-8385

[AMQ-8385] Update to target-version for JDK 11",1,1
dc574d2a934df8b5bdb27de328934101e8d89b75,[AMQ-8394] Upgrade to shiro 1.8.0,1,1
65410d34c8276034b19bf3f3911498a04f25f7b9,"Merge pull request #713 from ehossack-aws/upgrade-jaxb

upgrade jaxb-basics-version to 0.12.0",1,1
f74992c1058eb8de051c1ce0779ba4f34ba39ed3,[AMQ-8395] Avoid possible NPE when sending advisory message,1,1
7b6c2859efd72d355d446aadd317fb4a8610d27b,"Merge pull request #716 from jbonofre/AMQ-8393

[AMQ-8393] Upgrade to jackson 2.12.5",1,1
cd232bebc7a28de53f3b2c85bcb95f693eaa5f96,"Merge pull request #718 from jbonofre/AMQ-8394

[AMQ-8394] Upgrade to shiro 1.8.0",1,1
66a7d700fb1e7eb1162fda42ab3dc1ba3177daa8,[AMQ-8408] Remove JavaSE requirement in ActiveMQ bundles,1,9
a20d7dba326b4bc26e53bee3d006f0d883fa1f28,"Merge pull request #721 from jbonofre/AMQ-8408

[AMQ-8408] Remove JavaSE requirement in ActiveMQ bundles",1,9
9ff006f1d851ddd309a448e78491eeaac85fa962,[AMQ-8406] Upgrade to Spring 5.3.12,1,1
d73d47cc75cc74fb8cc4df3122d887ded757dfe3,"Merge pull request #722 from jbonofre/AMQ-8406

[AMQ-8406] Upgrade to Spring 5.3.12",1,1
943158555356e8caa1068f6bde02596569b1d391,"Merge pull request #719 from jbonofre/AMQ-8395

[AMQ-8395] Avoid possible NPE when sending advisory message",1,1
abbbda7fb2a3945078afd4d9c119cfadf7201ebf,[AMQ-8385] Set target/source version to 11,2,2
6fea79d1a913032236bc84d86bb2bfaff758225d,Ensure to not depend on sun.rmi.registry.RegistryImpl,35,33
0b8e9f97685840af85bf3be6f7dc3db6ecf8fff5,"Merge pull request #723 from rmannibucau/fix/compilation-sun.rmi.registry.RegistryImpl

Ensure to not depend on sun.rmi.registry.RegistryImpl",35,33
2647500b3f10e7c57aef8018788158e1b9d3b2c2,[AMQ-8408] Add noee on activemq-web-console bundle,0,1
07c2704864e83576b6a008a91d948cce7db6d2b2,AMQ-8410: Update Guava version to 31.0.1,1,1
67256c61b1560127e3a56ba9dede61cad3001f4a,"[AMQ-7309] Update to jakarta.jms/jakarta.jms-api:2.0.3 (#682)

- API update only
 - Throw UnsupportedOperationException
 - Disable activemq-camel from build
 - Formatting fixes
 - Use geronimo-jms for osgi-related artifacts
 - Fix features.xml invalid xml header
 - Add a unit test to confirm JMS 2.0 methods for phase 1 (throw UnsupportedOperationException)
 - Add deliveryTime field to Message
 - Minor formatting fixes",59,1046
